import{f as e,u as s,j as a,c as o,q as i,a as r,e as m,I as n,g as l,b as t,k as d}from"./index-BX7dOzwF.js";import{r as c}from"./react-vendor-CNyCdty9.js";import{U as u,P as N,d as x,j as b,m as p,D as v,L as g,N as h,a0 as f,a1 as D,a2 as w}from"./ui-vendor-bNvS7E9t.js";import{u as M}from"./musicStore-CDqnGDSV.js";import{S as j,a as U,b as y,c as V,d as E}from"./select-Cg9BLWQY.js";import{t as C,j as S,v as A,w as k,u as $,W as O,i as R,x as _,l as B,y as I,z as T,D as L,A as P,O as F,B as z}from"./radix-vendor-D0itpczX.js";import{b as q,f as W}from"./download-zyTaX_Lh.js";import{s as H,g as Y}from"./sunoAudio-DVR-2vvJ.js";import{u as G}from"./i18n-vendor-CvzjU6Pd.js";import"./utils-vendor-euKWYQ_X.js";const J=({song:o,isPlaying:i=!1,isLoading:r=!1,onPlay:m,onPause:n,className:l="",onDownloadVersion:t,playingVersionLabel:d})=>{const{currentTime:c,duration:g}=e(),{t:h,language:f}=s("minhasMusicas"),D=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return a.jsxDEV("div",{className:`relative overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ${l}`,children:[a.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:o.imageUrl?`url(${o.imageUrl})`:"linear-gradient(135deg, #4D2699 0%, #231733 50%, #160D27 100%)"},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:57,columnNumber:7},void 0),a.jsxDEV("div",{className:"relative p-4 bg-black/60 backdrop-blur-sm",children:[a.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[a.jsxDEV("div",{className:"flex-1 min-w-0",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-white truncate mb-1",children:o.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:68,columnNumber:11},void 0),o.artist&&a.jsxDEV("div",{className:"flex items-center text-sm text-gray-200 mb-2",children:[a.jsxDEV(u,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:73,columnNumber:15},void 0),a.jsxDEV("span",{className:"truncate",children:o.artist},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:74,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:72,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:67,columnNumber:9},void 0),a.jsxDEV("button",{onClick:()=>{r||(i?null==n||n():null==m||m(o,o.audioUrlOption1||o.audioUrl,"A"))},disabled:r,className:"flex-shrink-0 ml-3 w-12 h-12 bg-yellow-500 hover:bg-yellow-600 text-black rounded-full flex items-center justify-center transition-colors duration-200","aria-label":h(r?"songCard.loadingMusic":i?"songCard.pauseMusic":"songCard.playMusic"),children:r?a.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:86,columnNumber:13},void 0):i?a.jsxDEV(N,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:88,columnNumber:13},void 0):a.jsxDEV(x,{className:"w-5 h-5 ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:66,columnNumber:7},void 0),a.jsxDEV("div",{className:"space-y-2",children:[o.genre&&a.jsxDEV("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsxDEV(b,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:99,columnNumber:13},void 0),a.jsxDEV("span",{children:o.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:98,columnNumber:11},void 0),o.duration&&a.jsxDEV("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsxDEV(p,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:106,columnNumber:13},void 0),a.jsxDEV("span",{children:D(o.duration)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:107,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:105,columnNumber:11},void 0),(o.audioUrlOption1||o.audioUrlOption2)&&a.jsxDEV("div",{className:"mt-2 space-y-2",children:[o.audioUrlOption1&&a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"text-sm text-gray-200 font-medium flex items-center gap-2",children:[h("songCard.versionA"),i&&"A"===d&&a.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:h("songCard.playing")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:119,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:116,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("button",{onClick:()=>null==m?void 0:m(o,o.audioUrlOption1,"A"),disabled:r,className:`px-2 py-1 text-xs rounded-md ${i&&"A"===d?"bg-purple-700 text-white":"bg-purple-600 text-white hover:bg-purple-700"} ${r?"opacity-70 cursor-not-allowed":""}`,"aria-label":h("songCard.playVersionA"),children:[a.jsxDEV(x,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:129,columnNumber:21},void 0)," ",h("songCard.playButton")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:123,columnNumber:19},void 0),t&&a.jsxDEV("button",{onClick:()=>t("A",o.audioUrlOption1),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":h("songCard.downloadVersionA"),children:[a.jsxDEV(v,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:137,columnNumber:23},void 0)," ",h("songCard.downloadButton")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:132,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:122,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:115,columnNumber:15},void 0),o.audioUrlOption2&&a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"text-sm text-gray-200 font-medium flex items-center gap-2",children:[h("songCard.versionB"),i&&"B"===d&&a.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:h("songCard.playing")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:148,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:145,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("button",{onClick:()=>null==m?void 0:m(o,o.audioUrlOption2,"B"),disabled:r,className:`px-2 py-1 text-xs rounded-md ${i&&"B"===d?"bg-purple-700 text-white":"bg-purple-600 text-white hover:bg-purple-700"} ${r?"opacity-70 cursor-not-allowed":""}`,"aria-label":h("songCard.playVersionB"),children:[a.jsxDEV(x,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:158,columnNumber:21},void 0)," ",h("songCard.playButton")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:152,columnNumber:19},void 0),t&&a.jsxDEV("button",{onClick:()=>t("B",o.audioUrlOption2),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":h("songCard.downloadVersionB"),children:[a.jsxDEV(v,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:166,columnNumber:23},void 0)," ",h("songCard.downloadButton")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:161,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:151,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:144,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:113,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:96,columnNumber:7},void 0),a.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-100",children:a.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-300",children:[a.jsxDEV("span",{children:[h("songCard.createdOn")," ",(w=o.createdAt,new Date(w).toLocaleDateString("pt"===f?"pt-BR":"en-US",{day:"2-digit",month:"2-digit",year:"numeric"}))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:179,columnNumber:11},void 0),o.status&&a.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===o.status?"bg-green-500/20 text-green-200":"processing"===o.status?"bg-yellow-500/20 text-yellow-200":"bg-red-500/20 text-red-200"),children:"completed"===o.status?h("songCard.statusCompleted"):"processing"===o.status?h("songCard.statusProcessing"):"failed"===o.status?h("songCard.statusFailed"):o.status},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:181,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:178,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:177,columnNumber:7},void 0),i&&a.jsxDEV("div",{className:"mt-3",children:[a.jsxDEV("div",{className:"flex items-center justify-between text-xs text-blue-200 mb-1",children:[a.jsxDEV("span",{className:"font-medium",children:[h("songCard.nowPlaying"),d?` · ${h("A"===d?"songCard.versionA":"songCard.versionB")}`:""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:200,columnNumber:13},void 0),a.jsxDEV("span",{children:[D(Math.floor(c||0))," / ",D(Math.floor(g||0))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:201,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:199,columnNumber:11},void 0),a.jsxDEV("div",{className:"w-full h-2 bg-blue-900/30 rounded-full overflow-hidden",children:a.jsxDEV("div",{className:"h-full bg-blue-600 transition-[width] duration-200",style:{width:`${Math.min(100,Math.max(0,c&&g?c/Math.max(1,g)*100:0))}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:206,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:205,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:198,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:64,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:56,columnNumber:5},void 0);var w};var K="AlertDialog",[Q,X]=R(K,[C]),Z=C(),ee=e=>{const{__scopeAlertDialog:s,...a}=e,o=Z(s);return S.jsx(A,{...o,...a,modal:!0})};ee.displayName=K;c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...o}=e,i=Z(a);return S.jsx(z,{...i,...o,ref:s})}).displayName="AlertDialogTrigger";var se=e=>{const{__scopeAlertDialog:s,...a}=e,o=Z(s);return S.jsx(k,{...o,...a})};se.displayName="AlertDialogPortal";var ae=c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...o}=e,i=Z(a);return S.jsx(F,{...i,...o,ref:s})});ae.displayName="AlertDialogOverlay";var oe="AlertDialogContent",[ie,re]=Q(oe),me=I("AlertDialogContent"),ne=c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,children:o,...i}=e,r=Z(a),m=c.useRef(null),n=$(s,m),l=c.useRef(null);return S.jsx(O,{contentName:oe,titleName:le,docsSlug:"alert-dialog",children:S.jsx(ie,{scope:a,cancelRef:l,children:S.jsxs(_,{role:"alertdialog",...r,...i,ref:n,onOpenAutoFocus:B(i.onOpenAutoFocus,e=>{var s;e.preventDefault(),null==(s=l.current)||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[S.jsx(me,{children:o}),S.jsx(be,{contentRef:m})]})})})});ne.displayName=oe;var le="AlertDialogTitle",te=c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...o}=e,i=Z(a);return S.jsx(T,{...i,...o,ref:s})});te.displayName=le;var de="AlertDialogDescription",ce=c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...o}=e,i=Z(a);return S.jsx(L,{...i,...o,ref:s})});ce.displayName=de;var ue=c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...o}=e,i=Z(a);return S.jsx(P,{...i,...o,ref:s})});ue.displayName="AlertDialogAction";var Ne="AlertDialogCancel",xe=c.forwardRef((e,s)=>{const{__scopeAlertDialog:a,...o}=e,{cancelRef:i}=re(Ne,a),r=Z(a),m=$(s,i);return S.jsx(P,{...r,...o,ref:m})});xe.displayName=Ne;var be=({contentRef:e})=>{const s=`\`${oe}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${oe}\` by passing a \`${de}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oe}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var s;document.getElementById(null==(s=e.current)?void 0:s.getAttribute("aria-describedby"))},[s,e]),null},pe=ae,ve=ne,ge=ue,he=xe,fe=te,De=ce;const we=ee,Me=se,je=c.forwardRef(({className:e,...s},i)=>a.jsxDEV(pe,{className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:i},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));je.displayName=pe.displayName;const Ue=c.forwardRef(({className:e,...s},i)=>a.jsxDEV(Me,{children:[a.jsxDEV(je,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),a.jsxDEV(ve,{ref:i,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));Ue.displayName=ve.displayName;const ye=({className:e,...s})=>a.jsxDEV("div",{className:o("flex flex-col space-y-2 text-center sm:text-left",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);ye.displayName="AlertDialogHeader";const Ve=({className:e,...s})=>a.jsxDEV("div",{className:o("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);Ve.displayName="AlertDialogFooter";const Ee=c.forwardRef(({className:e,...s},i)=>a.jsxDEV(fe,{ref:i,className:o("text-lg font-semibold",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));Ee.displayName=fe.displayName;const Ce=c.forwardRef(({className:e,...s},i)=>a.jsxDEV(De,{ref:i,className:o("text-sm text-muted-foreground",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));Ce.displayName=De.displayName;const Se=c.forwardRef(({className:e,...s},r)=>a.jsxDEV(ge,{ref:r,className:o(i(),e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));Se.displayName=ge.displayName;const Ae=c.forwardRef(({className:e,...s},r)=>a.jsxDEV(he,{ref:r,className:o(i({variant:"outline"}),"mt-2 sm:mt-0",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));Ae.displayName=he.displayName;const ke=()=>{const s=r(),{t:o}=G(),{buildPath:i}=m(),{reset:u,startNewCreationFlow:N}=M(),[x,p]=c.useState([]),[v,C]=c.useState(!0),[S,A]=c.useState(null),[k,$]=c.useState(null),{currentId:O,isPlaying:R,play:_,pause:B,currentVersionLabel:I}=e(),T=c.useRef(new Map),[L,P]=c.useState(""),[F,z]=c.useState("recent"),[K,Q]=c.useState("all"),[X,Z]=c.useState(!1),[ee,se]=c.useState(null),ae=async()=>{const{token:e}=t.getState();await N(s,e)};c.useEffect(()=>{(async()=>{var e;try{C(!0),A(null);const s=await H.list(),a=((null==(e=null==s?void 0:s.data)?void 0:e.songs)||(null==s?void 0:s.songs)||s||[]).map(e=>({...e}));a.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()),p(a)}catch(s){A(o("minhasMusicas:messages.loadError"))}finally{C(!1)}})()},[o]);const oe=async e=>{const s=T.current.get(e.id);if(s)return s;const a=e.audioUrlOption1||e.audioUrl||null,o=e.audioUrlOption2||null,i=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(i){const s=await Y(i);if(null==s?void 0:s.streamUrl){const i={playbackUrl:s.streamUrl,downloadUrl:s.audioUrl||a||o||null};return T.current.set(e.id,i),i}}if(a||o){const s={playbackUrl:a||o,downloadUrl:a||o||null};return T.current.set(e.id,s),s}return null},ie=()=>{B()};return v?a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-[#4D2699] via-[#231733] to-[#160D27] flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV(g,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:231,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-white text-lg",children:o("minhasMusicas:loading.message")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:232,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:230,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:229,columnNumber:7},void 0):S?a.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-6 max-w-md",children:[a.jsxDEV("p",{className:"text-red-200 mb-4",children:S},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:243,columnNumber:13},void 0),a.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:o("minhasMusicas:error.tryAgain")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:244,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:242,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:241,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:240,columnNumber:7},void 0):a.jsxDEV("div",{className:"min-h-screen",children:[a.jsxDEV("div",{className:"container mx-auto px-4 pb-8 pt-40",children:[a.jsxDEV("div",{className:"text-center mb-8",children:[a.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-4 flex items-center justify-center gap-3",children:[a.jsxDEV(b,{className:"h-10 w-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:261,columnNumber:13},void 0),o("minhasMusicas:header.title")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:260,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex items-center justify-center gap-4",children:[a.jsxDEV("p",{className:"text-blue-200 text-lg",children:o("minhasMusicas:header.subtitle")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:265,columnNumber:13},void 0),a.jsxDEV("button",{onClick:ae,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:o("minhasMusicas:header.createNew")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:266,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:264,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:259,columnNumber:9},void 0),x.length>0&&a.jsxDEV("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxDEV("div",{className:"w-full sm:w-auto sm:flex-1 sm:max-w-md",children:a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(h,{className:"w-4 h-4 text-blue-200 absolute left-3 top-1/2 -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:282,columnNumber:17},void 0),a.jsxDEV(n,{placeholder:o("minhasMusicas:search.placeholder"),value:L,onChange:e=>P(e.target.value),className:"pl-9 bg-white/10 border-white/20 text-white placeholder:text-blue-200/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:283,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:281,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:280,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[a.jsxDEV(j,{value:F,onValueChange:e=>z(e),children:[a.jsxDEV(U,{className:"bg-white/10 border-white/20 text-white w-full sm:w-[140px]",children:a.jsxDEV(y,{placeholder:o("minhasMusicas:sort.placeholder")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:296,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:295,columnNumber:17},void 0),a.jsxDEV(V,{children:[a.jsxDEV(E,{value:"recent",children:o("minhasMusicas:sort.recent")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:299,columnNumber:19},void 0),a.jsxDEV(E,{value:"oldest",children:o("minhasMusicas:sort.oldest")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:300,columnNumber:19},void 0),a.jsxDEV(E,{value:"title",children:o("minhasMusicas:sort.title")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:301,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:298,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:294,columnNumber:15},void 0),a.jsxDEV(j,{value:K,onValueChange:e=>Q(e),children:[a.jsxDEV(U,{className:"bg-white/10 border-white/20 text-white w-full sm:w-[120px]",children:a.jsxDEV(y,{placeholder:o("minhasMusicas:status.placeholder")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:306,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:305,columnNumber:17},void 0),a.jsxDEV(V,{children:[a.jsxDEV(E,{value:"all",children:o("minhasMusicas:status.all")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:309,columnNumber:19},void 0),a.jsxDEV(E,{value:"completed",children:o("minhasMusicas:status.completed")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:310,columnNumber:19},void 0),a.jsxDEV(E,{value:"processing",children:o("minhasMusicas:status.processing")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:311,columnNumber:19},void 0),a.jsxDEV(E,{value:"failed",children:o("minhasMusicas:status.failed")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:312,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:308,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:304,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:293,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:278,columnNumber:11},void 0),0===x.length?a.jsxDEV("div",{className:"text-center",children:a.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 max-w-md mx-auto",children:[a.jsxDEV(b,{className:"h-16 w-16 text-white/50 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:322,columnNumber:15},void 0),a.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-2",children:o("minhasMusicas:empty.title")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:323,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-blue-200 mb-4",children:o("minhasMusicas:empty.subtitle")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:326,columnNumber:15},void 0),a.jsxDEV("button",{onClick:ae,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:o("minhasMusicas:empty.createFirst")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:329,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:321,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:320,columnNumber:11},void 0):a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.filter(e=>"all"===K||(e.status||"completed").toLowerCase()===K).filter(e=>e.title.toLowerCase().includes(L.toLowerCase())).sort((e,s)=>"recent"===F?new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime():"oldest"===F?new Date(e.createdAt).getTime()-new Date(s.createdAt).getTime():e.title.localeCompare(s.title)).map(e=>a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV(J,{song:{id:e.id,title:e.title,audioUrl:e.audioUrl||"",imageUrl:e.imageUrl,lyrics:e.lyrics,genre:void 0,mood:void 0,userId:e.userId,guestId:e.guestId,createdAt:e.createdAt,audioUrlOption1:e.audioUrlOption1,audioUrlOption2:e.audioUrlOption2,status:e.status,sunoTaskId:e.sunoTaskId},isPlaying:O===e.id&&R,isLoading:k===e.id,onPlay:(s,a,i)=>(async(e,s,a)=>{try{$(e.id);let i=s||null;if(!i){const s=await oe(e);i=(null==s?void 0:s.playbackUrl)||null}if(!i)return void l.error(o("minhasMusicas:messages.audioLoadError"));_(e.id,i,{title:e.title,versionLabel:a})}catch(i){l.error(o("minhasMusicas:messages.playbackError"))}finally{$(s=>s===e.id?null:s)}})(e,a,i),onPause:ie,onDownloadVersion:(s,a)=>(async(e,s,a)=>{let i=s||null;if(!i){const s=await oe(e);i=(null==s?void 0:s.downloadUrl)||(null==s?void 0:s.playbackUrl)||null}if(!i)return void l.error(o("minhasMusicas:toast.downloadError"));const r=`${e.title||o("minhasMusicas:messages.defaultFilename")}${a?`_${a}`:""}`,m=q(r);try{const e=`${d}/api/download?url=${encodeURIComponent(i)}&filename=${encodeURIComponent(m)}`;await W(e,r)}catch(n){try{await W(i,r)}catch(t){l.error(o("minhasMusicas:toast.downloadError"))}}})(e,a,s),playingVersionLabel:O===e.id?I:void 0},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:349,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("button",{onClick:()=>{const s=`${window.location.origin}${i("publicMusic",{id:e.id})}`;navigator.clipboard.writeText(s).then(()=>{l.success(o("minhasMusicas:toast.linkCopiedSuccess"))}).catch(e=>{})},className:"flex-1 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center justify-center gap-2",children:[a.jsxDEV(f,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:385,columnNumber:21},void 0)," ",o("minhasMusicas:actions.copyLink")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:374,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>(async e=>{const s=i("publicMusic",{id:e.id}),a=`${window.location.origin}${s}`,r={title:e.title,text:o("minhasMusicas:messages.shareText"),url:a};try{navigator.share?await navigator.share(r):(await navigator.clipboard.writeText(a),l.success(o("minhasMusicas:toast.linkCopied")))}catch(m){}})(e),className:"flex-1 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center justify-center gap-2",children:[a.jsxDEV(D,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:391,columnNumber:21},void 0)," ",o("minhasMusicas:actions.share")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:387,columnNumber:19},void 0),a.jsxDEV("button",{onClick:()=>(async e=>{se(e),Z(!0)})(e),className:"flex-1 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-100 rounded-md text-sm flex items-center justify-center gap-2",children:[a.jsxDEV(w,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:397,columnNumber:21},void 0)," ",o("minhasMusicas:actions.delete")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:393,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:373,columnNumber:17},void 0)]},e.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:348,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:338,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:258,columnNumber:7},void 0),a.jsxDEV(we,{open:X,onOpenChange:Z,children:a.jsxDEV(Ue,{className:"bg-white",children:[a.jsxDEV(ye,{children:[a.jsxDEV(Ee,{children:o("minhasMusicas:deleteModal.title")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:410,columnNumber:13},void 0),a.jsxDEV(Ce,{children:o("minhasMusicas:deleteModal.description",{title:null==ee?void 0:ee.title})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:411,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:409,columnNumber:11},void 0),a.jsxDEV(Ve,{children:[a.jsxDEV(Ae,{children:o("minhasMusicas:deleteModal.cancel")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:416,columnNumber:13},void 0),a.jsxDEV(Se,{onClick:async()=>{const e=ee;if(e)try{await H.remove(e.id),p(s=>s.filter(s=>s.id!==e.id))}catch(s){alert(o("minhasMusicas:messages.deleteError"))}finally{Z(!1),se(null)}},className:"bg-red-600 hover:bg-red-700",children:o("minhasMusicas:deleteModal.confirm")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:417,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:415,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:408,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:407,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:257,columnNumber:5},void 0)};export{ke as default};

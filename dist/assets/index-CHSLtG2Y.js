var e=Object.defineProperty,t=(t,s,r)=>((t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r)(t,"symbol"!=typeof s?s+"":s,r);import{r,a as o,c as i,b as a,R as n,d as l,e as c}from"./react-vendor-CouUomew.js";import{c as m,j as d,P as u,a as h,D as p,C as f,b as v,R as b,u as g,A as x,d as N,e as w,f as y,S as _,g as E,h as D,i as S,k as j,T,I as P,l as C,m as k,n as U,o as V,V as A,L as M,p as L,q as I,r as O,s as R,t as F,v as B,w as $,O as z,x as G,W as H,y as q,z as W,B as X,E as Y,F as J,G as K}from"./radix-vendor-CuDUQtA7.js";import{c as Q,S as Z,X as ee,M as te,C as se,a as re,H as oe,I as ie,F as ae,Y as ne,o as le,r as ce,b as me,u as de,d as ue,E as he,e as pe,P as fe,f as ve,V as be,g as ge,h as xe,i as Ne,j as we,Z as ye,k as _e,G as Ee,l as De,D as Se,m as je,n as Te,p as Pe,U as Ce,q as ke,Q as Ue,s as Ve,t as Ae,v as Me,w as Le,x as Ie,y as Oe,T as Re,z as Fe,A as Be,B as $e,J as ze,L as Ge,K as He,N as qe,O as We,R as Xe,W as Ye,_ as Je,$ as Ke,a0 as Qe,a1 as Ze}from"./ui-vendor-Bz5GrJ2q.js";import{c as et,o as tt,s as st,Q as rt,a as ot}from"./utils-vendor-Br_zJQ6K.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var it={exports:{}},at={};!function(){var e=r,t=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),f=Symbol.iterator;var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];!function(e,t,s){var r=v.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",s=s.concat([r]));var o=s.map(function(e){return String(e)});o.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,o)}("error",e,s)}var g;function x(e){return e.displayName||"Context"}function N(e){if(null==e)return null;if("number"==typeof e.tag&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case s:return"Portal";case a:return"Profiler";case i:return"StrictMode";case m:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return x(e)+".Consumer";case n:return x(e._context)+".Provider";case c:return function(e,t,s){var r=e.displayName;if(r)return r;var o=t.displayName||t.name||"";return""!==o?s+"("+o+")":s}(e,e.render,"ForwardRef");case u:var t=e.displayName||null;return null!==t?t:N(e.type)||"Memo";case h:var r=e,p=r._payload,f=r._init;try{return N(f(p))}catch(v){return null}}return null}g=Symbol.for("react.module.reference");var w,y,_,E,D,S,j,T=Object.assign,P=0;function C(){}C.__reactDisabledLog=!0;var k,U=v.ReactCurrentDispatcher;function V(e,t,s){if(void 0===k)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||""}return"\n"+k+e}var A,M=!1,L="function"==typeof WeakMap?WeakMap:Map;function I(e,t){if(!e||M)return"";var s,r=A.get(e);if(void 0!==r)return r;M=!0;var o,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=U.current,U.current=null,function(){if(0===P){w=console.log,y=console.info,_=console.warn,E=console.error,D=console.group,S=console.groupCollapsed,j=console.groupEnd;var e={configurable:!0,enumerable:!0,value:C,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}P++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(p){s=p}Reflect.construct(e,[],a)}else{try{a.call()}catch(p){s=p}e.call(a.prototype)}}else{try{throw Error()}catch(p){s=p}e()}}catch(f){if(f&&s&&"string"==typeof f.stack){for(var n=f.stack.split("\n"),l=s.stack.split("\n"),c=n.length-1,m=l.length-1;c>=1&&m>=0&&n[c]!==l[m];)m--;for(;c>=1&&m>=0;c--,m--)if(n[c]!==l[m]){if(1!==c||1!==m)do{if(c--,--m<0||n[c]!==l[m]){var d="\n"+n[c].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&A.set(e,d),d}}while(c>=1&&m>=0);break}}}finally{M=!1,U.current=o,function(){if(0===--P){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:T({},e,{value:w}),info:T({},e,{value:y}),warn:T({},e,{value:_}),error:T({},e,{value:E}),group:T({},e,{value:D}),groupCollapsed:T({},e,{value:S}),groupEnd:T({},e,{value:j})})}P<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var u=e?e.displayName||e.name:"",h=u?V(u):"";return"function"==typeof e&&A.set(e,h),h}function O(e,t,s){if(null==e)return"";if("function"==typeof e)return I(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return V(e);switch(e){case m:return V("Suspense");case d:return V("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return I(e.render,!1);case u:return O(e.type,t,s);case h:var o=e,i=o._payload,a=o._init;try{return O(a(i),t,s)}catch(n){}}return""}A=new L;var R=Object.prototype.hasOwnProperty,F={},B=v.ReactDebugCurrentFrame;function $(e){if(e){var t=e._owner,s=O(e.type,e._source,t?t.type:null);B.setExtraStackFrame(s)}else B.setExtraStackFrame(null)}var z=Array.isArray;function G(e){return z(e)}function H(e){return""+e}function q(e){if(function(e){try{return H(e),!1}catch(t){return!0}}(e))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),H(e)}var W,X,Y,J=v.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};Y={};function Q(e,s,r,o,i){var a,n={},l=null,c=null;for(a in void 0!==r&&(q(r),l=""+r),function(e){if(R.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(s)&&(q(s.key),l=""+s.key),function(e){if(R.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(s)&&(c=s.ref,function(e,t){if("string"==typeof e.ref&&J.current&&t&&J.current.stateNode!==t){var s=N(J.current.type);Y[s]||(b('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N(J.current.type),e.ref),Y[s]=!0)}}(s,i)),s)R.call(s,a)&&!K.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps){var m=e.defaultProps;for(a in m)void 0===n[a]&&(n[a]=m[a])}if(l||c){var d="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var s=function(){W||(W=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};s.isReactWarning=!0,Object.defineProperty(e,"key",{get:s,configurable:!0})}(n,d),c&&function(e,t){var s=function(){X||(X=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};s.isReactWarning=!0,Object.defineProperty(e,"ref",{get:s,configurable:!0})}(n,d)}return function(e,s,r,o,i,a,n){var l={$$typeof:t,type:e,key:s,ref:r,props:n,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,i,o,J.current,n)}var Z,ee=v.ReactCurrentOwner,te=v.ReactDebugCurrentFrame;function se(e){if(e){var t=e._owner,s=O(e.type,e._source,t?t.type:null);te.setExtraStackFrame(s)}else te.setExtraStackFrame(null)}function re(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function oe(){if(ee.current){var e=N(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Z=!1;var ie={};function ae(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var s=function(e){var t=oe();if(!t){var s="string"==typeof e?e:e.displayName||e.name;s&&(t="\n\nCheck the top-level render call using <"+s+">.")}return t}(t);if(!ie[s]){ie[s]=!0;var r="";e&&e._owner&&e._owner!==ee.current&&(r=" It was passed a child from "+N(e._owner.type)+"."),se(e),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',s,r),se(null)}}}function ne(e,t){if("object"==typeof e)if(G(e))for(var s=0;s<e.length;s++){var r=e[s];re(r)&&ae(r,t)}else if(re(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=f&&e[f]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var i,a=o.call(e);!(i=a.next()).done;)re(i.value)&&ae(i.value,t)}}function le(e){var t,s=e.type;if(null!=s&&"string"!=typeof s){if("function"==typeof s)t=s.propTypes;else{if("object"!=typeof s||s.$$typeof!==c&&s.$$typeof!==u)return;t=s.propTypes}if(t){var r=N(s);!function(e,t,s,r,o){var i=Function.call.bind(R);for(var a in e)if(i(e,a)){var n=void 0;try{if("function"!=typeof e[a]){var l=Error((r||"React class")+": "+s+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}n=e[a](t,a,r,s,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){n=c}!n||n instanceof Error||($(o),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",s,a,typeof n),$(null)),n instanceof Error&&!(n.message in F)&&(F[n.message]=!0,$(o),b("Failed %s type: %s",s,n.message),$(null))}}(t,e.props,"prop",r,e)}else if(void 0!==s.PropTypes&&!Z){Z=!0,b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",N(s)||"Unknown")}"function"!=typeof s.getDefaultProps||s.getDefaultProps.isReactClassApproved||b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ce={};var me=function(e,s,r,f,v,x){var w=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===a||e===i||e===m||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===u||e.$$typeof===n||e.$$typeof===l||e.$$typeof===c||e.$$typeof===g||void 0!==e.getModuleId)}(e);if(!w){var y="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(y+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var _,E=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(v);y+=E||oe(),null===e?_="null":G(e)?_="array":void 0!==e&&e.$$typeof===t?(_="<"+(N(e.type)||"Unknown")+" />",y=" Did you accidentally export a JSX literal instead of a component?"):_=typeof e,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_,y)}var D=Q(e,s,r,v,x);if(null==D)return D;if(w){var S=s.children;if(void 0!==S)if(f)if(G(S)){for(var j=0;j<S.length;j++)ne(S[j],e);Object.freeze&&Object.freeze(S)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ne(S,e)}if(R.call(s,"key")){var T=N(e),P=Object.keys(s).filter(function(e){return"key"!==e}),C=P.length>0?"{key: someKey, "+P.join(": ..., ")+": ...}":"{key: someKey}";if(!ce[T+C])b('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',C,T,P.length>0?"{"+P.join(": ..., ")+": ...}":"{}",T),ce[T+C]=!0}return e===o?function(e){for(var t=Object.keys(e.props),s=0;s<t.length;s++){var r=t[s];if("children"!==r&&"key"!==r){se(e),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),se(null);break}}null!==e.ref&&(se(e),b("Invalid attribute `ref` supplied to `React.Fragment`."),se(null))}(D):le(D),D};at.Fragment=o,at.jsxDEV=me}(),it.exports=at;var nt,lt=it.exports,ct=o,mt=ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;nt=function(e,t){mt.usingClientEntryPoint=!0;try{return ct.createRoot(e,t)}finally{mt.usingClientEntryPoint=!1}};var dt=["light","dark"],ut=r.createContext(void 0),ht={setTheme:e=>{},themes:[]};r.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:o,enableColorScheme:i,defaultTheme:a,value:n,attrs:l,nonce:c})=>{let m="system"===a,d="class"===s?`var d=document.documentElement,c=d.classList;c.remove(${l.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${s}',s='setAttribute';`,u=i?dt.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{let o=n?n[e]:e,a=t?e+"|| ''":`'${o}'`,l="";return i&&r&&!t&&dt.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===s?l+=t||o?`c.add(${a})`:"null":o&&(l+=`d[s](n,${a})`),l},p=e?`!function(){${d}${h(e)}}()`:o?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${n?`var x=${JSON.stringify(n)};`:""}${h(n?"x[e]":"e",!0)}}${m?"":"else{"+h(a,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${n?`var x=${JSON.stringify(n)};`:""}${h(n?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${u}}catch(t){}}();`;return r.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var pt=Array(12).fill(0),ft=({visible:e,className:t})=>i.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},i.createElement("div",{className:"sonner-spinner"},pt.map((e,t)=>i.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),vt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Nt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wt=1,yt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:wt++,i=this.toasts.find(e=>e.id===o),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(t=>t.id===o?(this.publish({...t,...e,id:o,title:s}),{...t,...e,id:o,dismissible:a,title:s}):t):this.addToast({title:s,...r,dismissible:a,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;void 0!==t.loading&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r,o=e instanceof Promise?e:e(),a=void 0!==s,n=o.then(async e=>{if(r=["resolve",e],i.isValidElement(e))a=!1,this.create({id:s,type:"default",message:e});else if(_t(e)&&!e.ok){a=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,o="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:s,type:"error",message:r,description:o})}else if(void 0!==t.success){a=!1;let r="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:s,type:"success",message:r,description:o})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){a=!1;let r="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:s,type:"error",message:r,description:o})}}).finally(()=>{var e;a&&(this.dismiss(s),s=void 0),null==(e=t.finally)||e.call(t)}),l=()=>new Promise((e,t)=>n.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(e,t)=>{let s=(null==t?void 0:t.id)||wt++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},_t=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Et=(e,t)=>{let s=(null==t?void 0:t.id)||wt++;return yt.addToast({title:e,...t,id:s}),s},Dt=Object.assign(Et,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:()=>yt.toasts,getToasts:()=>yt.getActiveToasts()});function St(e){return void 0!==e.label}!function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var jt=3,Tt=14;function Pt(...e){return e.filter(Boolean).join(" ")}var Ct=e=>{var t,s,o,a,n,l,c,m,d,u,h;let{invert:p,toast:f,unstyled:v,interacting:b,setHeights:g,visibleToasts:x,heights:N,index:w,toasts:y,expanded:_,removeToast:E,defaultRichColors:D,closeButton:S,style:j,cancelButtonStyle:T,actionButtonStyle:P,className:C="",descriptionClassName:k="",duration:U,position:V,gap:A,loadingIcon:M,expandByDefault:L,classNames:I,icons:O,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:F}=e,[B,$]=i.useState(null),[z,G]=i.useState(null),[H,q]=i.useState(!1),[W,X]=i.useState(!1),[Y,J]=i.useState(!1),[K,Q]=i.useState(!1),[Z,ee]=i.useState(!1),[te,se]=i.useState(0),[re,oe]=i.useState(0),ie=i.useRef(f.duration||U||4e3),ae=i.useRef(null),ne=i.useRef(null),le=0===w,ce=w+1<=x,me=f.type,de=!1!==f.dismissible,ue=f.className||"",he=f.descriptionClassName||"",pe=i.useMemo(()=>N.findIndex(e=>e.toastId===f.id)||0,[N,f.id]),fe=i.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:S},[f.closeButton,S]),ve=i.useMemo(()=>f.duration||U||4e3,[f.duration,U]),be=i.useRef(0),ge=i.useRef(0),xe=i.useRef(0),Ne=i.useRef(null),[we,ye]=V.split("-"),_e=i.useMemo(()=>N.reduce((e,t,s)=>s>=pe?e:e+t.height,0),[N,pe]),Ee=(()=>{let[e,t]=i.useState(document.hidden);return i.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),De=f.invert||p,Se="loading"===me;ge.current=i.useMemo(()=>pe*A+_e,[pe,_e]),i.useEffect(()=>{ie.current=ve},[ve]),i.useEffect(()=>{q(!0)},[]),i.useEffect(()=>{let e=ne.current;if(e){let t=e.getBoundingClientRect().height;return oe(t),g(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==f.id))}},[g,f.id]),i.useLayoutEffect(()=>{if(!H)return;let e=ne.current,t=e.style.height;e.style.height="auto";let s=e.getBoundingClientRect().height;e.style.height=t,oe(s),g(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:s}:e):[{toastId:f.id,height:s,position:f.position},...e])},[H,f.title,f.description,g,f.id]);let je=i.useCallback(()=>{X(!0),se(ge.current),g(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{E(f)},200)},[f,E,g,ge]);return i.useEffect(()=>{if(f.promise&&"loading"===me||f.duration===1/0||"loading"===f.type)return;let e;return _||b||F&&Ee?(()=>{if(xe.current<be.current){let e=(new Date).getTime()-be.current;ie.current=ie.current-e}xe.current=(new Date).getTime()})():ie.current!==1/0&&(be.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),je()},ie.current)),()=>clearTimeout(e)},[_,b,f,me,F,Ee,je]),i.useEffect(()=>{f.delete&&je()},[je,f.delete]),i.createElement("li",{tabIndex:0,ref:ne,className:Pt(C,ue,null==I?void 0:I.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==I?void 0:I.default,null==I?void 0:I[me],null==(s=null==f?void 0:f.classNames)?void 0:s[me]),"data-sonner-toast":"","data-rich-colors":null!=(o=f.richColors)?o:D,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":W,"data-visible":ce,"data-y-position":we,"data-x-position":ye,"data-index":w,"data-front":le,"data-swiping":Y,"data-dismissible":de,"data-type":me,"data-invert":De,"data-swipe-out":K,"data-swipe-direction":z,"data-expanded":!!(_||L&&H),style:{"--index":w,"--toasts-before":w,"--z-index":y.length-w,"--offset":`${W?te:ge.current}px`,"--initial-height":L?"auto":`${re}px`,...j,...f.style},onDragEnd:()=>{J(!1),$(null),Ne.current=null},onPointerDown:e=>{Se||!de||(ae.current=new Date,se(ge.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(J(!0),Ne.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s,r;if(K||!de)return;Ne.current=null;let o=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(s=ae.current)?void 0:s.getTime()),n="x"===B?o:i,l=Math.abs(n)/a;if(Math.abs(n)>=20||l>.11)return se(ge.current),null==(r=f.onDismiss)||r.call(f,f),G("x"===B?o>0?"right":"left":i>0?"down":"up"),je(),Q(!0),void ee(!1);J(!1),$(null)},onPointerMove:t=>{var s,r,o,i;if(!Ne.current||!de||(null==(s=window.getSelection())?void 0:s.toString().length)>0)return;let a=t.clientY-Ne.current.y,n=t.clientX-Ne.current.x,l=null!=(r=e.swipeDirections)?r:function(e){let[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}(V);!B&&(Math.abs(n)>1||Math.abs(a)>1)&&$(Math.abs(n)>Math.abs(a)?"x":"y");let c={x:0,y:0};"y"===B?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&a<0||l.includes("bottom")&&a>0)&&(c.y=a):"x"===B&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&n<0||l.includes("right")&&n>0)&&(c.x=n),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(o=ne.current)||o.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(i=ne.current)||i.style.setProperty("--swipe-amount-y",`${c.y}px`)}},fe&&!f.jsx?i.createElement("button",{"aria-label":R,"data-disabled":Se,"data-close-button":!0,onClick:Se||!de?()=>{}:()=>{var e;je(),null==(e=f.onDismiss)||e.call(f,f)},className:Pt(null==I?void 0:I.closeButton,null==(a=null==f?void 0:f.classNames)?void 0:a.closeButton)},null!=(n=null==O?void 0:O.close)?n:Nt):null,f.jsx||r.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:i.createElement(i.Fragment,null,me||f.icon||f.promise?i.createElement("div",{"data-icon":"",className:Pt(null==I?void 0:I.icon,null==(l=null==f?void 0:f.classNames)?void 0:l.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||(null!=O&&O.loading?i.createElement("div",{className:Pt(null==I?void 0:I.loader,null==(Te=null==f?void 0:f.classNames)?void 0:Te.loader,"sonner-loader"),"data-visible":"loading"===me},O.loading):M?i.createElement("div",{className:Pt(null==I?void 0:I.loader,null==(Pe=null==f?void 0:f.classNames)?void 0:Pe.loader,"sonner-loader"),"data-visible":"loading"===me},M):i.createElement(ft,{className:Pt(null==I?void 0:I.loader,null==(Ce=null==f?void 0:f.classNames)?void 0:Ce.loader),visible:"loading"===me})):null,"loading"!==f.type?f.icon||(null==O?void 0:O[me])||(e=>{switch(e){case"success":return vt;case"info":return gt;case"warning":return bt;case"error":return xt;default:return null}})(me):null):null,i.createElement("div",{"data-content":"",className:Pt(null==I?void 0:I.content,null==(c=null==f?void 0:f.classNames)?void 0:c.content)},i.createElement("div",{"data-title":"",className:Pt(null==I?void 0:I.title,null==(m=null==f?void 0:f.classNames)?void 0:m.title)},"function"==typeof f.title?f.title():f.title),f.description?i.createElement("div",{"data-description":"",className:Pt(k,he,null==I?void 0:I.description,null==(d=null==f?void 0:f.classNames)?void 0:d.description)},"function"==typeof f.description?f.description():f.description):null),r.isValidElement(f.cancel)?f.cancel:f.cancel&&St(f.cancel)?i.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:e=>{var t,s;St(f.cancel)&&de&&(null==(s=(t=f.cancel).onClick)||s.call(t,e),je())},className:Pt(null==I?void 0:I.cancelButton,null==(u=null==f?void 0:f.classNames)?void 0:u.cancelButton)},f.cancel.label):null,r.isValidElement(f.action)?f.action:f.action&&St(f.action)?i.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:e=>{var t,s;St(f.action)&&(null==(s=(t=f.action).onClick)||s.call(t,e),!e.defaultPrevented&&je())},className:Pt(null==I?void 0:I.actionButton,null==(h=null==f?void 0:f.classNames)?void 0:h.actionButton)},f.action.label):null));var Te,Pe,Ce};function kt(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ut(e,t){let s={};return[e,t].forEach((e,t)=>{let r=1===t,o=r?"--mobile-offset":"--offset",i=r?"16px":"32px";function a(e){["top","right","bottom","left"].forEach(t=>{s[`${o}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?s[`${o}-${t}`]=i:s[`${o}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):a(i)}),s}var Vt=r.forwardRef(function(e,t){let{invert:s,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:n,closeButton:l,className:c,offset:m,mobileOffset:d,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:v=jt,toastOptions:b,dir:g=kt(),gap:x=Tt,loadingIcon:N,icons:w,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:_}=e,[E,D]=i.useState([]),S=i.useMemo(()=>Array.from(new Set([r].concat(E.filter(e=>e.position).map(e=>e.position)))),[E,r]),[j,T]=i.useState([]),[P,C]=i.useState(!1),[k,U]=i.useState(!1),[V,A]=i.useState("system"!==u?u:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=i.useRef(null),L=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=i.useRef(null),O=i.useRef(!1),R=i.useCallback(e=>{D(t=>{var s;return null!=(s=t.find(t=>t.id===e.id))&&s.delete||yt.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return i.useEffect(()=>yt.subscribe(e=>{e.dismiss?D(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{a.flushSync(()=>{D(t=>{let s=t.findIndex(t=>t.id===e.id);return-1!==s?[...t.slice(0,s),{...t[s],...e},...t.slice(s+1)]:[e,...t]})})})}),[]),i.useEffect(()=>{if("system"!==u)return void A(u);if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(t){}})}},[u]),i.useEffect(()=>{E.length<=1&&C(!1)},[E]),i.useEffect(()=>{let e=e=>{var t,s;o.every(t=>e[t]||e.code===t)&&(C(!0),null==(t=M.current)||t.focus()),"Escape"===e.code&&(document.activeElement===M.current||null!=(s=M.current)&&s.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),i.useEffect(()=>{if(M.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,O.current=!1)}},[M.current]),i.createElement("section",{ref:t,"aria-label":`${y} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,r)=>{var o;let[a,u]=t.split("-");return E.length?i.createElement("ol",{key:t,dir:"auto"===g?kt():g,tabIndex:-1,ref:M,className:c,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":a,"data-lifted":P&&E.length>1&&!n,"data-x-position":u,style:{"--front-toast-height":`${(null==(o=j[0])?void 0:o.height)||0}px`,"--width":"356px","--gap":`${x}px`,...f,...Ut(m,d)},onBlur:e=>{O.current&&!e.currentTarget.contains(e.relatedTarget)&&(O.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||O.current||(O.current=!0,I.current=e.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{k||C(!1)},onDragEnd:()=>C(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U(!0)},onPointerUp:()=>U(!1)},E.filter(e=>!e.position&&0===r||e.position===t).map((r,o)=>{var a,c;return i.createElement(Ct,{key:r.id,icons:w,index:o,toast:r,defaultRichColors:h,duration:null!=(a=null==b?void 0:b.duration)?a:p,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:s,visibleToasts:v,closeButton:null!=(c=null==b?void 0:b.closeButton)?c:l,interacting:k,position:t,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,removeToast:R,toasts:E.filter(e=>e.position==r.position),heights:j.filter(e=>e.position==r.position),setHeights:T,expandByDefault:n,gap:x,loadingIcon:N,expanded:P,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const At=({...e})=>{const{theme:t="system"}=null!=(s=r.useContext(ut))?s:ht;var s;return lt.jsxDEV(Vt,{theme:t,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/sonner.tsx",lineNumber:10,columnNumber:5},void 0)};var[Mt,Lt]=m("Tooltip",[h]),It=h(),Ot="TooltipProvider",Rt=700,Ft="tooltip.open",[Bt,$t]=Mt(Ot),zt=e=>{const{__scopeTooltip:t,delayDuration:s=Rt,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:a}=e,n=r.useRef(!0),l=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),d.jsx(Bt,{scope:t,isOpenDelayedRef:n,delayDuration:s,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),n.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>n.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:r.useCallback(e=>{l.current=e},[]),disableHoverableContent:i,children:a})};zt.displayName=Ot;var Gt="Tooltip",[Ht,qt]=Mt(Gt),Wt="TooltipTrigger";r.forwardRef((e,t)=>{const{__scopeTooltip:s,...o}=e,i=qt(Wt,s),a=$t(Wt,s),n=It(s),l=r.useRef(null),c=g(t,l,i.onTriggerChange),m=r.useRef(!1),u=r.useRef(!1),h=r.useCallback(()=>m.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(x,{asChild:!0,...n,children:d.jsx(N.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:c,onPointerMove:w(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))}),onPointerLeave:w(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:w(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:w(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:w(e.onBlur,i.onClose),onClick:w(e.onClick,i.onClose)})})}).displayName=Wt;var[Xt,Yt]=Mt("TooltipPortal",{forceMount:void 0}),Jt="TooltipContent",Kt=r.forwardRef((e,t)=>{const s=Yt(Jt,e.__scopeTooltip),{forceMount:r=s.forceMount,side:o="top",...i}=e,a=qt(Jt,e.__scopeTooltip);return d.jsx(u,{present:r||a.open,children:a.disableHoverableContent?d.jsx(ss,{side:o,...i,ref:t}):d.jsx(Qt,{side:o,...i,ref:t})})}),Qt=r.forwardRef((e,t)=>{const s=qt(Jt,e.__scopeTooltip),o=$t(Jt,e.__scopeTooltip),i=r.useRef(null),a=g(t,i),[n,l]=r.useState(null),{trigger:c,onClose:m}=s,u=i.current,{onPointerInTransitChange:h}=o,p=r.useCallback(()=>{l(null),h(!1)},[h]),f=r.useCallback((e,t)=>{const s=e.currentTarget,r={x:e.clientX,y:e.clientY},o=function(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return r}(r,function(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(s,r,o,i)){case i:return"left";case o:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,s.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const e=t[t.length-1],r=t[t.length-2];if(!((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x)))break;t.pop()}t.push(s)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const t=e[r];for(;s.length>=2;){const e=s[s.length-1],r=s[s.length-2];if(!((e.x-r.x)*(t.y-r.y)>=(e.y-r.y)*(t.x-r.x)))break;s.pop()}s.push(t)}return s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}(t)}([...o,...function(e){const{top:t,right:s,bottom:r,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:r},{x:o,y:r}]}(t.getBoundingClientRect())]);l(i),h(!0)},[h]);return r.useEffect(()=>()=>p(),[p]),r.useEffect(()=>{if(c&&u){const e=e=>f(e,u),t=e=>f(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,f,p]),r.useEffect(()=>{if(n){const e=e=>{const t=e.target,s={x:e.clientX,y:e.clientY},r=(null==c?void 0:c.contains(t))||(null==u?void 0:u.contains(t)),o=!function(e,t){const{x:s,y:r}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const e=t[i],n=t[a],l=e.x,c=e.y,m=n.x,d=n.y;c>r!=d>r&&s<(m-l)*(r-c)/(d-c)+l&&(o=!o)}return o}(s,n);r?p():o&&(p(),m())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,n,m,p]),d.jsx(ss,{...e,ref:a})}),[Zt,es]=Mt(Gt,{isInside:!1}),ts=v("TooltipContent"),ss=r.forwardRef((e,t)=>{const{__scopeTooltip:s,children:o,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:n,...l}=e,c=qt(Jt,s),m=It(s),{onClose:u}=c;return r.useEffect(()=>(document.addEventListener(Ft,u),()=>document.removeEventListener(Ft,u)),[u]),r.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),d.jsx(p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:d.jsxs(f,{"data-state":c.stateAttribute,...m,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(ts,{children:o}),d.jsx(Zt,{scope:s,isInside:!0,children:d.jsx(b,{id:c.contentId,role:"tooltip",children:i||o})})]})})});Kt.displayName=Jt;var rs="TooltipArrow";r.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,o=It(s);return es(rs,s).isInside?null:d.jsx(y,{...o,...r,ref:t})}).displayName=rs;var os=zt,is=Kt;const as=e=>{const t=ms(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),ns(s,t)||cs(e)},getConflictingClassGroupIds:(e,t)=>{const o=s[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},ns=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),i=o?ns(e.slice(1),o):void 0;if(i)return i;if(0===t.validators.length)return;const a=e.join("-");return null==(s=t.validators.find(({validator:e})=>e(a)))?void 0:s.classGroupId},ls=/^\[(.+)\]$/,cs=e=>{if(ls.test(e)){const t=ls.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},ms=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return ps(Object.entries(e.classGroups),s).forEach(([e,s])=>{ds(s,r,e,t)}),r},ds=(e,t,s,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:us(t,e)).classGroupId=s)}if("function"==typeof e)return hs(e)?void ds(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(([e,o])=>{ds(o,us(t,e),s,r)})})},us=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},hs=e=>e.isThemeGetter,ps=(e,t)=>t?e.map(([e,s])=>[e,s.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,s])=>[t+e,s])):e)]):e,fs=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const o=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):o(e,t)}}},vs=e=>{const{separator:t,experimentalParseClassName:s}=e,r=1===t.length,o=t[0],i=t.length,a=e=>{const s=[];let a,n=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===n){if(c===o&&(r||e.slice(d,d+i)===t)){s.push(e.slice(l,d)),l=d+i;continue}if("/"===c){a=d;continue}}"["===c?n++:"]"===c&&n--}const c=0===s.length?e:e.substring(l),m=c.startsWith("!");return{modifiers:s,hasImportantModifier:m,baseClassName:m?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return s?e=>s({className:e,parseClassName:a}):a},bs=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},gs=/\s+/;function xs(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Ns(e))&&(r&&(r+=" "),r+=t);return r}const Ns=e=>{if("string"==typeof e)return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=Ns(e[r]))&&(s&&(s+=" "),s+=t);return s};function ws(e,...t){let s,r,o,i=function(n){const l=t.reduce((e,t)=>t(e),e());return s=(e=>({cache:fs(e.cacheSize),parseClassName:vs(e),...as(e)}))(l),r=s.cache.get,o=s.cache.set,i=a,a(n)};function a(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(gs);let n="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:m,maybePostfixModifierPosition:d}=s(e);let u=Boolean(d),h=r(u?m.substring(0,d):m);if(!h){if(!u){n=e+(n.length>0?" "+n:n);continue}if(h=r(m),!h){n=e+(n.length>0?" "+n:n);continue}u=!1}const p=bs(t).join(":"),f=c?p+"!":p,v=f+h;if(i.includes(v))continue;i.push(v);const b=o(h,u);for(let s=0;s<b.length;++s){const e=b[s];i.push(f+e)}n=e+(n.length>0?" "+n:n)}return n})(e,s);return o(e,i),i}return function(){return i(xs.apply(null,arguments))}}const ys=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},_s=/^\[(?:([a-z-]+):)?(.+)\]$/i,Es=/^\d+\/\d+$/,Ds=new Set(["px","full","screen"]),Ss=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,js=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ts=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ps=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cs=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=e=>Vs(e)||Ds.has(e)||Es.test(e),Us=e=>qs(e,"length",Ws),Vs=e=>Boolean(e)&&!Number.isNaN(Number(e)),As=e=>qs(e,"number",Vs),Ms=e=>Boolean(e)&&Number.isInteger(Number(e)),Ls=e=>e.endsWith("%")&&Vs(e.slice(0,-1)),Is=e=>_s.test(e),Os=e=>Ss.test(e),Rs=new Set(["length","size","percentage"]),Fs=e=>qs(e,Rs,Xs),Bs=e=>qs(e,"position",Xs),$s=new Set(["image","url"]),zs=e=>qs(e,$s,Js),Gs=e=>qs(e,"",Ys),Hs=()=>!0,qs=(e,t,s)=>{const r=_s.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):s(r[2]))},Ws=e=>js.test(e)&&!Ts.test(e),Xs=()=>!1,Ys=e=>Ps.test(e),Js=e=>Cs.test(e),Ks=ws(()=>{const e=ys("colors"),t=ys("spacing"),s=ys("blur"),r=ys("brightness"),o=ys("borderColor"),i=ys("borderRadius"),a=ys("borderSpacing"),n=ys("borderWidth"),l=ys("contrast"),c=ys("grayscale"),m=ys("hueRotate"),d=ys("invert"),u=ys("gap"),h=ys("gradientColorStops"),p=ys("gradientColorStopPositions"),f=ys("inset"),v=ys("margin"),b=ys("opacity"),g=ys("padding"),x=ys("saturate"),N=ys("scale"),w=ys("sepia"),y=ys("skew"),_=ys("space"),E=ys("translate"),D=()=>["auto",Is,t],S=()=>[Is,t],j=()=>["",ks,Us],T=()=>["auto",Vs,Is],P=()=>["","0",Is],C=()=>[Vs,Is];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[ks,Us],blur:["none","",Os,Is],brightness:C(),borderColor:[e],borderRadius:["none","","full",Os,Is],borderSpacing:S(),borderWidth:j(),contrast:C(),grayscale:P(),hueRotate:C(),invert:P(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Ls,Us],inset:D(),margin:D(),opacity:C(),padding:S(),saturate:C(),scale:C(),sepia:P(),skew:C(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Is]}],container:["container"],columns:[{columns:[Os]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Is]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ms,Is]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Is]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Ms,Is]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Ms,Is]},Is]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Ms,Is]},Is]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Is]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Is]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Is,t]}],"min-w":[{"min-w":[Is,t,"min","max","fit"]}],"max-w":[{"max-w":[Is,t,"none","full","min","max","fit","prose",{screen:[Os]},Os]}],h:[{h:[Is,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Is,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Is,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Is,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Os,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",As]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Is]}],"line-clamp":[{"line-clamp":["none",Vs,As]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks,Is]}],"list-image":[{"list-image":["none",Is]}],"list-style-type":[{list:["none","disc","decimal",Is]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ks,Us]}],"underline-offset":[{"underline-offset":["auto",ks,Is]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Is]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Is]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Bs]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fs]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zs]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[n]}],"border-w-x":[{"border-x":[n]}],"border-w-y":[{"border-y":[n]}],"border-w-s":[{"border-s":[n]}],"border-w-e":[{"border-e":[n]}],"border-w-t":[{"border-t":[n]}],"border-w-r":[{"border-r":[n]}],"border-w-b":[{"border-b":[n]}],"border-w-l":[{"border-l":[n]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[n]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[n]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[ks,Is]}],"outline-w":[{outline:[ks,Us]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ks,Us]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Os,Gs]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Os,Is]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Is]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Is]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Is]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ms,Is]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Is]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Is]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Is]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ks,Us,As]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Qs(...e){return Ks(Q(e))}const Zs=os;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},er.apply(this,arguments)}var tr,sr;r.forwardRef(({className:e,sideOffset:t=4,...s},r)=>lt.jsxDEV(is,{ref:r,sideOffset:t,className:Qs("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0)).displayName=is.displayName,(sr=tr||(tr={})).Pop="POP",sr.Push="PUSH",sr.Replace="REPLACE";const rr="popstate";function or(e){return void 0===e&&(e={}),function(e,t,s,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,n=tr.Pop,l=null,c=m();null==c&&(c=0,a.replaceState(er({},a.state,{idx:c}),""));function m(){return(a.state||{idx:null}).idx}function d(){n=tr.Pop;let e=m(),t=null==e?null:e-c;c=e,l&&l({action:n,location:f.location,delta:t})}function u(e,t){n=tr.Push;let s=lr(f.location,e,t);c=m()+1;let r=nr(s,c),d=f.createHref(s);try{a.pushState(r,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(d)}i&&l&&l({action:n,location:f.location,delta:1})}function h(e,t){n=tr.Replace;let s=lr(f.location,e,t);c=m();let r=nr(s,c),o=f.createHref(s);a.replaceState(r,"",o),i&&l&&l({action:n,location:f.location,delta:0})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,s="string"==typeof e?e:cr(e);return s=s.replace(/ $/,"%20"),ir(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}let f={get action(){return n},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(rr,d),l=e,()=>{o.removeEventListener(rr,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:u,replace:h,go:e=>a.go(e)};return f}(function(e,t){let{pathname:s,search:r,hash:o}=e.location;return lr("",{pathname:s,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:cr(t)},0,e)}function ir(e,t){if(!1===e||null==e)throw new Error(t)}function ar(e,t){if(!e)try{throw new Error(t)}catch(s){}}function nr(e,t){return{usr:e.state,key:e.key,idx:t}}function lr(e,t,s,r){return void 0===s&&(s=null),er({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?mr(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function cr(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function mr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var dr,ur;function hr(e,t,s){return void 0===s&&(s="/"),function(e,t,s){let r="string"==typeof t?mr(t):t,o=jr(r.pathname||"/",s);if(null==o)return null;let i=pr(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let n=0;null==a&&n<i.length;++n){let e=Sr(o);a=Er(i[n],e)}return a}(e,t,s)}function pr(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(ir(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let n=kr([r,a.relativePath]),l=s.concat(a);e.children&&e.children.length>0&&(ir(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+n+'".'),pr(e.children,t,l,n)),(null!=e.path||e.index)&&t.push({path:n,score:_r(n,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of fr(e.path))o(e,t,r);else o(e,t)}),t}function fr(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,o=s.endsWith("?"),i=s.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=fr(r.join("/")),n=[];return n.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&n.push(...a),n.map(t=>e.startsWith("/")&&""===t?"/":t)}(ur=dr||(dr={})).data="data",ur.deferred="deferred",ur.redirect="redirect",ur.error="error";const vr=/^:[\w-]+$/,br=3,gr=2,xr=1,Nr=10,wr=-2,yr=e=>"*"===e;function _r(e,t){let s=e.split("/"),r=s.length;return s.some(yr)&&(r+=wr),t&&(r+=gr),s.filter(e=>!yr(e)).reduce((e,t)=>e+(vr.test(t)?br:""===t?xr:Nr),r)}function Er(e,t,s){let{routesMeta:r}=e,o={},i="/",a=[];for(let n=0;n<r.length;++n){let e=r[n],s=n===r.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Dr({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l),m=e.route;if(!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:kr([i,c.pathname]),pathnameBase:Ur(kr([i,c.pathnameBase])),route:m}),"/"!==c.pathnameBase&&(i=kr([i,c.pathnameBase]))}return a}function Dr(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);ar("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),n=o.slice(1);return{params:r.reduce((e,t,s)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=n[s]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=n[s];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function Sr(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return ar(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function jr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}function Tr(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Pr(e,t){let s=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function Cr(e,t,s,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=mr(e):(o=er({},e),ir(!o.pathname||!o.pathname.includes("?"),Tr("?","pathname","search",o)),ir(!o.pathname||!o.pathname.includes("#"),Tr("#","pathname","hash",o)),ir(!o.search||!o.search.includes("#"),Tr("#","search","hash",o)));let i,a=""===e||""===o.pathname,n=a?"/":o.pathname;if(null==n)i=s;else{let e=t.length-1;if(!r&&n.startsWith("..")){let t=n.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:s,search:r="",hash:o=""}="string"==typeof e?mr(e):e,i=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:i,search:Vr(r),hash:Ar(o)}}(o,i),c=n&&"/"!==n&&n.endsWith("/"),m=(a||"."===n)&&s.endsWith("/");return l.pathname.endsWith("/")||!c&&!m||(l.pathname+="/"),l}const kr=e=>e.join("/").replace(/\/\/+/g,"/"),Ur=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vr=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ar=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Mr=["post","put","patch","delete"];new Set(Mr);const Lr=["get",...Mr];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Ir.apply(this,arguments)}new Set(Lr);const Or=r.createContext(null);Or.displayName="DataRouter";const Rr=r.createContext(null);Rr.displayName="DataRouterState";r.createContext(null).displayName="Await";const Fr=r.createContext(null);Fr.displayName="Navigation";const Br=r.createContext(null);Br.displayName="Location";const $r=r.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";const zr=r.createContext(null);function Gr(){return null!=r.useContext(Br)}function Hr(){return Gr()||ir(!1,"useLocation() may be used only in the context of a <Router> component."),r.useContext(Br).location}zr.displayName="RouteError";const qr="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wr(e){r.useContext(Fr).static||r.useLayoutEffect(e)}function Xr(){let{isDataRoute:e}=r.useContext($r);return e?function(){let{router:e}=function(e){let t=r.useContext(Or);return t||ir(!1,ro(e)),t}(to.UseNavigateStable),t=oo(so.UseNavigateStable),s=r.useRef(!1);return Wr(()=>{s.current=!0}),r.useCallback(function(r,o){void 0===o&&(o={}),ar(s.current,qr),s.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Ir({fromRouteId:t},o)))},[e,t])}():function(){Gr()||ir(!1,"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Or),{basename:t,future:s,navigator:o}=r.useContext(Fr),{matches:i}=r.useContext($r),{pathname:a}=Hr(),n=JSON.stringify(Pr(i,s.v7_relativeSplatPath)),l=r.useRef(!1);return Wr(()=>{l.current=!0}),r.useCallback(function(s,r){if(void 0===r&&(r={}),ar(l.current,qr),!l.current)return;if("number"==typeof s)return void o.go(s);let i=Cr(s,JSON.parse(n),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:kr([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)},[t,o,n,a,e])}()}function Yr(e,t){let{relative:s}=void 0===t?{}:t,{future:o}=r.useContext(Fr),{matches:i}=r.useContext($r),{pathname:a}=Hr(),n=JSON.stringify(Pr(i,o.v7_relativeSplatPath));return r.useMemo(()=>Cr(e,JSON.parse(n),a,"path"===s),[e,n,a,s])}function Jr(e,t){return function(e,t,s,o){Gr()||ir(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(Fr),{matches:a}=r.useContext($r),n=a[a.length-1],l=n?n.params:{},c=n?n.pathname:"/",m=n?n.pathnameBase:"/",d=n&&n.route;{let e=d&&d.path||"";ao(c,!d||e.endsWith("*"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'+c+'" (under <Route path="'+e+'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="'+e+'"> to <Route path="'+("/"===e?"*":e+"/*")+'">.')}let u,h=Hr();if(t){var p;let e="string"==typeof t?mr(t):t;"/"===m||(null==(p=e.pathname)?void 0:p.startsWith(m))||ir(!1,'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'+m+'" but pathname "'+e.pathname+'" was given in the `location` prop.'),u=e}else u=h;let f=u.pathname||"/",v=f;if("/"!==m){let e=m.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=hr(e,{pathname:v});ar(d||null!=b,'No routes matched location "'+u.pathname+u.search+u.hash+'" '),ar(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'+u.pathname+u.search+u.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let g=function(e,t,s,o){var i;void 0===t&&(t=[]);void 0===s&&(s=null);void 0===o&&(o=null);if(null==e){var a;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(a=o)&&a.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let n=e,l=null==(i=s)?void 0:i.errors;if(null!=l){let e=n.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||ir(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(l).join(",")),n=n.slice(0,Math.min(n.length,e+1))}let c=!1,m=-1;if(s&&o&&o.v7_partialHydration)for(let r=0;r<n.length;r++){let e=n[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(m=r),e.route.id){let{loaderData:t,errors:r}=s,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){c=!0,n=m>=0?n.slice(0,m+1):[n[0]];break}}}return n.reduceRight((e,o,i)=>{let a,d=!1,u=null,h=null;s&&(a=l&&o.route.id?l[o.route.id]:void 0,u=o.route.errorElement||Qr,c&&(m<0&&0===i?(ao("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):m===i&&(d=!0,h=o.route.hydrateFallbackElement||null)));let p=t.concat(n.slice(0,i+1)),f=()=>{let t;return t=a?u:d?h:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(eo,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(Zr,{location:s.location,revalidation:s.revalidation,component:u,error:a,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:kr([m,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:kr([m,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,s,o);if(t&&g)return r.createElement(Br.Provider,{value:{location:Ir({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tr.Pop}},g);return g}(e,t)}function Kr(){let e=function(){var e;let t=r.useContext(zr),s=function(e){let t=r.useContext(Rr);return t||ir(!1,ro(e)),t}(so.UseRouteError),o=oo(so.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[o]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},n=null;return n=r.createElement(r.Fragment,null,r.createElement("p",null,"💿 Hey developer 👋"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),s?r.createElement("pre",{style:i},s):null,n)}const Qr=r.createElement(Kr,null);class Zr extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?r.createElement($r.Provider,{value:this.props.routeContext},r.createElement(zr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eo(e){let{routeContext:t,match:s,children:o}=e,i=r.useContext(Or);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),r.createElement($r.Provider,{value:t},o)}var to=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(to||{}),so=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(so||{});function ro(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function oo(e){let t=function(e){let t=r.useContext($r);return t||ir(!1,ro(e)),t}(e),s=t.matches[t.matches.length-1];return s.route.id||ir(!1,e+' can only be used on routes that contain a unique "id"'),s.route.id}const io={};function ao(e,t,s){t||io[e]||(io[e]=!0,ar(!1,s))}const no={};const lo=(e,t,s)=>{var r;no[r="⚠️ React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+s+"."]||(no[r]=!0)};function co(e){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mo(e){let{basename:t="/",children:s=null,location:o,navigationType:i=tr.Pop,navigator:a,static:n=!1,future:l}=e;Gr()&&ir(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:c,navigator:a,static:n,future:Ir({v7_relativeSplatPath:!1},l)}),[c,l,a,n]);"string"==typeof o&&(o=mr(o));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:f="default"}=o,v=r.useMemo(()=>{let e=jr(d,c);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:f},navigationType:i}},[c,d,u,h,p,f,i]);return ar(null!=v,'<Router basename="'+c+'"> is not able to match the URL "'+d+u+h+"\" because it does not start with the basename, so the <Router> won't render anything."),null==v?null:r.createElement(Fr.Provider,{value:m},r.createElement(Br.Provider,{children:s,value:v}))}function uo(e){let{children:t,location:s}=e;return Jr(ho(t),s)}function ho(e,t){void 0===t&&(t=[]);let s=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void s.push.apply(s,ho(e.props.children,i));e.type!==co&&ir(!1,"["+("string"==typeof e.type?e.type:e.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),e.props.index&&e.props.children&&ir(!1,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ho(e.props.children,i)),s.push(a)}),s}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},po.apply(this,arguments)}function fo(e,t){if(null==e)return{};var s,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)s=i[r],t.indexOf(s)>=0||(o[s]=e[s]);return o}new Promise(()=>{});const vo="get",bo="application/x-www-form-urlencoded";function go(e){return null!=e&&"string"==typeof e.tagName}let xo=null;const No=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wo(e){return null==e||No.has(e)?e:(ar(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "'+bo+'"'),null)}function yo(e,t){let s,r,o,i,a;if(go(n=e)&&"form"===n.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?jr(a,t):null,s=e.getAttribute("method")||vo,o=wo(e.getAttribute("enctype"))||bo,i=new FormData(e)}else if(function(e){return go(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return go(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let n=e.getAttribute("formaction")||a.getAttribute("action");if(r=n?jr(n,t):null,s=e.getAttribute("formmethod")||a.getAttribute("method")||vo,o=wo(e.getAttribute("formenctype"))||wo(a.getAttribute("enctype"))||bo,i=new FormData(a,e),!function(){if(null===xo)try{new FormData(document.createElement("form"),0),xo=!1}catch(e){xo=!0}return xo}()){let{name:t,type:s,value:r}=e;if("image"===s){let e=t?t+".":"";i.append(e+"x","0"),i.append(e+"y","0")}else t&&i.append(t,r)}}else{if(go(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=vo,r=null,o=bo,a=e}var n;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:i,body:a}}const _o=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Eo=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Do=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Xp){}const So=r.createContext({isTransitioning:!1});So.displayName="ViewTransition";r.createContext(new Map).displayName="Fetchers";const jo=n.startTransition;function To(e){let{basename:t,children:s,future:o,window:i}=e,a=r.useRef();null==a.current&&(a.current=or({window:i,v5Compat:!0}));let n=a.current,[l,c]=r.useState({action:n.action,location:n.location}),{v7_startTransition:m}=o||{},d=r.useCallback(e=>{m&&jo?jo(()=>c(e)):c(e)},[c,m]);return r.useLayoutEffect(()=>n.listen(d),[n,d]),r.useEffect(()=>{return void 0===(null==(e=o)?void 0:e.v7_startTransition)&&lo("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void(void 0===(null==e?void 0:e.v7_relativeSplatPath)&&lo("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"));var e},[o]),r.createElement(mo,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:n,future:o})}const Po="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Co=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ko=r.forwardRef(function(e,t){let s,{onClick:o,relative:i,reloadDocument:a,replace:n,state:l,target:c,to:m,preventScrollReset:d,viewTransition:u}=e,h=fo(e,_o),{basename:p}=r.useContext(Fr),f=!1;if("string"==typeof m&&Co.test(m)&&(s=m,Po))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),s=jr(t.pathname,p);t.origin===e.origin&&null!=s?m=s+t.search+t.hash:f=!0}catch(Xp){ar(!1,'<Link to="'+m+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let v=function(e,t){let{relative:s}=void 0===t?{}:t;Gr()||ir(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:i}=r.useContext(Fr),{hash:a,pathname:n,search:l}=Yr(e,{relative:s}),c=n;return"/"!==o&&(c="/"===n?o:kr([o,n])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:i}),b=function(e,t){let{target:s,replace:o,state:i,preventScrollReset:a,relative:n,viewTransition:l}=void 0===t?{}:t,c=Xr(),m=Hr(),d=Yr(e,{relative:n});return r.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,s)){t.preventDefault();let s=void 0!==o?o:cr(m)===cr(d);c(e,{replace:s,state:i,preventScrollReset:a,relative:n,viewTransition:l})}},[m,c,d,o,i,s,e,a,n,l])}(m,{replace:n,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:u});return r.createElement("a",po({},h,{href:s||v,onClick:f||a?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:c}))});ko.displayName="Link";r.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:i="",end:a=!1,style:n,to:l,viewTransition:c,children:m}=e,d=fo(e,Eo),u=Yr(l,{relative:d.relative}),h=Hr(),p=r.useContext(Rr),{navigator:f,basename:v}=r.useContext(Fr),b=null!=p&&function(e,t){void 0===t&&(t={});let s=r.useContext(So);null==s&&ir(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Lo(Uo.useViewTransitionState),i=Yr(e,{relative:t.relative});if(!s.isTransitioning)return!1;let a=jr(s.currentLocation.pathname,o)||s.currentLocation.pathname,n=jr(s.nextLocation.pathname,o)||s.nextLocation.pathname;return null!=Dr(i.pathname,n)||null!=Dr(i.pathname,a)}(u)&&!0===c,g=f.encodeLocation?f.encodeLocation(u).pathname:u.pathname,x=h.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(x=x.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&v&&(N=jr(N,v)||N);const w="/"!==g&&g.endsWith("/")?g.length-1:g.length;let y,_=x===g||!a&&x.startsWith(g)&&"/"===x.charAt(w),E=null!=N&&(N===g||!a&&N.startsWith(g)&&"/"===N.charAt(g.length)),D={isActive:_,isPending:E,isTransitioning:b},S=_?s:void 0;y="function"==typeof i?i(D):[i,_?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j="function"==typeof n?n(D):n;return r.createElement(ko,po({},d,{"aria-current":S,className:y,ref:t,style:j,to:l,viewTransition:c}),"function"==typeof m?m(D):m)}).displayName="NavLink";var Uo,Vo,Ao,Mo;function Lo(e){let t=r.useContext(Or);return t||ir(!1,function(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}(e)),t}r.forwardRef((e,t)=>{let{fetcherKey:s,navigate:o,reloadDocument:i,replace:a,state:n,method:l=vo,action:c,onSubmit:m,relative:d,preventScrollReset:u,viewTransition:h}=e,p=fo(e,Do),f=function(){let{router:e}=Lo(Uo.UseSubmit),{basename:t}=r.useContext(Fr),s=oo(so.UseRouteId);return r.useCallback(function(r,o){void 0===o&&(o={}),function(){if("undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:i,method:a,encType:n,formData:l,body:c}=yo(r,t);if(!1===o.navigate){let t=o.fetcherKey||Oo();e.fetch(t,s,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||n,flushSync:o.flushSync})}else e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||n,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,s])}(),v=function(e,t){let{relative:s}=void 0===t?{}:t,{basename:o}=r.useContext(Fr),i=r.useContext($r);i||ir(!1,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),n=po({},Yr(e||".",{relative:s})),l=Hr();if(null==e){n.search=l.search;let e=new URLSearchParams(n.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let s=e.toString();n.search=s?"?"+s:""}}e&&"."!==e||!a.route.index||(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index");"/"!==o&&(n.pathname="/"===n.pathname?o:kr([o,n.pathname]));return cr(n)}(c,{relative:d}),b="get"===l.toLowerCase()?"get":"post";return r.createElement("form",po({ref:t,method:b,action:v,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null==t?void 0:t.getAttribute("formmethod"))||l;f(t||e.currentTarget,{fetcherKey:s,method:r,navigate:o,replace:a,state:n,relative:d,preventScrollReset:u,viewTransition:h})}},p))}).displayName="Form",(Vo=Uo||(Uo={})).UseScrollRestoration="useScrollRestoration",Vo.UseSubmit="useSubmit",Vo.UseSubmitFetcher="useSubmitFetcher",Vo.UseFetcher="useFetcher",Vo.useViewTransitionState="useViewTransitionState",(Mo=Ao||(Ao={})).UseFetcher="useFetcher",Mo.UseFetchers="useFetchers",Mo.UseScrollRestoration="useScrollRestoration";let Io=0,Oo=()=>"__"+String(++Io)+"__";const Ro=[];for(let s=0;s<256;++s)Ro.push((s+256).toString(16).slice(1));let Fo;const Bo=new Uint8Array(16);const $o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function zo(e,t,s){var r;if($o.randomUUID&&!e)return $o.randomUUID();const o=(e=e||{}).random??(null==(r=e.rng)?void 0:r.call(e))??function(){if(!Fo){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fo=crypto.getRandomValues.bind(crypto)}return Fo(Bo)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(e,t=0){return(Ro[e[t+0]]+Ro[e[t+1]]+Ro[e[t+2]]+Ro[e[t+3]]+"-"+Ro[e[t+4]]+Ro[e[t+5]]+"-"+Ro[e[t+6]]+Ro[e[t+7]]+"-"+Ro[e[t+8]]+Ro[e[t+9]]+"-"+Ro[e[t+10]]+Ro[e[t+11]]+Ro[e[t+12]]+Ro[e[t+13]]+Ro[e[t+14]]+Ro[e[t+15]]).toLowerCase()}(o)}const Go=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ho=Q,qo=(e,t)=>s=>{var r;if(null==(null==t?void 0:t.variants))return Ho(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(e=>{const t=null==s?void 0:s[e],r=null==i?void 0:i[e];if(null===t)return null;const a=Go(t)||Go(r);return o[e][a]}),n=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...o}=t;return Object.entries(o).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...i,...n}[t]):{...i,...n}[t]===s})?[...e,s,r]:e},[]);return Ho(e,a,l,null==s?void 0:s.class,null==s?void 0:s.className)},Wo=qo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-soft",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-soft font-semibold transition-bounce",music:"bg-gradient-music text-primary-foreground hover:shadow-primary transition-smooth",coral:"bg-accent-coral text-accent-coral-foreground hover:bg-accent-coral/90 shadow-soft",turquoise:"bg-accent-turquoise text-accent-turquoise-foreground hover:bg-accent-turquoise/90 shadow-soft",glass:"liquid-glass-button bg-transparent text-white",glassGold:"liquid-glass-button--gold",glassGoldSolid:"liquid-glass-button--gold-solid",glassWhite:"liquid-glass-button--white"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xo=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...o},i)=>{const a=r?_:"button";return lt.jsxDEV(a,{className:Qs(Wo({variant:t,size:s,className:e})),ref:i,...o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/button.tsx",lineNumber:55,columnNumber:7},void 0)});function Yo(e,t){let s;try{s=e()}catch(Xp){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=s.getItem(e))?t:null;return o instanceof Promise?o.then(r):r(o)},setItem:(e,t)=>s.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>s.removeItem(e)}}Xo.displayName="Button";const Jo=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then:e=>Jo(e)(s),catch(e){return this}}}catch(Xp){return{then(e){return this},catch:t=>Jo(t)(Xp)}}},Ko=(e,t)=>(s,r,o)=>{let i={storage:Yo(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const n=new Set,l=new Set;let c=i.storage;if(!c)return e((...e)=>{s(...e)},r,o);const m=()=>{const e=i.partialize({...r()});return c.setItem(i.name,{state:e,version:i.version})},d=o.setState;o.setState=(e,t)=>(d(e,t),m());const u=e((...e)=>(s(...e),m()),r,o);let h;o.getInitialState=()=>u;const p=()=>{var e,t;if(!c)return;a=!1,n.forEach(e=>{var t;return e(null!=(t=r())?t:u)});const o=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:u))||void 0;return Jo(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[o,a]=e;if(h=i.merge(a,null!=(t=r())?t:u),s(h,!0),o)return m()}).then(()=>{null==o||o(h,void 0),h=r(),a=!0,l.forEach(e=>e(h))}).catch(e=>{null==o||o(void 0,e)})};return o.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:e=>(n.add(e),()=>{n.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||p(),h||u},Qo={},Zo=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Qo)return;Qo[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,s&&o.setAttribute("nonce",s),document.head.appendChild(o),t?new Promise((t,s)=>{o.addEventListener("load",t),o.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},ei="memora-guest-id";function ti(){try{const e=localStorage.getItem(ei),t=localStorage.getItem("deviceId");if(e)return t&&t!==e?(localStorage.setItem(ei,t),t):e;if(t)return localStorage.setItem(ei,t),t;const s=zo();return localStorage.setItem(ei,s),localStorage.setItem("deviceId",s),s}catch(e){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}function si(){try{localStorage.getItem(ei)&&localStorage.removeItem(ei)}catch(e){}}function ri(){try{return localStorage.getItem(ei)}catch(e){return null}}const oi=Object.freeze(Object.defineProperty({__proto__:null,clearGuestId:si,getCurrentGuestId:ri,getOrCreateGuestId:ti},Symbol.toStringTag,{value:"Module"})),ii={isDevelopment:!0,apiBaseUrl:"http://localhost:3337"}.apiBaseUrl,ai={GENERATE_PREVIEW:`${ii}/api/generate-preview`,CHECK_MUSIC_STATUS:`${ii}/api/check-music-status`,SONGS:"/api/songs",SONGS_DISCOVER:"/api/songs/discover",MIGRATE_GUEST_DATA:"/api/migrate-guest-data",LOGIN:"/api/auth/login",SIGNUP:"/api/auth/signup",LOGOUT:"/api/auth/logout",PAYWALL:`${ii}/api/user`,SUNO_GENERATE:"https://api.sunoapi.org/api/generate",SUNO_GET_TASK:"https://api.sunoapi.org/api/get"},ni=async()=>{const{useAuthStore:e}=await Zo(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>sc);return{useAuthStore:e}},void 0),{isLoggedIn:t,user:s}=e.getState();let r=ai.SONGS;if(t&&(null==s?void 0:s.id))r+=`?userId=${encodeURIComponent(s.id)}`;else{const{getOrCreateGuestId:e}=await Zo(async()=>{const{getOrCreateGuestId:e}=await Promise.resolve().then(()=>oi);return{getOrCreateGuestId:e}},void 0),t=e();r+=`?guestId=${encodeURIComponent(t)}`}return hi(r)},li=(e=24)=>hi(`${ai.SONGS_DISCOVER}?limit=${e}`),ci=e=>hi(`${ai.SONGS}/${e}/public`),mi=e=>hi(`${ai.SONGS}/${e}`,{method:"DELETE"}),di=async e=>{const{useAuthStore:t}=await Zo(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>sc);return{useAuthStore:e}},void 0),{user:s}=t.getState(),r=localStorage.getItem("deviceId");return hi(ai.MIGRATE_GUEST_DATA,{method:"POST",body:{guestId:e,userId:null==s?void 0:s.id,email:null==s?void 0:s.email,name:null==s?void 0:s.name,deviceId:r}})},ui=async e=>{try{const t=`${ii||""}/api/suno/music/${e}`,s=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const e=await s.text();return{success:!1,error:`API Error: ${s.status} ${s.statusText}`,message:e}}const r=await s.json();return(null==r?void 0:r.success)&&(null==r?void 0:r.data)?{success:!0,data:r.data}:{success:!1,error:(null==r?void 0:r.error)||"Resposta inválida da API Suno",message:null==r?void 0:r.message}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erro desconhecido",message:"Falha ao conectar com a API da Suno"}}},hi=async(e,t={})=>{const{method:s="GET",body:r,headers:o={}}=t;try{const{useAuthStore:t}=await Zo(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>sc);return{useAuthStore:e}},void 0),{token:n,isLoggedIn:l}=t.getState(),c={"Content-Type":"application/json",...o},m=localStorage.getItem("deviceId");if(m&&(c["X-Device-ID"]=m),l&&n)c.Authorization=`Bearer ${n}`;else{const e=ti();c["X-Guest-ID"]=e}const d=e.startsWith("http")?e:`${ii}${e}`,u={method:s,headers:c,...r&&{body:"string"==typeof r?r:JSON.stringify(r)}},h=await fetch(d,u);if(!h.ok){let e;try{const t=await h.text();try{e=JSON.parse(t)}catch(i){e={message:t}}}catch(a){e={message:`API Error: ${h.status} ${h.statusText}`}}const t=e.message||`API Error: ${h.status} ${h.statusText}`,s=new Error(t);throw s.status=h.status,s.statusText=h.statusText,s.data=e,s}return await h.json()}catch(n){throw n}};class pi extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class fi extends pi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vi extends pi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bi extends pi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gi,xi;(xi=gi||(gi={})).Any="any",xi.ApNortheast1="ap-northeast-1",xi.ApNortheast2="ap-northeast-2",xi.ApSouth1="ap-south-1",xi.ApSoutheast1="ap-southeast-1",xi.ApSoutheast2="ap-southeast-2",xi.CaCentral1="ca-central-1",xi.EuCentral1="eu-central-1",xi.EuWest1="eu-west-1",xi.EuWest2="eu-west-2",xi.EuWest3="eu-west-3",xi.SaEast1="sa-east-1",xi.UsEast1="us-east-1",xi.UsWest1="us-west-1",xi.UsWest2="us-west-2";var Ni=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};class wi{constructor(e,{headers:t={},customFetch:s,region:r=gi.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Zo(async()=>{const{default:e}=await Promise.resolve().then(()=>Ai);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Ni(this,void 0,void 0,function*(){try{const{headers:r,method:o,body:i}=t;let a={},{region:n}=t;n||(n=this.region);const l=new URL(`${this.url}/${e}`);let c;n&&"any"!==n&&(a["x-region"]=n,l.searchParams.set("forceFunctionRegion",n)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):"string"==typeof i?(a["Content-Type"]="text/plain",c=i):"undefined"!=typeof FormData&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const m=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(e=>{throw new fi(e)}),d=m.headers.get("x-relay-error");if(d&&"true"===d)throw new vi(m);if(!m.ok)throw new bi(m);let u,h=(null!==(s=m.headers.get("Content-Type"))&&void 0!==s?s:"text/plain").split(";")[0].trim();return u="application/json"===h?yield m.json():"application/octet-stream"===h?yield m.blob():"text/event-stream"===h?m:"multipart/form-data"===h?yield m.formData():yield m.text(),{data:u,error:null,response:m}}catch(r){return{data:null,error:r,response:r instanceof bi||r instanceof vi?r.context:void 0}}})}}var yi={},_i={},Ei={},Di={},Si={},ji={},Ti=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const Pi=Ti.fetch,Ci=Ti.fetch.bind(Ti),ki=Ti.Headers,Ui=Ti.Request,Vi=Ti.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:ki,Request:Ui,Response:Vi,default:Ci,fetch:Pi},Symbol.toStringTag,{value:"Module"})),Mi=l(Ai);var Li={};Object.defineProperty(Li,"__esModule",{value:!0});let Ii=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Li.default=Ii;var Oi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});const Ri=Oi(Mi),Fi=Oi(Li);ji.default=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(s=e.isMaybeSingle)&&void 0!==s&&s,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Ri.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,s,r,o;let i=null,a=null,n=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const s=await e.text();""===s||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?s:JSON.parse(s))}const o=null===(s=this.headers.get("Prefer"))||void 0===s?void 0:s.match(/count=(exact|planned|estimated)/),m=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");o&&m&&m.length>1&&(n=parseInt(m[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,n=null,l=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(a=[],i=null,l=200,c="OK")}catch(m){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(o=null==i?void 0:i.details)||void 0===o?void 0:o.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new Fi.default(i)}return{error:i,data:a,count:n,status:l,statusText:c}});return this.shouldThrowOnError||(s=s.catch(e=>{var t,s,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};var Bi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const $i=Bi(ji);let zi=class extends $i.default{select(e){let t=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===s?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const o=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:i="text"}={}){var a;const n=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${n};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Si.default=zi;var Gi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const Hi=Gi(Si);let qi=class extends Hi.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let o="";"plain"===r?o="pl":"phrase"===r?o="ph":"websearch"===r&&(o="w");const i=void 0===s?"":`(${s})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Di.default=qi;var Wi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const Xi=Wi(Di);Ei.default=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=r}select(e,{head:t=!1,count:s}={}){const r=t?"HEAD":"GET";let o=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join("");return this.url.searchParams.set("select",i),s&&this.headers.append("Prefer",`count=${s}`),new Xi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var r;if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Xi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Xi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e,{count:t}={}){var s;return t&&this.headers.append("Prefer",`count=${t}`),new Xi.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new Xi.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}};var Yi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const Ji=Yi(Ei),Ki=Yi(Di);_i.default=class e{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Ji.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:r=!1,count:o}={}){var i;let a;const n=new URL(`${this.url}/rpc/${e}`);let l;s||r?(a=s?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{n.searchParams.append(e,t)})):(a="POST",l=t);const c=new Headers(this.headers);return o&&c.set("Prefer",`count=${o}`),new Ki.default({method:a,url:n,headers:c,schema:this.schemaName,body:l,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}};var Qi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0}),yi.PostgrestError=yi.PostgrestBuilder=yi.PostgrestTransformBuilder=yi.PostgrestFilterBuilder=yi.PostgrestQueryBuilder=yi.PostgrestClient=void 0;const Zi=Qi(_i);yi.PostgrestClient=Zi.default;const ea=Qi(Ei);yi.PostgrestQueryBuilder=ea.default;const ta=Qi(Di);yi.PostgrestFilterBuilder=ta.default;const sa=Qi(Si);yi.PostgrestTransformBuilder=sa.default;const ra=Qi(ji);yi.PostgrestBuilder=ra.default;const oa=Qi(Li);yi.PostgrestError=oa.default;var ia=yi.default={PostgrestClient:Zi.default,PostgrestQueryBuilder:ea.default,PostgrestFilterBuilder:ta.default,PostgrestTransformBuilder:sa.default,PostgrestBuilder:ra.default,PostgrestError:oa.default};const{PostgrestClient:aa,PostgrestQueryBuilder:na,PostgrestFilterBuilder:la,PostgrestTransformBuilder:ca,PostgrestBuilder:ma,PostgrestError:da}=ia;class ua{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,s=parseInt(t.replace(/^v/,"").split(".")[0]);return s>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const ha=1e4;var pa,fa,va,ba,ga,xa,Na,wa,ya,_a,Ea;(fa=pa||(pa={}))[fa.connecting=0]="connecting",fa[fa.open=1]="open",fa[fa.closing=2]="closing",fa[fa.closed=3]="closed",(ba=va||(va={})).closed="closed",ba.errored="errored",ba.joined="joined",ba.joining="joining",ba.leaving="leaving",(xa=ga||(ga={})).close="phx_close",xa.error="phx_error",xa.join="phx_join",xa.reply="phx_reply",xa.leave="phx_leave",xa.access_token="access_token",(Na||(Na={})).websocket="websocket",(ya=wa||(wa={})).Connecting="connecting",ya.Open="open",ya.Closing="closing",ya.Closed="closed";class Da{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=s.decode(e.slice(i,i+r));i+=r;const n=s.decode(e.slice(i,i+o));i+=o;return{ref:null,topic:a,event:n,payload:JSON.parse(s.decode(e.slice(i,e.byteLength)))}}}class Sa{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Ea=_a||(_a={})).abstime="abstime",Ea.bool="bool",Ea.date="date",Ea.daterange="daterange",Ea.float4="float4",Ea.float8="float8",Ea.int2="int2",Ea.int4="int4",Ea.int4range="int4range",Ea.int8="int8",Ea.int8range="int8range",Ea.json="json",Ea.jsonb="jsonb",Ea.money="money",Ea.numeric="numeric",Ea.oid="oid",Ea.reltime="reltime",Ea.text="text",Ea.time="time",Ea.timestamp="timestamp",Ea.timestamptz="timestamptz",Ea.timetz="timetz",Ea.tsrange="tsrange",Ea.tstzrange="tstzrange";const ja=(e,t,s={})=>{var r;const o=null!==(r=s.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((s,r)=>(s[r]=Ta(r,e,t,o),s),{})},Ta=(e,t,s,r)=>{const o=t.find(t=>t.name===e),i=null==o?void 0:o.type,a=s[e];return i&&!r.includes(i)?Pa(i,a):Ca(a)},Pa=(e,t)=>{if("_"===e.charAt(0)){const s=e.slice(1,e.length);return Aa(t,s)}switch(e){case _a.bool:return ka(t);case _a.float4:case _a.float8:case _a.int2:case _a.int4:case _a.int8:case _a.numeric:case _a.oid:return Ua(t);case _a.json:case _a.jsonb:return Va(t);case _a.timestamp:return Ma(t);case _a.abstime:case _a.date:case _a.daterange:case _a.int4range:case _a.int8range:case _a.money:case _a.reltime:case _a.text:case _a.time:case _a.timestamptz:case _a.timetz:case _a.tsrange:case _a.tstzrange:default:return Ca(t)}},Ca=e=>e,ka=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ua=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Va=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Aa=(e,t)=>{if("string"!=typeof e)return e;const s=e.length-1,r=e[s];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,s);try{r=JSON.parse("["+i+"]")}catch(o){r=i?i.split(","):[]}return r.map(e=>Pa(t,e))}return e},Ma=e=>"string"==typeof e?e.replace(" ","T"):e,La=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ia{constructor(e,t,s={},r=1e4){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t(null===(s=this.receivedResp)||void 0===s?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Oa,Ra,Fa,Ba,$a,za,Ga,Ha;(Ra=Oa||(Oa={})).SYNC="sync",Ra.JOIN="join",Ra.LEAVE="leave";class qa{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qa.syncState(this.state,e,t,s),this.pendingDiffs.forEach(e=>{this.state=qa.syncDiff(this.state,e,t,s)}),this.pendingDiffs=[],r()}),this.channel._on(s.diff,{},e=>{const{onJoin:t,onLeave:s,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=qa.syncDiff(this.state,e,t,s),r())}),this.onJoin((e,t,s)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:s})}),this.onLeave((e,t,s)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const o=this.cloneDeep(e),i=this.transformState(t),a={},n={};return this.map(o,(e,t)=>{i[e]||(n[e]=t)}),this.map(i,(e,t)=>{const s=o[e];if(s){const r=t.map(e=>e.presence_ref),o=s.map(e=>e.presence_ref),i=t.filter(e=>o.indexOf(e.presence_ref)<0),l=s.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(a[e]=i),l.length>0&&(n[e]=l)}else a[e]=t}),this.syncDiff(o,{joins:a,leaves:n},s,r)}static syncDiff(e,t,s,r){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(t,r)=>{var o;const i=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(r),i.length>0){const s=e[t].map(e=>e.presence_ref),r=i.filter(e=>s.indexOf(e.presence_ref)<0);e[t].unshift(...r)}s(t,i,r)}),this.map(i,(t,s)=>{let o=e[t];if(!o)return;const i=s.map(e=>e.presence_ref);o=o.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=o,r(t,o,s),0===o.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return t[s]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ba=Fa||(Fa={})).ALL="*",Ba.INSERT="INSERT",Ba.UPDATE="UPDATE",Ba.DELETE="DELETE",(za=$a||($a={})).BROADCAST="broadcast",za.PRESENCE="presence",za.POSTGRES_CHANGES="postgres_changes",za.SYSTEM="system",(Ha=Ga||(Ga={})).SUBSCRIBED="SUBSCRIBED",Ha.TIMED_OUT="TIMED_OUT",Ha.CLOSED="CLOSED",Ha.CHANNEL_ERROR="CHANNEL_ERROR";class Wa{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=va.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ia(this,ga.join,this.params,this.timeout),this.rejoinTimer=new Sa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=va.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=va.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=va.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ga.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new qa(this),this.broadcastEndpointURL=La(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==va.closed){const{config:{broadcast:i,presence:a,private:n}}=this.params,l=null!==(r=null===(s=this.bindings.postgres_changes)||void 0===s?void 0:s.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[$a.PRESENCE]&&this.bindings[$a.PRESENCE].length>0||!0===(null===(o=this.params.config.presence)||void 0===o?void 0:o.enabled),m={},d={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:n};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Ga.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Ga.CLOSED)),this.updateJoinPayload(Object.assign({config:d},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var s;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,o=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,i=[];for(let s=0;s<o;s++){const o=r[s],{filter:{event:a,schema:n,table:l,filter:c}}=o,m=t&&t[s];if(!m||m.event!==a||m.schema!==n||m.table!==l||m.filter!==c)return this.unsubscribe(),this.state=va.errored,void(null==e||e(Ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},o),{id:m.id}))}return this.bindings.postgres_changes=i,void(e&&e(Ga.SUBSCRIBED))}null==e||e(Ga.SUBSCRIBED)}).receive("error",t=>{this.state=va.errored,null==e||e(Ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===va.joined&&e===$a.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(s=>{var r,o,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(o=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===o?void 0:o.broadcast)||void 0===i?void 0:i.ack)||s("ok"),a.receive("ok",()=>s("ok")),a.receive("error",()=>s("error")),a.receive("timeout",()=>s("timed out"))});{const{event:i,payload:a}=e,n={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(s=t.timeout)&&void 0!==s?s:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=va.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ga.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Ia(this,ga.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{null==s||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=va.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),i}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ia(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,o;const i=e.toLocaleLowerCase(),{close:a,error:n,leave:l,join:c}=ga;if(s&&[a,n,l,c].indexOf(i)>=0&&s!==this._joinRef())return;let m=this._onMessage(i,t,s);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,s,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(s=e.filter)||void 0===s?void 0:s.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(m,s)):null===(o=this.bindings[i])||void 0===o||o.filter(e=>{var s,r,o,a,n,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(s=e.filter)||void 0===s?void 0:s.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const s=null===(n=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===n?void 0:n.toLocaleLowerCase();return"*"===s||s===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof m&&"ids"in m){const e=m.data,{schema:t,table:s,commit_timestamp:r,type:o,errors:i}=e,a={schema:t,table:s,commit_timestamp:r,eventType:o,new:{},old:{},errors:i};m=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(m,s)})}_isClosed(){return this.state===va.closed}_isJoined(){return this.state===va.joined}_isJoining(){return this.state===va.joining}_isLeaving(){return this.state===va.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===s&&Wa.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ga.close,{},e)}_onError(e){this._on(ga.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=va.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ja(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ja(e.columns,e.old_record)),t}}const Xa=()=>{},Ya=25e3,Ja=10,Ka=100,Qa=[1e3,2e3,5e3,1e4];class Za{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ha,this.transport=null,this.heartbeatIntervalMs=Ya,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xa,this.ref=0,this.reconnectTimer=null,this.logger=Xa,this.conn=null,this.sendBuffer=[],this.serializer=new Da,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Zo(async()=>{const{default:e}=await Promise.resolve().then(()=>Ai);return{default:e}},void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(s=null==t?void 0:t.params)||void 0===s?void 0:s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Na.websocket}`,this.httpEndpoint=La(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ua.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case pa.connecting:return wa.Connecting;case pa.open:return wa.Open;case pa.closing:return wa.Closing;default:return wa.Closed}}isConnected(){return this.connectionState()===wa.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===s);if(r)return r;{const s=new Wa(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:s,payload:r,ref:o}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${s} (${o})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Xp){this.log("error","error in heartbeat callback",Xp)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Ka)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Xp){this.log("error","error in heartbeat callback",Xp)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Xp){this.log("error","error in heartbeat callback",Xp)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(Xp){this.log("error","error in heartbeat callback",Xp)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:s,payload:r,ref:o}=e,i=o?`(${o})`:"",a=r.status||"";this.log("receive",`${a} ${t} ${s} ${i}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(s,r,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ga.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const s=e.match(/\?/)?"&":"?";return`${e}${s}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const s={access_token:t,version:"realtime-js/2.15.5"};t&&e.updateJoinPayload(s),e.joinedOnce&&e._isJoined()&&e._push(ga.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(Xp){this.log("error",`error in ${e} callback`,Xp)}})}catch(Xp){this.log("error",`error triggering ${e} callbacks`,Xp)}}_setupReconnectionTimer(){this.reconnectTimer=new Sa(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ja)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,o,i,a,n,l,c;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(s=null==e?void 0:e.timeout)&&void 0!==s?s:ha,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Ya,this.worker=null!==(o=null==e?void 0:e.worker)&&void 0!==o&&o,this.accessToken=null!==(i=null==e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:Xa,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(n=null==e?void 0:e.reconnectAfterMs)&&void 0!==n?n:e=>Qa[e-1]||1e4,this.encode=null!==(l=null==e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class en extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tn(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class sn extends en{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rn extends en{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var on=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};const an=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Zo(async()=>{const{default:e}=await Promise.resolve().then(()=>Ai);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},nn=e=>{if(Array.isArray(e))return e.map(e=>nn(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,s])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=nn(s)}),t};var ln=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};const cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mn=(e,t,s)=>ln(void 0,void 0,void 0,function*(){const r=yield on(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Zo(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response});e instanceof r&&!(null==s?void 0:s.noResolveJson)?e.json().then(s=>{const r=e.status||500,o=(null==s?void 0:s.statusCode)||r+"";t(new sn(cn(s),r,o))}).catch(e=>{t(new rn(cn(e),e))}):t(new rn(cn(e),e))}),dn=(e,t,s,r)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(o.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,(null==t?void 0:t.duplex)&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),s)):o};function un(e,t,s,r,o,i){return ln(this,void 0,void 0,function*(){return new Promise((a,n)=>{e(s,dn(t,r,o,i)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>mn(e,n,r))})})}function hn(e,t,s,r){return ln(this,void 0,void 0,function*(){return un(e,"GET",t,s,r)})}function pn(e,t,s,r,o){return ln(this,void 0,void 0,function*(){return un(e,"POST",t,r,o,s)})}function fn(e,t,s,r,o){return ln(this,void 0,void 0,function*(){return un(e,"PUT",t,r,o,s)})}function vn(e,t,s,r,o){return ln(this,void 0,void 0,function*(){return un(e,"DELETE",t,r,o,s)})}var bn=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};const gn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nn{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=an(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return bn(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},xn),r);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const n=i.metadata;"undefined"!=typeof Blob&&s instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),n&&o.append("metadata",this.encodeMetadata(n)),o.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(o=s,o.append("cacheControl",i.cacheControl),n&&o.append("metadata",this.encodeMetadata(n))):(o=s,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,n&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(n)))),(null==r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),m=yield("PUT"==e?fn:pn)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tn(o))return{data:null,error:o};throw o}})}upload(e,t,s){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return bn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:xn.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&s instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",s)):"undefined"!=typeof FormData&&s instanceof FormData?(e=s,e.append("cacheControl",t.cacheControl)):(e=s,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:o,fullPath:(yield fn(this.fetch,a.toString(),e,{headers:i})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}})}createSignedUploadUrl(e,t){return bn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const o=yield pn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new en("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}update(e,t,s){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return bn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}copy(e,t,s){return bn(this,void 0,void 0,function*(){try{return{data:{path:(yield pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==s?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return bn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield pn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==s?void 0:s.transform)?{transform:s.transform}:{}),{headers:this.headers});const i=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return bn(this,void 0,void 0,function*(){try{const r=yield pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=(null==s?void 0:s.download)?`&download=${!0===s.download?"":s.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}download(e,t){return bn(this,void 0,void 0,function*(){const s=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),o=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield hn(this.fetch,`${this.url}/${s}/${t}${o}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tn(i))return{data:null,error:i};throw i}})}info(e){return bn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield hn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:nn(e),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}exists(e){return bn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,s,r){return ln(this,void 0,void 0,function*(){return un(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s)&&s instanceof rn){const e=s.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],o=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==o&&r.push(o);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let n=r.join("&");return""!==n&&(n=`?${n}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${s}${n}`)}}}remove(e){return bn(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}list(e,t,s){return bn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},gn),t),{prefix:e||""});return{data:yield pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}})}listV2(e,t){return bn(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const wn={"X-Client-Info":"storage-js/2.12.0"};var yn=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};class _n{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const o=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href,this.headers=Object.assign(Object.assign({},wn),t),this.fetch=an(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tn(e))return{data:null,error:e};throw e}})}getBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return yn(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tn(t))return{data:null,error:t};throw t}})}}class En extends _n{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new Nn(this.url,this.headers,e,this.fetch)}}let Dn="";Dn="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Sn={headers:{"X-Client-Info":`supabase-js-${Dn}/2.57.2`}},jn={schema:"public"},Tn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pn={};var Cn=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};const kn=(e,t,s)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?Ci:fetch),(...e)=>t(...e)})(s),o="undefined"==typeof Headers?ki:Headers;return(s,i)=>Cn(void 0,void 0,void 0,function*(){var a;const n=null!==(a=yield t())&&void 0!==a?a:e;let l=new o(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${n}`),r(s,Object.assign(Object.assign({},i),{headers:l}))})};var Un=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};const Vn="2.71.1",An=3e4,Mn=9e4,Ln={"X-Client-Info":`gotrue-js/${Vn}`},In="X-Supabase-Api-Version",On={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Rn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Fn extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Bn(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class $n extends Fn{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}class zn extends Fn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Gn extends Fn{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class Hn extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class qn extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wn extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xn extends Gn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yn extends Gn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jn extends Gn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Kn(e){return Bn(e)&&"AuthRetryableFetchError"===e.name}class Qn extends Gn{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Zn extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const el="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tl=" \t\n\r=".split(""),sl=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tl.length;t+=1)e[tl[t].charCodeAt(0)]=-2;for(let t=0;t<el.length;t+=1)e[el[t].charCodeAt(0)]=t;return e})();function rl(e,t,s){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(el[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;s(el[e]),t.queuedBits-=6}}function ol(e,t,s){const r=sl[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function il(e){const t=[],s=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=e=>{!function(e,t,s){if(0===t.utf8seq){if(e<=127)return void s(e);for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&s(t.codepoint)}}(e,r,s)};for(let a=0;a<e.length;a+=1)ol(e.charCodeAt(a),o,i);return t.join("")}function al(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function nl(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)ol(e.charCodeAt(o),s,r);return new Uint8Array(t)}function ll(e){const t=[];return function(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(s+1)-56320&65535|t),s+=1}al(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function cl(e){const t=[],s={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>rl(e,s,r)),rl(null,s,r),t.join("")}const ml=()=>"undefined"!=typeof window&&"undefined"!=typeof document,dl={tested:!1,writable:!1},ul=()=>{if(!ml())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Xp){return!1}if(dl.tested)return dl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dl.tested=!0,dl.writable=!0}catch(Xp){dl.tested=!0,dl.writable=!1}return dl.writable};const hl=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Zo(async()=>{const{default:e}=await Promise.resolve().then(()=>Ai);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},pl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},fl=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch(r){return s}},vl=async(e,t)=>{await e.removeItem(t)};class bl{constructor(){this.promise=new bl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function gl(e){const t=e.split(".");if(3!==t.length)throw new Zn("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Rn.test(t[s]))throw new Zn("JWT not in base64url format");return{header:JSON.parse(il(t[0])),payload:JSON.parse(il(t[1])),signature:nl(t[2]),raw:{header:t[0],payload:t[1]}}}function xl(e){return("0"+e.toString(16)).substr(-2)}async function Nl(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wl(e,t,s=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*t));return s}return crypto.getRandomValues(e),Array.from(e,xl).join("")}();let o=r;s&&(o+="/PASSWORD_RECOVERY"),await pl(e,`${t}-code-verifier`,o);const i=await Nl(r);return[i,r===i?"plain":"s256"]}bl.promiseConstructor=Promise;const yl=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const _l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function El(e){if(!_l.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dl(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sl(e){return JSON.parse(JSON.stringify(e))}const jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tl=[502,503,504];async function Pl(e){var t,s;if(!("object"==typeof(s=e)&&null!==s&&"status"in s&&"ok"in s&&"json"in s&&"function"==typeof s.json))throw new Jn(jl(e),0);if(Tl.includes(e.status))throw new Jn(jl(e),e.status);let r,o;try{r=await e.json()}catch(Xp){throw new zn(jl(Xp),Xp)}const i=function(e){const t=e.headers.get(In);if(!t)return null;if(!t.match(yl))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Xp){return null}}(e);if(i&&i.getTime()>=On.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?o=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(o=r.error_code),o){if("weak_password"===o)throw new Qn(jl(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new Hn}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Qn(jl(r),e.status,r.weak_password.reasons);throw new $n(jl(r),e.status||500,o)}async function Cl(e,t,s,r){var o;const i=Object.assign({},null==r?void 0:r.headers);i[In]||(i[In]=On.name),(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const a=null!==(o=null==r?void 0:r.query)&&void 0!==o?o:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const n=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,s,r,o,i){const a=((e,t,s,r)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),s))})(t,r,o,i);let n;try{n=await e(s,Object.assign({},a))}catch(Xp){throw new Jn(jl(Xp),0)}n.ok||await Pl(n);if(null==r?void 0:r.noResolveJson)return n;try{return await n.json()}catch(Xp){await Pl(Xp)}}(e,t,s+n,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function kl(e){var t;let s=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ul(e){const t=kl(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Vl(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Al(e){return{data:e,error:null}}function Ml(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:i}=e,a=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]])}return s}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},a)},error:null}}function Ll(e){return e}const Il=["global","local","others"];class Ol{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=hl(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Il[0]){if(Il.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Il.join(", ")}`);try{return await Cl(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Cl(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Vl})}catch(s){if(Bn(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]])}return s}(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=null==s?void 0:s.newEmail,delete r.newEmail),await Cl(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Ml,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Bn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Cl(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vl})}catch(t){if(Bn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,o,i,a,n;try{const l={nextPage:null,lastPage:0,total:0},c=await Cl(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(s=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==s?s:"",per_page:null!==(o=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:Ll});if(c.error)throw c.error;const m=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,u=null!==(n=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==n?n:[];return u.length>0&&(u.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),s=JSON.parse(e.split(";")[1].split("=")[1]);l[`${s}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},m),l),error:null}}catch(l){if(Bn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){El(e);try{return await Cl(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vl})}catch(t){if(Bn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){El(e);try{return await Cl(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Vl})}catch(s){if(Bn(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){El(e);try{return await Cl(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Vl})}catch(s){if(Bn(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){El(e.userId);try{const{data:t,error:s}=await Cl(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:s}}catch(t){if(Bn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){El(e.userId),El(e.id);try{return{data:await Cl(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Bn(t))return{data:null,error:t};throw t}}}function Rl(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const Fl=!!(globalThis&&ul()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Bl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $l extends Bl{}async function zl(e,t,s){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new $l(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fl)try{await globalThis.navigator.locks.query()}catch(Xp){}return await s()}try{return await s()}finally{}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Xp){"undefined"!=typeof self&&(self.globalThis=self)}}();const Gl={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ln,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hl(e,t,s){return await s()}const ql={};class Wl{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wl.nextInstanceID,Wl.nextInstanceID+=1,this.instanceID>0&&ml();const r=Object.assign(Object.assign({},Gl),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Ol({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=hl(r.fetch),this.lock=r.lock||Hl,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ml()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=zl:this.lock=Hl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:ul()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rl(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Rl(this.memoryStorage)),ml()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Xp){}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=ql[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){ql[this.storageKey]=Object.assign(Object.assign({},ql[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=ql[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ql[this.storageKey]=Object.assign(Object.assign({},ql[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vn}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},s=new URL(e);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((e,s)=>{t[s]=e})}catch(Xp){}return s.searchParams.forEach((e,s)=>{t[s]=e}),t}(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),ml()&&this.detectSessionInUrl&&"none"!==s){const{data:r,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return Bn(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Bn(t)?{error:t}:{error:new zn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const o=await Cl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==s?s:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:kl}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const n=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(o){if(Bn(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,s,r;try{let o;if("email"in e){const{email:s,password:r,options:i}=e;let a=null,n=null;"pkce"===this.flowType&&([a,n]=await wl(this.storage,this.storageKey)),o=await Cl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:s,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:n},xform:kl})}else{if(!("phone"in e))throw new Wn("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;o=await Cl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(s=null==a?void 0:a.data)&&void 0!==s?s:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:kl})}}const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const n=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(o){if(Bn(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:r,options:o}=e;t=await Cl(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ul})}else{if(!("phone"in e))throw new Wn("You must provide either an email or phone number and a password");{const{phone:s,password:r,options:o}=e;t=await Cl(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ul})}}const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r}):{data:{user:null,session:null},error:new qn}}catch(t){if(Bn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,r,o,i,a,n,l,c,m,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:f,options:v}=e;let b;if(ml())if("object"==typeof u)b=u;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");b=e.solana}else{if("object"!=typeof u||!(null==v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=u}const g=new URL(null!==(t=null==v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in b&&b.signIn){const e=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:g.host,uri:g.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in b&&"function"==typeof b.signMessage&&"publicKey"in b&&"object"==typeof b&&b.publicKey&&"toBase58"in b.publicKey&&"function"==typeof b.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${g.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${g.href}`,`Issued At: ${null!==(r=null===(s=null==v?void 0:v.signInWithSolana)||void 0===s?void 0:s.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(o=null==v?void 0:v.signInWithSolana)||void 0===o?void 0:o.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null===(i=null==v?void 0:v.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null===(a=null==v?void 0:v.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null===(n=null==v?void 0:v.signInWithSolana)||void 0===n?void 0:n.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null===(l=null==v?void 0:v.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null===(m=null===(c=null==v?void 0:v.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===m?void 0:m.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await b.signMessage((new TextEncoder).encode(h),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:s}=await Cl(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:cl(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:kl});if(s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:s}):{data:{user:null,session:null},error:new qn}}catch(f){if(Bn(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await fl(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(null!=t?t:"").split("/");try{const{data:t,error:o}=await Cl(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:kl});if(await vl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new qn}}catch(o){if(Bn(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:o,nonce:i}=e,a=await Cl(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:kl}),{data:n,error:l}=a;return l?{data:{user:null,session:null},error:l}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:l}):{data:{user:null,session:null},error:new qn}}catch(t){if(Bn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,o,i;try{if("email"in e){const{email:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await wl(this.storage,this.storageKey));const{error:n}=await Cl(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(s=null==o?void 0:o.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){const{phone:t,options:s}=e,{data:a,error:n}=await Cl(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},create_user:null===(o=null==s?void 0:s.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},channel:null!==(i=null==s?void 0:s.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:n}}throw new Wn("You must provide either an email or phone number.")}catch(a){if(Bn(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let r,o;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(s=e.options)||void 0===s?void 0:s.captchaToken);const{data:i,error:a}=await Cl(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:kl});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const n=i.session,l=i.user;return(null==n?void 0:n.access_token)&&(await this._saveSession(n),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(r){if(Bn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let o=null,i=null;return"pkce"===this.flowType&&([o,i]=await wl(this.storage,this.storageKey)),await Cl(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==s?s:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Al})}catch(o){if(Bn(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Hn;const{error:r}=await Cl(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Bn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:o}=e,{error:i}=await Cl(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:s,type:r,options:o}=e,{data:i,error:a}=await Cl(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Wn("You must provide either an email or phone number and a type")}catch(t){if(Bn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch(Xp){}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Xp){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=!!e.expires_at&&1e3*e.expires_at-Date.now()<Mn;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const t=await fl(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Dl()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,s,r)=>(t||"user"!==s||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,s,r))})}return{data:{session:e},error:null}}const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Cl(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vl}):await this._useSession(async e=>{var t,s,r;const{data:o,error:i}=e;if(i)throw i;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Cl(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0,xform:Vl}):{data:{user:null},error:new Hn}})}catch(t){if(Bn(t))return function(e){return Bn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await vl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new Hn;const i=r.session;let a=null,n=null;"pkce"===this.flowType&&null!=e.email&&([a,n]=await wl(this.storage,this.storageKey));const{data:l,error:c}=await Cl(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:n}),jwt:i.access_token,xform:Vl});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(Bn(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hn;const t=Date.now()/1e3;let s=t,r=!0,o=null;const{payload:i}=gl(e.access_token);if(i.exp&&(s=i.exp,r=s<=t),r){const{session:t,error:s}=await this._callRefreshToken(e.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;o={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Bn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:r,error:o}=t;if(o)throw o;e=null!==(s=r.session)&&void 0!==s?s:void 0}if(!(null==e?void 0:e.refresh_token))throw new Hn;const{session:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Bn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ml())throw new Xn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Yn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Xn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yn("No code detected.");const{data:t,error:s}=await this._exchangeCodeForSession(e.code);if(s)throw s;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:i,expires_in:a,expires_at:n,token_type:l}=e;if(!(o&&a&&i&&l))throw new Xn("No session defined in URL");const c=Math.round(Date.now()/1e3),m=parseInt(a);let d=c+m;n&&(d=parseInt(n));const{data:u,error:h}=await this._getUser(o);if(h)throw h;const p={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:m,expires_at:d,refresh_token:i,token_type:l,user:u.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(s){if(Bn(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fl(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return{error:o};const i=null===(s=r.session)||void 0===s?void 0:s.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Bn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await vl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:r},error:o}=t;if(o)throw o;await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(o){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;"pkce"===this.flowType&&([s,r]=await wl(this.storage,this.storageKey,!0));try{return await Cl(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Bn(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Bn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:r}=await this._useSession(async t=>{var s,r,o,i,a;const{data:n,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(s=e.options)||void 0===s?void 0:s.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await Cl(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=n.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return ml()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==s?void 0:s.url),{data:{provider:e.provider,url:null==s?void 0:s.url},error:null}}catch(s){if(Bn(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:o,error:i}=t;if(i)throw i;return await Cl(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Bn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const o=Date.now();return await(s=async s=>(s>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Cl(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kl})),r=(e,t)=>{const s=200*Math.pow(2,e);return t&&Kn(t)&&Date.now()+s-o<An},new Promise((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await s(o);if(!r(o,null,t))return void e(t)}catch(Xp){if(!r(o,Xp))return void t(Xp)}})()}))}catch(o){if(this._debug(t,"error",o),Bn(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var s,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),ml()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await fl(this.storage,this.storageKey);if(o&&this.userStorage){let t=await fl(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:o.user},await pl(this.userStorage,this.storageKey+"-user",t)),o.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Dl()}else if(o&&!o.user&&!o.user){const e=await fl(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(o.user=e.user,await vl(this.storage,this.storageKey+"-user"),await pl(this.storage,this.storageKey,o)):o.user=Dl()}if(this._debug(s,"session from storage",o),!this._isValidSession(o))return this._debug(s,"session is not valid"),void(null!==o&&await this._removeSession());const i=1e3*(null!==(t=o.expires_at)&&void 0!==t?t:1/0)-Date.now()<Mn;if(this._debug(s,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:e}=await this._callRefreshToken(o.refresh_token);e&&(Kn(e)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(o.user&&!0===o.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(o.access_token);!t&&(null==e?void 0:e.user)?(o.user=e.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){return void this._debug(s,"error",o)}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new bl;const{data:t,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!t.session)throw new Hn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(o){if(this._debug(r,"error",o),Bn(o)){const e={session:null,error:o};return Kn(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(s=this.refreshingDeferred)||void 0===s||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,t)}catch(Xp){r.push(Xp)}});if(await Promise.all(o),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!s&&t.user&&await pl(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Sl(e);await pl(this.storage,this.storageKey,r)}else{const e=Sl(t);await pl(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await vl(this.storage,this.storageKey),await vl(this.storage,this.storageKey+"-code-verifier"),await vl(this.storage,this.storageKey+"-user"),this.userStorage&&await vl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ml()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Xp){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*s.expires_at-e)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(s.refresh_token)})}catch(Xp){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Xp){if(!(Xp.isAcquireTimeout||Xp instanceof Bl))throw Xp;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ml()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if((null==s?void 0:s.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),(null==s?void 0:s.scopes)&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),"pkce"===this.flowType){const[e,t]=await wl(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(s.toString())}if(null==s?void 0:s.queryParams){const e=new URLSearchParams(s.queryParams);r.push(e.toString())}return(null==s?void 0:s.skipBrowserRedirect)&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;return o?{data:null,error:o}:await Cl(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(Bn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:o,error:i}=t;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:n,error:l}=await Cl(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(s=null==o?void 0:o.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==n?void 0:n.totp)||void 0===r?void 0:r.qr_code)&&(n.totp.qr_code=`data:image/svg+xml;utf-8,${n.totp.qr_code}`),{data:n,error:null})})}catch(t){if(Bn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:a}=await Cl(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(t){if(Bn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;return o?{data:null,error:o}:await Cl(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(s=null==r?void 0:r.session)||void 0===s?void 0:s.access_token})})}catch(t){if(Bn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(null==e?void 0:e.factors)||[],r=s.filter(e=>"totp"===e.factor_type&&"verified"===e.status),o=s.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:s,totp:r,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=gl(r.access_token);let a=null;i.aal&&(a=i.aal);let n=a;(null!==(s=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==s?s:[]).length>0&&(n="aal2");return{data:{currentLevel:a,nextLevel:n,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(t=>t.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(t=>t.kid===e),s&&this.jwks_cached_at+6e5>r)return s;const{data:o,error:i}=await Cl(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return o.keys&&0!==o.keys.length?(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(t=>t.kid===e),s||null):null}async getClaims(e,t={}){try{let s=e;if(!s){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};s=e.session.access_token}const{header:r,payload:o,signature:i,raw:{header:a,payload:n}}=gl(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:o,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),m=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,m,i,ll(`${a}.${n}`))))throw new Zn("Invalid JWT signature");return{data:{claims:o,header:r,signature:i},error:null}}catch(s){if(Bn(s))return{data:null,error:s};throw s}}}Wl.nextInstanceID=0;const Xl=Wl;class Yl extends Xl{constructor(e){super(e)}}var Jl=function(e,t,s,r){return new(s||(s=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(Xp){i(Xp)}}function n(e){try{l(r.throw(e))}catch(Xp){i(Xp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(a,n)}l((r=r.apply(e,t||[])).next())})};class Kl{constructor(e,t,s){var r,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=(n=e).endsWith("/")?n:n+"/";var n;const l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,m=function(e,t){var s,r;const{db:o,auth:i,realtime:a,global:n}=e,{db:l,auth:c,realtime:m,global:d}=t,u={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},m),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),n),{headers:Object.assign(Object.assign({},null!==(s=null==d?void 0:d.headers)&&void 0!==s?s:{}),null!==(r=null==n?void 0:n.headers)&&void 0!==r?r:{})}),accessToken:()=>Un(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!=s?s:{},{db:jn,realtime:Pn,auth:Object.assign(Object.assign({},Tn),{storageKey:c}),global:Sn});this.storageKey=null!==(r=m.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(o=m.global.headers)&&void 0!==o?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=m.auth)&&void 0!==i?i:{},this.headers,m.global.fetch),this.fetch=kn(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new aa(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new En(this.storageUrl.href,this.headers,this.fetch,null==s?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new wi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Jl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return null!==(t=null===(e=s.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:o,storageKey:i,flowType:a,lock:n,debug:l},c,m){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yl({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:o,flowType:a,lock:n,debug:l,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Za(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,s){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===s?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=s}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();let Ql=null;const Zl=()=>Ql||(Ql=(async()=>{try{let e="https://nvhaylwuvdmsjuwjsfva.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52aGF5bHd1dmRtc2p1d2pzZnZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3NjcwMzksImV4cCI6MjA3MjM0MzAzOX0.WNZc_C9DAHTmjOaJpm-1TbH4-ZGKbO4oZR5c-KlPuzg";if(!e||!t){const s=ii||"",r=await fetch(`${s}/api/supabase/public-config`);if(r.ok){const s=await r.json();(null==s?void 0:s.success)&&(e=s.url,t=s.anonKey)}}if(!e||!t)return null;return new Kl(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}catch(Xp){return null}})(),Ql),ec=async e=>{try{localStorage.getItem("deviceId");return await di(e)}catch(t){return null}},tc=et()(Ko((e,t)=>({user:null,token:null,isLoggedIn:!1,isLoading:!0,error:null,login:async t=>{var s,r;e({isLoading:!0,error:null});const o=ri();try{const i=await Zl();if(!i)throw new Error("Falha ao inicializar Supabase");const{data:a,error:n}=await i.auth.signInWithPassword({email:t.email,password:t.password});if(n)throw n;const l=null==(s=a.session)?void 0:s.access_token,c=a.user?{id:a.user.id,email:a.user.email||t.email,name:a.user.user_metadata&&a.user.user_metadata.name||void 0}:null;if(!l||!c)throw new Error("Sessão inválida");localStorage.setItem("authToken",l),e({user:c,token:l,isLoggedIn:!0,error:null});const m=localStorage.getItem("deviceId");if(o||m)try{const e=await ec(o||c.id);e&&(!0===e.success||(null==(r=e.data)?void 0:r.migratedCount)>=0)&&o&&si()}catch(Xp){}return!0}catch(i){const t=i instanceof Error?i.message:"Email ou senha inválidos.";throw e({error:t}),i}finally{e({isLoading:!1})}},signup:async t=>{var s;e({isLoading:!0,error:null});const r=ri();try{const o=await Zl();if(!o)throw new Error("Falha ao inicializar Supabase");const{data:i,error:a}=await o.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;const n=(await o.auth.getSession()).data.session,l=(null==n?void 0:n.access_token)||null,c=i.user?{id:i.user.id,email:i.user.email||t.email,name:t.name}:null;l&&c?(localStorage.setItem("authToken",l),e({user:c,token:l,isLoggedIn:!0,error:null})):e({user:c,token:null,isLoggedIn:!1,error:null});const m=localStorage.getItem("deviceId");if(r||m)try{const e=await ec(r||c.id);e&&(!0===e.success||(null==(s=e.data)?void 0:s.migratedCount)>=0)&&r&&si()}catch(Xp){}return!0}catch(o){const t=o instanceof Error?o.message:"Erro desconhecido ao criar conta.";throw e({error:t}),o}finally{e({isLoading:!1})}},logout:async()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("guestId");const t=await Zl();t&&await t.auth.signOut(),e({user:null,token:null,isLoggedIn:!1,error:null}),tc.persist.clearStorage(),window.location.href="/"}catch(t){localStorage.removeItem("authToken"),localStorage.removeItem("guestId"),e({user:null,token:null,isLoggedIn:!1,error:null}),window.location.href="/"}},clearError:()=>{e({error:null})},resetPassword:async t=>{try{const e=await Zl();if(!e)throw new Error("Falha ao inicializar Supabase");const{error:s}=await e.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/reset`});if(s)throw s;return!0}catch(Xp){const s=Xp instanceof Error?Xp.message:"Erro ao solicitar recuperação de senha";return e({error:s}),!1}},resendConfirmationEmail:async t=>{e({isLoading:!0,error:null});try{const e=await Zl();if(!e)throw new Error("Falha ao inicializar Supabase");const{error:s}=await e.auth.resend({type:"signup",email:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(s)throw s;return!0}catch(Xp){const s=Xp instanceof Error?Xp.message:"Erro ao reenviar email de confirmação";return e({error:s}),!1}finally{e({isLoading:!1})}},syncSession:async()=>{var t;try{const s=await Zl();if(!s)throw new Error("Falha ao inicializar Supabase");const{data:r,error:o}=await s.auth.getSession();if(o)throw o;if(r.session){const{access_token:s,user:o}=r.session,i={id:o.id,email:o.email||"",name:(null==(t=o.user_metadata)?void 0:t.name)||o.email||""};return localStorage.setItem("authToken",s),e({user:i,token:s,isLoggedIn:!0,error:null}),!0}return localStorage.removeItem("authToken"),e({user:null,token:null,isLoggedIn:!1}),!1}catch(s){const t=s instanceof Error?s.message:"Erro ao sincronizar sessão";return e({error:t}),!1}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token})}));tc.persist.onFinishHydration(async e=>{var t;try{const r=localStorage.getItem("authToken");if(e.token||r){try{const e=await Zl();if(e){const{data:s,error:r}=await e.auth.getSession();if(!r&&s.session){const e={id:s.session.user.id,email:s.session.user.email||"",name:(null==(t=s.session.user.user_metadata)?void 0:t.name)||s.session.user.email||""};return localStorage.setItem("authToken",s.session.access_token),void tc.setState({user:e,token:s.session.access_token,isLoggedIn:!0,isLoading:!1,error:null})}}}catch(s){}localStorage.removeItem("authToken")}tc.setState({user:null,token:null,isLoggedIn:!1,isLoading:!1,error:null})}catch(s){tc.setState({user:null,token:null,isLoggedIn:!1,isLoading:!1,error:"Erro durante inicialização"})}}),Zl().then(e=>{null==e||e.auth.onAuthStateChange((e,t)=>{const s=(null==t?void 0:t.access_token)||null;if(s){localStorage.setItem("authToken",s);const e=tc.getState();tc.setState({token:s,isLoggedIn:!0,user:e.user||((null==t?void 0:t.user)?{id:t.user.id,email:t.user.email||""}:null)})}})});const sc=Object.freeze(Object.defineProperty({__proto__:null,useAuthStore:tc},Symbol.toStringTag,{value:"Module"})),rc=et((e,t)=>({isAuthModalOpen:!1,authCallback:null,isPaymentPopupVisible:!1,isCreationFlowBlocked:!1,showAuthPopup:t=>{e({isAuthModalOpen:!0,authCallback:t})},hideAuthPopup:()=>{e({isAuthModalOpen:!1,authCallback:void 0})},executeAuthCallback:()=>{const{authCallback:s}=t();s&&(s(),e({authCallback:void 0}))},showPaymentPopup:()=>{e({isPaymentPopupVisible:!0})},hidePaymentPopup:()=>{e({isPaymentPopupVisible:!1})},handleUpgrade:()=>{e({isPaymentPopupVisible:!1})},blockCreationFlow:()=>{e({isCreationFlowBlocked:!0})},unblockCreationFlow:()=>{e({isCreationFlowBlocked:!1})}})),oc={recipientName:"",occasion:"",relationship:"",senderName:"",hobbies:"",qualities:"",uniqueTraits:"",memories:"",emotionalTone:"",genre:"",mood:"",tempo:"",duration:"",lyrics:"",songTitle:"",emotion:"",vocalPreference:""},ic={formData:oc,currentStep:0,isPreviewLoading:!1,isLoading:!1,error:null,generatedAudioUrl:null,generatedLyrics:null,audioClips:[],currentTaskId:null,isPolling:!1,musicGenerationStatus:"idle",completedClips:0,totalExpected:2,pollingInterval:null,isMvpFlowComplete:!1,isValidationPopupVisible:!1},ac=et()(Ko((e,t)=>({...ic,updateFormData:t=>{e(e=>({formData:{...e.formData,...t}}))},setCurrentStep:t=>{e({currentStep:t})},setPreviewLoading:t=>{e({isPreviewLoading:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},nextStep:()=>{e(e=>({currentStep:e.currentStep+1}))},prevStep:()=>{e(e=>({currentStep:Math.max(0,e.currentStep-1)}))},generateLyrics:async()=>{const{formData:s}=t();if(!s.recipientName||!s.occasion||!s.relationship){const t="Por favor, preencha todos os campos obrigatórios da primeira etapa antes de gerar a letra.";return e({error:t}),void Dt.error(t)}const r={...s,lyricsOnly:!0};e({isLoading:!0,error:null});try{const t=await hi(ai.GENERATE_PREVIEW,{method:"POST",body:r});if(t.success&&t.lyrics&&t.songTitle)e(e=>({formData:{...e.formData,lyrics:t.lyrics,songTitle:t.songTitle},generatedLyrics:t.lyrics})),Dt.success("Letra e título gerados com sucesso!");else{const t="Resposta da API não contém letra ou título válidos";e({error:t}),Dt.error(t)}}catch(o){const t=o instanceof Error?o.message:"Erro de conexão. Verifique sua internet e tente novamente.";e({error:t})}finally{e({isLoading:!1})}},generatePreview:async()=>{const{formData:s}=t();if(!(s.songTitle&&s.recipientName&&s.occasion&&s.relationship&&s.emotionalTone&&s.genre&&s.mood&&s.tempo&&s.duration)){const t="Por favor, preencha todos os campos obrigatórios antes de gerar a prévia.";return e({error:t}),void Dt.error(t)}const r={...s,lyricsOnly:!1};e({isPreviewLoading:!0,error:null});try{const t=await hi(ai.GENERATE_PREVIEW,{method:"POST",body:r});if(t.success&&t.data)e({generatedAudioUrl:t.data.audioUrl,generatedLyrics:t.data.lyrics,formData:{...s,lyrics:t.data.lyrics},isPreviewLoading:!1});else{const s=t.error||"Erro desconhecido ao gerar prévia";e({error:s,isPreviewLoading:!1}),Dt.error(s)}}catch(o){const t="Erro de conexão. Verifique sua internet e tente novamente.";e({error:t,isPreviewLoading:!1}),Dt.error(t)}},regenerateLyrics:()=>{t().generateLyrics()},generateMusic:async()=>{var s,r;const{formData:o}=t();if(!(o.lyrics&&o.songTitle&&o.genre&&o.emotion&&o.vocalPreference)){const t="Por favor, preencha todos os campos de estilo antes de gerar a música.";return e({error:t}),void Dt.error(t)}const i={...o,lyricsOnly:!1};e({isPreviewLoading:!0,isLoading:!0,error:null,audioClips:[],musicGenerationStatus:"processing",completedClips:0,currentTaskId:null});try{const a=await hi(ai.GENERATE_PREVIEW,{method:"POST",body:i});if(a.success&&a.taskId){const s=a.totalExpected||a.expectedClips||2,r=Array(s).fill({status:"processing"});e({currentTaskId:a.taskId,totalExpected:s,audioClips:r,musicGenerationStatus:"processing"}),t().startPolling(),Dt.success("Geração de música iniciada! Aguarde enquanto processamos...")}else if(a.success&&a.audioClips)e({audioClips:a.audioClips,generatedAudioUrl:null==(s=a.audioClips[0])?void 0:s.audio_url,generatedLyrics:(null==(r=a.data)?void 0:r.lyrics)||o.lyrics,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"completed",completedClips:a.audioClips.length}),Dt.success(`${a.audioClips.length} música(s) gerada(s) com sucesso!`);else{const t=a.error||"Resposta da API inválida";e({error:t,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"failed"}),Dt.error(t)}}catch(a){const t=a instanceof Error?a.message:"Erro de conexão. Verifique sua internet e tente novamente.";e({error:t,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"failed"})}},checkMusicStatus:async()=>{const{currentTaskId:s}=t();if(s)try{const r=await hi(`${ai.CHECK_MUSIC_STATUS}/${s}`,{method:"GET"});if(!r.success||"object"!=typeof r.data)return;const o=r.data,i=o.completedClips||0,a=o.totalExpected||t().totalExpected||0,n=Array.isArray(o.audioClips)?o.audioClips:[];e({audioClips:n,completedClips:i}),a>0&&i>=a&&(e({isLoading:!1,isPreviewLoading:!1,isPolling:!1,musicGenerationStatus:"completed",currentTaskId:null}),t().stopPolling(),Dt.success("🎉 Todas as músicas foram geradas com sucesso!"))}catch(r){t().stopPolling(),e({isPolling:!1,musicGenerationStatus:"error",isLoading:!1}),t().setError(`Erro ao verificar status: ${r instanceof Error?r.message:"Erro desconhecido"}`)}},startPolling:()=>{const{currentTaskId:s}=t();if(t().stopPolling(),!s)return;const r=setInterval(async()=>{await t().checkMusicStatus()},7e3);e({pollingInterval:r})},stopPolling:()=>{const{pollingInterval:s}=t();s&&(clearInterval(s),e({pollingInterval:null}))},setMvpFlowComplete:t=>{e({isMvpFlowComplete:t})},setValidationPopupVisible:t=>{e({isValidationPopupVisible:t})},completeMvpFlow:()=>{e({isMvpFlowComplete:!0,isValidationPopupVisible:!1})},startNewCreationFlow:async(e,t)=>{var s;const r=ac.getState(),o=rc.getState();r.reset();try{const t=await hi("/api/user/creation-status",{method:"GET"});!0===(t.isFree||(null==(s=t.data)?void 0:s.isFree))?(o.unblockCreationFlow(),e("/criar")):(o.blockCreationFlow(),o.showPaymentPopup())}catch(i){o.unblockCreationFlow();try{Dt.info("Não foi possível verificar seu status agora. Acessando o criador mesmo assim.")}catch{}e("/criar")}},resetForm:()=>{e({formData:oc,currentStep:0,error:null})},resetFlow:()=>{t().stopPolling(),e({formData:oc,currentStep:0,isPreviewLoading:!1,isLoading:!1,error:null,generatedAudioUrl:null,generatedLyrics:null,audioClips:[],currentTaskId:null,isPolling:!1,musicGenerationStatus:"idle",completedClips:0,totalExpected:2,pollingInterval:null,isMvpFlowComplete:!1,isValidationPopupVisible:!1})},reset:()=>{t().stopPolling(),e(ic)}}),{name:"music-generation-storage",partialize:e=>({formData:e.formData,currentStep:e.currentStep,generatedAudioUrl:e.generatedAudioUrl,generatedLyrics:e.generatedLyrics,audioClips:e.audioClips,musicGenerationStatus:e.musicGenerationStatus,completedClips:e.completedClips,totalExpected:e.totalExpected,isMvpFlowComplete:e.isMvpFlowComplete})})),nc=()=>{const[e,t]=r.useState(!1),[s,o]=r.useState(!1),i=Hr(),a=Xr(),n=!e,{isLoggedIn:l,user:c,logout:m}=tc(),{showAuthPopup:d}=rc(),{startNewCreationFlow:u}=ac(),h=()=>{l?a("/minhas-musicas"):d(()=>a("/minhas-musicas")),o(!1)},p=async()=>{const{token:e}=tc.getState();a("/criar"),await u(a,e),o(!1)};r.useEffect(()=>{const e=()=>{t(window.scrollY>50)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),r.useEffect(()=>{t(window.scrollY>50)},[i.pathname]);const f=e=>{let t=null;const s=document.getElementById(e);if(s){const e=s.querySelector("h2, h1, h3");t=e||s}if(t){const e=t.getBoundingClientRect().top+window.pageYOffset-164;window.scrollTo({top:e,behavior:"smooth"})}o(!1)},v=e=>e?e.split(" ")[0]:"",b=n?"liquid-glass--subtle":"liquid-glass--elevated",g=`transition-colors duration-300 font-medium p-0 h-auto ${n?"text-white hover:text-memora-secondary focus-visible:text-memora-secondary":"text-[#08060D] hover:text-memora-secondary focus-visible:text-memora-secondary"}`;return lt.jsxDEV("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 liquid-glass ${b}`,children:lt.jsxDEV("div",{className:"container mx-auto px-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[lt.jsxDEV("div",{className:"flex items-center",children:lt.jsxDEV(ko,{to:"/",children:lt.jsxDEV("img",{src:n?"/memora_logo_white.svg":"/memora_logo.svg",alt:"Memora Music",className:"h-9 w-auto cursor-pointer"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:103,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:101,columnNumber:11},void 0),lt.jsxDEV("div",{className:"hidden md:flex items-center space-x-8",children:[lt.jsxDEV(Xo,{onClick:()=>f("como-funciona"),variant:"ghost",className:g,children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:113,columnNumber:13},void 0),lt.jsxDEV(Xo,{onClick:()=>f("exemplos"),variant:"ghost",className:g,children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:120,columnNumber:13},void 0),lt.jsxDEV(Xo,{onClick:()=>f("artistas"),variant:"ghost",className:g,children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:127,columnNumber:13},void 0),lt.jsxDEV(Xo,{onClick:()=>f("precos"),variant:"ghost",className:g,children:"Preços"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:134,columnNumber:13},void 0),lt.jsxDEV(Xo,{onClick:()=>h(),variant:"ghost",className:g,children:"Minhas Músicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:141,columnNumber:13},void 0),lt.jsxDEV("div",{className:"flex items-center gap-4",children:l?lt.jsxDEV("div",{className:"flex items-center gap-4",children:[lt.jsxDEV("span",{className:(n?"text-white":"text-[#08060D]")+" font-medium transition-colors duration-300",children:["Olá, ",v(null==c?void 0:c.name)||"usuário","!"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:154,columnNumber:19},void 0),lt.jsxDEV(Xo,{variant:"outline",onClick:()=>m().catch(console.error),className:(n?"border-white text-white hover:bg-white hover:text-memora-primary":"border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white")+" transition-all duration-300",children:"Sair"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:159,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:153,columnNumber:17},void 0):lt.jsxDEV(lt.Fragment,{children:lt.jsxDEV(Xo,{variant:"glass",onClick:()=>p(),className:"flex items-center gap-2",children:[lt.jsxDEV(Z,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:175,columnNumber:21},void 0),"Crie sua Música"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:170,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:169,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:112,columnNumber:11},void 0),lt.jsxDEV("div",{className:"md:hidden flex items-center gap-2",children:lt.jsxDEV(Xo,{onClick:()=>o(!s),variant:"ghost",size:"icon",className:(n?"text-white hover:text-memora-secondary":"text-[#08060D] hover:text-memora-secondary")+" transition-colors duration-300","aria-label":"Menu de navegação",children:s?lt.jsxDEV(ee,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:193,columnNumber:17},void 0):lt.jsxDEV(te,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:195,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:185,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:184,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:99,columnNumber:9},void 0),s&&lt.jsxDEV("div",{className:"md:hidden px-4 pb-4",children:lt.jsxDEV("div",{className:"liquid-glass liquid-glass--elevated border border-white/20 rounded-2xl px-2 pt-2 pb-3 space-y-1 shadow-lg",children:[lt.jsxDEV(Xo,{onClick:()=>f("como-funciona"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-[#08060D] hover:text-memora-secondary hover:bg-gray-100/10 transition-colors duration-300 font-medium h-auto justify-start",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:205,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:()=>f("exemplos"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-[#08060D] hover:text-memora-secondary hover:bg-gray-100/10 transition-colors duration-300 font-medium h-auto justify-start",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:212,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:()=>f("artistas"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-[#08060D] hover:text-memora-secondary hover:bg-gray-100/10 transition-colors duration-300 font-medium h-auto justify-start",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:219,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:()=>f("precos"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-[#08060D] hover:text-memora-secondary hover:bg-gray-100/10 transition-colors duration-300 font-medium h-auto justify-start",children:"Preços"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:226,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:()=>h(),variant:"ghost",className:"block w-full text-left px-3 py-2 text-[#08060D] hover:text-memora-secondary hover:bg-gray-100/10 transition-colors duration-300 font-medium h-auto justify-start",children:"Minhas Músicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:233,columnNumber:15},void 0),l?lt.jsxDEV("div",{className:"mt-2 space-y-2",children:[lt.jsxDEV("div",{className:"px-3 py-2 font-medium text-[#08060D] transition-colors duration-300",children:["Olá, ",v(null==c?void 0:c.name)||"usuário","!"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:244,columnNumber:19},void 0),lt.jsxDEV(Xo,{onClick:()=>{m().catch(console.error),o(!1)},variant:"outline",className:"block w-full text-left px-3 py-2 border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white transition-all duration-300 font-medium",children:"Sair"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:243,columnNumber:17},void 0):lt.jsxDEV("div",{className:"mt-2 space-y-2",children:lt.jsxDEV(Xo,{variant:"glass",onClick:()=>{p(),o(!1)},className:"w-full flex items-center justify-center gap-2",children:[lt.jsxDEV(Z,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:269,columnNumber:21},void 0),"Crie sua Música"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:261,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:260,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:204,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:203,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:98,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:95,columnNumber:5},void 0)},lc=({isOpen:e,onClose:t})=>{const[s,o]=r.useState({difficulty:"",would_recommend:"",price_willingness:""}),[i,a]=r.useState(!1),[n,l]=r.useState(!1),c=()=>{i||(t(),setTimeout(()=>{o({difficulty:"",would_recommend:"",price_willingness:""}),l(!1)},300))};return e?lt.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[lt.jsxDEV("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:c},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:87,columnNumber:7},void 0),lt.jsxDEV("div",{className:"relative bg-white rounded-3xl p-6 lg:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[lt.jsxDEV(Xo,{onClick:c,disabled:i,variant:"ghost",size:"sm",className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 h-auto","aria-label":"Fechar popup",children:lt.jsxDEV(ee,{className:"w-6 h-6 text-memora-gray"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:103,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:95,columnNumber:9},void 0),lt.jsxDEV("div",{className:"pr-12",children:[lt.jsxDEV("div",{className:"text-center mb-8",children:[lt.jsxDEV("h3",{className:"text-2xl lg:text-3xl font-heading font-bold text-memora-black mb-4",children:"Ajude-nos a melhorar a Memora Music"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:109,columnNumber:13},void 0),lt.jsxDEV("p",{className:"text-memora-gray max-w-xl mx-auto",children:"Sua opinião é fundamental para criarmos a melhor experiência possível. Responda algumas perguntas rápidas:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:108,columnNumber:11},void 0),n?lt.jsxDEV("div",{className:"text-center py-12",children:[lt.jsxDEV("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:lt.jsxDEV(se,{className:"w-10 h-10 text-green-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:120,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:119,columnNumber:15},void 0),lt.jsxDEV("h4",{className:"text-2xl font-heading font-bold text-memora-black mb-4",children:"Obrigado pelo seu feedback!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:122,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-memora-gray mb-6",children:"Suas respostas nos ajudarão a criar uma experiência ainda melhor."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:125,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:c,className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-xl transition-all duration-300",size:"lg",children:"Fechar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:118,columnNumber:13},void 0):lt.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),s.difficulty&&s.would_recommend&&s.price_willingness){a(!0);try{const e=`${ii}/api/mvp-feedback`;if(!(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:parseInt(s.difficulty),would_recommend:"sim"===s.would_recommend,price_willingness:"other"===s.price_willingness?0:parseFloat(s.price_willingness)})})).ok)throw new Error("Erro ao enviar feedback");l(!0),Dt.success("Obrigado pelo seu feedback! Suas respostas são muito importantes para nós.")}catch(t){Dt.error("Erro ao enviar feedback. Tente novamente.")}finally{a(!1)}}else Dt.error("Por favor, responda todas as perguntas")},className:"space-y-8",children:[lt.jsxDEV("div",{children:[lt.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"De 1 a 10, qual foi o nível de dificuldade para gerar sua música?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:140,columnNumber:17},void 0),lt.jsxDEV("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:[...Array(10)].map((e,t)=>{const r=(t+1).toString();return lt.jsxDEV("label",{className:"relative",children:[lt.jsxDEV("input",{type:"radio",name:"difficulty",value:r,checked:s.difficulty===r,onChange:e=>o({...s,difficulty:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:148,columnNumber:25},void 0),lt.jsxDEV("div",{className:"w-12 h-12 rounded-xl border-2 flex items-center justify-center cursor-pointer transition-all duration-200 "+(s.difficulty===r?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:t+1},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:156,columnNumber:25},void 0)]},t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:147,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:143,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex justify-between text-sm text-memora-gray mt-2",children:[lt.jsxDEV("span",{children:"Muito fácil"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:168,columnNumber:19},void 0),lt.jsxDEV("span",{children:"Muito difícil"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:169,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:139,columnNumber:15},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"Você indicaria a Memora para um amigo ou parente?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:175,columnNumber:17},void 0),lt.jsxDEV("div",{className:"grid sm:grid-cols-3 gap-4",children:[{value:"sim",label:"Sim",color:"green"},{value:"nao",label:"Não",color:"red"},{value:"talvez",label:"Talvez",color:"yellow"}].map(e=>lt.jsxDEV("label",{className:"relative",children:[lt.jsxDEV("input",{type:"radio",name:"would_recommend",value:e.value,checked:s.would_recommend===e.value,onChange:e=>o({...s,would_recommend:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:185,columnNumber:23},void 0),lt.jsxDEV("div",{className:"p-4 rounded-2xl border-2 text-center cursor-pointer transition-all duration-200 "+(s.would_recommend===e.value?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:lt.jsxDEV("span",{className:"font-heading font-bold",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:198,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:193,columnNumber:23},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:184,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:178,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:174,columnNumber:15},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"Quanto você estaria disposto a pagar por uma música completa e personalizada?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:207,columnNumber:17},void 0),lt.jsxDEV("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{value:"99",label:"R$ 99,00"},{value:"149",label:"R$ 149,00"},{value:"219",label:"R$ 219,00"},{value:"other",label:"Outro valor"}].map(e=>lt.jsxDEV("label",{className:"relative",children:[lt.jsxDEV("input",{type:"radio",name:"price_willingness",value:e.value,checked:s.price_willingness===e.value,onChange:e=>o({...s,price_willingness:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:213,columnNumber:23},void 0),lt.jsxDEV("div",{className:"p-4 rounded-2xl border-2 text-center cursor-pointer transition-all duration-200 "+(s.price_willingness===e.value?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:lt.jsxDEV("span",{className:"font-heading font-bold",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:226,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:221,columnNumber:23},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:212,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:206,columnNumber:15},void 0),lt.jsxDEV("div",{className:"text-center pt-4",children:lt.jsxDEV(Xo,{type:"submit",disabled:i,className:"bg-memora-primary hover:bg-memora-primary/90 disabled:bg-memora-gray/50 text-white font-heading font-bold py-4 px-8 rounded-xl transition-all duration-300 disabled:hover:scale-100 flex items-center space-x-2 mx-auto","data-attr":"mvp-feedback-submit",size:"lg",children:i?lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:244,columnNumber:23},void 0),lt.jsxDEV("span",{children:"Enviando..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:245,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:243,columnNumber:21},void 0):lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(re,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:249,columnNumber:23},void 0),lt.jsxDEV("span",{children:"Enviar feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:250,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:248,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:235,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:107,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:93,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:85,columnNumber:5},void 0):null},cc=()=>{(new Date).getFullYear();const[e,t]=r.useState(!1),s=e=>{const t=document.getElementById(e);if(t){const e=t.offsetTop-164;window.scrollTo({top:e,behavior:"smooth"})}};return lt.jsxDEV("footer",{className:"py-16 text-foreground",children:lt.jsxDEV("div",{className:"container mx-auto px-4",children:[lt.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[lt.jsxDEV("div",{className:"md:col-span-2",children:[lt.jsxDEV("div",{className:"flex items-center mb-6",children:lt.jsxDEV("img",{src:"/memora_logo_white.svg",alt:"Memora Music",className:"h-8 w-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:29,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:28,columnNumber:13},void 0),lt.jsxDEV("p",{className:"text-white/50 max-w-md leading-relaxed",children:"Transforme suas ideias em música com inteligência artificial. Crie composições únicas e personalizadas em minutos."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:35,columnNumber:13},void 0),lt.jsxDEV("button",{onClick:()=>t(!0),className:"mt-6 text-left bg-primary/10 border border-primary/20 rounded-xl p-4 max-w-md text-secondary text-xs font-medium hover:bg-primary/15 transition",children:"🚀 MVP em fase de testes. Sua opinião é muito importante para nós!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:39,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:27,columnNumber:11},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h3",{className:"font-semibold text-white mb-4",children:"Links Rápidos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:49,columnNumber:13},void 0),lt.jsxDEV("ul",{className:"space-y-2",children:[lt.jsxDEV("li",{children:lt.jsxDEV("button",{onClick:()=>s("como-funciona"),className:"text-white/50 hover:text-white transition-colors text-left",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:52,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:51,columnNumber:15},void 0),lt.jsxDEV("li",{children:lt.jsxDEV("button",{onClick:()=>s("precos"),className:"text-white/50 hover:text-white transition-colors text-left",children:"Preços"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:57,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:56,columnNumber:15},void 0),lt.jsxDEV("li",{children:lt.jsxDEV("button",{onClick:()=>s("exemplos"),className:"text-white/50 hover:text-white transition-colors text-left",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:62,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:61,columnNumber:15},void 0),lt.jsxDEV("li",{children:lt.jsxDEV("button",{onClick:()=>s("faq"),className:"text-white/50 hover:text-white transition-colors text-left",children:"FAQ"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:67,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:66,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:48,columnNumber:11},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h3",{className:"font-semibold text-white mb-4",children:"Legal"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:76,columnNumber:13},void 0),lt.jsxDEV("ul",{className:"space-y-2",children:[lt.jsxDEV("li",{children:lt.jsxDEV("a",{href:"#",className:"text-white/50 hover:text-white transition-colors",children:"Termos de Uso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:79,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:78,columnNumber:15},void 0),lt.jsxDEV("li",{children:lt.jsxDEV("a",{href:"#",className:"text-white/50 hover:text-white transition-colors",children:"Política de Privacidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:84,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:83,columnNumber:15},void 0),lt.jsxDEV("li",{children:lt.jsxDEV("a",{href:"#",className:"text-white/50 hover:text-white transition-colors",children:"Cookies"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:88,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:75,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:25,columnNumber:9},void 0),lt.jsxDEV("div",{className:"border-t border-white/20 pt-8",children:lt.jsxDEV("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[lt.jsxDEV("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[lt.jsxDEV("p",{className:"text-white/80 text-sm",children:"© 2024 Memora.music. Todos os direitos reservados."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:101,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex items-center space-x-4",children:[lt.jsxDEV("span",{className:"text-white/80 text-xs",children:"Feito com"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:105,columnNumber:17},void 0),lt.jsxDEV(oe,{className:"w-4 h-4 text-memora-coral fill-current"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:108,columnNumber:17},void 0),lt.jsxDEV("span",{className:"text-white/80 text-xs",children:"para criar memórias inesquecíveis"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:100,columnNumber:13},void 0),lt.jsxDEV("div",{className:"flex items-center space-x-4",children:[lt.jsxDEV("a",{href:"#",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:lt.jsxDEV(ie,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:121,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:117,columnNumber:15},void 0),lt.jsxDEV("a",{href:"#",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:lt.jsxDEV(ae,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:127,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:123,columnNumber:15},void 0),lt.jsxDEV("a",{href:"#",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:lt.jsxDEV("svg",{className:"h-5 w-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:lt.jsxDEV("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:134,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:133,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:129,columnNumber:15},void 0),lt.jsxDEV("a",{href:"#",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:lt.jsxDEV(ne,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:141,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:116,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:99,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:98,columnNumber:9},void 0),lt.jsxDEV(lc,{isOpen:e,onClose:()=>t(!1)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:148,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:24,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:23,columnNumber:5},void 0)};var mc=function(e,t){for(var s={};e.length;){var r=e[0],o=r.code,i=r.message,a=r.path.join(".");if(!s[a])if("unionErrors"in r){var n=r.unionErrors[0].errors[0];s[a]={message:n.message,type:n.code}}else s[a]={message:i,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=s[a].types,c=l&&l[r.code];s[a]=me(a,t,s,o,c?[].concat(c,r.message):r.message)}e.shift()}return s};const dc=r.forwardRef(({className:e,type:t,...s},r)=>lt.jsxDEV("input",{type:t,className:Qs("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));dc.displayName="Input";var uc=r.forwardRef((e,t)=>d.jsx(N.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));uc.displayName="Label";var hc=uc;const pc=qo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fc=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(hc,{ref:s,className:Qs(pc(),e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));fc.displayName=hc.displayName;const vc=tt({email:st().min(1,"E-mail é obrigatório").email("Formato de e-mail inválido"),password:st().min(6,"A senha deve ter pelo menos 6 caracteres").max(100,"A senha deve ter no máximo 100 caracteres")}),bc=vc.extend({name:st().min(2,"Nome deve ter pelo menos 2 caracteres").max(100,"Nome deve ter no máximo 100 caracteres").regex(/^[a-zA-ZÀ-ÿ\s]+$/,"Nome deve conter apenas letras e espaços")}),gc=e=>e?vc:bc,xc=({isOpen:e,onClose:t})=>{const[s,o]=r.useState(!1),[i,a]=r.useState(!0),[n,l]=r.useState(!1),[c,m]=r.useState(""),{login:d,signup:u,isLoading:h,error:p,clearError:f,resetPassword:v,isLoggedIn:b,resendConfirmationEmail:g}=tc(),{hideAuthPopup:x,executeAuthCallback:N}=rc();r.useEffect(()=>{b&&n&&(x(),N(),t(),window.location.href="/minhas-musicas")},[b,n,x,N,t]),r.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]),r.useEffect(()=>{n&&b&&setTimeout(()=>{P()},2e3)},[n,b]);const{register:w,handleSubmit:y,formState:{errors:_},reset:E,watch:D}=de({resolver:(S=gc(i),void 0===T&&(T={}),function(e,t,s){try{return Promise.resolve(function(t,r){try{var o=Promise.resolve(S["sync"===T.mode?"parse":"parseAsync"](e,j)).then(function(t){return s.shouldUseNativeValidation&&le({},s),{errors:{},values:T.raw?e:t}})}catch(i){return r(i)}return o&&o.then?o.then(void 0,r):o}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:ce(mc(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};var t;throw e}))}catch(r){return Promise.reject(r)}}),mode:"onChange",defaultValues:{email:"",password:"",...i?{}:{name:""}}});var S,j,T;if(!e)return null;const P=()=>{l(!1),x(),t(),b&&(window.location.href="/minhas-musicas")};return lt.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[lt.jsxDEV("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:180,columnNumber:7},void 0),lt.jsxDEV("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6",children:[lt.jsxDEV(Xo,{onClick:t,variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-memora-gray hover:text-memora-black","aria-label":"Fechar modal",children:lt.jsxDEV(ee,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:195,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:188,columnNumber:9},void 0),lt.jsxDEV("div",{className:"text-center mb-6",children:[lt.jsxDEV("h2",{className:"text-2xl font-heading font-bold text-memora-black mb-2",children:i?"Entrar":"Criar conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:200,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-memora-gray",children:i?"Acesse suas músicas personalizadas":"Comece a criar suas músicas únicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:203,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:199,columnNumber:9},void 0),lt.jsxDEV(Xo,{onClick:async()=>{await d({email:"google@user.com",password:"google"})&&(N(),x(),t())},variant:"outline",className:"w-full mb-4 border-2 border-memora-gray-light hover:border-memora-primary hover:bg-memora-primary/5","data-attr":i?"google-login":"google-signup",children:[lt.jsxDEV("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[lt.jsxDEV("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:219,columnNumber:13},void 0),lt.jsxDEV("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:223,columnNumber:13},void 0),lt.jsxDEV("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:227,columnNumber:13},void 0),lt.jsxDEV("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:218,columnNumber:11},void 0),"Continuar com Google"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:212,columnNumber:9},void 0),lt.jsxDEV("div",{className:"relative mb-4",children:[lt.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:lt.jsxDEV("div",{className:"w-full border-t border-memora-gray-light"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:242,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:241,columnNumber:11},void 0),lt.jsxDEV("div",{className:"relative flex justify-center text-sm",children:lt.jsxDEV("span",{className:"px-2 bg-white text-memora-gray",children:"ou"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:245,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:244,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:240,columnNumber:9},void 0),p&&lt.jsxDEV("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:lt.jsxDEV("p",{className:"text-red-600 text-sm",children:p},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:251,columnNumber:11},void 0),lt.jsxDEV("form",{onSubmit:y(async e=>{f();try{if(i)await d({email:e.email,password:e.password}),N(),x(),t(),E();else{const t=e;await u({email:t.email,password:t.password,name:t.name}),m(e.email),l(!0)}}catch(s){}}),className:"space-y-4",children:[!i&&lt.jsxDEV("div",{children:[lt.jsxDEV(fc,{htmlFor:"name",className:"text-memora-black font-medium",children:"Nome completo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:260,columnNumber:15},void 0),lt.jsxDEV(dc,{id:"name",type:"text",...w("name"),className:"mt-1 h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl",placeholder:"Seu nome"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:263,columnNumber:15},void 0),_.name&&lt.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:_.name.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:271,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:259,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV(fc,{htmlFor:"email",className:"text-memora-black font-medium",children:"E-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:277,columnNumber:13},void 0),lt.jsxDEV("div",{className:"relative mt-1",children:[lt.jsxDEV(dc,{id:"email",type:"email",...w("email"),className:"h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl pl-10",placeholder:"seu@email.com"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:281,columnNumber:15},void 0),lt.jsxDEV(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-memora-gray"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:288,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:280,columnNumber:13},void 0),_.email&&lt.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:_.email.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:291,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:276,columnNumber:11},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV(fc,{htmlFor:"password",className:"text-memora-black font-medium",children:"Senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:296,columnNumber:13},void 0),lt.jsxDEV("div",{className:"relative mt-1",children:[lt.jsxDEV(dc,{id:"password",type:s?"text":"password",...w("password"),className:"h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl pr-10",placeholder:"Sua senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:300,columnNumber:15},void 0),lt.jsxDEV(Xo,{type:"button",onClick:()=>o(!s),variant:"ghost",size:"icon",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-memora-gray hover:text-memora-black h-auto w-auto p-0","aria-label":s?"Ocultar senha":"Mostrar senha",children:s?lt.jsxDEV(he,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:316,columnNumber:19},void 0):lt.jsxDEV(pe,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:318,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:307,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:299,columnNumber:13},void 0),_.password&&lt.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:_.password.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:295,columnNumber:11},void 0),lt.jsxDEV(Xo,{type:"submit",disabled:h,className:"w-full bg-memora-primary hover:bg-memora-primary/90 text-white font-medium disabled:opacity-50","data-attr":i?"email-login":"email-signup",children:h?lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:335,columnNumber:17},void 0),i?"Entrando...":"Criando conta..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:334,columnNumber:15},void 0):i?"Entrar":"Criar conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:327,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:257,columnNumber:9},void 0),lt.jsxDEV("div",{className:"text-center mt-6",children:[lt.jsxDEV("p",{className:"text-memora-gray",children:[i?"Não tem uma conta?":"Já tem uma conta?",lt.jsxDEV(Xo,{onClick:()=>{const e=!i;a(e),f(),E({email:"",password:"",...e?{}:{name:""}})},variant:"link",className:"ml-1 text-memora-primary hover:text-memora-primary/80 font-medium p-0 h-auto",children:i?"Criar conta":"Entrar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:348,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:346,columnNumber:11},void 0),i&&lt.jsxDEV("div",{className:"mt-2",children:lt.jsxDEV(Xo,{type:"button",variant:"link",className:"text-memora-primary hover:text-memora-primary/80 font-medium p-0 h-auto",onClick:async()=>{const e=D("email");if(!e)return void alert("Informe seu e-mail para recuperar a senha.");await v(e)&&alert("Enviamos um e-mail com instruções para redefinir sua senha.")},children:"Esqueci minha senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:368,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:367,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:345,columnNumber:9},void 0),n&&lt.jsxDEV("div",{className:"absolute inset-0 bg-white rounded-2xl flex flex-col items-center justify-center p-8 text-center",children:[lt.jsxDEV("div",{className:"mb-6",children:[lt.jsxDEV("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:lt.jsxDEV(ue,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:385,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:384,columnNumber:15},void 0),lt.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Confirme seu e-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:387,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Enviamos um link de confirmação para:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:390,columnNumber:15},void 0),lt.jsxDEV("p",{className:"font-medium text-gray-900 mb-6",children:c},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:393,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-sm text-gray-500 mb-6",children:"Clique no link do e-mail para ativar sua conta. Após a confirmação, você será redirecionado automaticamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:396,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:383,columnNumber:13},void 0),lt.jsxDEV("div",{className:"space-y-3 w-full max-w-sm",children:[lt.jsxDEV(Xo,{onClick:async()=>{if(c)try{if(await g(c)){const e=document.querySelector("[data-resend-button]");if(e){const t=e.textContent;e.textContent="E-mail enviado!",e.disabled=!0,setTimeout(()=>{e.textContent=t,e.disabled=!1},3e3)}}}catch(e){const t=document.querySelector("[data-resend-button]");if(t){const e=t.textContent;t.textContent="Erro ao enviar",setTimeout(()=>{t.textContent=e},3e3)}}},variant:"outline",className:"w-full",disabled:h,"data-resend-button":!0,children:h?"Reenviando...":"Reenviar e-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:402,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:P,variant:"ghost",className:"w-full text-gray-500",children:"Fechar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:412,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:401,columnNumber:13},void 0),lt.jsxDEV("div",{className:"mt-6 flex items-center text-sm text-gray-500",children:[lt.jsxDEV(se,{className:"w-4 h-4 mr-2 text-green-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:422,columnNumber:15},void 0),"Monitorando confirmação automaticamente..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:421,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:382,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:186,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:178,columnNumber:5},void 0)};let Nc=null,wc=1;try{if("undefined"!=typeof window){const e=localStorage.getItem("memora_volume"),t=e?parseFloat(e):NaN;!Number.isNaN(t)&&t>=0&&t<=1&&(wc=t)}}catch{}const yc=et((e,t)=>({currentId:null,currentUrl:null,currentTitle:null,currentVersionLabel:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,volume:wc,play:(s,r,o)=>{try{e({isLoading:!0}),Nc?Nc.src!==r&&(Nc.src=r):Nc=new Audio(r),Nc.onloadedmetadata=()=>{e({duration:(null==Nc?void 0:Nc.duration)||0,isLoading:!1})},Nc.ontimeupdate=()=>{e({currentTime:(null==Nc?void 0:Nc.currentTime)||0})},Nc.onended=()=>{e({isPlaying:!1,currentId:null,currentUrl:null,currentVersionLabel:null})},Nc.onplaying=()=>e({isPlaying:!0,isLoading:!1}),Nc.onwaiting=()=>e({isLoading:!0}),Nc.onerror=()=>e({isLoading:!1}),Nc.currentTime=0,Nc.volume=t().volume,Nc.play(),e({currentId:s,currentUrl:r,isPlaying:!0,currentTitle:(null==o?void 0:o.title)||null,currentVersionLabel:(null==o?void 0:o.versionLabel)||null})}catch(Xp){}},pause:()=>{try{Nc&&Nc.pause(),e({isPlaying:!1})}catch(Xp){}},stop:()=>{try{Nc&&(Nc.pause(),Nc.currentTime=0),e({isPlaying:!1,currentId:null,currentUrl:null,currentTime:0,currentTitle:null,currentVersionLabel:null})}catch(Xp){}},seek:t=>{try{Nc&&!Number.isNaN(t)&&(Nc.currentTime=Math.max(0,Math.min(t,Nc.duration||t)),e({currentTime:Nc.currentTime}))}catch(Xp){}},setVolume:t=>{const s=Math.max(0,Math.min(1,t));Nc&&(Nc.volume=s),e({volume:s});try{"undefined"!=typeof window&&localStorage.setItem("memora_volume",String(s))}catch{}},getMediaElement:()=>Nc}));function _c(e){if(!isFinite(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}const Ec=()=>{const{currentId:e,currentUrl:t,currentTitle:s,currentVersionLabel:o,isPlaying:i,currentTime:a,duration:n,seek:l,play:c,pause:m,stop:d,volume:u,setVolume:h}=yc();return r.useMemo(()=>!!e&&!!t,[e,t])?lt.jsxDEV("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 max-w-3xl w-[92%] sm:w-[640px]",children:lt.jsxDEV("div",{className:"rounded-xl border p-3 backdrop-blur-md bg-white/90 border-gray-200 shadow-[0_10px_30px_rgba(0,0,0,0.3)]",children:lt.jsxDEV("div",{className:"flex items-center gap-3",children:[i?lt.jsxDEV("button",{onClick:m,className:"w-10 h-10 rounded-full bg-yellow-500 hover:bg-yellow-600 text-black flex items-center justify-center active:scale-95 transition","aria-label":"Pausar",children:lt.jsxDEV(fe,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:32,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:27,columnNumber:13},void 0):lt.jsxDEV("button",{onClick:()=>e&&t&&c(e,t,{title:s||void 0,versionLabel:o||void 0}),className:"w-10 h-10 rounded-full bg-yellow-500 hover:bg-yellow-600 text-black flex items-center justify-center active:scale-95 transition","aria-label":"Reproduzir",children:lt.jsxDEV(ve,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:40,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:35,columnNumber:13},void 0),lt.jsxDEV("div",{className:"min-w-0 flex-1",children:[lt.jsxDEV("div",{className:"text-sm font-medium text-gray-900 truncate",children:[s||"Reproduzindo áudio"," ",o?lt.jsxDEV("span",{className:"text-gray-500",children:["· Versão ",o]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:47,columnNumber:77},void 0):null]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:46,columnNumber:13},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("span",{className:"text-[11px] text-gray-500 w-10 text-right",children:_c(a)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:51,columnNumber:15},void 0),lt.jsxDEV("input",{type:"range",min:0,max:Math.max(1,n),step:.5,value:a,onChange:e=>l(Number(e.target.value)),className:"flex-1 accent-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:52,columnNumber:15},void 0),lt.jsxDEV("span",{className:"text-[11px] text-gray-500 w-10",children:_c(n)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:45,columnNumber:11},void 0),lt.jsxDEV("div",{className:"hidden sm:flex items-center gap-2 w-28",children:[lt.jsxDEV(be,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:67,columnNumber:13},void 0),lt.jsxDEV("input",{type:"range",min:0,max:1,step:.05,value:u,onChange:e=>h(Number(e.target.value)),className:"w-full accent-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:66,columnNumber:11},void 0),lt.jsxDEV("button",{onClick:d,className:"p-2 rounded-md hover:bg-gray-100","aria-label":"Fechar player",children:lt.jsxDEV(ee,{className:"w-4 h-4 text-gray-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:24,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:23,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:22,columnNumber:5},void 0):null},Dc=({children:e})=>{const{isAuthModalOpen:t,hideAuthPopup:s}=rc();return lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-br from-[#4D2699] via-[#231733] to-[#160D27]"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:16,columnNumber:7},void 0),lt.jsxDEV("div",{className:"min-h-screen flex flex-col relative z-10",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:19,columnNumber:7},void 0),lt.jsxDEV(Ec,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:24,columnNumber:7},void 0),lt.jsxDEV(xc,{isOpen:t,onClose:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:27,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:14,columnNumber:5},void 0)};function Sc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function jc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(s),!0).forEach(function(t){Pc(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Sc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Cc(e,t){if(null==e)return{};var s,r,o=function(e,t){if(null==e)return{};var s,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)s=i[r],t.indexOf(s)>=0||(o[s]=e[s]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(o[s]=e[s])}return o}function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==s)return;var r,o,i=[],a=!0,n=!1;try{for(s=s.call(e);!(a=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){n=!0,o=l}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uc(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Uc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}var Vc=function(e,t,s){var r=!!s,o=i.useRef(s);i.useEffect(function(){o.current=s},[s]),i.useEffect(function(){if(!r||!e)return function(){};var s=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,s),function(){e.off(t,s)}},[r,t,e,o])},Ac=function(e){var t=i.useRef(e);return i.useEffect(function(){t.current=e},[e]),t.current},Mc=function(e){return null!==e&&"object"===Tc(e)},Lc="[object Object]",Ic=function e(t,s){if(!Mc(t)||!Mc(s))return t===s;var r=Array.isArray(t);if(r!==Array.isArray(s))return!1;var o=Object.prototype.toString.call(t)===Lc;if(o!==(Object.prototype.toString.call(s)===Lc))return!1;if(!o&&!r)return t===s;var i=Object.keys(t),a=Object.keys(s);if(i.length!==a.length)return!1;for(var n={},l=0;l<i.length;l+=1)n[i[l]]=!0;for(var c=0;c<a.length;c+=1)n[a[c]]=!0;var m=Object.keys(n);if(m.length!==i.length)return!1;var d=t,u=s;return m.every(function(t){return e(d[t],u[t])})},Oc=function(e,t,s){return Mc(e)?Object.keys(e).reduce(function(r,o){var i=!Mc(t)||!Ic(e[o],t[o]);return s.includes(o)?r:i?jc(jc({},r||{}),{},Pc({},o,e[o])):r},null):null},Rc="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Fc=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc;if(null===e||Mc(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(s)},Bc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc;if(function(e){return Mc(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return Fc(e,t)})};var s=Fc(e,t);return null===s?{tag:"empty"}:{tag:"sync",stripe:s}},$c=i.createContext(null);$c.displayName="ElementsContext";var zc=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Gc=function(e){var t=e.stripe,s=e.options,r=e.children,o=i.useMemo(function(){return Bc(t)},[t]),a=kc(i.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(s):null}}),2),n=a[0],l=a[1];i.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(s)}})};return"async"!==o.tag||n.stripe?"sync"!==o.tag||n.stripe||t(o.stripe):o.stripePromise.then(function(s){s&&e&&t(s)}),function(){e=!1}},[o,n,s]);var c=Ac(t);i.useEffect(function(){},[c,t]);var m=Ac(s);return i.useEffect(function(){if(n.elements){var e=Oc(s,m,["clientSecret","fonts"]);e&&n.elements.update(e)}},[s,m,n.elements]),i.useEffect(function(){var e;(e=n.stripe)&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.1"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.1",url:"https://stripe.com/docs/stripe-js/react"}))},[n.stripe]),i.createElement($c.Provider,{value:n},r)};Gc.propTypes={stripe:ge.any,options:ge.object};var Hc=function(){var e,t;return(e="calls useElements()",t=i.useContext($c),zc(t,e)).elements};ge.func.isRequired;var qc=i.createContext(null);qc.displayName="CheckoutContext",ge.any,ge.shape({fetchClientSecret:ge.func.isRequired,elementsOptions:ge.object}).isRequired;var Wc=function(e){var t=i.useContext(qc),s=i.useContext($c);if(t){if(s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}return zc(s,e)},Xc=["mode"],Yc=function(e,t){var s,r="".concat((s=e).charAt(0).toUpperCase()+s.slice(1),"Element"),o=t?function(e){Wc("mounts <".concat(r,">"));var t=e.id,s=e.className;return i.createElement("div",{id:t,className:s})}:function(t){var s,o=t.id,a=t.className,n=t.options,l=void 0===n?{}:n,c=t.onBlur,m=t.onFocus,d=t.onReady,u=t.onChange,h=t.onEscape,p=t.onClick,f=t.onLoadError,v=t.onLoaderStart,b=t.onNetworksChange,g=t.onConfirm,x=t.onCancel,N=t.onShippingAddressChange,w=t.onShippingRateChange,y=t.onSavedPaymentMethodRemove,_=t.onSavedPaymentMethodUpdate,E=Wc("mounts <".concat(r,">")),D="elements"in E?E.elements:null,S="checkoutState"in E?E.checkoutState:null,j="success"===(null==S?void 0:S.type)?S.checkout:null,T=kc(i.useState(null),2),P=T[0],C=T[1],k=i.useRef(null),U=i.useRef(null);Vc(P,"blur",c),Vc(P,"focus",m),Vc(P,"escape",h),Vc(P,"click",p),Vc(P,"loaderror",f),Vc(P,"loaderstart",v),Vc(P,"networkschange",b),Vc(P,"confirm",g),Vc(P,"cancel",x),Vc(P,"shippingaddresschange",N),Vc(P,"shippingratechange",w),Vc(P,"savedpaymentmethodremove",y),Vc(P,"savedpaymentmethodupdate",_),Vc(P,"change",u),d&&(s="expressCheckout"===e?d:function(){d(P)}),Vc(P,"ready",s),i.useLayoutEffect(function(){if(null===k.current&&null!==U.current&&(D||j)){var t=null;if(j)switch(e){case"payment":t=j.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var s=l.mode,o=Cc(l,Xc);if("shipping"===s)t=j.createShippingAddressElement(o);else{if("billing"!==s)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=j.createBillingAddressElement(o)}break;case"expressCheckout":t=j.createExpressCheckoutElement(l);break;case"currencySelector":t=j.createCurrencySelectorElement();break;case"taxId":t=j.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else D&&(t=D.create(e,l));k.current=t,C(t),t&&t.mount(U.current)}},[D,j,l]);var V=Ac(l);return i.useEffect(function(){if(k.current){var e=Oc(l,V,["paymentRequest"]);e&&"update"in k.current&&k.current.update(e)}},[l,V]),i.useLayoutEffect(function(){return function(){if(k.current&&"function"==typeof k.current.destroy)try{k.current.destroy(),k.current=null}catch(e){}}},[]),i.createElement("div",{id:o,className:a,ref:U})};return o.propTypes={id:ge.string,className:ge.string,onChange:ge.func,onBlur:ge.func,onFocus:ge.func,onReady:ge.func,onEscape:ge.func,onClick:ge.func,onLoadError:ge.func,onLoaderStart:ge.func,onNetworksChange:ge.func,onConfirm:ge.func,onCancel:ge.func,onShippingAddressChange:ge.func,onShippingRateChange:ge.func,onSavedPaymentMethodRemove:ge.func,onSavedPaymentMethodUpdate:ge.func,options:ge.object},o.displayName=r,o.__elementType=e,o},Jc="undefined"==typeof window;i.createContext(null).displayName="EmbeddedCheckoutProviderContext";Yc("auBankAccount",Jc),Yc("card",Jc),Yc("cardNumber",Jc),Yc("cardExpiry",Jc),Yc("cardCvc",Jc),Yc("fpxBank",Jc),Yc("iban",Jc),Yc("idealBank",Jc),Yc("p24Bank",Jc),Yc("epsBank",Jc);var Kc=Yc("payment",Jc);Yc("expressCheckout",Jc),Yc("paymentRequestButton",Jc),Yc("linkAuthentication",Jc),Yc("address",Jc),Yc("shippingAddress",Jc),Yc("paymentMethodMessaging",Jc),Yc("affirmMessage",Jc),Yc("afterpayClearpayMessage",Jc),Yc("taxId",Jc);var Qc,Zc="basil",em="https://js.stripe.com",tm="".concat(em,"/").concat(Zc,"/stripe.js"),sm=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,rm=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,om=function(e){return sm.test(e)||rm.test(e)},im=function(e){var t=document.createElement("script");t.src="".concat(tm).concat("");var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(t),t},am=null,nm=null,lm=null,cm=function(e){return null!==am?am:(am=new Promise(function(t,s){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(em,'"]')),t=0;t<e.length;t++){var s=e[t];if(om(s.src))return s}return null}();if(r&&e);else if(r){if(r&&null!==lm&&null!==nm){var o;r.removeEventListener("load",lm),r.removeEventListener("error",nm),null===(o=r.parentNode)||void 0===o||o.removeChild(r),r=im()}}else r=im();lm=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,s),nm=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(s),r.addEventListener("load",lm),r.addEventListener("error",nm)}catch(i){return void s(i)}else t(null)}),am.catch(function(e){return am=null,Promise.reject(e)}))},mm=function(){return Qc||(Qc=cm(null).catch(function(e){return Qc=null,Promise.reject(e)}))};Promise.resolve().then(function(){return mm()}).catch(function(e){});const dm=({amount:e,clientSecret:t,onSuccess:s,onError:o,disabled:i=!1})=>{const a=Wc("calls useStripe()").stripe,n=Hc(),{user:l}=tc(),[c,m]=r.useState(!1),[d,u]=r.useState("idle"),[h,p]=r.useState(""),f=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),v=r.useMemo(()=>({defaultValues:{billingDetails:{name:(null==l?void 0:l.name)||void 0,email:(null==l?void 0:l.email)||void 0,address:{country:"BR"}}},fields:{billingDetails:{name:"auto",email:"auto",address:{country:"auto"}}}}),[null==l?void 0:l.name,null==l?void 0:l.email]);return lt.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),a&&n){m(!0),u("processing"),p("");try{const{error:e,paymentIntent:t}=await a.confirmPayment({elements:n,redirect:"if_required",confirmParams:{return_url:`${window.location.origin}/payment/success`}});e?(u("failed"),"tax_id_invalid"===(null==e?void 0:e.code)?p("CPF/CNPJ inválido. Confira o número informado. Para testes, utilize um CPF/CNPJ válido."):p((null==e?void 0:e.message)||"Erro no pagamento"),o(e.message||"Erro no pagamento")):t&&"succeeded"===t.status?(u("succeeded"),s(t.id)):!t||"processing"!==t.status&&"requires_action"!==t.status?(u("failed"),p("Pagamento não foi processado corretamente"),o("Pagamento não foi processado corretamente")):(u("processing"),p("Pagamento em processamento. Para Boleto/PIX, aguarde a confirmação. Você será liberado após a confirmação automática."))}catch(t){u("failed");const e=t instanceof Error?t.message:"Erro inesperado";p(e),o(e)}finally{m(!1)}}},className:"space-y-6",children:[lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between",children:[lt.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Pagamento Seguro"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:120,columnNumber:11},void 0),lt.jsxDEV("div",{className:"text-2xl font-bold text-indigo-600",children:f(e)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:119,columnNumber:9},void 0),lt.jsxDEV("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[lt.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[lt.jsxDEV(xe,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:128,columnNumber:13},void 0),lt.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Método de Pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:127,columnNumber:11},void 0),lt.jsxDEV(Kc,{options:v},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:131,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:126,columnNumber:9},void 0),h&&lt.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[lt.jsxDEV(Ne,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:136,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h4",{className:"text-red-800 font-medium text-sm",children:"Erro no pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:138,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-red-700 text-sm mt-1",children:h},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:135,columnNumber:11},void 0),"succeeded"===d&&lt.jsxDEV("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start space-x-3",children:[lt.jsxDEV(se,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:146,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h4",{className:"text-green-800 font-medium text-sm",children:"Pagamento realizado!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:148,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-green-700 text-sm mt-1",children:"Seu upgrade foi processado com sucesso."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:149,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:147,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:145,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:118,columnNumber:7},void 0),lt.jsxDEV("div",{className:"sticky bottom-0 left-0 right-0 bg-white pt-3 pb-3 sm:pb-4 border-t border-gray-200 [--s:env(safe-area-inset-bottom)] pb-[max(0px,var(--s))]",children:[lt.jsxDEV("button",{type:"submit",disabled:!a||c||i||"succeeded"===d,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200 flex items-center space-x-2 w-full h-12 text-base font-semibold justify-center shadow-lg",children:c?lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:164,columnNumber:15},void 0),lt.jsxDEV("span",{children:"Processando..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:165,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:163,columnNumber:13},void 0):"succeeded"===d?lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(se,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:169,columnNumber:15},void 0),"Pagamento Concluído"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:168,columnNumber:13},void 0):lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(xe,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:174,columnNumber:15},void 0),"Pagar ",f(e)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:173,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:157,columnNumber:9},void 0),lt.jsxDEV("div",{className:"mt-2 text-[11px] leading-4 text-gray-500 text-center",children:lt.jsxDEV("p",{children:"🔒 Pagamento seguro processado pelo Stripe"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:181,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:156,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:117,columnNumber:5},void 0)},um=({isOpen:e,onClose:t,onConfirm:s})=>{const{user:o,token:i}=tc(),{unblockCreationFlow:a,hidePaymentPopup:n}=rc(),l=Xr(),[c,m]=r.useState(!1),[d,u]=r.useState(!1),[h,p]=r.useState(null),[f,v]=r.useState(null),[b,g]=r.useState(null),x=r.useRef(!1),[N,w]=r.useState(null),[y,_]=r.useState(!1),[E,D]=r.useState([]),S=r.useRef(null),j="pk_test_51S3bc1IA5Nxa3lOrVErNEZJtET1HnvZ20cs4QS2N7DUNnm3G4VOlyhEKiQWUd4eJR0xLm6UafoSx3Wwk8M8nY0Cj00aZUhQcwY",T=j.startsWith("pk_"),P=!!b&&b.startsWith("pk_")||T;r.useEffect(()=>{if(!e)return;if(f&&b)return;(async()=>{try{let e=T?j:"";if(!e){const t=await fetch(`${ii}/api/stripe/public-key`);if(t.ok){const s=await t.json();(null==s?void 0:s.publishableKey)&&"string"==typeof s.publishableKey&&(e=s.publishableKey)}}e&&e.startsWith("pk_")&&(g(e),v(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];0;var r=Date.now();return mm().then(function(e){return function(e,t,s){if(null===e)return null;t[0].match(/^pk_test/),e.version;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(r,s),r}(e,t,r)})}(e)))}catch(Xp){}})()},[e,T,j,f,b]);r.useEffect(()=>{},[e,j,b,f]),r.useEffect(()=>{e&&!x.current&&(m(!1),w(null),_(!1),p(null)),x.current=e},[e]),r.useEffect(()=>{(async()=>{try{if(!e)return;const t={"Content-Type":"application/json","X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const s=await fetch(`${ii}/api/stripe/pending`,{headers:t});if(!s.ok)return;const r=await s.json();D(Array.isArray(null==r?void 0:r.items)?r.items:[])}catch{}})()},[e,i]),r.useEffect(()=>{if(e&&(0!==E.length||c))return S.current||(S.current=setInterval(async()=>{var e;try{const t={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${ii}/api/user/creation-status`,{headers:t}),o=await r.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(e=null==o?void 0:o.data)?void 0:e.isFree))&&(a(),n(),s(),l("/criar"))}catch{}},3e3)),()=>{S.current&&(clearInterval(S.current),S.current=null)}},[e,E.length,c,i,a,n,l,s]);const C=()=>{u(!0),setTimeout(()=>{u(!1),Dt.success("Pagamento simulado realizado com sucesso!"),s()},2e3)};r.useEffect(()=>{h&&(Dt.error(h),p(null))},[h]);return e?lt.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3 sm:p-4",children:lt.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 flex flex-col max-h-[90vh]",children:[lt.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-5 sm:p-6 text-white relative shrink-0",children:[lt.jsxDEV("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:lt.jsxDEV(ee,{size:24},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:305,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:301,columnNumber:11},void 0),lt.jsxDEV("div",{className:"flex items-center gap-3",children:[lt.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:lt.jsxDEV(we,{className:"text-yellow-300",size:24},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:309,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:308,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h2",{className:"text-xl font-bold",children:"Upgrade para Premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:312,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-purple-100 text-sm",children:"Desbloqueie músicas ilimitadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:313,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:311,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:307,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:300,columnNumber:9},void 0),lt.jsxDEV("div",{className:"px-4 py-5 sm:p-6 overflow-y-auto flex-1",children:[!c&&lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV("div",{className:"text-center mb-6",children:lt.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[lt.jsxDEV("p",{className:"text-red-800 font-medium",children:"🔒 Limite de músicas gratuitas atingido"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:326,columnNumber:19},void 0),lt.jsxDEV("p",{className:"text-red-600 text-sm mt-1",children:"Você já criou sua música gratuita. Faça upgrade para continuar!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:327,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:325,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:324,columnNumber:15},void 0),lt.jsxDEV("div",{className:"space-y-3 mb-6",children:[lt.jsxDEV("div",{className:"flex items-center gap-3",children:[lt.jsxDEV("div",{className:"bg-green-100 p-1 rounded-full",children:lt.jsxDEV(ye,{className:"text-green-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:337,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:336,columnNumber:19},void 0),lt.jsxDEV("span",{className:"text-gray-700",children:"Músicas ilimitadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:339,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:335,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex items-center gap-3",children:[lt.jsxDEV("div",{className:"bg-blue-100 p-1 rounded-full",children:lt.jsxDEV(we,{className:"text-blue-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:343,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:342,columnNumber:19},void 0),lt.jsxDEV("span",{className:"text-gray-700",children:"Qualidade premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:345,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:341,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex items-center gap-3",children:[lt.jsxDEV("div",{className:"bg-purple-100 p-1 rounded-full",children:lt.jsxDEV(xe,{className:"text-purple-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:349,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:348,columnNumber:19},void 0),lt.jsxDEV("span",{className:"text-gray-700",children:"Sem anúncios"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:351,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:347,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:334,columnNumber:15},void 0),lt.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 mb-6",children:lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("div",{className:"text-2xl font-bold text-gray-800",children:"R$ 14,90"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:358,columnNumber:19},void 0),lt.jsxDEV("div",{className:"text-sm text-gray-600",children:"pagamento único"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:359,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:357,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:356,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:323,columnNumber:13},void 0),!c&&e&&E&&E.length>0&&lt.jsxDEV("div",{className:"mb-6 border border-yellow-300 bg-yellow-50 rounded-lg p-4",children:[lt.jsxDEV("p",{className:"font-medium text-yellow-900",children:"Pagamento pendente encontrado"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:368,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-sm text-yellow-800 mt-1",children:"Finalize o boleto antes de continuar. Você pode abrir o boleto abaixo e, após simular o pagamento de teste no Stripe CLI, clicar em verificar."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:369,columnNumber:15},void 0),E.map(e=>lt.jsxDEV("div",{className:"mt-3 flex items-center justify-between text-sm",children:lt.jsxDEV("div",{children:[lt.jsxDEV("div",{className:"text-gray-800",children:["Intent: ",e.payment_intent_id]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:373,columnNumber:21},void 0),e.voucher_url&&lt.jsxDEV("a",{href:e.voucher_url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Abrir boleto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:375,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:372,columnNumber:19},void 0)},e.payment_intent_id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:371,columnNumber:17},void 0)),lt.jsxDEV("div",{className:"mt-3 flex gap-2",children:lt.jsxDEV("button",{onClick:async()=>{var e;try{const t={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${ii}/api/user/creation-status`,{headers:t}),o=await r.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(e=null==o?void 0:o.data)?void 0:e.isFree))?(a(),n(),s(),l("/criar")):Dt.info("Ainda aguardando confirmação. Tente novamente em alguns segundos.")}catch{}},className:"bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700",children:"Já paguei, verificar agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:381,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:380,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:367,columnNumber:13},void 0),c&&P&&f?lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between",children:[lt.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Finalizar Pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:411,columnNumber:17},void 0),lt.jsxDEV("button",{onClick:()=>{m(!1),w(null),_(!1)},className:"text-gray-500 hover:text-gray-700 text-sm",children:"← Voltar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:412,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:410,columnNumber:15},void 0),y&&lt.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:423,columnNumber:19},void 0),lt.jsxDEV("span",{className:"ml-3 text-gray-600",children:"Carregando pagamento..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:424,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:422,columnNumber:17},void 0),!y&&!N&&h&&lt.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:lt.jsxDEV("p",{className:"text-red-800 text-sm",children:"Ocorreu um erro ao carregar o formulário. Tente novamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:431,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:430,columnNumber:17},void 0),!y&&N&&lt.jsxDEV(Gc,{stripe:f,options:{clientSecret:N,paymentMethodOrder:["pix","card","boleto"],appearance:{theme:"stripe",variables:{colorPrimary:"#7c3aed",colorBackground:"#ffffff",colorText:"#1f2937",colorDanger:"#ef4444",fontFamily:"system-ui, sans-serif",spacingUnit:"4px",borderRadius:"8px"}},locale:"pt-BR"},children:lt.jsxDEV(dm,{amount:1490,onSuccess:async e=>{var t;Dt.success("Pagamento aprovado! Liberando criação...");try{a(),n();try{const t={"Content-Type":"application/json"};i&&(t.Authorization=`Bearer ${i}`),await fetch(`${ii}/api/stripe/finalize`,{method:"POST",headers:t,body:JSON.stringify({paymentIntentId:e,deviceId:localStorage.getItem("deviceId")||void 0})})}catch(Xp){}const s={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(s.Authorization=`Bearer ${i}`);const r=await fetch(`${ii}/api/user/creation-status`,{method:"GET",headers:s}),o=await r.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(t=null==o?void 0:o.data)?void 0:t.isFree))?l("/criar"):setTimeout(async()=>{var e;try{const t=await fetch(`${ii}/api/user/creation-status`,{method:"GET",headers:s}),r=await t.json().catch(()=>({}));!0===((null==r?void 0:r.isFree)??(null==(e=null==r?void 0:r.data)?void 0:e.isFree))&&l("/criar")}catch{}},1500)}catch(Xp){}finally{s()}},onError:e=>{p(`Erro no pagamento: ${e}`),m(!1)},disabled:d},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:457,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:437,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:409,columnNumber:13},void 0):lt.jsxDEV("div",{className:"space-y-3",children:[lt.jsxDEV("button",{onClick:async()=>{P&&f?(m(!0),await(async()=>{try{_(!0),p(null);const e={"Content-Type":"application/json"};i&&(e.Authorization=`Bearer ${i}`);const t=await fetch(`${ii}/api/stripe/create-payment-intent`,{method:"POST",headers:e,body:JSON.stringify({amount:1490,currency:"brl",metadata:{userId:(null==o?void 0:o.id)||void 0,deviceId:localStorage.getItem("deviceId")||void 0,productType:"music_generation",description:"Geração de música premium"}})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Falha ao criar o Payment Intent")}const s=await t.json();w(s.clientSecret)}catch(e){const t=e instanceof Error?e.message:"Erro ao carregar formulário de pagamento";p(t),Dt.error(t)}finally{_(!1)}})()):C()},disabled:d,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[d?"Processando...":"Fazer Upgrade Agora",!P&&lt.jsxDEV("span",{className:"text-xs block mt-1 opacity-75",children:"(Modo simulado)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:475,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:468,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:t,disabled:d,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Talvez mais tarde"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:480,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:467,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:320,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:298,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:296,columnNumber:5},void 0):null},hm=r.forwardRef(({className:e,size:t="lg",...s},r)=>lt.jsxDEV(Xo,{ref:r,variant:"glassGold",size:t,className:Qs("h-14 px-8 text-base font-heading font-bold",e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/LiquidGlassButton.tsx",lineNumber:16,columnNumber:7},void 0));hm.displayName="LiquidGlassButton";const pm=i.forwardRef(({label:e,error:t,className:s,...r},o)=>lt.jsxDEV("div",{className:"space-y-2",children:[e&&lt.jsxDEV(fc,{htmlFor:r.id,className:"text-white/90 font-medium drop-shadow-sm",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/GlobalTextField.tsx",lineNumber:20,columnNumber:11},void 0),lt.jsxDEV(dc,{ref:o,...r,className:Qs("h-14 px-4","bg-white/10 backdrop-blur-md","border border-white/20","text-white placeholder:text-white/60","shadow-lg shadow-black/5","transition-all duration-500 ease-out","hover:bg-white/15 hover:border-white/30","focus:bg-white/20 focus:border-white/40 focus:ring-2 focus:ring-white/20","focus:shadow-xl focus:shadow-black/10","transform hover:scale-[1.02] focus:scale-[1.02]",t&&"border-red-400/60 focus:border-red-400/80 focus:ring-red-400/20",s)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/GlobalTextField.tsx",lineNumber:24,columnNumber:9},void 0),t&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm animate-pulse",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/GlobalTextField.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/GlobalTextField.tsx",lineNumber:18,columnNumber:7},void 0));pm.displayName="GlobalTextField";const fm=i.forwardRef(({children:e,className:t,variant:s="default",size:r="md",...o},i)=>lt.jsxDEV("div",{ref:i,className:Qs("inline-flex flex-col items-center backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl shadow-purple-500/10 hover:shadow-purple-500/20 transition-all duration-300 mx-auto",{default:"bg-gradient-to-br from-purple-900/30 via-indigo-900/25 to-pink-900/20",compact:"bg-gradient-to-br from-purple-900/40 via-indigo-900/35 to-pink-900/30"}[s],{sm:"px-8 py-6 gap-4 max-w-xl",md:"px-12 py-10 gap-6 max-w-2xl",lg:"px-16 py-14 gap-8 max-w-3xl"}[r],t),...o,children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/HeroCard.tsx",lineNumber:25,columnNumber:7},void 0));fm.displayName="HeroCard";var vm,bm,gm,xm,Nm,wm,ym={exports:{}};vm=ym,bm=ym.exports,wm=c.createjs=c.createjs||{},
/*!
  * CreateJS
  * Visit http://createjs.com/ for documentation, updates and examples.
  *
  * Copyright (c) 2010 gskinner.com, inc.
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */
c.createjs=c.createjs||{},wm.extend=function(e,t){function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s},wm.promote=function(e,t){var s=e.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(s)||s.__proto__;if(r)for(var o in s[(t+="_")+"constructor"]=r.constructor,r)s.hasOwnProperty(o)&&"function"==typeof r[o]&&(s[t+o]=r[o]);return e},wm.indexOf=function(e,t){for(var s=0,r=e.length;s<r;s++)if(t===e[s])return s;return-1},function(){function e(e,t,s){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!s,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},wm.Event=e}(),function(){function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,s){var r,o=(r=s?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[e];return o&&this.removeEventListener(e,t,s),(o=r[e])?o.push(t):r[e]=[t],t},t.on=function(e,t,s,r,o,i){return t.handleEvent&&(s=s||t,t=t.handleEvent),s=s||this,this.addEventListener(e,function(e){t.call(s,e,o),r&&e.remove()},i)},t.removeEventListener=function(e,t,s){var r=s?this._captureListeners:this._listeners;if(r){var o=r[e];if(o)for(var i=0,a=o.length;i<a;i++)if(o[i]==t){1==a?delete r[e]:o.splice(i,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,s){if("string"==typeof e){var r=this._listeners;if(!(t||r&&r[e]))return!0;e=new wm.Event(e,t,s)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(Xp){}if(e.bubbles&&this.parent){for(var o=this,i=[o];o.parent;)i.push(o=o.parent);var a,n=i.length;for(a=n-1;a>=0&&!e.propagationStopped;a--)i[a]._dispatchEvent(e,1+(0==a));for(a=1;a<n&&!e.propagationStopped;a++)i[a]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,s=this._captureListeners;return!!(t&&t[e]||s&&s[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var s,r=1==t?this._captureListeners:this._listeners;if(e&&r){var o=r[e.type];if(!o||!(s=o.length))return;try{e.currentTarget=this}catch(Xp){}try{e.eventPhase=t}catch(Xp){}e.removed=!1,o=o.slice();for(var i=0;i<s&&!e.immediatePropagationStopped;i++){var a=o[i];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}},wm.EventDispatcher=e}(),function(){function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,wm.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(Xp){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var s=0,r=e._tickTimes;if(!r||r.length<1)return-1;t=Math.min(r.length,t||0|e.getFPS());for(var o=0;o<t;o++)s+=r[o];return s/t},e.getMeasuredFPS=function(t){var s=e._times;return!s||s.length<2?-1:(t=Math.min(s.length-1,t||0|e.getFPS()),1e3/((s[0]-s[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(s)return e._timerId=s(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,s=e._getTime(),r=s-e._lastTime;if(e._lastTime=s,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=r),e.hasEventListener("tick")){var o=new wm.Event("tick"),i=e.maxDelta;o.delta=i&&r>i?i:r,o.paused=t,o.time=s,o.runTime=s-e._pausedTime,e.dispatchEvent(o)}for(e._tickTimes.unshift(e._getTime()-s);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(s);e._times.length>100;)e._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(t&&t.call(performance)||(new Date).getTime())-e._startTime},wm.Ticker=e}(),function(){function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},wm.UID=e}(),function(){function e(e,t,s,r,o,i,a,n,l,c,m){this.Event_constructor(e,t,s),this.stageX=r,this.stageY=o,this.rawX=null==l?r:l,this.rawY=null==c?o:c,this.nativeEvent=i,this.pointerID=a,this.primary=!!n,this.relatedTarget=m}var t=wm.extend(e,wm.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(Xp){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},wm.MouseEvent=wm.promote(e,"Event")}(),function(){function e(e,t,s,r,o,i){this.setValues(e,t,s,r,o,i)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,s,r,o,i){return this.a=null==e?1:e,this.b=t||0,this.c=s||0,this.d=null==r?1:r,this.tx=o||0,this.ty=i||0,this},t.append=function(e,t,s,r,o,i){var a=this.a,n=this.b,l=this.c,c=this.d;return 1==e&&0==t&&0==s&&1==r||(this.a=a*e+l*t,this.b=n*e+c*t,this.c=a*s+l*r,this.d=n*s+c*r),this.tx=a*o+l*i+this.tx,this.ty=n*o+c*i+this.ty,this},t.prepend=function(e,t,s,r,o,i){var a=this.a,n=this.c,l=this.tx;return this.a=e*a+s*this.b,this.b=t*a+r*this.b,this.c=e*n+s*this.d,this.d=t*n+r*this.d,this.tx=e*l+s*this.ty+o,this.ty=t*l+r*this.ty+i,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,s,r,o,i,a,n,l,c){if(i%360)var m=i*e.DEG_TO_RAD,d=Math.cos(m),u=Math.sin(m);else d=1,u=0;return a||n?(a*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,s),this.append(d*r,u*r,-u*o,d*o,0,0)):this.append(d*r,u*r,-u*o,d*o,t,s),(l||c)&&(this.tx-=l*this.a+c*this.c,this.ty-=l*this.b+c*this.d),this},t.prependTransform=function(t,s,r,o,i,a,n,l,c){if(i%360)var m=i*e.DEG_TO_RAD,d=Math.cos(m),u=Math.sin(m);else d=1,u=0;return(l||c)&&(this.tx-=l,this.ty-=c),a||n?(a*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.prepend(d*r,u*r,-u*o,d*o,0,0),this.prepend(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,s)):this.prepend(d*r,u*r,-u*o,d*o,t,s),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var s=Math.cos(t),r=Math.sin(t),o=this.a,i=this.b;return this.a=o*s+this.c*r,this.b=i*s+this.d*r,this.c=-o*r+this.c*s,this.d=-i*r+this.d*s,this},t.skew=function(t,s){return t*=e.DEG_TO_RAD,s*=e.DEG_TO_RAD,this.append(Math.cos(s),Math.sin(s),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,s=this.c,r=this.d,o=this.tx,i=e*r-t*s;return this.a=r/i,this.b=-t/i,this.c=-s/i,this.d=e/i,this.tx=(s*this.ty-r*o)/i,this.ty=-(e*this.ty-t*o)/i,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,s){return(s=s||{}).x=e*this.a+t*this.c+this.tx,s.y=e*this.b+t*this.d+this.ty,s},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var s=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);return Math.abs(1-s/r)<1e-5?(t.rotation=r/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=s/e.DEG_TO_RAD,t.skewY=r/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,wm.Matrix2D=e}(),function(){function e(e,t,s,r,o){this.setValues(e,t,s,r,o)}var t=e.prototype;t.setValues=function(e,t,s,r,o){return this.visible=null==e||!!e,this.alpha=null==t?1:t,this.shadow=s,this.compositeOperation=r,this.matrix=o||this.matrix&&this.matrix.identity()||new wm.Matrix2D,this},t.append=function(e,t,s,r,o){return this.alpha*=t,this.shadow=s||this.shadow,this.compositeOperation=r||this.compositeOperation,this.visible=this.visible&&e,o&&this.matrix.appendMatrix(o),this},t.prepend=function(e,t,s,r,o){return this.alpha*=t,this.shadow=this.shadow||s,this.compositeOperation=this.compositeOperation||r,this.visible=this.visible&&e,o&&this.matrix.prependMatrix(o),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},wm.DisplayProps=e}(),function(){function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},wm.Point=e}(),function(){function e(e,t,s,r){this.setValues(e,t,s,r)}var t=e.prototype;t.setValues=function(e,t,s,r){return this.x=e||0,this.y=t||0,this.width=s||0,this.height=r||0,this},t.extend=function(e,t,s,r){return r=r||0,e+(s=s||0)>this.x+this.width&&(this.width=e+s-this.x),t+r>this.y+this.height&&(this.height=t+r-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,s,r){return this.x-=t,this.y-=e,this.width+=t+r,this.height+=e+s,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,s,r){return s=s||0,r=r||0,e>=this.x&&e+s<=this.x+this.width&&t>=this.y&&t+r<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var s=t.x,r=t.y,o=s+t.width,i=r+t.height;return this.x>s&&(s=this.x),this.y>r&&(r=this.y),this.x+this.width<o&&(o=this.x+this.width),this.y+this.height<i&&(i=this.y+this.height),o<=s||i<=r?null:new e(s,r,o-s,i-r)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},wm.Rectangle=e}(),function(){function e(e,t,s,r,o,i,a){e.addEventListener&&(this.target=e,this.overLabel=null==s?"over":s,this.outLabel=null==t?"out":t,this.downLabel=null==r?"down":r,this.play=o,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),i&&(a&&(i.actionsEnabled=!1,i.gotoAndStop&&i.gotoAndStop(a)),e.hitArea=i))}var t=e.prototype;t.setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(Xp){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,s=this.target,r=e.type;"mousedown"==r?(this._isPressed=!0,t=this.downLabel):"pressup"==r?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==r?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?s.gotoAndPlay&&s.gotoAndPlay(t):s.gotoAndStop&&s.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},wm.ButtonHelper=e}(),function(){function e(e,t,s,r){this.color=e||"black",this.offsetX=t||0,this.offsetY=s||0,this.blur=r||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},wm.Shadow=e}(),function(){function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=wm.extend(e,wm.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(Xp){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var s=this.getFrame(e);return s?(t||new wm.Rectangle).setValues(-s.regX,-s.regY,s.rect.width,s.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,s,r,o;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(s=e.images.length)>0)for(o=this._images=[],t=0;t<s;t++){var i=e.images[t];if("string"==typeof i){var a=i;(i=document.createElement("img")).src=a}o.push(i),i.getContext||i.naturalWidth||(this._loadCount++,this.complete=!1,function(e,t){i.onload=function(){e._handleImageLoad(t)}}(this,a),function(e,t){i.onerror=function(){e._handleImageError(t)}}(this,a))}if(null==e.frames);else if(Array.isArray(e.frames))for(this._frames=[],t=0,s=(o=e.frames).length;t<s;t++){var n=o[t];this._frames.push({image:this._images[n[4]?n[4]:0],rect:new wm.Rectangle(n[0],n[1],n[2],n[3]),regX:n[5]||0,regY:n[6]||0})}else r=e.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._spacing=r.spacing||0,this._margin=r.margin||0,this._numFrames=r.count,0==this._loadCount&&this._calculateFrames();var l;if(this._animations=[],null!=(r=e.animations))for(l in this._data={},r){var c={name:l},m=r[l];if("number"==typeof m)o=c.frames=[m];else if(Array.isArray(m))if(1==m.length)c.frames=[m[0]];else for(c.speed=m[3],c.next=m[2],o=c.frames=[],t=m[0];t<=m[1];t++)o.push(t);else{c.speed=m.speed,c.next=m.next;var d=m.frames;o=c.frames="number"==typeof d?[d]:d.slice(0)}!0!==c.next&&void 0!==c.next||(c.next=l),(!1===c.next||o.length<2&&c.next==l)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(l),this._data[l]=c}}},t._handleImageLoad=function(e){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._handleImageError=function(e){var t=new wm.Event("error");t.src=e,this.dispatchEvent(t),0==--this._loadCount&&this.dispatchEvent("complete")},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,s=this._frameWidth,r=this._frameHeight,o=this._spacing,i=this._margin;e:for(var a=0,n=this._images;a<n.length;a++)for(var l=n[a],c=l.width,m=l.height,d=i;d<=m-i-r;){for(var u=i;u<=c-i-s;){if(t>=e)break e;t++,this._frames.push({image:l,rect:new wm.Rectangle(u,d,s,r),regX:this._regX,regY:this._regY}),u+=s+o}d+=r+o}this._numFrames=t}},wm.SpriteSheet=wm.promote(e,"EventDispatcher")}(),function(){function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,s=e;e.getRGB=function(e,t,s,r){return null!=e&&null==s&&(r=t,s=255&e,t=e>>8&255,e=e>>16&255),null==r?"rgb("+e+","+t+","+s+")":"rgba("+e+","+t+","+s+","+r+")"},e.getHSL=function(e,t,s,r){return null==r?"hsl("+e%360+","+t+"%,"+s+"%)":"hsla("+e%360+","+t+"%,"+s+"%,"+r+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var r=wm.createCanvas?wm.createCanvas():document.createElement("canvas");r.getContext&&(e._ctx=r.getContext("2d"),r.width=r.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(Xp){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var s=this._instructions,r=this._storeIndex,o=s.length;r<o;r++)s[r].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,s=this._instructions,r=this._storeIndex,o=s.length;r<o;r++)!1!==(t=s[r]).path&&t.exec(e)},t.moveTo=function(e,t){return this.append(new s.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new s.LineTo(e,t))},t.arcTo=function(e,t,r,o,i){return this.append(new s.ArcTo(e,t,r,o,i))},t.arc=function(e,t,r,o,i,a){return this.append(new s.Arc(e,t,r,o,i,a))},t.quadraticCurveTo=function(e,t,r,o){return this.append(new s.QuadraticCurveTo(e,t,r,o))},t.bezierCurveTo=function(e,t,r,o,i,a){return this.append(new s.BezierCurveTo(e,t,r,o,i,a))},t.rect=function(e,t,r,o){return this.append(new s.Rect(e,t,r,o))},t.closePath=function(){return this._activeInstructions.length?this.append(new s.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new s.Fill(e):null)},t.beginLinearGradientFill=function(e,t,r,o,i,a){return this._setFill((new s.Fill).linearGradient(e,t,r,o,i,a))},t.beginRadialGradientFill=function(e,t,r,o,i,a,n,l){return this._setFill((new s.Fill).radialGradient(e,t,r,o,i,a,n,l))},t.beginBitmapFill=function(e,t,r){return this._setFill(new s.Fill(null,r).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,r,o,i){return this._updateInstructions(!0),this._strokeStyle=this.command=new s.StrokeStyle(e,t,r,o,i),this._stroke&&(this._stroke.ignoreScale=i),this._strokeIgnoreScale=i,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new s.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new s.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,r,o,i,a){return this._setStroke((new s.Stroke).linearGradient(e,t,r,o,i,a))},t.beginRadialGradientStroke=function(e,t,r,o,i,a,n,l){return this._setStroke((new s.Stroke).radialGradient(e,t,r,o,i,a,n,l))},t.beginBitmapStroke=function(e,t){return this._setStroke((new s.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,s,r,o){return this.drawRoundRectComplex(e,t,s,r,o,o,o,o)},t.drawRoundRectComplex=function(e,t,r,o,i,a,n,l){return this.append(new s.RoundRect(e,t,r,o,i,a,n,l))},t.drawCircle=function(e,t,r){return this.append(new s.Circle(e,t,r))},t.drawEllipse=function(e,t,r,o){return this.append(new s.Ellipse(e,t,r,o))},t.drawPolyStar=function(e,t,r,o,i,a){return this.append(new s.PolyStar(e,t,r,o,i,a))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var s=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],o=0,i=t.length,a=[],n=0,l=0,c=e.BASE_64;o<i;){var m=t.charAt(o),d=c[m],u=d>>3,h=s[u];if(!h||3&d)throw"bad path data (@"+o+"): "+m;var p=r[u];u||(n=l=0),a.length=0,o++;for(var f=2+(d>>2&1),v=0;v<p;v++){var b=c[t.charAt(o)],g=b>>5?-1:1;b=(31&b)<<6|c[t.charAt(o+1)],3==f&&(b=b<<6|c[t.charAt(o+2)]),b=g*b/10,v%2?n=b+=n:l=b+=l,a[v]=b,o+=f}h.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var s=this._instructions,r=this._activeInstructions,o=this._commitIndex;if(this._dirty&&r.length){s.length=o,s.push(e.beginCmd);var i=r.length,a=s.length;s.length=a+i;for(var n=0;n<i;n++)s[n+a]=r[n];this._fill&&s.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,s.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,s.push(this._strokeStyle)),s.push(this._stroke)),this._dirty=!1}t&&(r.length=0,this._commitIndex=s.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(s.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(s.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(s.ArcTo=function(e,t,s,r,o){this.x1=e,this.y1=t,this.x2=s,this.y2=r,this.radius=o}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(s.Arc=function(e,t,s,r,o,i){this.x=e,this.y=t,this.radius=s,this.startAngle=r,this.endAngle=o,this.anticlockwise=!!i}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(s.QuadraticCurveTo=function(e,t,s,r){this.cpx=e,this.cpy=t,this.x=s,this.y=r}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(s.BezierCurveTo=function(e,t,s,r,o,i){this.cp1x=e,this.cp1y=t,this.cp2x=s,this.cp2y=r,this.x=o,this.y=i}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(s.Rect=function(e,t,s,r){this.x=e,this.y=t,this.w=s,this.h=r}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(s.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(s.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},(t=(s.Fill=function(e,t){this.style=e,this.matrix=t}).prototype).exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,s,r,o,i,a){for(var n=this.style=e._ctx.createLinearGradient(r,o,i,a),l=0,c=t.length;l<c;l++)n.addColorStop(s[l],t[l]);return n.props={colors:t,ratios:s,x0:r,y0:o,x1:i,y1:a,type:"linear"},this},t.radialGradient=function(t,s,r,o,i,a,n,l){for(var c=this.style=e._ctx.createRadialGradient(r,o,i,a,n,l),m=0,d=t.length;m<d;m++)c.addColorStop(s[m],t[m]);return c.props={colors:t,ratios:s,x0:r,y0:o,r0:i,x1:a,y1:n,r1:l,type:"radial"},this},t.bitmap=function(t,s){return(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=e._ctx.createPattern(t,s||"")).props={image:t,repetition:s,type:"bitmap"}),this},t.path=!1,(t=(s.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype).exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=s.Fill.prototype.linearGradient,t.radialGradient=s.Fill.prototype.radialGradient,t.bitmap=s.Fill.prototype.bitmap,t.path=!1,(t=(s.StrokeStyle=function(e,t,s,r,o){this.width=e,this.caps=t,this.joints=s,this.miterLimit=r,this.ignoreScale=o}).prototype).exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit,t.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},t.path=!1,(s.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||s.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},s.StrokeDash.EMPTY_SEGMENTS=[],(s.RoundRect=function(e,t,s,r,o,i,a,n){this.x=e,this.y=t,this.w=s,this.h=r,this.radiusTL=o,this.radiusTR=i,this.radiusBR=a,this.radiusBL=n}).prototype.exec=function(e){var t=(l<c?l:c)/2,s=0,r=0,o=0,i=0,a=this.x,n=this.y,l=this.w,c=this.h,m=this.radiusTL,d=this.radiusTR,u=this.radiusBR,h=this.radiusBL;m<0&&(m*=s=-1),m>t&&(m=t),d<0&&(d*=r=-1),d>t&&(d=t),u<0&&(u*=o=-1),u>t&&(u=t),h<0&&(h*=i=-1),h>t&&(h=t),e.moveTo(a+l-d,n),e.arcTo(a+l+d*r,n-d*r,a+l,n+d,d),e.lineTo(a+l,n+c-u),e.arcTo(a+l+u*o,n+c+u*o,a+l-u,n+c,u),e.lineTo(a+h,n+c),e.arcTo(a-h*i,n+c+h*i,a,n+c-h,h),e.lineTo(a,n+m),e.arcTo(a-m*s,n-m*s,a+m,n,m),e.closePath()},(s.Circle=function(e,t,s){this.x=e,this.y=t,this.radius=s}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(s.Ellipse=function(e,t,s,r){this.x=e,this.y=t,this.w=s,this.h=r}).prototype.exec=function(e){var t=this.x,s=this.y,r=this.w,o=this.h,i=.5522848,a=r/2*i,n=o/2*i,l=t+r,c=s+o,m=t+r/2,d=s+o/2;e.moveTo(t,d),e.bezierCurveTo(t,d-n,m-a,s,m,s),e.bezierCurveTo(m+a,s,l,d-n,l,d),e.bezierCurveTo(l,d+n,m+a,c,m,c),e.bezierCurveTo(m-a,c,t,d+n,t,d)},(s.PolyStar=function(e,t,s,r,o,i){this.x=e,this.y=t,this.radius=s,this.sides=r,this.pointSize=o,this.angle=i}).prototype.exec=function(e){var t=this.x,s=this.y,r=this.radius,o=(this.angle||0)/180*Math.PI,i=this.sides,a=1-(this.pointSize||0),n=Math.PI/i;e.moveTo(t+Math.cos(o)*r,s+Math.sin(o)*r);for(var l=0;l<i;l++)o+=n,1!=a&&e.lineTo(t+Math.cos(o)*r*a,s+Math.sin(o)*r*a),o+=n,e.lineTo(t+Math.cos(o)*r,s+Math.sin(o)*r);e.closePath()},e.beginCmd=new s.BeginPath,wm.Graphics=e}(),function(){function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=wm.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new wm.DisplayProps,this._rectangle=new wm.Rectangle,this._bounds=null}var t=wm.extend(e,wm.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var s=wm.createCanvas?wm.createCanvas():document.createElement("canvas");s.getContext&&(e._hitTestCanvas=s,e._hitTestContext=s.getContext("2d"),s.width=s.height=1),e._nextCacheID=1,t.getStage=function(){for(var e=this,t=wm.Stage;e.parent;)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(Xp){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var s=this.cacheCanvas;if(t||!s)return!1;var r=this._cacheScale;return e.drawImage(s,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,s.width/r,s.height/r),!0},t.updateContext=function(t){var s=this,r=s.mask,o=s._props.matrix;r&&r.graphics&&!r.graphics.isEmpty()&&(r.getMatrix(o),t.transform(o.a,o.b,o.c,o.d,o.tx,o.ty),r.graphics.drawAsPath(t),t.clip(),o.invert(),t.transform(o.a,o.b,o.c,o.d,o.tx,o.ty)),this.getMatrix(o);var i=o.tx,a=o.ty;e._snapToPixelEnabled&&s.snapToPixel&&(i=i+(i<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),t.transform(o.a,o.b,o.c,o.d,i,a),t.globalAlpha*=s.alpha,s.compositeOperation&&(t.globalCompositeOperation=s.compositeOperation),s.shadow&&this._applyShadow(t,s.shadow)},t.cache=function(e,t,s,r,o){o=o||1,this.cacheCanvas||(this.cacheCanvas=wm.createCanvas?wm.createCanvas():document.createElement("canvas")),this._cacheWidth=s,this._cacheHeight=r,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=o,this.updateCache()},t.updateCache=function(t){var s=this.cacheCanvas;if(!s)throw"cache() must be called before updateCache()";var r=this._cacheScale,o=this._cacheOffsetX*r,i=this._cacheOffsetY*r,a=this._cacheWidth,n=this._cacheHeight,l=s.getContext("2d"),c=this._getFilterBounds();o+=this._filterOffsetX=c.x,i+=this._filterOffsetY=c.y,a=Math.ceil(a*r)+c.width,n=Math.ceil(n*r)+c.height,a!=s.width||n!=s.height?(s.width=a,s.height=n):t||l.clearRect(0,0,a+1,n+1),l.save(),l.globalCompositeOperation=t,l.setTransform(r,0,0,r,-o,-i),this.draw(l,!0),this._applyFilters(),l.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,s){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,s||new wm.Point)},t.globalToLocal=function(e,t,s){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,s||new wm.Point)},t.localToLocal=function(e,t,s,r){return r=this.localToGlobal(e,t,r),s.globalToLocal(r.x,r.y,r)},t.setTransform=function(e,t,s,r,o,i,a,n,l){return this.x=e||0,this.y=t||0,this.scaleX=null==s?1:s,this.scaleY=null==r?1:r,this.rotation=o||0,this.skewX=i||0,this.skewY=a||0,this.regX=n||0,this.regY=l||0,this},t.getMatrix=function(e){var t=this,s=e&&e.identity()||new wm.Matrix2D;return t.transformMatrix?s.copy(t.transformMatrix):s.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,s=this.getMatrix(e);t=t.parent;)s.prependMatrix(t.getMatrix(t._props.matrix));return s},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new wm.DisplayProps;var t=this,s=t.getMatrix(e.matrix);do{e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&s.prependMatrix(t.getMatrix(t._props.matrix))}while(t=t.parent);return e},t.hitTest=function(t,s){var r=e._hitTestContext;r.setTransform(1,0,0,1,-t,-s),this.draw(r);var o=this._testHit(r);return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),o},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,s,r){null==e&&(this._bounds=e),this._bounds=(this._bounds||new wm.Rectangle).setValues(e,t,s,r)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var s=t.getImageData(0,0,1,1).data[3]>1}catch(Xp){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return s},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),s=this.cacheCanvas.width,r=this.cacheCanvas.height,o=0;o<e;o++)this.filters[o].applyFilter(t,0,0,s,r)},t._getFilterBounds=function(e){var t,s=this.filters,r=this._rectangle.setValues(0,0,0,0);if(!s||!(t=s.length))return r;for(var o=0;o<t;o++){var i=this.filters[o];i.getBounds&&i.getBounds(r)}return r},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,s){if(!e)return e;var r=e.x,o=e.y,i=e.width,a=e.height,n=this._props.matrix;n=s?n.identity():this.getMatrix(n),(r||o)&&n.appendTransform(0,0,1,1,0,0,0,-r,-o),t&&n.prependMatrix(t);var l=i*n.a,c=i*n.b,m=a*n.c,d=a*n.d,u=n.tx,h=n.ty,p=u,f=u,v=h,b=h;return(r=l+u)<p?p=r:r>f&&(f=r),(r=l+m+u)<p?p=r:r>f&&(f=r),(r=m+u)<p?p=r:r>f&&(f=r),(o=c+h)<v?v=o:o>b&&(b=o),(o=c+d+h)<v?v=o:o>b&&(b=o),(o=d+h)<v?v=o:o>b&&(b=o),e.setValues(p,v,f-p,b-v)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,s=0,r=t.length;s<r;s++)if(this.hasEventListener(t[s]))return!0;return!!this.cursor},wm.DisplayObject=wm.promote(e,"EventDispatcher")}(),function(){function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=wm.extend(e,wm.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(Xp){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var s=this.children.slice(),r=0,o=s.length;r<o;r++){var i=s[r];i.isVisible()&&(e.save(),i.updateContext(e),i.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var s=0;s<t;s++)this.addChild(arguments[s]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var s=arguments.length,r=arguments[s-1];if(r<0||r>this.children.length)return arguments[s-2];if(s>2){for(var o=0;o<s-1;o++)this.addChildAt(arguments[o],r+o);return arguments[s-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var s=!0,r=0;r<t;r++)s=s&&this.removeChild(arguments[r]);return s}return this.removeChildAt(wm.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var s=[],r=0;r<t;r++)s[r]=arguments[r];s.sort(function(e,t){return t-e});var o=!0;for(r=0;r<t;r++)o=o&&this.removeChildAt(s[r]);return o}if(e<0||e>this.children.length-1)return!1;var i=this.children[e];return i&&(i.parent=null),this.children.splice(e,1),i.dispatchEvent("removed"),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,s=0,r=t.length;s<r;s++)if(t[s].name==e)return t[s];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return wm.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var s=this.children,r=s[e],o=s[t];r&&o&&(s[e]=o,s[t]=r)},t.swapChildren=function(e,t){for(var s,r,o=this.children,i=0,a=o.length;i<a&&(o[i]==e&&(s=i),o[i]==t&&(r=i),null==s||null==r);i++);i!=a&&(o[s]=t,o[r]=e)},t.setChildIndex=function(e,t){var s=this.children,r=s.length;if(!(e.parent!=this||t<0||t>=r)){for(var o=0;o<r&&s[o]!=e;o++);o!=r&&o!=t&&(s.splice(o,1),s.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,s){var r=[],o=this.localToGlobal(e,t);return this._getObjectsUnderPoint(o.x,o.y,r,s>0,1==s),r},t.getObjectUnderPoint=function(e,t,s){var r=this.localToGlobal(e,t);return this._getObjectsUnderPoint(r.x,r.y,null,s>0,1==s)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var s=this._cloneProps(new e);return t&&this._cloneChildren(s),s},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var s=this.children[t];s.tickEnabled&&s._tick&&s._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,s=0,r=this.children.length;s<r;s++){var o=this.children[s].clone(!0);o.parent=e,t.push(o)}},t._getObjectsUnderPoint=function(t,s,r,o,i,a){if(!(a=a||0)&&!this._testMask(this,t,s))return null;var n,l=wm.DisplayObject._hitTestContext;i=i||o&&this._hasMouseEventListener();for(var c=this.children,m=c.length-1;m>=0;m--){var d=c[m],u=d.hitArea;if(d.visible&&(u||d.isVisible())&&(!o||d.mouseEnabled)&&(u||this._testMask(d,t,s)))if(!u&&d instanceof e){var h=d._getObjectsUnderPoint(t,s,r,o,i,a+1);if(!r&&h)return o&&!this.mouseChildren?this:h}else{if(o&&!i&&!d._hasMouseEventListener())continue;var p=d.getConcatenatedDisplayProps(d._props);if(n=p.matrix,u&&(n.appendMatrix(u.getMatrix(u._props.matrix)),p.alpha=u.alpha),l.globalAlpha=p.alpha,l.setTransform(n.a,n.b,n.c,n.d,n.tx-t,n.ty-s),(u||d).draw(l),!this._testHit(l))continue;if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!r)return o&&!this.mouseChildren?this:d;r.push(d)}}return null},t._testMask=function(e,t,s){var r=e.mask;if(!r||!r.graphics||r.graphics.isEmpty())return!0;var o=this._props.matrix,i=e.parent;o=i?i.getConcatenatedMatrix(o):o.identity(),o=r.getMatrix(r._props.matrix).prependMatrix(o);var a=wm.DisplayObject._hitTestContext;return a.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-s),r.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},t._getBounds=function(e,t){var s=this.DisplayObject_getBounds();if(s)return this._transformBounds(s,e,t);var r=this._props.matrix;r=t?r.identity():this.getMatrix(r),e&&r.prependMatrix(e);for(var o=this.children.length,i=null,a=0;a<o;a++){var n=this.children[a];n.visible&&(s=n._getBounds(r))&&(i?i.extend(s.x,s.y,s.width,s.height):i=s.clone())}return i},wm.Container=wm.promote(e,"DisplayObject")}(),function(){function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=wm.extend(e,wm.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(Xp){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),!1!==this.dispatchEvent("drawstart",!1,!0))){wm.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,s=this.canvas.getContext("2d");s.setTransform(1,0,0,1,0,0),this.autoClear&&(t?s.clearRect(t.x,t.y,t.width,t.height):s.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),s.save(),this.drawRect&&(s.beginPath(),s.rect(t.x,t.y,t.width,t.height),s.clip()),this.updateContext(s),this.draw(s,!1),s.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var t=new wm.Event("tick");if(e)for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){var s,r=this.canvas.getContext("2d"),o=this.canvas.width,i=this.canvas.height;if(e){s=r.getImageData(0,0,o,i);var a=r.globalCompositeOperation;r.globalCompositeOperation="destination-over",r.fillStyle=e,r.fillRect(0,0,o,i)}var n=this.canvas.toDataURL(t||"image/png");return e&&(r.putImageData(s,0,0),r.globalCompositeOperation=a),n},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,s,r=this._eventListeners;if(!e&&r){for(t in r)(s=r[t]).t.removeEventListener(t,s.f,!1);this._eventListeners=null}else if(e&&!r&&this.canvas){var o=window.addEventListener?window:document,i=this;for(t in(r=this._eventListeners={}).mouseup={t:o,f:function(e){i._handleMouseUp(e)}},r.mousemove={t:o,f:function(e){i._handleMouseMove(e)}},r.dblclick={t:this.canvas,f:function(e){i._handleDoubleClick(e)}},r.mousedown={t:this.canvas,f:function(e){i._handleMouseDown(e)}},r)(s=r[t]).t.addEventListener(t,s.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(c){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var s=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),r=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),o=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,i=parseInt(o.paddingLeft)+parseInt(o.borderLeftWidth),a=parseInt(o.paddingTop)+parseInt(o.borderTopWidth),n=parseInt(o.paddingRight)+parseInt(o.borderRightWidth),l=parseInt(o.paddingBottom)+parseInt(o.borderBottomWidth);return{left:t.left+s+i,right:t.right+s-n,top:t.top+r+a,bottom:t.bottom+r-l}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,s,r,o){if((!this._prevStage||void 0!==o)&&this.canvas){var i=this._nextStage,a=this._getPointerData(e),n=a.inBounds;this._updatePointerPosition(e,t,s,r),(n||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!n&&this._dispatchMouseEvent(this,n?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),i&&i._handlePointerMove(e,t,s,r,null)}},t._updatePointerPosition=function(e,t,s,r){var o=this._getElementRect(this.canvas);s-=o.left,r-=o.top;var i=this.canvas.width,a=this.canvas.height;s/=(o.right-o.left)/i,r/=(o.bottom-o.top)/a;var n=this._getPointerData(e);(n.inBounds=s>=0&&r>=0&&s<=i-1&&r<=a-1)?(n.x=s,n.y=r):this.mouseMoveOutside&&(n.x=s<0?0:s>i-1?i-1:s,n.y=r<0?0:r>a-1?a-1:r),n.posEvtObj=t,n.rawX=s,n.rawY=r,e!==this._primaryPointerID&&-1!==e||(this.mouseX=n.x,this.mouseY=n.y,this.mouseInBounds=n.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,s,r){var o=this._nextStage,i=this._getPointerData(e);if(!this._prevStage||void 0!==r){var a=null,n=i.target;r||!n&&!o||(a=this._getObjectsUnderPoint(i.x,i.y,null,!0)),i.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,i,t,a),i.down=!1),a==n&&this._dispatchMouseEvent(n,"click",!0,e,i,t),this._dispatchMouseEvent(n,"pressup",!0,e,i,t),s?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):i.target=null,o&&o._handlePointerUp(e,t,s,r||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,s,r,o){this.preventSelection&&t.preventDefault(),null!=this._primaryPointerID&&-1!==e||(this._primaryPointerID=e),null!=r&&this._updatePointerPosition(e,t,s,r);var i=null,a=this._nextStage,n=this._getPointerData(e);o||(i=n.target=this._getObjectsUnderPoint(n.x,n.y,null,!0)),n.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,n,t,i),n.down=!0),this._dispatchMouseEvent(i,"mousedown",!0,e,n,t),a&&a._handlePointerDown(e,t,s,r,o||i&&this)},t._testMouseOver=function(e,t,s){if(!this._prevStage||void 0!==t){var r=this._nextStage;if(this._mouseOverIntervalID){var o=this._getPointerData(-1);if(o&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var i,a,n,l=o.posEvtObj,c=s||l&&l.target==this.canvas,m=null,d=-1,u="";!t&&(e||this.mouseInBounds&&c)&&(m=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var h=this._mouseOverTarget||[],p=h[h.length-1],f=this._mouseOverTarget=[];for(i=m;i;)f.unshift(i),u||(u=i.cursor),i=i.parent;for(this.canvas.style.cursor=u,!t&&s&&(s.canvas.style.cursor=u),a=0,n=f.length;a<n&&f[a]==h[a];a++)d=a;for(p!=m&&this._dispatchMouseEvent(p,"mouseout",!0,-1,o,l,m),a=h.length-1;a>d;a--)this._dispatchMouseEvent(h[a],"rollout",!1,-1,o,l,m);for(a=f.length-1;a>d;a--)this._dispatchMouseEvent(f[a],"rollover",!1,-1,o,l,p);p!=m&&this._dispatchMouseEvent(m,"mouseover",!0,-1,o,l,p),r&&r._testMouseOver(e,t||m&&this,s||c&&this)}}else r&&r._testMouseOver(e,t,s)}},t._handleDoubleClick=function(e,t){var s=null,r=this._nextStage,o=this._getPointerData(-1);t||(s=this._getObjectsUnderPoint(o.x,o.y,null,!0),this._dispatchMouseEvent(s,"dblclick",!0,-1,o,e)),r&&r._handleDoubleClick(e,t||s&&this)},t._dispatchMouseEvent=function(e,t,s,r,o,i,a){if(e&&(s||e.hasEventListener(t))){var n=new wm.MouseEvent(t,s,!1,o.x,o.y,i,r,r===this._primaryPointerID||-1===r,o.rawX,o.rawY,a);e.dispatchEvent(n)}},wm.Stage=wm.promote(e,"Container")}(),function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=wm.extend(e,wm.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var s=this.image,r=this.sourceRect;if(r){var o=r.x,i=r.y,a=o+r.width,n=i+r.height,l=0,c=0,m=s.width,d=s.height;o<0&&(l-=o,o=0),a>m&&(a=m),i<0&&(c-=i,i=0),n>d&&(n=d),e.drawImage(s,o,i,a-o,n-i,l,c,a-o,n-i)}else e.drawImage(s,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,s=this.sourceRect||t;return t&&(t.naturalWidth||t.getContext||t.readyState>=2)?this._rectangle.setValues(0,0,s.width,s.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},wm.Bitmap=wm.promote(e,"DisplayObject")}(),function(){function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=t&&this.gotoAndPlay(t)}var t=wm.extend(e,wm.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var s=this.spriteSheet.getFrame(0|this._currentFrame);if(!s)return!1;var r=s.rect;return r.width&&r.height&&e.drawImage(s.image,r.x,r.y,r.width,r.height,-s.regX,-s.regY,r.width,r.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,s=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(s)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,s=this._animation,r=this.paused,o=this._currentFrame;if(s){var i=s.speed||1,a=this.currentAnimationFrame;if(a+e*i>=(t=s.frames.length)){var n=s.next;if(this._dispatchAnimationEnd(s,o,r,n,t-1))return;if(n)return this._goto(n,e-(t-a)/i);this.paused=!0,a=s.frames.length-1}else a+=e*i;this.currentAnimationFrame=a,this._currentFrame=s.frames[0|a]}else if((o=this._currentFrame+=e)>=(t=this.spriteSheet.getNumFrames())&&t>0&&!this._dispatchAnimationEnd(s,o,r,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();o=0|this._currentFrame,this.currentFrame!=o&&(this.currentFrame=o,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,s,r,o){var i=e?e.name:null;if(this.hasEventListener("animationend")){var a=new wm.Event("animationend");a.name=i,a.next=r,this.dispatchEvent(a)}var n=this._animation!=e||this._currentFrame!=t;return n||s||!this.paused||(this.currentAnimationFrame=o,n=!0),n},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var s=this.spriteSheet.getAnimation(e);s&&(this._animation=s,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},wm.Sprite=wm.promote(e,"DisplayObject")}(),function(){function e(e){this.DisplayObject_constructor(),this.graphics=e||new wm.Graphics}var t=wm.extend(e,wm.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)||this.graphics.draw(e,this),!0},t.clone=function(t){var s=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(s))},t.toString=function(){return"[Shape (name="+this.name+")]"},wm.Shape=wm.promote(e,"DisplayObject")}(),function(){function e(e,t,s){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=s,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=wm.extend(e,wm.DisplayObject),s=wm.createCanvas?wm.createCanvas():document.createElement("canvas");s.getContext&&(e._workingContext=s.getContext("2d"),s.width=s.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var s=this.color||"#000";return this.outline?(e.strokeStyle=s,e.lineWidth=1*this.outline):e.fillStyle=s,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var s=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<s.width?this.maxWidth:s.width,o=r*e.H_OFFSETS[this.textAlign||"left"],i=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(o,i,r,s.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,s,r){var o=!!t;o||((t=e._workingContext).save(),this._prepContext(t));for(var i=this.lineHeight||this.getMeasuredLineHeight(),a=0,n=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,m=l.length;c<m;c++){var d=l[c],u=null;if(null!=this.lineWidth&&(u=t.measureText(d).width)>this.lineWidth){var h=d.split(/(\s)/);d=h[0],u=t.measureText(d).width;for(var p=1,f=h.length;p<f;p+=2){var v=t.measureText(h[p]+h[p+1]).width;u+v>this.lineWidth?(o&&this._drawTextLine(t,d,n*i),r&&r.push(d),u>a&&(a=u),d=h[p+1],u=t.measureText(d).width,n++):(d+=h[p]+h[p+1],u+=v)}}o&&this._drawTextLine(t,d,n*i),r&&r.push(d),s&&null==u&&(u=t.measureText(d).width),u>a&&(a=u),n++}return s&&(s.width=a,s.height=n*i),o||t.restore(),s},t._drawTextLine=function(e,t,s){this.outline?e.strokeText(t,0,s,this.maxWidth||65535):e.fillText(t,0,s,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var s=e._workingContext;s.save();var r=this._prepContext(s).measureText(t).width;return s.restore(),r},wm.Text=wm.promote(e,"DisplayObject")}(),function(){function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=wm.extend(e,wm.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateText(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var s,r=t.getAnimation(e);return r||(e!=(s=e.toUpperCase())||e!=(s=e.toLowerCase())||(s=null),s&&(r=t.getAnimation(s))),r&&r.frames[0]},t._getFrame=function(e,t){var s=this._getFrameIndex(e,t);return null==s?s:t.getFrame(s)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,s=0,r=0,o=this._oldProps,i=!1,a=this.spaceWidth,n=this.lineHeight,l=this.spriteSheet,c=e._spritePool,m=this.children,d=0,u=m.length;for(var h in o)o[h]!=this[h]&&(o[h]=this[h],i=!0);if(i){var p=!!this._getFrame(" ",l);p||a||(a=this._getSpaceWidth(l)),n||(n=this._getLineHeight(l));for(var f=0,v=this.text.length;f<v;f++){var b=this.text.charAt(f);if(" "!=b||p)if("\n"!=b&&"\r"!=b){var g=this._getFrameIndex(b,l);null!=g&&(d<u?t=m[d]:(m.push(t=c.length?c.pop():new wm.Sprite),t.parent=this,u++),t.spriteSheet=l,t.gotoAndStop(g),t.x=s,t.y=r,d++,s+=t.getBounds().width+this.letterSpacing)}else"\r"==b&&"\n"==this.text.charAt(f+1)&&f++,s=0,r+=n;else s+=a}for(;u>d;)c.push(t=m.pop()),t.parent=null,u--;c.length>e.maxPoolSize&&(c.length=e.maxPoolSize)}},wm.BitmapText=wm.promote(e,"Container")}(),function(){function e(t,s,r,o){this.Container_constructor(),!e.inited&&e.init(),this.mode=t||e.INDEPENDENT,this.startPosition=s||0,this.loop=r,this.currentFrame=0,this.timeline=new wm.Timeline(null,o,{paused:!0,position:s,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}var t=wm.extend(e,wm.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(s.install(),e.inited=!0)},t.getLabels=function(){return this.timeline.getLabels()},t.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},t.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(t,{labels:{get:t.getLabels},currentLabel:{get:t.getCurrentLabel},totalFrames:{get:t.getDuration},duration:{get:t.getDuration}})}catch(Xp){}function s(){throw"MovieClipPlugin cannot be instantiated."}t.initialize=e,t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)||(this._updateTimeline(),this.Container_draw(e,t)),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(t){var s=e.INDEPENDENT;if(this.mode==s){for(var r=this,o=r.framerate;(r=r.parent)&&null==o;)r.mode==s&&(o=r._framerate);this._framerate=o;var i=null!=o&&-1!=o&&null!=t?t/(1e3/o)+this._t:1,a=0|i;for(this._t=i-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},t.clone=function(){throw"MovieClip cannot be cloned."},t.toString=function(){return"[MovieClip (name="+this.name+")]"},t._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},t._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())},t._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},t._updateTimeline=function(){var t=this.timeline,s=this.mode!=e.INDEPENDENT;t.loop=null==this.loop||this.loop;var r=s?this.startPosition+(this.mode==e.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,o=s||!this.actionsEnabled?wm.Tween.NONE:null;if(this.currentFrame=t._calcPosition(r),t.setPosition(r,o),this._prevPosition=t._prevPosition,this._prevPos!=t._prevPos){for(var i in this.currentFrame=this._prevPos=t._prevPos,this._managed)this._managed[i]=1;for(var a=t._tweens,n=0,l=a.length;n<l;n++){var c=a[n],m=c._target;if(m!=this&&!c.passive){var d=c._stepPosition;m instanceof wm.DisplayObject?this._addManagedChild(m,d):this._setState(m.state,d)}}var u=this.children;for(n=u.length-1;n>=0;n--){var h=u[n].id;1==this._managed[h]&&(this.removeChildAt(n),delete this._managed[h])}}},t._setState=function(e,t){if(e)for(var s=e.length-1;s>=0;s--){var r=e[s],o=r.t,i=r.p;for(var a in i)o[a]=i[a];this._addManagedChild(o,t)}},t._addManagedChild=function(t,s){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=s,t.mode==e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},t._getBounds=function(e,t){var s=this.DisplayObject_getBounds();return s||(this._updateTimeline(),this.frameBounds&&(s=this._rectangle.copy(this.frameBounds[this.currentFrame]))),s?this._transformBounds(s,e,t):this.Container__getBounds(e,t)},wm.MovieClip=wm.promote(e,"Container"),s.priority=100,s.install=function(){wm.Tween.installPlugin(s,["startPosition"])},s.init=function(e,t,s){return s},s.step=function(){},s.tween=function(t,s,r,o,i,a,n,l){return t.target instanceof e?1==a?i[s]:o[s]:r}}(),function(){function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=wm.createCanvas?wm.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,s,r,o){if(s||r||o){var i=0;s&&e._flip(t,++i,!0,!1),r&&e._flip(t,++i,!1,!0),o&&e._flip(t,++i,!0,!0)}},e.extractFrame=function(t,s){isNaN(s)&&(s=t.getAnimation(s).frames[0]);var r=t.getFrame(s);if(!r)return null;var o=r.rect,i=e._workingCanvas;i.width=o.width,i.height=o.height,e._workingContext.drawImage(r.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height);var a=document.createElement("img");return a.src=i.toDataURL("image/png"),a},e.mergeAlpha=function(e,t,s){s||(s=wm.createCanvas?wm.createCanvas():document.createElement("canvas")),s.width=Math.max(t.width,e.width),s.height=Math.max(t.height,e.height);var r=s.getContext("2d");return r.save(),r.drawImage(e,0,0),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),r.restore(),s},e._flip=function(t,s,r,o){for(var i=t._images,a=e._workingCanvas,n=e._workingContext,l=i.length/s,c=0;c<l;c++){var m=i[c];m.__tmp=c,n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,a.width+1,a.height+1),a.width=m.width,a.height=m.height,n.setTransform(r?-1:1,0,0,o?-1:1,r?m.width:0,o?m.height:0),n.drawImage(m,0,0);var d=document.createElement("img");d.src=a.toDataURL("image/png"),d.width=m.width,d.height=m.height,i.push(d)}var u=t._frames,h=u.length/s;for(c=0;c<h;c++){var p=(m=u[c]).rect.clone(),f={image:d=i[m.image.__tmp+l*s],rect:p,regX:m.regX,regY:m.regY};r&&(p.x=d.width-p.x-p.width,f.regX=p.width-m.regX),o&&(p.y=d.height-p.y-p.height,f.regY=p.height-m.regY),u.push(f)}var v="_"+(r?"h":"")+(o?"v":""),b=t._animations,g=t._data,x=b.length/s;for(c=0;c<x;c++){var N=b[c],w={name:N+v,speed:(m=g[N]).speed,next:m.next,frames:[]};m.next&&(w.next+=v);for(var y=0,_=(u=m.frames).length;y<_;y++)w.frames.push(u[y]+h*s);g[w.name]=w,b.push(w.name)}},wm.SpriteSheetUtils=e}(),function(){function e(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=wm.extend(e,wm.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,s,r,o,i){if(this._data)throw e.ERR_RUNNING;var a=s||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(r=r||1,this._frames.push({source:t,sourceRect:a,scale:r,funct:o,data:i,index:this._frames.length,height:a.height*r})-1):null},t.addAnimation=function(t,s,r,o){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:s,next:r,speed:o}},t.addMovieClip=function(t,s,r,o,i,a){if(this._data)throw e.ERR_RUNNING;var n=t.frameBounds,l=s||t.bounds||t.nominalBounds;if(!l&&t.getBounds&&(l=t.getBounds()),l||n){var c,m,d=this._frames.length,u=t.timeline.duration;for(c=0;c<u;c++){var h=n&&n[c]?n[c]:l;this.addFrame(t,h,r,this._setupMovieClipFrame,{i:c,f:o,d:i})}var p=t.timeline._labels,f=[];for(var v in p)f.push({index:p[v],label:v});if(f.length)for(f.sort(function(e,t){return e.index-t.index}),c=0,m=f.length;c<m;c++){for(var b=f[c].label,g=d+f[c].index,x=d+(c==m-1?u:f[c+1].index),N=[],w=g;w<x;w++)N.push(w);a&&!(b=a(b,t,g,x))||this.addAnimation(b,N,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var s=this;this._timerID=setTimeout(function(){s._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var s=[];this._data={images:[],frames:s,framerate:this.framerate,animations:this._animations};var r=this._frames.slice();if(r.sort(function(e,t){return e.height<=t.height?-1:1}),r[r.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var o=0,i=0,a=0;r.length;){var n=this._fillRow(r,o,a,s,t);if(n.w>i&&(i=n.w),o+=n.h,!n.h||!r.length){var l=wm.createCanvas?wm.createCanvas():document.createElement("canvas");l.width=this._getSize(i,this.maxWidth),l.height=this._getSize(o,this.maxHeight),this._data.images[a]=l,n.h||(i=o=0,a++)}}},t._setupMovieClipFrame=function(e,t){var s=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=s,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var s=4;Math.pow(2,++s)<e;);return Math.min(t,Math.pow(2,s))},t._fillRow=function(t,s,r,o,i){for(var a=this.maxWidth,n=this.maxHeight-(s+=i),l=i,c=0,m=t.length-1;m>=0;m--){var d=t[m],u=this._scale*d.scale,h=d.sourceRect,p=d.source,f=Math.floor(u*h.x-i),v=Math.floor(u*h.y-i),b=Math.ceil(u*h.height+2*i),g=Math.ceil(u*h.width+2*i);if(g>a)throw e.ERR_DIMENSIONS;b>n||l+g>a||(d.img=r,d.rect=new wm.Rectangle(l,s,g,b),c=c||b,t.splice(m,1),o[d.index]=[l,s,g,b,r,Math.round(-f+u*p.regX-i),Math.round(-v+u*p.regY-i)],l+=g)}return{w:l,h:c}},t._endBuild=function(){this.spriteSheet=new wm.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,s=!1;t>(new Date).getTime();)if(!this._drawNext()){s=!0;break}if(s)this._endBuild();else{var r=this;this._timerID=setTimeout(function(){r._run()},50-e)}var o=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var i=new wm.Event("progress");i.progress=o,this.dispatchEvent(i)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,s=e.rect,r=e.sourceRect,o=this._data.images[e.img].getContext("2d");return e.funct&&e.funct(e.source,e.data),o.save(),o.beginPath(),o.rect(s.x,s.y,s.width,s.height),o.clip(),o.translate(Math.ceil(s.x-r.x*t),Math.ceil(s.y-r.y*t)),o.scale(t,t),e.source.draw(o),o.restore(),++this._index<this._frames.length},wm.SpriteSheetBuilder=wm.promote(e,"EventDispatcher")}(),function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=wm.extend(e,wm.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var s=t.style,r=this.getConcatenatedDisplayProps(this._props),o=r.matrix,i=r.visible?"visible":"hidden";if(i!=s.visibility&&(s.visibility=i),r.visible){var a=this._oldProps,n=a&&a.matrix,l=1e4;if(!n||!n.equals(o)){var c="matrix("+(o.a*l|0)/l+","+(o.b*l|0)/l+","+(o.c*l|0)/l+","+(o.d*l|0)/l+","+(o.tx+.5|0);s.transform=s.WebkitTransform=s.OTransform=s.msTransform=c+","+(o.ty+.5|0)+")",s.MozTransform=c+"px,"+(o.ty+.5|0)+"px)",a||(a=this._oldProps=new wm.DisplayProps(!0,NaN)),a.matrix.copy(o)}a.alpha!=r.alpha&&(s.opacity=""+(r.alpha*l|0)/l,a.alpha=r.alpha)}}},wm.DOMElement=wm.promote(e,"DisplayObject")}(),function(){function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,s,r,o,i,a,n){i=i||e,null==a&&(a=t),null==n&&(n=s);try{var l=e.getImageData(t,s,r,o)}catch(Xp){return!1}return!!this._applyFilter(l)&&(i.putImageData(l,a,n),!0)},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},wm.Filter=e}(),function(){function e(e,t,s){(isNaN(e)||e<0)&&(e=0),(isNaN(t)||t<0)&&(t=0),(isNaN(s)||s<1)&&(s=1),this.blurX=0|e,this.blurY=0|t,this.quality=0|s}var t=wm.extend(e,wm.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,s=0|this.blurY;if(t<=0&&s<=0)return e;var r=Math.pow(this.quality,.2);return(e||new wm.Rectangle).pad(t*r+1,s*r+1,t*r+1,s*r+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var s=this.blurX>>1;if(isNaN(s)||s<0)return!1;var r=this.blurY>>1;if(isNaN(r)||r<0)return!1;if(0==s&&0==r)return!1;var o=this.quality;(isNaN(o)||o<1)&&(o=1),(o|=0)>3&&(o=3),o<1&&(o=1);var i=t.data,a=0,n=0,l=0,c=0,m=0,d=0,u=0,h=0,p=0,f=0,v=0,b=0,g=0,x=0,N=0,w=s+s+1|0,y=r+r+1|0,_=0|t.width,E=0|t.height,D=_-1|0,S=E-1|0,j=s+1|0,T=r+1|0,P={r:0,b:0,g:0,a:0},C=P;for(l=1;l<w;l++)C=C.n={r:0,b:0,g:0,a:0};C.n=P;var k={r:0,b:0,g:0,a:0},U=k;for(l=1;l<y;l++)U=U.n={r:0,b:0,g:0,a:0};U.n=k;for(var V=null,A=0|e.MUL_TABLE[s],M=0|e.SHG_TABLE[s],L=0|e.MUL_TABLE[r],I=0|e.SHG_TABLE[r];o-- >0;){u=d=0;var O=A,R=M;for(n=E;--n>-1;){for(h=j*(b=i[0|d]),p=j*(g=i[d+1|0]),f=j*(x=i[d+2|0]),v=j*(N=i[d+3|0]),C=P,l=j;--l>-1;)C.r=b,C.g=g,C.b=x,C.a=N,C=C.n;for(l=1;l<j;l++)c=d+((D<l?D:l)<<2)|0,h+=C.r=i[c],p+=C.g=i[c+1],f+=C.b=i[c+2],v+=C.a=i[c+3],C=C.n;for(V=P,a=0;a<_;a++)i[d++]=h*O>>>R,i[d++]=p*O>>>R,i[d++]=f*O>>>R,i[d++]=v*O>>>R,c=u+((c=a+s+1)<D?c:D)<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n;u+=_}for(O=L,R=I,a=0;a<_;a++){for(h=T*(b=i[d=a<<2])|0,p=T*(g=i[d+1|0])|0,f=T*(x=i[d+2|0])|0,v=T*(N=i[d+3|0])|0,U=k,l=0;l<T;l++)U.r=b,U.g=g,U.b=x,U.a=N,U=U.n;for(m=_,l=1;l<=r;l++)d=m+a<<2,h+=U.r=i[d],p+=U.g=i[d+1],f+=U.b=i[d+2],v+=U.a=i[d+3],U=U.n,l<S&&(m+=_);if(d=a,V=k,o>0)for(n=0;n<E;n++)i[3+(c=d<<2)]=N=v*O>>>R,N>0?(i[c]=h*O>>>R,i[c+1]=p*O>>>R,i[c+2]=f*O>>>R):i[c]=i[c+1]=i[c+2]=0,c=a+((c=n+T)<S?c:S)*_<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n,d+=_;else for(n=0;n<E;n++)i[3+(c=d<<2)]=N=v*O>>>R,N>0?(N=255/N,i[c]=(h*O>>>R)*N,i[c+1]=(p*O>>>R)*N,i[c+2]=(f*O>>>R)*N):i[c]=i[c+1]=i[c+2]=0,c=a+((c=n+T)<S?c:S)*_<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n,d+=_}}return!0},wm.BlurFilter=wm.promote(e,"Filter")}(),function(){function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=wm.extend(e,wm.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,s=this._mapData,r=0,o=t.length;r<o;r+=4)t[r+3]=s[r]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,s=t;t instanceof HTMLCanvasElement?e=s.getContext("2d"):((s=wm.createCanvas?wm.createCanvas():document.createElement("canvas")).width=t.width,s.height=t.height,(e=s.getContext("2d")).drawImage(t,0,0));try{var r=e.getImageData(0,0,t.width,t.height)}catch(Xp){return!1}return this._mapData=r.data,!0},wm.AlphaMapFilter=wm.promote(e,"Filter")}(),function(){function e(e){this.mask=e}var t=wm.extend(e,wm.Filter);t.applyFilter=function(e,t,s,r,o,i,a,n){return!this.mask||(null==a&&(a=t),null==n&&(n=s),(i=i||e).save(),e==i&&(i.globalCompositeOperation="destination-in",i.drawImage(this.mask,a,n),i.restore(),!0))},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},wm.AlphaMaskFilter=wm.promote(e,"Filter")}(),function(){function e(e,t,s,r,o,i,a,n){this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=s?s:1,this.alphaMultiplier=null!=r?r:1,this.redOffset=o||0,this.greenOffset=i||0,this.blueOffset=a||0,this.alphaOffset=n||0}var t=wm.extend(e,wm.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,s=t.length,r=0;r<s;r+=4)t[r]=t[r]*this.redMultiplier+this.redOffset,t[r+1]=t[r+1]*this.greenMultiplier+this.greenOffset,t[r+2]=t[r+2]*this.blueMultiplier+this.blueOffset,t[r+3]=t[r+3]*this.alphaMultiplier+this.alphaOffset;return!0},wm.ColorFilter=wm.promote(e,"Filter")}(),function(){function e(e,t,s,r){this.setColor(e,t,s,r)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,s,r){return this.reset().adjustColor(e,t,s,r)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,s,r){return this.adjustHue(r),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(s)},t.adjustBrightness=function(e){return 0==e||isNaN(e)||(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])),this},t.adjustContrast=function(t){return 0==t||isNaN(t)||(s=(t=this._cleanValue(t,100))<0?127+t/100*127:127*(s=0==(s=t%1)?e.DELTA_INDEX[t]:e.DELTA_INDEX[0|t]*(1-s)+e.DELTA_INDEX[1+(0|t)]*s)+127,this._multiplyMatrix([s/127,0,0,0,.5*(127-s),0,s/127,0,0,.5*(127-s),0,0,s/127,0,.5*(127-s),0,0,0,1,0,0,0,0,0,1])),this;var s},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;var t=1+((e=this._cleanValue(e,100))>0?3*e/100:e/100),s=.3086,r=.6094,o=.082;return this._multiplyMatrix([s*(1-t)+t,r*(1-t),o*(1-t),0,0,s*(1-t),r*(1-t)+t,o*(1-t),0,0,s*(1-t),r*(1-t),o*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),s=Math.sin(e),r=.213,o=.715,i=.072;return this._multiplyMatrix([r+.787*t+s*-r,o+t*-o+s*-o,i+t*-i+.928*s,0,0,r+t*-r+.143*s,o+t*(1-o)+.14*s,i+t*-i+-.283*s,0,0,r+t*-r+-.787*s,o+t*-o+s*o,i+.928*t+s*i,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return(t=this._fixMatrix(t)).length!=e.LENGTH||this._multiplyMatrix(t),this},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],s=0,r=e.LENGTH;s<r;s++)t[s]=this[s];return t},t.copy=function(t){for(var s=e.LENGTH,r=0;r<s;r++)this[r]=t[r];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,s,r,o=[];for(t=0;t<5;t++){for(s=0;s<5;s++)o[s]=this[s+5*t];for(s=0;s<5;s++){var i=0;for(r=0;r<5;r++)i+=e[s+5*r]*o[r];this[s+5*t]=i}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},wm.ColorMatrix=e}(),function(){function e(e){this.matrix=e}var t=wm.extend(e,wm.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,s,r,o,i=e.data,a=i.length,n=this.matrix,l=n[0],c=n[1],m=n[2],d=n[3],u=n[4],h=n[5],p=n[6],f=n[7],v=n[8],b=n[9],g=n[10],x=n[11],N=n[12],w=n[13],y=n[14],_=n[15],E=n[16],D=n[17],S=n[18],j=n[19],T=0;T<a;T+=4)t=i[T],s=i[T+1],r=i[T+2],o=i[T+3],i[T]=t*l+s*c+r*m+o*d+u,i[T+1]=t*h+s*p+r*f+o*v+b,i[T+2]=t*g+s*x+r*N+o*w+y,i[T+3]=t*_+s*E+r*D+o*S+j;return!0},wm.ColorMatrixFilter=wm.promote(e,"Filter")}(),function(){function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,s,r){return!!(t&&t.canvas&&e.isSupported())&&(t.__touch||(t.__touch={pointers:{},multitouch:!s,preventDefault:!r,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t)),!0)},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var s=t.canvas,r=t.__touch.f=function(s){e._IOS_handleEvent(t,s)};s.addEventListener("touchstart",r,!1),s.addEventListener("touchmove",r,!1),s.addEventListener("touchend",r,!1),s.addEventListener("touchcancel",r,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var s=e.__touch.f;t.removeEventListener("touchstart",s,!1),t.removeEventListener("touchmove",s,!1),t.removeEventListener("touchend",s,!1),t.removeEventListener("touchcancel",s,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var s=t.changedTouches,r=t.type,o=0,i=s.length;o<i;o++){var a=s[o],n=a.identifier;a.target==e.canvas&&("touchstart"==r?this._handleStart(e,n,t,a.pageX,a.pageY):"touchmove"==r?this._handleMove(e,n,t,a.pageX,a.pageY):"touchend"!=r&&"touchcancel"!=r||this._handleEnd(e,n,t))}}},e._IE_enable=function(t){var s=t.canvas,r=t.__touch.f=function(s){e._IE_handleEvent(t,s)};void 0===window.navigator.pointerEnabled?(s.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),t.__touch.preventDefault&&(s.style.msTouchAction="none")):(s.addEventListener("pointerdown",r,!1),window.addEventListener("pointermove",r,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1),t.__touch.preventDefault&&(s.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var s=t.type,r=t.pointerId,o=e.__touch.activeIDs;if("MSPointerDown"==s||"pointerdown"==s){if(t.srcElement!=e.canvas)return;o[r]=!0,this._handleStart(e,r,t,t.pageX,t.pageY)}else o[r]&&("MSPointerMove"==s||"pointermove"==s?this._handleMove(e,r,t,t.pageX,t.pageY):"MSPointerUp"!=s&&"MSPointerCancel"!=s&&"pointerup"!=s&&"pointercancel"!=s||(delete o[r],this._handleEnd(e,r,t)))}},e._handleStart=function(e,t,s,r,o){var i=e.__touch;if(i.multitouch||!i.count){var a=i.pointers;a[t]||(a[t]=!0,i.count++,e._handlePointerDown(t,s,r,o))}},e._handleMove=function(e,t,s,r,o){e.__touch.pointers[t]&&e._handlePointerMove(t,s,r,o)},e._handleEnd=function(e,t,s){var r=e.__touch,o=r.pointers;o[t]&&(r.count--,e._handlePointerUp(t,s,!0),delete o[t])},wm.Touch=e}(),(gm=wm.EaselJS=wm.EaselJS||{}).version="0.8.2",gm.buildDate="Thu, 26 Nov 2015 20:44:34 GMT",function(){var e=wm.PreloadJS=wm.PreloadJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),wm.proxy=function(e,t){var s=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(s))}},function(){function e(e,t,s){this.Event_constructor("error"),this.title=e,this.message=t,this.data=s}wm.extend(e,wm.Event).clone=function(){return new wm.ErrorEvent(this.title,this.message,this.data)},wm.ErrorEvent=wm.promote(e,"Event")}(),function(){function e(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}wm.extend(e,wm.Event).clone=function(){return new wm.ProgressEvent(this.loaded,this.total)},wm.ProgressEvent=wm.promote(e,"Event")}(),function(){var e={function:!0,object:!0},t=bm&&!bm.nodeType&&bm,s=e[typeof window]&&window||this,r=t&&e.object&&vm&&!vm.nodeType&&"object"==typeof c&&c;function o(t,r){t||(t=s.Object()),r||(r=s.Object());var i=t.Number||s.Number,a=t.String||s.String,n=t.Object||s.Object,l=t.Date||s.Date,c=t.SyntaxError||s.SyntaxError,m=t.TypeError||s.TypeError,d=t.Math||s.Math,u=t.JSON||s.JSON;"object"==typeof u&&u&&(r.stringify=u.stringify,r.parse=u.parse);var h,p,f,v=n.prototype,b=v.toString,g=new l(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(B){}function x(e){if(x[e]!==f)return x[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=x("json-stringify")&&x("json-parse");else{var s,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var n=r.stringify,c="function"==typeof n&&g;if(c){(s=function(){return 1}).toJSON=s;try{c="0"===n(0)&&"0"===n(new i)&&'""'==n(new a)&&n(b)===f&&n(f)===f&&n()===f&&"1"===n(s)&&"[1]"==n([s])&&"[null]"==n([f])&&"null"==n(null)&&"[null,null,null]"==n([f,b,null])&&n({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===n(null,s)&&"[\n 1,\n 2\n]"==n([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==n(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==n(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==n(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==n(new l(-1))}catch(B){c=!1}}t=c}if("json-parse"==e){var m=r.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){var d=5==(s=m(o)).a.length&&1===s.a[0];if(d){try{d=!m('"\t"')}catch(B){}if(d)try{d=1!==m("01")}catch(B){}if(d)try{d=1!==m("1.")}catch(B){}}}}catch(B){d=!1}t=d}}return x[e]=!!t}if(!x("json")){var N="[object Function]",w="[object Number]",y="[object String]",_="[object Array]",E=x("bug-string-char-index");if(!g)var D=d.floor,S=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return S[t]+365*(e-1970)+D((e-1969+(t=+(t>1)))/4)-D((e-1901+t)/100)+D((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,s={};return(s.__proto__=null,s.__proto__={toString:1},s).toString!=b?h=function(e){var t=this.__proto__,s=e in(this.__proto__=null,this);return this.__proto__=t,s}:(t=s.constructor,h=function(e){var s=(this.constructor||t).prototype;return e in this&&!(e in s&&this[e]===s[e])}),s=null,h.call(this,e)}),p=function(t,s){var r,o,i,a=0;for(i in(r=function(){this.valueOf=0}).prototype.valueOf=0,o=new r)h.call(o,i)&&a++;return r=o=null,a?p=2==a?function(e,t){var s,r={},o=b.call(e)==N;for(s in e)o&&"prototype"==s||h.call(r,s)||!(r[s]=1)||!h.call(e,s)||t(s)}:function(e,t){var s,r,o=b.call(e)==N;for(s in e)o&&"prototype"==s||!h.call(e,s)||(r="constructor"===s)||t(s);(r||h.call(e,s="constructor"))&&t(s)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(t,s){var r,i,a=b.call(t)==N,n=!a&&"function"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||h;for(r in t)a&&"prototype"==r||!n.call(t,r)||s(r);for(i=o.length;r=o[--i];n.call(t,r)&&s(r));}),p(t,s)},!x("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},P=function(e,t){return("000000"+(t||0)).slice(-e)},C=function(e){for(var t='"',s=0,r=e.length,o=!E||r>10,i=o&&(E?e.split(""):e);s<r;s++){var a=e.charCodeAt(s);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[a];break;default:if(a<32){t+="\\u00"+P(2,a.toString(16));break}t+=o?i[s]:e.charAt(s)}}return t+'"'},k=function(e,t,s,r,o,i,a){var n,l,c,d,u,v,g,x,N,E,S,T,U,V,A,M;try{n=t[e]}catch(B){}if("object"==typeof n&&n)if("[object Date]"!=(l=b.call(n))||h.call(n,"toJSON"))"function"==typeof n.toJSON&&(l!=w&&l!=y&&l!=_||h.call(n,"toJSON"))&&(n=n.toJSON(e));else if(n>-1/0&&n<1/0){if(j){for(u=D(n/864e5),c=D(u/365.2425)+1970-1;j(c+1,0)<=u;c++);for(d=D((u-j(c,0))/30.42);j(c,d+1)<=u;d++);u=1+u-j(c,d),g=D((v=(n%864e5+864e5)%864e5)/36e5)%24,x=D(v/6e4)%60,N=D(v/1e3)%60,E=v%1e3}else c=n.getUTCFullYear(),d=n.getUTCMonth(),u=n.getUTCDate(),g=n.getUTCHours(),x=n.getUTCMinutes(),N=n.getUTCSeconds(),E=n.getUTCMilliseconds();n=(c<=0||c>=1e4?(c<0?"-":"+")+P(6,c<0?-c:c):P(4,c))+"-"+P(2,d+1)+"-"+P(2,u)+"T"+P(2,g)+":"+P(2,x)+":"+P(2,N)+"."+P(3,E)+"Z"}else n=null;if(s&&(n=s.call(t,e,n)),null===n)return"null";if("[object Boolean]"==(l=b.call(n)))return""+n;if(l==w)return n>-1/0&&n<1/0?""+n:"null";if(l==y)return C(""+n);if("object"==typeof n){for(V=a.length;V--;)if(a[V]===n)throw m();if(a.push(n),S=[],A=i,i+=o,l==_){for(U=0,V=n.length;U<V;U++)T=k(U,n,s,r,o,i,a),S.push(T===f?"null":T);M=S.length?o?"[\n"+i+S.join(",\n"+i)+"\n"+A+"]":"["+S.join(",")+"]":"[]"}else p(r||n,function(e){var t=k(e,n,s,r,o,i,a);t!==f&&S.push(C(e)+":"+(o?" ":"")+t)}),M=S.length?o?"{\n"+i+S.join(",\n"+i)+"\n"+A+"}":"{"+S.join(",")+"}":"{}";return a.pop(),M}};r.stringify=function(t,s,r){var o,i,a,n;if(e[typeof s]&&s)if((n=b.call(s))==N)i=s;else if(n==_){a={};for(var l,c=0,m=s.length;c<m;l=s[c++],((n=b.call(l))==y||n==w)&&(a[l]=1));}if(r)if((n=b.call(r))==w){if((r-=r%1)>0)for(o="",r>10&&(r=10);o.length<r;o+=" ");}else n==y&&(o=r.length<=10?r:r.slice(0,10));return k("",((l={})[""]=t,l),i,a,o,"",[])}}if(!x("json-parse")){var U,V,A=a.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw U=V=null,c()},I=function(){for(var e,t,s,r,o,i=V,a=i.length;U<a;)switch(o=i.charCodeAt(U)){case 9:case 10:case 13:case 32:U++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=E?i.charAt(U):i[U],U++,e;case 34:for(e="@",U++;U<a;)if((o=i.charCodeAt(U))<32)L();else if(92==o)switch(o=i.charCodeAt(++U)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[o],U++;break;case 117:for(t=++U,s=U+4;U<s;U++)(o=i.charCodeAt(U))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||L();e+=A("0x"+i.slice(t,U));break;default:L()}else{if(34==o)break;for(o=i.charCodeAt(U),t=U;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++U);e+=i.slice(t,U)}if(34==i.charCodeAt(U))return U++,e;L();default:if(t=U,45==o&&(r=!0,o=i.charCodeAt(++U)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(U+1))>=48&&o<=57&&L(),r=!1;U<a&&(o=i.charCodeAt(U))>=48&&o<=57;U++);if(46==i.charCodeAt(U)){for(s=++U;s<a&&(o=i.charCodeAt(s))>=48&&o<=57;s++);s==U&&L(),U=s}if(101==(o=i.charCodeAt(U))||69==o){for(43!=(o=i.charCodeAt(++U))&&45!=o||U++,s=U;s<a&&(o=i.charCodeAt(s))>=48&&o<=57;s++);s==U&&L(),U=s}return+i.slice(t,U)}if(r&&L(),"true"==i.slice(U,U+4))return U+=4,!0;if("false"==i.slice(U,U+5))return U+=5,!1;if("null"==i.slice(U,U+4))return U+=4,null;L()}return"$"},O=function(e){var t,s;if("$"==e&&L(),"string"==typeof e){if("@"==(E?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=I());s||(s=!0))s&&(","==e?"]"==(e=I())&&L():L()),","==e&&L(),t.push(O(e));return t}if("{"==e){for(t={};"}"!=(e=I());s||(s=!0))s&&(","==e?"}"==(e=I())&&L():L()),","!=e&&"string"==typeof e&&"@"==(E?e.charAt(0):e[0])&&":"==I()||L(),t[e.slice(1)]=O(I());return t}L()}return e},R=function(e,t,s){var r=F(e,t,s);r===f?delete e[t]:e[t]=r},F=function(e,t,s){var r,o=e[t];if("object"==typeof o&&o)if(b.call(o)==_)for(r=o.length;r--;)R(o,r,s);else p(o,function(e){R(o,e,s)});return s.call(e,t,o)};r.parse=function(e,t){var s,r;return U=0,V=""+e,s=O(I()),"$"!=I()&&L(),U=V=null,t&&b.call(t)==N?F(((r={})[""]=s,r),"",t):s}}}return r.runInContext=o,r}if(!r||r.global!==r&&r.window!==r&&r.self!==r||(s=r),t)o(s,t);else{var i=s.JSON,a=s.JSON3,n=!1,l=o(s,s.JSON3={noConflict:function(){return n||(n=!0,s.JSON=i,s.JSON3=a,i=a=null),l}});s.JSON={parse:l.parse,stringify:l.stringify}}}.call(c),function(){var e={appendToHead:function(t){e.getHead().appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};wm.DomUtils=e}(),function(){var e={parseXML:function(e,t){var s=null;try{window.DOMParser&&(s=(new DOMParser).parseFromString(e,t))}catch(Xp){}if(!s)try{(s=new ActiveXObject("Microsoft.XMLDOM")).async=!1,s.loadXML(e)}catch(Xp){s=null}return s},parseJSON:function(e){if(null==e)return null;try{return JSON.parse(e)}catch(Xp){throw Xp}}};wm.DataUtils=e}(),function(){function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=wm.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=s.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},s=e;s.LOAD_TIMEOUT_DEFAULT=8e3,s.create=function(t){if("string"==typeof t){var r=new e;return r.src=t,r}if(t instanceof s)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=s.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},wm.LoadItem=s}(),function(){var e={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(t){var s={absolute:!1,relative:!1};if(null==t)return s;var r,o=t.indexOf("?");return o>-1&&(t=t.substr(0,o)),e.ABSOLUTE_PATT.test(t)?s.absolute=!0:e.RELATIVE_PATT.test(t)&&(s.relative=!0),(r=t.match(e.EXTENSION_PATT))&&(s.extension=r[1].toLowerCase()),s},formatQueryString:function(e,t){if(null==e)throw new Error("You must specify data.");var s=[];for(var r in e)s.push(r+"="+escape(e[r]));return t&&(s=s.concat(t)),s.join("&")},buildPath:function(e,t){if(null==t)return e;var s=[],r=e.indexOf("?");if(-1!=r){var o=e.slice(r+1);s=s.concat(o.split("&"))}return-1!=r?e.slice(0,r)+"?"+this.formatQueryString(t,s):e+"?"+this.formatQueryString(t,s)},isCrossDomain:function(e){var t=document.createElement("a");t.href=e.src;var s=document.createElement("a");return s.href=location.href,""!=t.hostname&&(t.port!=s.port||t.protocol!=s.protocol||t.hostname!=s.hostname)},isLocal:function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},isBinary:function(e){switch(e){case wm.AbstractLoader.IMAGE:case wm.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(e){return e instanceof HTMLImageElement},isAudioTag:function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},isVideoTag:function(e){return!!window.HTMLVideoElement&&e instanceof HTMLVideoElement},isText:function(e){switch(e){case wm.AbstractLoader.TEXT:case wm.AbstractLoader.JSON:case wm.AbstractLoader.MANIFEST:case wm.AbstractLoader.XML:case wm.AbstractLoader.CSS:case wm.AbstractLoader.SVG:case wm.AbstractLoader.JAVASCRIPT:case wm.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(e){if(null==e)return wm.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return wm.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return wm.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return wm.AbstractLoader.VIDEO;case"json":return wm.AbstractLoader.JSON;case"xml":return wm.AbstractLoader.XML;case"css":return wm.AbstractLoader.CSS;case"js":return wm.AbstractLoader.JAVASCRIPT;case"svg":return wm.AbstractLoader.SVG;default:return wm.AbstractLoader.TEXT}}};wm.RequestUtils=e}(),function(){function e(e,t,s){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=s,this.resultFormatter=null,this._item=e?wm.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=wm.extend(e,wm.EventDispatcher),s=e;s.POST="POST",s.GET="GET",s.BINARY="binary",s.CSS="css",s.IMAGE="image",s.JAVASCRIPT="javascript",s.JSON="json",s.JSONP="jsonp",s.MANIFEST="manifest",s.SOUND="sound",s.VIDEO="video",s.SPRITESHEET="spritesheet",s.SVG="svg",s.TEXT="text",s.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new wm.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new wm.XHRRequest(this._item):this._request=new wm.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new wm.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new wm.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new wm.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,wm.proxy(this._resultFormatSuccess,this),wm.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new wm.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"))}},t._resultFormatSuccess=function(e){this._result=e,this._sendComplete()},t._resultFormatFailed=function(e){this._sendError(e)},t.buildPath=function(e,t){return wm.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},wm.AbstractLoader=wm.promote(e,"EventDispatcher")}(),function(){function e(e,t,s){this.AbstractLoader_constructor(e,t,s),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var t=wm.extend(e,wm.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new wm.XHRRequest(this._item):this._request=new wm.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._updateXHR=function(e){e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,s=e.getResult(!0);e.getTag().src=t.createObjectURL(s)}return e.getTag()},wm.AbstractMediaLoader=wm.promote(e,"AbstractLoader")}(),xm=function(e){this._item=e},(Nm=wm.extend(xm,wm.EventDispatcher)).load=function(){},Nm.destroy=function(){},Nm.cancel=function(){},wm.AbstractRequest=wm.promote(xm,"EventDispatcher"),function(){function e(e,t,s){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=s,this._loadedHandler=wm.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=wm.extend(e,wm.AbstractRequest);t.load=function(){this._tag.onload=wm.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=wm.proxy(this._handleReadyStateChange,this),this._tag.onerror=wm.proxy(this._handleError,this);var e=new wm.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(wm.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new wm.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},wm.TagRequest=wm.promote(e,"AbstractRequest")}(),function(){function e(e,t,s){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=s,this._loadedHandler=wm.proxy(this._handleTagComplete,this)}var t=wm.extend(e,wm.TagRequest);t.load=function(){var e=wm.proxy(this._handleStalled,this);this._stalledCallback=e;var t=wm.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new wm.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},wm.MediaTagRequest=wm.promote(e,"TagRequest")}(),function(){function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=wm.proxy(this._handleLoadStart,this),this._handleProgressProxy=wm.proxy(this._handleProgress,this),this._handleAbortProxy=wm.proxy(this._handleAbort,this),this._handleErrorProxy=wm.proxy(this._handleError,this),this._handleTimeoutProxy=wm.proxy(this._handleTimeout,this),this._handleLoadProxy=wm.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=wm.proxy(this._handleReadyStateChange,this),this._createXHR(e)}var t=wm.extend(e,wm.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(wm.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=wm.AbstractLoader.GET?this._item.method==wm.AbstractLoader.POST&&this._request.send(wm.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new wm.ErrorEvent("XHR_SEND",null,e))}}else this._handleError()},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new wm.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new wm.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new wm.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)this._handleError(t);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(Xp){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===Xp.name&&window.BlobBuilder){var s=new BlobBuilder;s.append(this._response),this._response=s.getBlob()}}this._clean(),this.dispatchEvent(new wm.Event("complete"))}}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new wm.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(Xp){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(Xp){}return null},t._createXHR=function(e){var t=wm.RequestUtils.isCrossDomain(e),r={},o=null;if(window.XMLHttpRequest)o=new XMLHttpRequest,t&&void 0===o.withCredentials&&window.XDomainRequest&&(o=new XDomainRequest);else{for(var i=0,a=s.ACTIVEX_VERSIONS.length;i<a;i++){var n=s.ACTIVEX_VERSIONS[i];try{o=new ActiveXObject(n);break}catch(Xp){}}if(null==o)return!1}null==e.mimeType&&wm.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof o.responseType?2:1;var l=null;if(l=e.method==wm.AbstractLoader.GET?wm.RequestUtils.buildPath(e.src,e.values):e.src,o.open(e.method||wm.AbstractLoader.GET,l,!0),t&&o instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),e.values&&e.method==wm.AbstractLoader.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),t||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var c in e.headers)r[c]=e.headers[c];for(c in r)o.setRequestHeader(c,r[c]);return o instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(o.withCredentials=e.withCredentials),this._request=o,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},wm.XHRRequest=wm.promote(e,"AbstractRequest")}(),function(){function e(e,t,s){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[wm.ImageLoader,wm.JavaScriptLoader,wm.CSSLoader,wm.JSONLoader,wm.JSONPLoader,wm.SoundLoader,wm.ManifestLoader,wm.SpriteSheetLoader,wm.XMLLoader,wm.SVGLoader,wm.BinaryLoader,wm.VideoLoader,wm.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,s)}var t=wm.extend(e,wm.AbstractLoader),s=e;t.init=function(e,t,s){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=s,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},s.loadTimeout=8e3,s.LOAD_TIMEOUT=0,s.BINARY=wm.AbstractLoader.BINARY,s.CSS=wm.AbstractLoader.CSS,s.IMAGE=wm.AbstractLoader.IMAGE,s.JAVASCRIPT=wm.AbstractLoader.JAVASCRIPT,s.JSON=wm.AbstractLoader.JSON,s.JSONP=wm.AbstractLoader.JSONP,s.MANIFEST=wm.AbstractLoader.MANIFEST,s.SOUND=wm.AbstractLoader.SOUND,s.VIDEO=wm.AbstractLoader.VIDEO,s.SVG=wm.AbstractLoader.SVG,s.TEXT=wm.AbstractLoader.TEXT,s.XML=wm.AbstractLoader.XML,s.POST=wm.AbstractLoader.POST,s.GET=wm.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(e&&!Array.isArray(e))t=[e];else if(e)t=e;else if(arguments.length>0)return;var s=!1;if(t){for(;t.length;){var r=t.pop(),o=this.getResult(r);for(i=this._loadQueue.length-1;i>=0;i--)if((a=this._loadQueue[i].getItem()).id==r||a.src==r){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;i>=0;i--)if((a=this._loadQueueBackup[i].getItem()).id==r||a.src==r){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(o)this._disposeItem(this.getItem(r));else for(var i=this._currentLoads.length-1;i>=0;i--){var a=this._currentLoads[i].getItem();if(a.id==r||a.src==r){this._currentLoads.splice(i,1)[0].cancel(),s=!0;break}}}s&&this._loadNext()}else{for(var n in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[n]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){for(var e in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],s=0,r=this._loadQueueBackup.length;s<r;s++)t.push(this._loadQueueBackup[s].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var s=0,r=t.types.length;s<r;s++)this._typeCallbacks[t.types[s]]=t;if(null!=t.extensions)for(s=0,r=t.extensions.length;s<r;s++)this._extensionCallbacks[t.extensions[s]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&this._loadQueue.length>0&&this._loadNext()},t.loadFile=function(e,t,s){if(null!=e)this._addItem(e,null,s),!1!==t?this.setPaused(!1):this.setPaused(!0);else{var r=new wm.ErrorEvent("PRELOAD_NO_FILE");this._sendError(r)}},t.loadManifest=function(e,t,r){var o=null,i=null;if(Array.isArray(e)){if(0==e.length){var a=new wm.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}o=e}else if("string"==typeof e)o=[{src:e,type:s.MANIFEST}];else{if("object"!=typeof e)return a=new wm.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(a);if(void 0!==e.src){if(null==e.type)e.type=s.MANIFEST;else if(e.type!=s.MANIFEST){var a=new wm.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}o=[e]}else void 0!==e.manifest&&(o=e.manifest,i=e.path)}for(var n=0,l=o.length;n<l;n++)this._addItem(o[n],i,r);!1!==t?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var s=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==s)return null;var r=s.id;return t&&this._loadedRawResults[r]?this._loadedRawResults[r]:this._loadedResults[r]},t.getItems=function(e){var t=[];for(var s in this._loadItemsById){var r=this._loadItemsById[s],o=this.getResult(s);!0===e&&null==o||t.push({item:r,result:o,rawResult:this.getResult(s,!0)})}return t},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,s){var r=this._createLoadItem(e,t,s);if(null!=r){var o=this._createLoader(r);null!=o&&("plugins"in o&&(o.plugins=this._plugins),r._loader=o,this._loadQueue.push(o),this._loadQueueBackup.push(o),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&r.type==wm.LoadQueue.JAVASCRIPT||!0===r.maintainOrder)&&(this._scriptOrder.push(r),this._loadedScripts.push(null)))}},t._createLoadItem=function(e,t,s){var r=wm.LoadItem.create(e);if(null==r)return null;var o="",i=s||this._basePath;if(r.src instanceof Object){if(!r.type)return null;if(t){o=t;var a=wm.RequestUtils.parseURI(t);null==i||a.absolute||a.relative||(o=i+o)}else null!=i&&(o=i)}else{var n=wm.RequestUtils.parseURI(r.src);n.extension&&(r.ext=n.extension),null==r.type&&(r.type=wm.RequestUtils.getTypeByExtension(r.ext));var l=r.src;n.absolute||n.relative||(t?(o=t,a=wm.RequestUtils.parseURI(t),l=t+l,null==i||a.absolute||a.relative||(o=i+o)):null!=i&&(o=i)),r.src=o+r.src}r.path=o,void 0!==r.id&&null!==r.id&&""!==r.id||(r.id=l);var c=this._typeCallbacks[r.type]||this._extensionCallbacks[r.ext];if(c){var m=c.callback.call(c.scope,r,this);if(!1===m)return null;!0===m||null!=m&&(r._loader=m),null!=(n=wm.RequestUtils.parseURI(r.src)).extension&&(r.ext=n.extension)}return this._loadItemsById[r.id]=r,this._loadItemsBySrc[r.src]=r,null==r.crossOrigin&&(r.crossOrigin=this._crossOrigin),r},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,s=0;s<this._availableLoaders.length;s++){var r=this._availableLoaders[s];if(r&&r.canLoadItem(e))return new r(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new wm.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var s=new wm.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(s),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,s=t.getItem(),r=t.getResult();this._loadedResults[s.id]=r;var o=t.getResult(!0);null!=o&&o!==r&&(this._loadedRawResults[s.id]=o),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(s,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var s=0;s<t.length;s++){var r=t[s].item;this._loadItemsBySrc[r.src]=r,this._loadItemsById[r.id]=r,this._loadedResults[r.id]=t[s].result,this._loadedRawResults[r.id]=t[s].rawResult}},t._finishOrderedItem=function(e,t){var s=e.getItem();if(this.maintainScriptOrder&&s.type==wm.LoadQueue.JAVASCRIPT||s.maintainOrder){e instanceof wm.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var r=wm.indexOf(this._scriptOrder,s);return-1!=r&&(this._loadedScripts[r]=!0===t||s,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;t<e;t++){var s=this._loadedScripts[t];if(null===s)break;if(!0!==s){var r=this._loadedResults[s.id];s.type==wm.LoadQueue.JAVASCRIPT&&wm.DomUtils.appendToHead(r);var o=s._loader;this._processFinishedLoad(s,o),this._loadedScripts[t]=!0}}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==wm.LoadQueue.JAVASCRIPT){var s=t.getTag();wm.DomUtils.appendToHead(s)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;var t=e.getItem();if(t.type!=wm.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var s=this._scriptOrder.indexOf(t),r=0;r<s;){if(null==this._loadedScripts[r])return!1;r++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,s=0;s<t;s++)if(this._currentLoads[s]==e){this._currentLoads.splice(s,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var s=0,r=0,o=this._currentLoads.length;r<o;r++)s+=this._currentLoads[r].progress;e+=s/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var s=new wm.Event("fileprogress");s.progress=t,s.loaded=t,s.total=1,s.item=e,this.dispatchEvent(s)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var s=new wm.Event("fileload");s.loader=t,s.item=e,s.result=this._loadedResults[e.id],s.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(s),this.hasEventListener("fileload")&&this.dispatchEvent(s)}},t._sendFileStart=function(e){var t=new wm.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},wm.LoadQueue=wm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,wm.AbstractLoader.TEXT)}wm.extend(e,wm.AbstractLoader),e.canLoadItem=function(e){return e.type==wm.AbstractLoader.TEXT},wm.TextLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,wm.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},wm.BinaryLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,wm.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=t?document.createElement("style"):document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var s=document.createTextNode(e.getResult(!0));t.appendChild(s)}}else t=this._tag;return wm.DomUtils.appendToHead(t),t},wm.CSSLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,wm.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",wm.RequestUtils.isImageTag(e)?this._tag=e:wm.RequestUtils.isImageTag(e.src)?this._tag=e.src:wm.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||wm.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load()}},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){return this._formatImage},t._formatImage=function(e,t){var s=this._tag,r=window.URL||window.webkitURL;if(this._preferXHR)if(r){var o=r.createObjectURL(this.getResult(!0));s.src=o,s.addEventListener("load",this._cleanUpURL,!1),s.addEventListener("error",this._cleanUpURL,!1)}else s.src=this._item.src;s.complete?e(s):(s.onload=wm.proxy(function(){e(this._tag)},this),s.onerror=wm.proxy(function(){t(_this._tag)},this))},t._cleanUpURL=function(e){(window.URL||window.webkitURL).revokeObjectURL(e.target.src)},wm.ImageLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,wm.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},wm.JavaScriptLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,wm.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.JSON},t._formatResult=function(e){var t=null;try{t=wm.DataUtils.parseJSON(e.getResult(!0))}catch(Xp){var s=new wm.ErrorEvent("JSON_FORMAT",null,Xp);return this._sendError(s),Xp}return t},wm.JSONLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!1,wm.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=wm.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(wm.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new wm.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},wm.JSONPLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,null,wm.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=wm.extend(e,wm.AbstractLoader),s=e;s.MANIFEST_PROGRESS=.25,s.canLoadItem=function(e){return e.type==wm.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new wm.JSONPLoader(this._item):new wm.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(s.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=s.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new wm.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var s=0,r=this.plugins.length;s<r;s++)t.installPlugin(this.plugins[s]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(e){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-s.MANIFEST_PROGRESS)+s.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new wm.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},wm.ManifestLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractMediaLoader_constructor(e,t,wm.AbstractLoader.SOUND),wm.RequestUtils.isAudioTag(e)||wm.RequestUtils.isAudioTag(e.src)?this._tag=e:wm.RequestUtils.isAudioTag(e.tag)&&(this._tag=wm.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=wm.extend(e,wm.AbstractMediaLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},wm.SoundLoader=wm.promote(e,"AbstractMediaLoader")}(),function(){function e(e,t){this.AbstractMediaLoader_constructor(e,t,wm.AbstractLoader.VIDEO),wm.RequestUtils.isVideoTag(e)||wm.RequestUtils.isVideoTag(e.src)?(this.setTag(wm.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=e;wm.extend(e,wm.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},t.canLoadItem=function(e){return e.type==wm.AbstractLoader.VIDEO},wm.VideoLoader=wm.promote(e,"AbstractMediaLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,wm.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=wm.extend(e,wm.AbstractLoader),s=e;s.SPRITESHEET_PROGRESS=.25,s.canLoadItem=function(e){return e.type==wm.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new wm.JSONPLoader(this._item):new wm.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(s.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=s.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new wm.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var s=this.getResult().images,r=s.indexOf(e.item.src);s[r]=t}},t._handleManifestComplete=function(e){this._result=new wm.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-s.SPRITESHEET_PROGRESS)+s.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new wm.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},wm.SpriteSheetLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,wm.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.SVG},t._formatResult=function(e){var t=wm.DataUtils.parseXML(e.getResult(!0),"text/xml"),s=e.getTag();return!this._preferXHR&&document.body.contains(s)&&document.body.removeChild(s),null!=t.documentElement?(s.appendChild(t.documentElement),s.style.visibility="visible",s):t},wm.SVGLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,wm.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=wm.extend(e,wm.AbstractLoader);e.canLoadItem=function(e){return e.type==wm.AbstractLoader.XML},t._formatResult=function(e){return wm.DataUtils.parseXML(e.getResult(!0),"text/xml")},wm.XMLLoader=wm.promote(e,"AbstractLoader")}(),function(){var e=wm.SoundJS=wm.SoundJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),wm.indexOf=function(e,t){for(var s=0,r=e.length;s<r;s++)if(t===e[s])return s;return-1},wm.proxy=function(e,t){var s=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(s))}},function(){function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,wm.BrowserDetect=e}(),function(){var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},s=e;s.create=function(e){if(e instanceof s||e instanceof Object){var t=new wm.PlayPropsConfig;return t.set(e),t}throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},wm.PlayPropsConfig=s}(),function(){function e(){throw"Sound cannot be instantiated"}var t=e;function s(e,t){this.init(e,t)}t.INTERRUPT_ANY="any",t.INTERRUPT_EARLY="early",t.INTERRUPT_LATE="late",t.INTERRUPT_NONE="none",t.PLAY_INITED="playInited",t.PLAY_SUCCEEDED="playSucceeded",t.PLAY_INTERRUPTED="playInterrupted",t.PLAY_FINISHED="playFinished",t.PLAY_FAILED="playFailed",t.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],t.EXTENSION_MAP={m4a:"mp4"},t.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,t.defaultInterruptBehavior=t.INTERRUPT_NONE,t.alternateExtensions=[],t.activePlugin=null,t._masterVolume=1,Object.defineProperty(t,"volume",{get:function(){return this._masterVolume},set:function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),t._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var s=this._instances,r=0,o=s.length;r<o;r++)s[r].setMasterVolume(e)}}),t._masterMute=!1,Object.defineProperty(t,"muted",{get:function(){return this._masterMute},set:function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,s=0,r=t.length;s<r;s++)t[s].setMasterMute(e);return!0}}),Object.defineProperty(t,"capabilities",{get:function(){return null==t.activePlugin?null:t.activePlugin._capabilities},set:function(e){return!1}}),t._pluginsRegistered=!1,t._lastID=0,t._instances=[],t._idHash={},t._preloadHash={},t._defaultPlayPropsHash={},t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,wm.EventDispatcher.initialize(t),t.getPreloadHandlers=function(){return{callback:wm.proxy(t.initLoad,t),types:["sound"],extensions:t.SUPPORTED_EXTENSIONS}},t._handleLoadComplete=function(e){var s=e.target.getItem().src;if(t._preloadHash[s])for(var r=0,o=t._preloadHash[s].length;r<o;r++){var i=t._preloadHash[s][r];t._preloadHash[s][r]=!0,t.hasEventListener("fileload")&&((e=new wm.Event("fileload")).src=i.src,e.id=i.id,e.data=i.data,e.sprite=i.sprite,t.dispatchEvent(e))}},t._handleLoadError=function(e){var s=e.target.getItem().src;if(t._preloadHash[s])for(var r=0,o=t._preloadHash[s].length;r<o;r++){var i=t._preloadHash[s][r];t._preloadHash[s][r]=!1,t.hasEventListener("fileerror")&&((e=new wm.Event("fileerror")).src=i.src,e.id=i.id,e.data=i.data,e.sprite=i.sprite,t.dispatchEvent(e))}},t._registerPlugin=function(e){return!!e.isSupported()&&(t.activePlugin=new e,!0)},t.registerPlugins=function(e){t._pluginsRegistered=!0;for(var s=0,r=e.length;s<r;s++)if(t._registerPlugin(e[s]))return!0;return!1},t.initializeDefaultPlugins=function(){return null!=t.activePlugin||!t._pluginsRegistered&&!!t.registerPlugins([wm.WebAudioPlugin,wm.HTMLAudioPlugin])},t.isReady=function(){return null!=t.activePlugin},t.getCapabilities=function(){return null==t.activePlugin?null:t.activePlugin._capabilities},t.getCapability=function(e){return null==t.activePlugin?null:t.activePlugin._capabilities[e]},t.initLoad=function(e){return t._registerSound(e)},t._registerSound=function(e){if(!t.initializeDefaultPlugins())return!1;var r;if(e.src instanceof Object?(r=t._parseSrc(e.src)).src=e.path+r.src:r=t._parsePath(e.src),null==r)return!1;e.src=r.src,e.type="sound";var o=e.data,i=null;if(null!=o&&(isNaN(o.channels)?isNaN(o)||(i=parseInt(o)):i=parseInt(o.channels),o.audioSprite))for(var a,n=o.audioSprite.length;n--;)a=o.audioSprite[n],t._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(t._defaultPlayPropsHash[a.id]=wm.PlayPropsConfig.create(a.defaultPlayProps));null!=e.id&&(t._idHash[e.id]={src:e.src});var l=t.activePlugin.register(e);return s.create(e.src,i),null!=o&&isNaN(o)?e.data.channels=i||s.maxPerChannel():e.data=i||s.maxPerChannel(),l.type&&(e.type=l.type),e.defaultPlayProps&&(t._defaultPlayPropsHash[e.src]=wm.PlayPropsConfig.create(e.defaultPlayProps)),l},t.registerSound=function(e,s,r,o,i){var a={src:e,id:s,data:r,defaultPlayProps:i};e instanceof Object&&e.src&&(o=s,a=e),(a=wm.LoadItem.create(a)).path=o,null==o||a.src instanceof Object||(a.src=o+e);var n=t._registerSound(a);if(!n)return!1;if(t._preloadHash[a.src]||(t._preloadHash[a.src]=[]),t._preloadHash[a.src].push(a),1==t._preloadHash[a.src].length)n.on("complete",wm.proxy(this._handleLoadComplete,this)),n.on("error",wm.proxy(this._handleLoadError,this)),t.activePlugin.preload(n);else if(1==t._preloadHash[a.src][0])return!0;return a},t.registerSounds=function(e,t){var s=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var r=0,o=e.length;r<o;r++)s[r]=wm.Sound.registerSound(e[r].src,e[r].id,e[r].data,t,e[r].defaultPlayProps);return s},t.removeSound=function(e,r){if(null==t.activePlugin)return!1;var o;if(e instanceof Object&&e.src&&(e=e.src),e instanceof Object?o=t._parseSrc(e):(e=t._getSrcById(e).src,o=t._parsePath(e)),null==o)return!1;for(var i in e=o.src,null!=r&&(e=r+e),t._idHash)t._idHash[i].src==e&&delete t._idHash[i];return s.removeSrc(e),delete t._preloadHash[e],t.activePlugin.removeSound(e),!0},t.removeSounds=function(e,t){var s=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var r=0,o=e.length;r<o;r++)s[r]=wm.Sound.removeSound(e[r].src,t);return s},t.removeAllSounds=function(){t._idHash={},t._preloadHash={},s.removeAll(),t.activePlugin&&t.activePlugin.removeAllSounds()},t.loadComplete=function(e){if(!t.isReady())return!1;var s=t._parsePath(e);return e=s?t._getSrcById(s.src).src:t._getSrcById(e).src,null!=t._preloadHash[e]&&1==t._preloadHash[e][0]},t._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var s=e.match(t.FILE_PATTERN);if(null==s)return!1;for(var r=s[4],o=s[5],i=t.capabilities,a=0;!i[o];)if(o=t.alternateExtensions[a++],a>t.alternateExtensions.length)return null;return{name:r,src:e=e.replace("."+s[5],"."+o),extension:o}},t._parseSrc=function(e){var s={name:void 0,src:void 0,extension:void 0},r=t.capabilities;for(var o in e)if(e.hasOwnProperty(o)&&r[o]){s.src=e[o],s.extension=o;break}if(!s.src)return!1;var i=s.src.lastIndexOf("/");return s.name=-1!=i?s.src.slice(i+1):s.src,s},t.play=function(e,s,r,o,i,a,n,l,c){var m;m=s instanceof Object||s instanceof wm.PlayPropsConfig?wm.PlayPropsConfig.create(s):wm.PlayPropsConfig.create({interrupt:s,delay:r,offset:o,loop:i,volume:a,pan:n,startTime:l,duration:c});var d=t.createInstance(e,m.startTime,m.duration);return t._playInstance(d,m)||d._playFailed(),d},t.createInstance=function(e,r,o){if(!t.initializeDefaultPlugins())return new wm.DefaultSoundInstance(e,r,o);var i=t._defaultPlayPropsHash[e];e=t._getSrcById(e);var a=t._parsePath(e.src),n=null;return null!=a&&null!=a.src?(s.create(a.src),null==r&&(r=e.startTime),n=t.activePlugin.create(a.src,r,o||e.duration),(i=i||t._defaultPlayPropsHash[a.src])&&n.applyPlayProps(i)):n=new wm.DefaultSoundInstance(e,r,o),n.uniqueId=t._lastID++,n},t.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},t.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),t._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var s=this._instances,r=0,o=s.length;r<o;r++)s[r].setMasterVolume(e)},t.getVolume=function(){return this._masterVolume},t.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,s=0,r=t.length;s<r;s++)t[s].setMasterMute(e);return!0},t.getMute=function(){return this._masterMute},t.setDefaultPlayProps=function(e,s){e=t._getSrcById(e),t._defaultPlayPropsHash[t._parsePath(e.src).src]=wm.PlayPropsConfig.create(s)},t.getDefaultPlayProps=function(e){return e=t._getSrcById(e),t._defaultPlayPropsHash[t._parsePath(e.src).src]},t._playInstance=function(e,s){var r=t._defaultPlayPropsHash[e.src]||{};if(null==s.interrupt&&(s.interrupt=r.interrupt||t.defaultInterruptBehavior),null==s.delay&&(s.delay=r.delay||0),null==s.offset&&(s.offset=e.getPosition()),null==s.loop&&(s.loop=e.loop),null==s.volume&&(s.volume=e.volume),null==s.pan&&(s.pan=e.pan),0==s.delay){if(!t._beginPlaying(e,s))return!1}else{var o=setTimeout(function(){t._beginPlaying(e,s)},s.delay);e.delayTimeoutId=o}return this._instances.push(e),!0},t._beginPlaying=function(e,t){if(!s.add(e,t.interrupt))return!1;if(!e._beginPlaying(t)){var r=wm.indexOf(this._instances,e);return r>-1&&this._instances.splice(r,1),!1}return!0},t._getSrcById=function(e){return t._idHash[e]||{src:e}},t._playFinished=function(e){s.remove(e);var t=wm.indexOf(this._instances,e);t>-1&&this._instances.splice(t,1)},wm.Sound=e,s.channels={},s.create=function(e,t){return null==s.get(e)&&(s.channels[e]=new s(e,t),!0)},s.removeSrc=function(e){var t=s.get(e);return null!=t&&(t._removeAll(),delete s.channels[e],!0)},s.removeAll=function(){for(var e in s.channels)s.channels[e]._removeAll();s.channels={}},s.add=function(e,t){var r=s.get(e.src);return null!=r&&r._add(e,t)},s.remove=function(e){var t=s.get(e.src);return null!=t&&(t._remove(e),!0)},s.maxPerChannel=function(){return r.maxDefault},s.get=function(e){return s.channels[e]};var r=s.prototype;r.constructor=s,r.src=null,r.max=null,r.maxDefault=100,r.length=0,r.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},r._get=function(e){return this._instances[e]},r._add=function(e,t){return!!this._getSlot(t,e)&&(this._instances.push(e),this.length++,!0)},r._remove=function(e){var t=wm.indexOf(this._instances,e);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},r._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},r._getSlot=function(t,s){var r,o;if(t!=e.INTERRUPT_NONE&&null==(o=this._get(0)))return!0;for(var i=0,a=this.max;i<a;i++){if(null==(r=this._get(i)))return!0;if(r.playState==e.PLAY_FINISHED||r.playState==e.PLAY_INTERRUPTED||r.playState==e.PLAY_FAILED){o=r;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&r.getPosition()<o.getPosition()||t==e.INTERRUPT_LATE&&r.getPosition()>o.getPosition())&&(o=r)}return null!=o&&(o._interrupt(),this._remove(o),!0)},r.toString=function(){return"[Sound SoundChannel]"}}(),function(){var e=function(e,t,s,r){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,s||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==r&&!0!==r&&this.setPlaybackResource(r),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=wm.extend(e,wm.EventDispatcher);t.play=function(e,t,s,r,o,i){var a;return a=e instanceof Object||e instanceof wm.PlayPropsConfig?wm.PlayPropsConfig.create(e):wm.PlayPropsConfig.create({interrupt:e,delay:t,offset:s,loop:r,volume:o,pan:i}),this.playState==wm.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),wm.Sound._playInstance(this,a),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=wm.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this.setPosition(e.offset),null!=e.loop&&this.setLoop(e.loop),null!=e.volume&&this.setVolume(e.volume),null!=e.pan&&this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){if(!(!0!==e&&!1!==e||this._paused==e||1==e&&this.playState!=wm.Sound.PLAY_SUCCEEDED))return this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},t.setVolume=function(e){return e==this._volume||(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume()),this},t.getVolume=function(){return this._volume},t.setMuted=function(e){if(!0===e||!1===e)return this._muted=e,this._updateVolume(),this},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan||(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan()),this},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=wm.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==wm.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getStartTime=function(){return this._startTime},t.setStartTime=function(e){return e==this._startTime||(this._startTime=Math.max(0,e||0),this._updateStartTime()),this},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration||(this._duration=Math.max(0,e||0),this._updateDuration()),this},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new wm.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,wm.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=wm.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this.setPosition(e.offset),this.setLoop(e.loop),this.setVolume(e.volume),this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=wm.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=wm.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(e){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=wm.Sound.PLAY_FINISHED,this._sendEvent("complete")},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(e){},t._addLooping=function(e){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},wm.AbstractSoundInstance=wm.promote(e,"EventDispatcher"),wm.DefaultSoundInstance=wm.AbstractSoundInstance}(),function(){var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],(t=new this._loaderClass(e)).on("complete",this._handlePreloadComplete,this),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",this._handlePreloadError,this),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;)this._soundInstances[e][t].destroy();delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,s){this.isPreloadStarted(e)||this.preload(this.register(e));var r=new this._soundInstanceClass(e,t,s,this._audioSources[e]);return this._soundInstances[e].push(r),r},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(e){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var s=0,r=this._soundInstances[t].length;s<r;s++)this._soundInstances[t][s].setPlaybackResource(this._audioSources[t])},t._handlePreloadError=function(e){},t._updateVolume=function(){},wm.AbstractPlugin=e}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,wm.AbstractLoader.SOUND)}var t=wm.extend(e,wm.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new wm.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,wm.proxy(this._handleAudioDecoded,this),wm.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},wm.WebAudioLoader=wm.promote(e,"AbstractLoader")}(),function(){function e(e,t,r,o){this.AbstractSoundInstance_constructor(e,t,r,o),this.gainNode=s.context.createGain(),this.panNode=s.context.createPanner(),this.panNode.panningModel=s._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=wm.proxy(this._handleSoundComplete,this)}var t=wm.extend(e,wm.AbstractSoundInstance),s=e;s.context=null,s._scratchBuffer=null,s.destinationNode=null,s._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(e){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(e){this.playState==wm.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==wm.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){e.stop(0),e.disconnect(0);try{e.buffer=s._scratchBuffer}catch(Xp){}e=null}return e},t._handleSoundReady=function(e){this.gainNode.connect(s.destinationNode);var t=.001*this._duration,r=.001*this._position;r>t&&(r=t),this.sourceNode=this._createAndPlayAudioNode(s.context.currentTime-t,r),this._playbackStartTime=this.sourceNode.startTime-r,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-r)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var r=s.context.createBufferSource();r.buffer=this.playbackResource,r.connect(this.panNode);var o=.001*this._duration;return r.startTime=e+o,r.start(r.startTime,t+.001*this._startTime,o-t),r},t._pause=function(){this._position=1e3*(s.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(s.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==wm.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},wm.WebAudioSoundInstance=wm.promote(e,"AbstractSoundInstance")}(),function(){function e(){this.AbstractPlugin_constructor(),this._panningModel=s._panningModel,this.context=s.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),wm.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=s._capabilities,this._loaderClass=wm.WebAudioLoader,this._soundInstanceClass=wm.WebAudioSoundInstance,this._addPropsToClasses()}var t=wm.extend(e,wm.AbstractPlugin),s=e;s._capabilities=null,s._panningModel="equalpower",s.context=null,s._scratchBuffer=null,s._unlocked=!1,s.isSupported=function(){var e=wm.BrowserDetect.isIOS||wm.BrowserDetect.isAndroid||wm.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!e&&!this._isFileXHRSupported())&&(s._generateCapabilities(),null!=s.context)},s.playEmptySound=function(){if(null!=s.context){var e=s.context.createBufferSource();e.buffer=s._scratchBuffer,e.connect(s.context.destination),e.start(0,0,0)}},s._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(s){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(s){e=!1}return e},s._generateCapabilities=function(){if(null==s._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==s.context)if(window.AudioContext)s.context=new AudioContext;else{if(!window.webkitAudioContext)return null;s.context=new webkitAudioContext}null==s._scratchBuffer&&(s._scratchBuffer=s.context.createBuffer(1,1,22050)),s._compatibilitySetUp(),"ontouchstart"in window&&"running"!=s.context.state&&(s._unlock(),document.addEventListener("mousedown",s._unlock,!0),document.addEventListener("touchend",s._unlock,!0)),s._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=wm.Sound.SUPPORTED_EXTENSIONS,r=wm.Sound.EXTENSION_MAP,o=0,i=t.length;o<i;o++){var a=t[o],n=r[a]||a;s._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+n)&&""!=e.canPlayType("audio/"+n)}s.context.destination.numberOfChannels<2&&(s._capabilities.panning=!1)}},s._compatibilitySetUp=function(){if(s._panningModel="equalpower",!s.context.createGain){s.context.createGain=s.context.createGainNode;var e=s.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,s._panningModel=0}},s._unlock=function(){s._unlocked||(s.playEmptySound(),"running"==s.context.state&&(document.removeEventListener("mousedown",s._unlock,!0),document.removeEventListener("touchend",s._unlock,!0),s._unlocked=!0))},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=s._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=wm.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},wm.WebAudioPlugin=wm.promote(e,"AbstractPlugin")}(),function(){function e(){throw"HTMLAudioTagPool cannot be instantiated"}var t=e;function s(e){this._tags=[]}t._tags={},t._tagPool=new s,t._tagUsed={},t.get=function(e){var s=t._tags[e];return null==s?(s=t._tags[e]=t._tagPool.get()).src=e:t._tagUsed[e]?(s=t._tagPool.get()).src=e:t._tagUsed[e]=!0,s},t.set=function(e,s){s==t._tags[e]?t._tagUsed[e]=!1:t._tagPool.set(s)},t.remove=function(e){var s=t._tags[e];return null!=s&&(t._tagPool.set(s),delete t._tags[e],delete t._tagUsed[e],!0)},t.getDuration=function(e){var s=t._tags[e];return null!=s&&s.duration?1e3*s.duration:0},wm.HTMLAudioTagPool=e;var r=s.prototype;r.constructor=s,r.get=function(){var e;return null==(e=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(e),e},r.set=function(e){-1==wm.indexOf(this._tags,e)&&(this._tags.src=null,this._tags.push(e))},r.toString=function(){return"[TagPool]"},r._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),function(){function e(e,t,s,r){this.AbstractSoundInstance_constructor(e,t,s,r),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=wm.proxy(this._handleSoundComplete,this),this._readyHandler=wm.proxy(this._handleTagReady,this),this._stalledHandler=wm.proxy(this._playFailed,this),this._audioSpriteEndHandler=wm.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=wm.proxy(this._handleSoundComplete,this),s?this._audioSpriteStopTime=.001*(t+s):this._duration=wm.HTMLAudioTagPool.getDuration(this.src)}var t=wm.extend(e,wm.AbstractSoundInstance);t.setMasterVolume=function(e){this._updateVolume()},t.setMasterMute=function(e){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(wm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(wm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(wm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(wm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(Xp){}wm.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=wm.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(e){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(wm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(wm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(wm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(wm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(e){this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||wm.Sound._masterMute?0:this._volume*wm.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(e){null!=this._playbackResource&&(this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(e){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==wm.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(wm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==wm.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(wm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(wm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=wm.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},wm.HTMLAudioSoundInstance=wm.promote(e,"AbstractSoundInstance")}(),function(){function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=s._capabilities,this._loaderClass=wm.SoundLoader,this._soundInstanceClass=wm.HTMLAudioSoundInstance}var t=wm.extend(e,wm.AbstractPlugin),s=e;s.MAX_INSTANCES=30,s._AUDIO_READY="canplaythrough",s._AUDIO_ENDED="ended",s._AUDIO_SEEKED="seeked",s._AUDIO_STALLED="stalled",s._TIME_UPDATE="timeupdate",s._capabilities=null,s.isSupported=function(){return s._generateCapabilities(),null!=s._capabilities},s._generateCapabilities=function(){if(null==s._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;s._capabilities={panning:!1,volume:!0,tracks:-1};for(var t=wm.Sound.SUPPORTED_EXTENSIONS,r=wm.Sound.EXTENSION_MAP,o=0,i=t.length;o<i;o++){var a=t[o],n=r[a]||a;s._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+n)&&""!=e.canPlayType("audio/"+n)}}},t.register=function(e){var t=wm.HTMLAudioTagPool.get(e.src),s=this.AbstractPlugin_register(e);return s.setTag(t),s},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),wm.HTMLAudioTagPool.remove(e)},t.create=function(e,t,s){var r=this.AbstractPlugin_create(e,t,s);return r.setPlaybackResource(null),r},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,wm.HTMLAudioPlugin=wm.promote(e,"AbstractPlugin")}(),function(){function e(t,s,r){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=r||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,s&&(this._useTicks=s.useTicks,this.ignoreGlobalPause=s.ignoreGlobalPause,this.loop=s.loop,s.onChange&&this.addEventListener("change",s.onChange),s.override&&e.removeTweens(t)),s&&s.paused?this._paused=!0:wm.Tween._register(this,!0),s&&null!=s.position&&this.setPosition(s.position,e.NONE)}var t=wm.extend(e,wm.EventDispatcher);e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,s,r,o){return o&&e.removeTweens(t),new e(t,s,r)},e.tick=function(t,s){for(var r=e._tweens.slice(),o=r.length-1;o>=0;o--){var i=r[o];s&&!i.ignoreGlobalPause||i._paused||i.tick(i._useTicks?1:t)}},e.handleEvent=function(e){"tick"==e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var s=e._tweens,r=s.length-1;r>=0;r--){var o=s[r];o._target==t&&(o._paused=!0,s.splice(r,1))}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,s=0,r=t.length;s<r;s++){var o=t[s];o._paused=!0,o.target&&(o.target.tweenjs_count=0)}t.length=0},e.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:e._tweens&&!!e._tweens.length},e.installPlugin=function(t,s){var r=t.priority;null==r&&(t.priority=r=0);for(var o=0,i=s.length,a=e._plugins;o<i;o++){var n=s[o];if(a[n]){for(var l=a[n],c=0,m=l.length;c<m&&!(r<l[c].priority);c++);a[n].splice(c,0,t)}else a[n]=[t]}},e._register=function(t,s){var r=t._target,o=e._tweens;if(s&&!t._registered)r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1),o.push(t),!e._inited&&wm.Ticker&&(wm.Ticker.addEventListener("tick",e),e._inited=!0);else if(!s&&t._registered){r&&r.tweenjs_count--;for(var i=o.length;i--;)if(o[i]==t){o.splice(i,1);break}}t._registered=s},t.wait=function(e,t){if(null==e||e<=0)return this;var s=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:s,e:this._linearEase,p1:s,v:t})},t.to=function(e,t,s){return(isNaN(t)||t<0)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:s,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,s){return this._addAction({f:e,p:t||[this],o:s||this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t||this._target]})},t.play=function(e){return e||(e=this),this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){e<0&&(e=0),null==t&&(t=1);var s=e,r=!1;if(s>=this.duration&&(this.loop?s%=this.duration:(s=this.duration,r=!0)),s==this._prevPos)return r;var o=this._prevPos;if(this.position=this._prevPos=s,this._prevPosition=e,this._target)if(r)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var i=0,a=this._steps.length;i<a&&!(this._steps[i].t>s);i++);var n=this._steps[i-1];this._updateTargetProps(n,(this._stepPosition=s-n.t)/n.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(s,s):1==t&&s<o?(o!=this.duration&&this._runActions(o,this.duration),this._runActions(0,s,!0)):this._runActions(o,s)),r&&this.setPaused(!0),this.dispatchEvent("change"),r},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused===!!t||(this._paused=!!t,e._register(this,!t)),this},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,s){var r,o,i,a,n,l;if(t||1!=s){if(this.passive=!!t.v,this.passive)return;t.e&&(s=t.e(s,0,1,1)),r=t.p0,o=t.p1}else this.passive=!1,r=o=this._curQueueProps;for(var c in this._initQueueProps){null==(a=r[c])&&(r[c]=a=this._initQueueProps[c]),null==(n=o[c])&&(o[c]=n=a),i=a==n||0==s||1==s||"number"!=typeof a?1==s?n:a:a+(n-a)*s;var m=!1;if(l=e._plugins[c])for(var d=0,u=l.length;d<u;d++){var h=l[d].tween(this,c,i,r,o,s,!!t&&r==o,!t);h==e.IGNORE?m=!0:i=h}m||(this._target[c]=i)}},t._runActions=function(e,t,s){var r=e,o=t,i=-1,a=this._actions.length,n=1;for(e>t&&(r=t,o=e,i=a,a=n=-1);(i+=n)!=a;){var l=this._actions[i],c=l.t;(c==o||c>r&&c<o||s&&c==e)&&l.f.apply(l.o,l.p)}},t._appendQueueProps=function(t){var s,r,o,i,a;for(var n in t)if(void 0===this._initQueueProps[n]){if(r=this._target[n],s=e._plugins[n])for(o=0,i=s.length;o<i;o++)r=s[o].init(this,n,r);this._initQueueProps[n]=this._curQueueProps[n]=void 0===r?null:r}else r=this._curQueueProps[n];for(var n in t){if(r=this._curQueueProps[n],s=e._plugins[n])for(a=a||{},o=0,i=s.length;o<i;o++)s[o].step&&s[o].step(this,n,r,t[n],a);this._curQueueProps[n]=t[n]}return a&&this._appendQueueProps(a),this._curQueueProps},t._cloneProps=function(e){var t={};for(var s in e)t[s]=e[s];return t},t._addStep=function(e){return e.d>0&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var s in e)t[s]=e[s]},wm.Tween=wm.promote(e,"EventDispatcher")}(),function(){function e(e,t,s){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,s&&(this._useTicks=s.useTicks,this.loop=s.loop,this.ignoreGlobalPause=s.ignoreGlobalPause,s.onChange&&this.addEventListener("change",s.onChange)),e&&this.addTween.apply(this,e),this.setLabels(t),s&&s.paused?this._paused=!0:wm.Tween._register(this,!0),s&&null!=s.position&&this.setPosition(s.position,wm.Tween.NONE)}var t=wm.extend(e,wm.EventDispatcher);t.addTween=function(e){var t=arguments.length;if(t>1){for(var s=0;s<t;s++)this.addTween(arguments[s]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),this._prevPos>=0&&e.setPosition(this._prevPos,wm.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var s=!0,r=0;r<t;r++)s=s&&this.removeTween(arguments[r]);return s}if(0==t)return!1;var o=this._tweens;for(r=o.length;r--;)if(o[r]==e)return o.splice(r,1),e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.addLabel=function(e,t){this._labels[e]=t;var s=this._labelList;if(s){for(var r=0,o=s.length;r<o&&!(t<s[r].position);r++);s.splice(r,0,{label:e,position:t})}},t.setLabels=function(e){this._labels=e||{}},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var s in t)e.push({label:s,position:t[s]});e.sort(function(e,t){return e.position-t.position})}return e},t.getCurrentLabel=function(){var e=this.getLabels(),t=this.position,s=e.length;if(s){for(var r=0;r<s&&!(t<e[r].position);r++);return 0==r?null:e[r-1].label}return null},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){var s=this._calcPosition(e),r=!this.loop&&e>=this.duration;if(s==this._prevPos)return r;this._prevPosition=e,this.position=this._prevPos=s;for(var o=0,i=this._tweens.length;o<i;o++)if(this._tweens[o].setPosition(s,t),s!=this._prevPos)return!1;return r&&this.setPaused(!0),this.dispatchEvent("change"),r},t.setPaused=function(e){this._paused=!!e,wm.Tween._register(this,!e)},t.updateDuration=function(){this.duration=0;for(var e=0,t=this._tweens.length;e<t;e++){var s=this._tweens[e];s.duration>this.duration&&(this.duration=s.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t)},t._calcPosition=function(e){return e<0?0:e<this.duration?e:this.loop?e%this.duration:this.duration},wm.Timeline=wm.promote(e,"EventDispatcher")}(),function(){function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return e<-1&&(e=-1),e>1&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var s=2*Math.PI;return function(r){if(0==r||1==r)return r;var o=t/s*Math.asin(1/e);return-e*Math.pow(2,10*(r-=1))*Math.sin((r-o)*s/t)}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var s=2*Math.PI;return function(r){if(0==r||1==r)return r;var o=t/s*Math.asin(1/e);return e*Math.pow(2,-10*r)*Math.sin((r-o)*s/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var s=2*Math.PI;return function(r){var o=t/s*Math.asin(1/e);return(r*=2)<1?e*Math.pow(2,10*(r-=1))*Math.sin((r-o)*s/t)*-.5:e*Math.pow(2,-10*(r-=1))*Math.sin((r-o)*s/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),wm.Ease=e}(),function(){function e(){throw"MotionGuidePlugin cannot be instantiated."}e.priority=0,e._rotOffS,e._rotOffE,e._rotNormS,e._rotNormE,e.install=function(){return wm.Tween.installPlugin(e,["guide","x","y","rotation"]),wm.Tween.IGNORE},e.init=function(e,t,s){var r=e.target;return r.hasOwnProperty("x")||(r.x=0),r.hasOwnProperty("y")||(r.y=0),r.hasOwnProperty("rotation")||(r.rotation=0),"rotation"==t&&(e.__needsRot=!0),"guide"==t?null:s},e.step=function(t,s,r,o,i){if("rotation"==s&&(t.__rotGlobalS=r,t.__rotGlobalE=o,e.testRotData(t,i)),"guide"!=s)return o;var a,n=o;n.hasOwnProperty("path")||(n.path=[]);var l=n.path;if(n.hasOwnProperty("end")||(n.end=1),n.hasOwnProperty("start")||(n.start=r&&r.hasOwnProperty("end")&&r.path===l?r.end:0),n.hasOwnProperty("_segments")&&n._length)return o;var c=l.length;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";n._segments=[],n._length=0;for(var m=2;m<c;m+=4){for(var d,u,h=l[m-2],p=l[m-1],f=l[m+0],v=l[m+1],b=l[m+2],g=l[m+3],x=h,N=p,w=0,y=[],_=1;_<=10;_++){var E=_/10,D=1-E;d=D*D*h+2*D*E*f+E*E*b,u=D*D*p+2*D*E*v+E*E*g,w+=y[y.push(Math.sqrt((a=d-x)*a+(a=u-N)*a))-1],x=d,N=u}n._segments.push(w),n._segments.push(y),n._length+=w}a=n.orient,n.orient=!0;var S={};return e.calc(n,n.start,S),t.__rotPathS=Number(S.rotation.toFixed(5)),e.calc(n,n.end,S),t.__rotPathE=Number(S.rotation.toFixed(5)),n.orient=!1,e.calc(n,n.end,i),n.orient=a,n.orient?(t.__guideData=n,e.testRotData(t,i),o):o},e.testRotData=function(e,t){if(void 0===e.__rotGlobalS||void 0===e.__rotGlobalE){if(e.__needsRot)return;void 0!==e._curQueueProps.rotation?e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation:e.__rotGlobalS=e.__rotGlobalE=t.rotation=e.target.rotation||0}if(void 0!==e.__guideData){var s=e.__guideData,r=e.__rotGlobalE-e.__rotGlobalS,o=e.__rotPathE-e.__rotPathS,i=r-o;if("auto"==s.orient)i>180?i-=360:i<-180&&(i+=360);else if("cw"==s.orient){for(;i<0;)i+=360;0==i&&r>0&&180!=r&&(i+=360)}else if("ccw"==s.orient){for(i=r-(o>180?360-o:o);i>0;)i-=360;0==i&&r<0&&-180!=r&&(i-=360)}s.rotDelta=i,s.rotOffS=e.__rotGlobalS-e.__rotPathS,e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=void 0}},e.tween=function(t,s,r,o,i,a,n,l){var c=i.guide;if(null==c||c===o.guide)return r;if(c.lastRatio!=a){var m=(c.end-c.start)*(n?c.end:a)+c.start;switch(e.calc(c,m,t.target),c.orient){case"cw":case"ccw":case"auto":t.target.rotation+=c.rotOffS+c.rotDelta*a;break;default:t.target.rotation+=c.rotOffS}c.lastRatio=a}return"rotation"!=s||c.orient&&"false"!=c.orient?t.target[s]:r},e.calc=function(e,t,s){if(null==e._segments)throw"Missing critical pre-calculated information, please file a bug";null==s&&(s={x:0,y:0,rotation:0});for(var r=e._segments,o=e.path,i=e._length*t,a=r.length-2,n=0;i>r[n]&&n<a;)i-=r[n],n+=2;var l=r[n+1],c=0;for(a=l.length-1;i>l[c]&&c<a;)i-=l[c],c++;var m=c/++a+i/(a*l[c]);n=2*n+2;var d=1-m;return s.x=d*d*o[n-2]+2*d*m*o[n+0]+m*m*o[n+2],s.y=d*d*o[n-1]+2*d*m*o[n+1]+m*m*o[n+3],e.orient&&(s.rotation=57.2957795*Math.atan2((o[n+1]-o[n-1])*d+(o[n+3]-o[n+1])*m,(o[n+0]-o[n-2])*d+(o[n+2]-o[n+0])*m)),s},wm.MotionGuidePlugin=e}(),function(){var e=wm.TweenJS=wm.TweenJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),vm.exports=c.createjs;var _m=ym.exports;const Em=class{static fade(e){return e*e*e*(e*(6*e-15)+10)}static lerp(e,t,s){return(1-s)*e+s*t}static noise(e,t){const s=255&Math.floor(e),r=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);const o=this.fade(e),i=this.fade(t),a=this.perm[s]+r,n=this.perm[a],l=this.perm[a+1],c=this.perm[s+1]+r,m=this.perm[c],d=this.perm[c+1];return this.lerp(this.lerp(this.grad(this.perm[n],e,t),this.grad(this.perm[m],e-1,t),o),this.lerp(this.grad(this.perm[l],e,t-1),this.grad(this.perm[d],e-1,t-1),o),i)}static grad(e,t,s){const r=15&e,o=r<8?t:s,i=r<4?s:12===r||14===r?t:0;return(1&r?-o:o)+(2&r?-i:i)}};t(Em,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),t(Em,"p",[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),t(Em,"perm",[]),t(Em,"gradP",[]),(()=>{for(let e=0;e<512;e++)Em.perm[e]=Em.p[255&e],Em.gradP[e]=Em.grad3[Em.perm[e]%12]})();let Dm=Em;const Sm=class e{constructor(){t(this,"x",0),t(this,"y",0),t(this,"vx",0),t(this,"vy",0),t(this,"life",0),t(this,"maxLife",0),t(this,"alpha",1),t(this,"scale",1),t(this,"isDead",!1),t(this,"icon","♪"),t(this,"color","#6366f1"),t(this,"size",16),this.resetParameters()}resetParameters(){this.life=0,this.maxLife=Math.random()*Math.random()*800+80,this.alpha=1,this.scale=.5+.5*Math.random(),this.isDead=!1,this.icon=e.icons[Math.floor(Math.random()*e.icons.length)];const t=360*Math.random(),s=50+30*Math.random();this.color=`hsl(${t}, 100%, ${s}%)`,this.size=12+8*Math.random()}update(){this.life++,this.vy-=.015,this.vx*=.99,this.vy*=.99,this.x+=this.vx,this.y+=this.vy;const e=this.life/this.maxLife;this.alpha=.3*Math.random()+.7*(1-e),this.scale=1-.5*e,this.life>=this.maxLife&&(this.isDead=!0)}getIsDead(){return this.isDead}};t(Sm,"icons",["❤️","♪","♫","♩"]);let jm=Sm;class Tm{constructor(e,s=100,r=!1,o=!1){t(this,"stage"),t(this,"canvas"),t(this,"particles",[]),t(this,"particlePool",[]),t(this,"waveContainer"),t(this,"particleContainer"),t(this,"time",0),t(this,"animationId",null),t(this,"isRunning",!1),t(this,"maxParticles"),t(this,"reducedMotion"),t(this,"lastFrameTime",0),t(this,"frameCount",0),t(this,"targetFPS",60),t(this,"disableWaves"),t(this,"animate",(e=0)=>{if(!this.isRunning)return;e-this.lastFrameTime>=1e3/this.targetFPS&&(this.time+=2,this.frameCount++,this.createWaves(),this.emitParticles(),this.updateParticles(),this.stage.update(),this.lastFrameTime=e),this.animationId=requestAnimationFrame(this.animate)}),this.canvas=e,this.maxParticles=s,this.reducedMotion=r,this.disableWaves=o,this.stage=new _m.Stage(e),this.waveContainer=new _m.Container,this.particleContainer=new _m.Container,this.stage.addChild(this.waveContainer),this.stage.addChild(this.particleContainer),_m.Ticker.framerate=this.targetFPS,_m.Ticker.timingMode=_m.Ticker.RAF,this.initParticlePool(),this.resize()}initParticlePool(){const e=this.reducedMotion?Math.min(this.maxParticles,50):2*this.maxParticles;for(let t=0;t<e;t++)this.particlePool.push(new jm)}getParticleFromPool(){return this.particlePool.pop()||null}returnParticleToPool(e){e.resetParameters(),this.particlePool.push(e)}createWaves(){if(this.disableWaves)return;this.waveContainer.removeAllChildren();const e=this.canvas.width,t=this.canvas.height,s=e<768?4:6,r=this.time/4e3;for(let o=0;o<s;o++){const s=new _m.Shape,i=s.graphics;i.clear();const a=["rgba(99, 102, 241, 0.8)","rgba(59, 130, 246, 0.7)","rgba(14, 165, 233, 0.6)","rgba(6, 182, 212, 0.5)","rgba(255, 255, 255, 0.4)","rgba(167, 243, 208, 0.3)"],n=a[o%a.length];i.beginStroke(n);const l=(0===o?3:2.5-.3*o)+.5*Math.sin(2*r);i.setStrokeStyle(Math.max(l,.8));const c=[],m=t/2;c.push({x:-200,y:m});const d=15,u=.15+.05*o,h=o*Math.PI/3;for(let p=0;p<=d;p++){const s=(.8*Dm.noise(p*u,r+.15*o)+.4*Math.sin(.3*p+3*r+h))*((.8+.2*o)*t*.2)+m;c.push({x:e*(p/d)|0,y:s})}c.push({x:e+200,y:m});for(let e=0;e<c.length;e++)if(e>=2){const t=c[e],s=c[e-1],r=c[e-2],o=(r.x+s.x)/2,a=(r.y+s.y)/2,n=(t.x+s.x)/2,l=(t.y+s.y)/2;i.moveTo(o,a),i.curveTo(s.x,s.y,n,l)}s.alpha=.7+.3*Math.sin(2*r+o),s.compositeOperation="screen",this.waveContainer.addChild(s)}}emitParticles(){const e=this.reducedMotion?.125:.375,t=this.reducedMotion?Math.min(this.maxParticles,30):this.maxParticles;if(this.particles.length<t&&Math.random()<e){const e=this.getParticleFromPool();e&&(e.x=Math.random()*this.canvas.width,e.y=.9*this.canvas.height+Math.random()*this.canvas.height*.1,e.vx=1.25*(Math.random()-.5),e.vy=1.25*(Math.random()-.5),this.particles.push(e))}}updateParticles(){this.particleContainer.removeAllChildren();for(let e=this.particles.length-1;e>=0;e--){const t=this.particles[e];if(t.update(),t.getIsDead())this.returnParticleToPool(t),this.particles.splice(e,1);else{const e=new _m.Text(t.icon,`${t.size}px Arial`,t.color);e.textAlign="center",e.textBaseline="middle",e.x=t.x,e.y=t.y,e.alpha=t.alpha,e.scaleX=e.scaleY=t.scale,e.compositeOperation="lighter",this.particleContainer.addChild(e)}}}start(){this.isRunning||(this.isRunning=!0,this.animate())}stop(){this.isRunning=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}resize(){const e=this.canvas.getBoundingClientRect();this.canvas.width=e.width,this.canvas.height=e.height,this.stage.update()}destroy(){this.stop(),this.stage.removeAllChildren(),this.particles=[],this.particlePool=[]}}const Pm=({className:e="",reducedMotion:t,maxParticles:s=100,disableWaves:o=!1})=>{const i=r.useRef(null),a=r.useRef(null),n=r.useRef(null);return r.useEffect(()=>{if(!i.current)return;const e=t??!1,r=window.innerWidth<768?Math.min(s,50):s;let l;a.current=new Tm(i.current,r,e,o),a.current.start();const c=()=>{clearTimeout(l),l=setTimeout(()=>{a.current&&a.current.resize()},150)},m=()=>{a.current&&(document.hidden?a.current.stop():a.current.start())};let d=null;return n.current&&(d=new IntersectionObserver(e=>{e.forEach(e=>{a.current&&(e.isIntersecting?a.current.start():a.current.stop())})},{threshold:.1}),d.observe(n.current)),window.addEventListener("resize",c),document.addEventListener("visibilitychange",m),()=>{clearTimeout(l),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",m),d&&d.disconnect(),a.current&&a.current.destroy()}},[t,s,o]),lt.jsxDEV("div",{ref:n,className:`absolute inset-0 w-full h-full pointer-events-none ${e}`,children:lt.jsxDEV("canvas",{ref:i,className:"absolute inset-0 w-full h-full pointer-events-none",style:{background:"transparent",zIndex:0,willChange:"transform"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ParticlesAndWaves.tsx",lineNumber:508,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ParticlesAndWaves.tsx",lineNumber:504,columnNumber:5},void 0)},Cm=()=>{const e=Xr(),{startNewCreationFlow:t}=ac(),[s,o]=r.useState("");return lt.jsxDEV("section",{className:"relative min-h-screen flex items-center justify-center",style:{marginTop:"-164px",paddingTop:"164px"},children:[lt.jsxDEV(Pm,{className:"opacity-50"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:28,columnNumber:7},void 0),lt.jsxDEV("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[lt.jsxDEV("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/8 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:32,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-[#7B3FE4]/10 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:33,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:31,columnNumber:7},void 0),lt.jsxDEV("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:lt.jsxDEV("div",{className:"flex flex-col items-center text-center w-full gap-10",children:[lt.jsxDEV("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-heading font-bold text-white leading-tight",children:["A música que transforma"," ",lt.jsxDEV("span",{className:"bg-gradient-yellow-purple bg-clip-text text-transparent",children:"sentimentos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:41,columnNumber:13},void 0)," ","em ",lt.jsxDEV("span",{className:"bg-gradient-yellow-purple bg-clip-text text-transparent",children:"presente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:42,columnNumber:16},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:39,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-xl sm:text-2xl text-white/90 leading-relaxed max-w-3xl",children:[lt.jsxDEV("span",{className:"block sm:inline",children:"Em até 5 minutos, a Memora cria duas versões profissionais"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:47,columnNumber:13},void 0),lt.jsxDEV("span",{className:"block sm:inline",children:" e únicas da sua canção para você escolher e emocionar quem ama."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:48,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:46,columnNumber:11},void 0),lt.jsxDEV("div",{className:"relative mt-8 text-center",children:lt.jsxDEV(fm,{children:[lt.jsxDEV("div",{className:"text-center space-y-3",children:lt.jsxDEV("h3",{className:"text-white text-xl sm:text-2xl font-bold font-heading leading-tight",children:"Vamos começar?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:55,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:54,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-4 justify-center items-center lg:items-end w-full",children:[lt.jsxDEV("div",{className:"flex flex-col w-full lg:w-auto",children:[lt.jsxDEV(pm,{id:"recipient-name",value:s,onChange:e=>o(e.target.value),placeholder:"Digite o nome aqui","aria-describedby":"recipient-name-description"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:63,columnNumber:19},void 0),lt.jsxDEV("span",{id:"recipient-name-description",className:"sr-only",children:"Digite o nome da pessoa para quem você quer criar a música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:70,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:62,columnNumber:17},void 0),lt.jsxDEV(hm,{"data-attr":"hero-cta-primary",onClick:async()=>{const{token:r}=tc.getState(),o=s.trim()?`?para=${encodeURIComponent(s.trim())}`:"";e(`/criar${o}`),await t(e,r)},className:"w-full lg:w-auto hover:-translate-y-1",children:[lt.jsxDEV(Z,{className:"mr-3 h-6 w-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:80,columnNumber:19},void 0),"Crie sua música agora"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:75,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:61,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-white/70 text-sm font-medium text-center",children:"✨ Grátis na primeira criação - Sem cartão necessário"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:86,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:53,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:52,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:26,columnNumber:5},void 0)};function km({children:e,className:t}){return lt.jsxDEV("p",{className:Qs("text-lg sm:text-xl lg:text-[22px] text-white/80 max-w-3xl mx-auto leading-relaxed",t),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/SectionSubtitle.tsx",lineNumber:10,columnNumber:5},this)}const Um=({children:e,className:t})=>lt.jsxDEV("h2",{className:Qs("text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-memora-brand-purple mb-4",t),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/SectionTitle.tsx",lineNumber:11,columnNumber:5},void 0),Vm=qo("relative overflow-hidden backdrop-blur-xl border border-white/20 shadow-2xl transition-all duration-300 ease-out before:pointer-events-none",{variants:{variant:{primary:["bg-gradient-to-br from-white/10 via-white/5 to-transparent","shadow-[0_8px_32px_rgba(31,38,135,0.37),inset_0_1px_0_rgba(255,255,255,0.3)]","hover:shadow-[0_12px_40px_rgba(31,38,135,0.45),inset_0_1px_0_rgba(255,255,255,0.4)]","hover:bg-gradient-to-br hover:from-white/15 hover:via-white/8 hover:to-white/5","before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/10 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-500"],secondary:["bg-gradient-to-br from-gray-100/10 via-gray-50/5 to-transparent","shadow-[0_8px_32px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,0.2)]","hover:shadow-[0_12px_40px_rgba(0,0,0,0.15),inset_0_1px_0_rgba(255,255,255,0.3)]","hover:bg-gradient-to-br hover:from-gray-100/15 hover:via-gray-50/8 hover:to-gray-100/5","before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-gray-100/10 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-500"],coral:["bg-gradient-to-br from-orange-100/15 via-pink-50/10 to-transparent","shadow-[0_8px_32px_rgba(251,146,60,0.2),inset_0_1px_0_rgba(255,255,255,0.3)]","hover:shadow-[0_12px_40px_rgba(251,146,60,0.3),inset_0_1px_0_rgba(255,255,255,0.4)]","hover:bg-gradient-to-br hover:from-orange-100/20 hover:via-pink-50/15 hover:to-orange-50/8","before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-orange-100/15 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-500"]},size:{sm:"p-4 rounded-lg",md:"p-6 rounded-xl",lg:"p-8 rounded-2xl"}},defaultVariants:{variant:"primary",size:"md"}}),Am=r.forwardRef(({className:e,variant:t,size:s,children:r,...o},i)=>lt.jsxDEV("div",{ref:i,className:Qs(Vm({variant:t,size:s}),e),...o,children:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/LiquidGlassCard.tsx",lineNumber:59,columnNumber:7},void 0));Am.displayName="LiquidGlassCard";const Mm=()=>{const[e,t]=r.useState(0),[s,o]=r.useState(!0),i=[{number:"1",icon:oe,title:"Conte sua história",description:"Escreva a ocasião e sentimentos que você quer transformar em música.",details:"Compartilhe detalhes sobre a pessoa, momento ou ocasião especial que você quer eternizar em música.",color:"memora-primary"},{number:"2",icon:_e,title:"A IA cria sua música",description:"Letra e melodia únicas, em menos de 5 minutos.",details:"Nossa inteligência artificial analisa sua história e compõe uma música única com melodia e letra personalizadas.",color:"memora-secondary"},{number:"3",icon:Ee,title:"Ouça e compartilhe",description:"Escute uma prévia e baixe em MP3.",details:"Baixe sua música personalizada em alta qualidade e compartilhe esse presente único com quem você ama.",color:"memora-coral"}];r.useEffect(()=>{if(!s)return;const e=setInterval(()=>{t(e=>(e+1)%i.length)},4e3);return()=>clearInterval(e)},[s,i.length]);return lt.jsxDEV("section",{id:"como-funciona",className:"py-[120px]",children:lt.jsxDEV("div",{className:"container mx-auto px-4",children:[lt.jsxDEV("div",{className:"text-center mb-16",children:[lt.jsxDEV(Um,{children:["Como a ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-500 to-purple-600 bg-clip-text text-transparent",children:"magia"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:61,columnNumber:32},void 0)," acontece"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:61,columnNumber:11},void 0),lt.jsxDEV(km,{children:"Nosso processo transforma suas memórias em obras musicais personalizadas em apenas 3 passos simples"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:62,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:60,columnNumber:9},void 0),lt.jsxDEV("div",{className:"relative",children:[lt.jsxDEV("div",{className:"flex justify-center mb-12",children:lt.jsxDEV("div",{className:"relative flex items-center space-x-8 md:space-x-16",children:[lt.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gradient-to-r from-memora-primary/20 via-memora-secondary/20 to-memora-coral/20 rounded-full transform -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:71,columnNumber:15},void 0),lt.jsxDEV("div",{className:"absolute top-1/2 left-0 h-1 bg-gradient-to-r from-memora-primary via-memora-secondary to-memora-coral rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:(e+1)/i.length*100+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:74,columnNumber:15},void 0),i.map((s,r)=>{const i=s.icon,a=r===e,n=r<e;return lt.jsxDEV("button",{onClick:()=>(e=>{t(e),o(!1),setTimeout(()=>o(!0),8e3)})(r),className:"relative z-10 w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-memora-primary/30 "+(a?"bg-gradient-to-br from-memora-primary to-memora-secondary shadow-2xl scale-110":n?"bg-memora-primary/80 shadow-lg":"bg-white/10 backdrop-blur-sm border-2 border-white/20 hover:border-memora-primary/50"),children:[lt.jsxDEV(i,{className:"w-6 h-6 transition-colors duration-300 "+(a||n?"text-white":"text-yellow-500")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:97,columnNumber:21},void 0),lt.jsxDEV("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 "+(a?"bg-white text-memora-primary shadow-lg":n?"bg-memora-primary text-white":"bg-white/20 text-white/60"),children:s.number},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:102,columnNumber:21},void 0)]},s.number,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:86,columnNumber:19},void 0)})]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:69,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:68,columnNumber:11},void 0),lt.jsxDEV("div",{className:"max-w-4xl mx-auto",children:lt.jsxDEV(Am,{className:"p-8 md:p-12 text-center space-y-4",children:[lt.jsxDEV("h3",{className:"text-3xl md:text-4xl font-heading font-bold",style:{color:"#B69FE7"},children:i[e].title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:120,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-xl text-white/90 leading-relaxed",children:i[e].description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:124,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-lg text-white/50 max-w-2xl mx-auto leading-relaxed",children:i[e].details},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:119,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:118,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:66,columnNumber:9},void 0),lt.jsxDEV("div",{className:"text-center mt-16",children:lt.jsxDEV("div",{className:"inline-flex items-center space-x-2 surface-1 px-6 py-3 rounded-full shadow-lg",children:[lt.jsxDEV(Z,{className:"w-5 h-5",style:{color:"#08060D"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:138,columnNumber:13},void 0),lt.jsxDEV("span",{className:"font-medium",style:{color:"#08060D"},children:"Processo 100% automatizado com IA avançada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:139,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:137,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:136,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:58,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:57,columnNumber:5},void 0)},Lm=({id:e})=>{const{isFree:t,isLoading:s,error:o}=(()=>{const[e,t]=r.useState(!0),[s,o]=r.useState(0),[i,a]=r.useState(!0),[n,l]=r.useState(null),{token:c,deviceId:m}=tc(),d=async()=>{try{a(!0),l(null);const e=await hi(`${ai.PAYWALL}/creation-status`);t(e.isFree),o(e.freeSongsUsed||0)}catch(e){l(e instanceof Error?e.message:"Erro desconhecido"),t(!1)}finally{a(!1)}};return r.useEffect(()=>{d()},[]),{isFree:e,freeSongsUsed:s,isLoading:i,error:n,refetch:d}})(),{startNewCreationFlow:i}=ac(),{token:a}=tc(),n=Xr(),l=[{icon:_e,text:"Música personalizada de até 3 minutos"},{icon:Z,text:"Estilos variados: Nacionais e Internacionais"},{icon:De,text:"Voz sintética avançada com qualidade profissional"},{icon:Se,text:"Entrega rápida em MP3"}];return lt.jsxDEV("section",{id:e,className:"py-[120px]",children:lt.jsxDEV("div",{className:"container mx-auto px-4",children:[lt.jsxDEV("div",{className:"text-center mb-8",children:[lt.jsxDEV(Um,{children:"Um presente que toca o coração"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:41,columnNumber:11},void 0),lt.jsxDEV(km,{children:"Crie memórias musicais únicas que ficarão para sempre"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:40,columnNumber:9},void 0),lt.jsxDEV("div",{className:"max-w-2xl mx-auto pt-12 overflow-visible",children:lt.jsxDEV(Am,{className:"relative overflow-visible",children:[lt.jsxDEV("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[100]",children:lt.jsxDEV("div",{className:"bg-memora-secondary px-7 py-2 rounded-full shadow-lg border border-white/40 text-center",children:lt.jsxDEV("span",{className:"font-heading font-bold text-sm",style:{color:"#08060D"},children:"🎉 Primeira música é grátis!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:53,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:52,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:51,columnNumber:13},void 0),lt.jsxDEV("div",{className:"pt-16 pb-8 px-8 sm:px-12",children:[lt.jsxDEV("div",{className:"text-center mb-8",children:[lt.jsxDEV("h3",{className:"text-2xl sm:text-3xl font-heading font-bold text-white mb-2",children:"AI Premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:62,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[s?lt.jsxDEV("div",{className:"text-4xl sm:text-5xl font-heading font-bold text-muted-foreground animate-pulse",children:"R$ --"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:67,columnNumber:21},void 0):lt.jsxDEV("span",{className:"text-4xl sm:text-5xl font-heading font-bold text-primary",children:t?"R$ 0":"R$ 149"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:71,columnNumber:21},void 0),lt.jsxDEV("div",{className:"text-left",children:[!s&&t&&lt.jsxDEV("div",{className:"text-muted-foreground line-through text-lg",children:"R$ 149"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:77,columnNumber:23},void 0),lt.jsxDEV("div",{className:"text-sm text-white",children:"por música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:81,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:75,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:65,columnNumber:17},void 0),o&&lt.jsxDEV("div",{className:"text-xs text-orange-600 mt-2",children:"Erro ao carregar preço. Usando valor padrão."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:87,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:61,columnNumber:15},void 0),lt.jsxDEV("div",{className:"space-y-4 mb-8",children:l.map((e,t)=>{const s=e.icon;return lt.jsxDEV("div",{className:"flex items-start space-x-3",children:[lt.jsxDEV("div",{className:"flex-shrink-0 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center mt-0.5",children:lt.jsxDEV(s,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:101,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:100,columnNumber:23},void 0),lt.jsxDEV("span",{className:"text-white/80 font-medium",children:e.text},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:103,columnNumber:23},void 0)]},t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:99,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:94,columnNumber:15},void 0),lt.jsxDEV("div",{className:"text-center mb-6",children:lt.jsxDEV(hm,{"data-attr":"plan-cta-button",className:"w-full font-heading font-bold",onClick:async()=>{try{await i(n,a||null)}catch(e){n("/criar")}},children:[lt.jsxDEV(Z,{className:"mr-3 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:125,columnNumber:19},void 0),"Crie sua música agora"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:113,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:112,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex items-center justify-center space-x-2 text-white/50 text-sm",children:[lt.jsxDEV(je,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:132,columnNumber:17},void 0),lt.jsxDEV("span",{children:"Oferta limitada ao período de lançamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:133,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:59,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:49,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:48,columnNumber:9},void 0),lt.jsxDEV("div",{className:"mt-16 grid sm:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:lt.jsxDEV(je,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:145,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:144,columnNumber:13},void 0),lt.jsxDEV("h4",{className:"font-heading font-bold text-white mb-1",children:"Entrega Rápida"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:147,columnNumber:13},void 0),lt.jsxDEV("p",{className:"text-sm text-white/50",children:"Sua música fica pronta em menos de 5 minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:143,columnNumber:11},void 0),lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:lt.jsxDEV(Te,{className:"w-6 h-6 text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:157,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:156,columnNumber:13},void 0),lt.jsxDEV("h4",{className:"font-heading font-bold text-white mb-1",children:"100% Única"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:159,columnNumber:13},void 0),lt.jsxDEV("p",{className:"text-sm text-white/50",children:"Cada música é criada exclusivamente para você"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:162,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:155,columnNumber:11},void 0),lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("div",{className:"w-12 h-12 bg-accent-coral/10 rounded-full flex items-center justify-center mx-auto mb-3",children:lt.jsxDEV(Se,{className:"w-6 h-6 text-accent-coral"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:169,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:168,columnNumber:13},void 0),lt.jsxDEV("h4",{className:"font-heading font-bold text-white mb-1",children:"Formato MP3"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:171,columnNumber:13},void 0),lt.jsxDEV("p",{className:"text-sm text-white/50",children:"Compatível com todos os dispositivos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:174,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:167,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:142,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:38,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:37,columnNumber:5},void 0)};function Im(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Om(e,t){void 0===e&&(e={}),void 0===t&&(t={});const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:Im(t[s])&&Im(e[s])&&Object.keys(t[s]).length>0&&Om(e[s],t[s])})}const Rm={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fm(){const e="undefined"!=typeof document?document:{};return Om(e,Rm),e}const Bm={document:Rm,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function $m(){const e="undefined"!=typeof window?window:{};return Om(e,Bm),e}function zm(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Gm(){return Date.now()}function Hm(e,t){void 0===t&&(t="x");const s=$m();let r,o,i;const a=function(e){const t=$m();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(o=a.transform||a.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(e=>e.replace(",",".")).join(", ")),i=new s.WebKitCSSMatrix("none"===o?"":o)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(o=s.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(o=s.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),o||0}function qm(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Wm(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Xm(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const r=s<0||arguments.length<=s?void 0:arguments[s];if(null!=r&&!Wm(r)){const s=Object.keys(Object(r)).filter(e=>t.indexOf(e)<0);for(let t=0,o=s.length;t<o;t+=1){const o=s[t],i=Object.getOwnPropertyDescriptor(r,o);void 0!==i&&i.enumerable&&(qm(e[o])&&qm(r[o])?r[o].__swiper__?e[o]=r[o]:Xm(e[o],r[o]):!qm(e[o])&&qm(r[o])?(e[o]={},r[o].__swiper__?e[o]=r[o]:Xm(e[o],r[o])):e[o]=r[o])}}}return e}function Ym(e,t,s){e.style.setProperty(t,s)}function Jm(e){let{swiper:t,targetPosition:s,side:r}=e;const o=$m(),i=-t.translate;let a,n=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const c=s>i?"next":"prev",m=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{a=(new Date).getTime(),null===n&&(n=a);const e=Math.max(Math.min((a-n)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let u=i+c*(s-i);if(m(u,s)&&(u=s),t.wrapperEl.scrollTo({[r]:u}),m(u,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:u})}),void o.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=o.requestAnimationFrame(d)};d()}function Km(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function Qm(e,t){void 0===t&&(t="");const s=$m(),r=[...e.children];return s.HTMLSlotElement&&e instanceof HTMLSlotElement&&r.push(...e.assignedElements()),t?r.filter(e=>e.matches(t)):r}function Zm(e){try{return}catch(t){}}function ed(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter(e=>!!e.trim())}(t)),s}function td(e,t){return $m().getComputedStyle(e,null).getPropertyValue(t)}function sd(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function rd(e,t){const s=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&s.push(r):s.push(r),r=r.parentElement;return s}function od(e,t,s){const r=$m();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function id(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function ad(e,t){void 0===t&&(t=""),"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let nd,ld,cd;function md(){return nd||(nd=function(){const e=$m(),t=Fm();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),nd}function dd(e){return void 0===e&&(e={}),ld||(ld=function(e){let{userAgent:t}=void 0===e?{}:e;const s=md(),r=$m(),o=r.navigator.platform,i=t||r.navigator.userAgent,a={ios:!1,android:!1},n=r.screen.width,l=r.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let m=i.match(/(iPad).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),u=!m&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===o;let p="MacIntel"===o;return!m&&p&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${n}x${l}`)>=0&&(m=i.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),p=!1),c&&!h&&(a.os="android",a.android=!0),(m||u||d)&&(a.os="ios",a.ios=!0),a}(e)),ld}function ud(){return cd||(cd=function(){const e=$m(),t=dd();let s=!1;function r(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(r()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,r]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));s=e<16||16===e&&r<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=r();return{isSafari:s||i,needPerspectiveFix:s,need3dFix:i||o&&t.ios,isWebView:o}}()),cd}const hd=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const pd=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)};const fd=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){let t=s.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(s.shadowRoot?t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},vd=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},bd=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const r="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=o,i=[s-t];return i.push(...Array.from({length:t}).map((e,t)=>s+r+t)),void e.slides.forEach((t,s)=>{i.includes(t.column)&&vd(e,s)})}const i=o+r-1;if(e.params.rewind||e.params.loop)for(let a=o-t;a<=i+t;a+=1){const t=(a%s+s)%s;(t<o||t>i)&&vd(e,t)}else for(let a=Math.max(o-t,0);a<=Math.min(i+t,s-1);a+=1)a!==o&&(a>i||a<o)&&vd(e,a)};var gd={updateSize:function(){const e=this;let t,s;const r=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:r.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(td(r,"padding-left")||0,10)-parseInt(td(r,"padding-right")||0,10),s=s-parseInt(td(r,"padding-top")||0,10)-parseInt(td(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t,s){return parseFloat(t.getPropertyValue(e.getDirectionLabel(s))||0)}const s=e.params,{wrapperEl:r,slidesEl:o,size:i,rtlTranslate:a,wrongRTL:n}=e,l=e.virtual&&s.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,m=Qm(o,`.${e.params.slideClass}, swiper-slide`),d=l?e.virtual.slides.length:m.length;let u=[];const h=[],p=[];let f=s.slidesOffsetBefore;"function"==typeof f&&(f=s.slidesOffsetBefore.call(e));let v=s.slidesOffsetAfter;"function"==typeof v&&(v=s.slidesOffsetAfter.call(e));const b=e.snapGrid.length,g=e.slidesGrid.length;let x=s.spaceBetween,N=-f,w=0,y=0;if(void 0===i)return;"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*i:"string"==typeof x&&(x=parseFloat(x)),e.virtualSize=-x,m.forEach(e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(Ym(r,"--swiper-centered-offset-before",""),Ym(r,"--swiper-centered-offset-after",""));const _=s.grid&&s.grid.rows>1&&e.grid;let E;_?e.grid.initSlides(m):e.grid&&e.grid.unsetSlides();const D="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(e=>void 0!==s.breakpoints[e].slidesPerView).length>0;for(let S=0;S<d;S+=1){let r;if(E=0,m[S]&&(r=m[S]),_&&e.grid.updateSlide(S,r,m),!m[S]||"none"!==td(r,"display")){if("auto"===s.slidesPerView){D&&(m[S].style[e.getDirectionLabel("width")]="");const o=getComputedStyle(r),i=r.style.transform,a=r.style.webkitTransform;if(i&&(r.style.transform="none"),a&&(r.style.webkitTransform="none"),s.roundLengths)E=e.isHorizontal()?od(r,"width"):od(r,"height");else{const e=t(o,"width"),s=t(o,"padding-left"),i=t(o,"padding-right"),a=t(o,"margin-left"),n=t(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)E=e+a+n;else{const{clientWidth:t,offsetWidth:o}=r;E=e+s+i+a+n+(o-t)}}i&&(r.style.transform=i),a&&(r.style.webkitTransform=a),s.roundLengths&&(E=Math.floor(E))}else E=(i-(s.slidesPerView-1)*x)/s.slidesPerView,s.roundLengths&&(E=Math.floor(E)),m[S]&&(m[S].style[e.getDirectionLabel("width")]=`${E}px`);m[S]&&(m[S].swiperSlideSize=E),p.push(E),s.centeredSlides?(N=N+E/2+w/2+x,0===w&&0!==S&&(N=N-i/2-x),0===S&&(N=N-i/2-x),Math.abs(N)<.001&&(N=0),s.roundLengths&&(N=Math.floor(N)),y%s.slidesPerGroup===0&&u.push(N),h.push(N)):(s.roundLengths&&(N=Math.floor(N)),(y-Math.min(e.params.slidesPerGroupSkip,y))%e.params.slidesPerGroup===0&&u.push(N),h.push(N),N=N+E+x),e.virtualSize+=E+x,w=E,y+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,a&&n&&("slide"===s.effect||"coverflow"===s.effect)&&(r.style.width=`${e.virtualSize+x}px`),s.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+x}px`),_&&e.grid.updateWrapperSize(E,u),!s.centeredSlides){const t=[];for(let r=0;r<u.length;r+=1){let o=u[r];s.roundLengths&&(o=Math.floor(o)),u[r]<=e.virtualSize-i&&t.push(o)}u=t,Math.floor(e.virtualSize-i)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-i)}if(l&&s.loop){const t=p[0]+x;if(s.slidesPerGroup>1){const r=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/s.slidesPerGroup),o=t*s.slidesPerGroup;for(let e=0;e<r;e+=1)u.push(u[u.length-1]+o)}for(let r=0;r<e.virtual.slidesBefore+e.virtual.slidesAfter;r+=1)1===s.slidesPerGroup&&u.push(u[u.length-1]+t),h.push(h[h.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==x){const t=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");m.filter((e,t)=>!(s.cssMode&&!s.loop)||t!==m.length-1).forEach(e=>{e.style[t]=`${x}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;p.forEach(t=>{e+=t+(x||0)}),e-=x;const t=e>i?e-i:0;u=u.map(e=>e<=0?-f:e>t?t+v:e)}if(s.centerInsufficientSlides){let e=0;p.forEach(t=>{e+=t+(x||0)}),e-=x;const t=(s.slidesOffsetBefore||0)+(s.slidesOffsetAfter||0);if(e+t<i){const s=(i-e-t)/2;u.forEach((e,t)=>{u[t]=e-s}),h.forEach((e,t)=>{h[t]=e+s})}}if(Object.assign(e,{slides:m,snapGrid:u,slidesGrid:h,slidesSizesGrid:p}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){Ym(r,"--swiper-centered-offset-before",-u[0]+"px"),Ym(r,"--swiper-centered-offset-after",e.size/2-p[p.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+s)}if(d!==c&&e.emit("slidesLengthChange"),u.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==g&&e.emit("slidesGridLengthChange"),s.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const t=`${s.containerModifierClass}backface-hidden`,r=e.el.classList.contains(t);d<=s.maxBackfaceHiddenSlides?r||e.el.classList.add(t):r&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],r=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>r?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{s.push(e)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!r)break;s.push(a(e))}else s.push(a(t.activeIndex));for(o=0;o<s.length;o+=1)if(void 0!==s[o]){const e=s[o].offsetHeight;i=e>i?e:i}(i||0===i)&&(t.wrapperEl.style.height=`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-s-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,s=t.params,{slides:r,rtlTranslate:o,snapGrid:i}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;o&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=s.spaceBetween;"string"==typeof n&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:"string"==typeof n&&(n=parseFloat(n));for(let l=0;l<r.length;l+=1){const e=r[l];let c=e.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(c-=r[0].swiperSlideOffset);const m=(a+(s.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n),d=(a-i[0]+(s.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n),u=-(a-c),h=u+t.slidesSizesGrid[l],p=u>=0&&u<=t.size-t.slidesSizesGrid[l],f=u>=0&&u<t.size-1||h>1&&h<=t.size||u<=0&&h>=t.size;f&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),hd(e,f,s.slideVisibleClass),hd(e,p,s.slideFullyVisibleClass),e.progress=o?-m:m,e.originalProgress=o?-d:d}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:a,progressLoop:n}=t;const l=i,c=a;if(0===r)o=0,i=!0,a=!0;else{o=(e-t.minTranslate())/r;const s=Math.abs(e-t.minTranslate())<1,n=Math.abs(e-t.maxTranslate())<1;i=s||o<=0,a=n||o>=1,s&&(o=0),n&&(o=1)}if(s.loop){const s=t.getSlideIndexByData(0),r=t.getSlideIndexByData(t.slides.length-1),o=t.slidesGrid[s],i=t.slidesGrid[r],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);n=l>=o?(l-o)/a:(l+a-i)/a,n>1&&(n-=1)}Object.assign(t,{progress:o,progressLoop:n,isBeginning:i,isEnd:a}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!a)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:r,activeIndex:o}=e,i=e.virtual&&s.virtual.enabled,a=e.grid&&s.grid&&s.grid.rows>1,n=e=>Qm(r,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let l,c,m;if(i)if(s.loop){let t=o-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=n(`[data-swiper-slide-index="${t}"]`)}else l=n(`[data-swiper-slide-index="${o}"]`);else a?(l=t.find(e=>e.column===o),m=t.find(e=>e.column===o+1),c=t.find(e=>e.column===o-1)):l=t[o];l&&(a||(m=function(e,t){const s=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&s.push(r):s.push(r),e=r}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!m&&(m=t[0]),c=function(e,t){const s=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&s.push(r):s.push(r),e=r}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{pd(e,e===l,s.slideActiveClass),pd(e,e===m,s.slideNextClass),pd(e,e===c,s.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:o,activeIndex:i,realIndex:a,snapIndex:n}=t;let l,c=e;const m=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:s}=e,r=e.rtlTranslate?e.translate:-e.translate;let o;for(let i=0;i<t.length;i+=1)void 0!==t[i+1]?r>=t[i]&&r<t[i+1]-(t[i+1]-t[i])/2?o=i:r>=t[i]&&r<t[i+1]&&(o=i+1):r>=t[i]&&(o=i);return s.normalizeSlideIndex&&(o<0||void 0===o)&&(o=0),o}(t)),r.indexOf(s)>=0)l=r.indexOf(s);else{const e=Math.min(o.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/o.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===i&&!t.params.loop)return void(l!==n&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=m(c));const d=t.grid&&o.grid&&o.grid.rows>1;let u;if(t.virtual&&o.virtual.enabled&&o.loop)u=m(c);else if(d){const e=t.slides.find(e=>e.column===c);let s=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(s)&&(s=Math.max(t.slides.indexOf(e),0)),u=Math.floor(s/o.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");u=e?parseInt(e,10):c}else u=c;Object.assign(t,{previousSnapIndex:n,snapIndex:l,previousRealIndex:a,realIndex:u,previousIndex:i,activeIndex:c}),t.initialized&&bd(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==u&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const s=this,r=s.params;let o=e.closest(`.${r.slideClass}, swiper-slide`);!o&&s.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!o&&e.matches&&e.matches(`.${r.slideClass}, swiper-slide`)&&(o=e)});let i,a=!1;if(o)for(let n=0;n<s.slides.length;n+=1)if(s.slides[n]===o){a=!0,i=n;break}if(!o||!a)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);s.clickedSlide=o,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=i,r.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}};function xd(e){let{swiper:t,runCallbacks:s,direction:r,step:o}=e;const{activeIndex:i,previousIndex:a}=t;let n=r;n||(n=i>a?"next":i<a?"prev":"reset"),t.emit(`transition${o}`),s&&"reset"===n?t.emit(`slideResetTransition${o}`):s&&i!==a&&(t.emit(`slideChangeTransition${o}`),"next"===n?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`))}var Nd={slideTo:function(e,t,s,r,o){void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e&&(e=parseInt(e,10));const i=this;let a=e;a<0&&(a=0);const{params:n,snapGrid:l,slidesGrid:c,previousIndex:m,activeIndex:d,rtlTranslate:u,wrapperEl:h,enabled:p}=i;if(!p&&!r&&!o||i.destroyed||i.animating&&n.preventInteractionOnTransition)return!1;void 0===t&&(t=i.params.speed);const f=Math.min(i.params.slidesPerGroupSkip,a);let v=f+Math.floor((a-f)/i.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const b=-l[v];if(n.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*b),t=Math.floor(100*c[w]),s=Math.floor(100*c[w+1]);void 0!==c[w+1]?e>=t&&e<s-(s-t)/2?a=w:e>=t&&e<s&&(a=w+1):e>=t&&(a=w)}if(i.initialized&&a!==d){if(!i.allowSlideNext&&(u?b>i.translate&&b>i.minTranslate():b<i.translate&&b<i.minTranslate()))return!1;if(!i.allowSlidePrev&&b>i.translate&&b>i.maxTranslate()&&(d||0)!==a)return!1}let g;a!==(m||0)&&s&&i.emit("beforeSlideChangeStart"),i.updateProgress(b),g=a>d?"next":a<d?"prev":"reset";const x=i.virtual&&i.params.virtual.enabled;if(!(x&&o)&&(u&&-b===i.translate||!u&&b===i.translate))return i.updateActiveIndex(a),n.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==n.effect&&i.setTranslate(b),"reset"!==g&&(i.transitionStart(s,g),i.transitionEnd(s,g)),!1;if(n.cssMode){const e=i.isHorizontal(),s=u?b:-b;if(0===t)x&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),x&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[e?"scrollLeft":"scrollTop"]=s})):h[e?"scrollLeft":"scrollTop"]=s,x&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return Jm({swiper:i,targetPosition:s,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}const N=ud().isSafari;return x&&!o&&N&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(t),i.setTranslate(b),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(s,g),0===t?i.transitionEnd(s,g):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(s,g))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,r){if(void 0===e&&(e=0),void 0===s&&(s=!0),"string"==typeof e){e=parseInt(e,10)}const o=this;if(o.destroyed)return;void 0===t&&(t=o.params.speed);const i=o.grid&&o.params.grid&&o.params.grid.rows>1;let a=e;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)a+=o.virtual.slidesBefore;else{let e;if(i){const t=a*o.params.grid.rows;e=o.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=o.getSlideIndexByData(a);const t=i?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:s}=o.params;let n=o.params.slidesPerView;"auto"===n?n=o.slidesPerViewDynamic():(n=Math.ceil(parseFloat(o.params.slidesPerView,10)),s&&n%2==0&&(n+=1));let l=t-e<n;if(s&&(l=l||e<Math.ceil(n/2)),r&&s&&"auto"!==o.params.slidesPerView&&!i&&(l=!1),l){const r=s?e<o.activeIndex?"prev":"next":e-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?e+1:e-t+1,slideRealIndex:"next"===r?o.realIndex:void 0})}if(i){const e=a*o.params.grid.rows;a=o.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else a=o.getSlideIndexByData(a)}return requestAnimationFrame(()=>{o.slideTo(a,t,s,r)}),o},slideNext:function(e,t,s){void 0===t&&(t=!0);const r=this,{enabled:o,params:i,animating:a}=r;if(!o||r.destroyed)return r;void 0===e&&(e=r.params.speed);let n=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(n=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:n,c=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,e,t,s)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,e,t,s):r.slideTo(r.activeIndex+l,e,t,s)},slidePrev:function(e,t,s){void 0===t&&(t=!0);const r=this,{params:o,snapGrid:i,slidesGrid:a,rtlTranslate:n,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;void 0===e&&(e=r.params.speed);const m=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!m&&o.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=d(n?r.translate:-r.translate),h=i.map(e=>d(e)),p=o.freeMode&&o.freeMode.enabled;let f=i[h.indexOf(u)-1];if(void 0===f&&(o.cssMode||p)){let e;i.forEach((t,s)=>{u>=t&&(e=s)}),void 0!==e&&(f=p?i[e]:i[e>0?e-1:e])}let v=0;if(void 0!==f&&(v=a.indexOf(f),v<0&&(v=r.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),o.rewind&&r.isBeginning){const o=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(o,e,t,s)}return o.loop&&0===r.activeIndex&&o.cssMode?(requestAnimationFrame(()=>{r.slideTo(v,e,t,s)}),!0):r.slideTo(v,e,t,s)},slideReset:function(e,t,s){void 0===t&&(t=!0);const r=this;if(!r.destroyed)return void 0===e&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,s)},slideToClosest:function(e,t,s,r){void 0===t&&(t=!0),void 0===r&&(r=.5);const o=this;if(o.destroyed)return;void 0===e&&(e=o.params.speed);let i=o.activeIndex;const a=Math.min(o.params.slidesPerGroupSkip,i),n=a+Math.floor((i-a)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[n]){const e=o.snapGrid[n];l-e>(o.snapGrid[n+1]-e)*r&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[n-1];l-e<=(o.snapGrid[n]-e)*r&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,s)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:s}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.getSlideIndexWhenGrid(e.clickedIndex);const a=e.isElement?"swiper-slide":`.${t.slideClass}`,n=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(o):i>(n?(e.slides.length-r)/2-(e.params.grid.rows-1):e.slides.length-r)?(e.loopFix(),i=e.getSlideIndex(Qm(s,`${a}[data-swiper-slide-index="${o}"]`)[0]),zm(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}};var wd={loopCreate:function(e,t){const s=this,{params:r,slidesEl:o}=s;if(!r.loop||s.virtual&&s.params.virtual.enabled)return;const i=()=>{Qm(o,`.${r.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},a=s.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&(()=>{const e=Qm(o,`.${r.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(s.recalcSlides(),s.updateSlides())})();const n=r.slidesPerGroup*(a?r.grid.rows:1),l=s.slides.length%n!==0,c=a&&s.slides.length%r.grid.rows!==0,m=e=>{for(let t=0;t<e;t+=1){const e=s.isElement?ed("swiper-slide",[r.slideBlankClass]):ed("div",[r.slideClass,r.slideBlankClass]);s.slidesEl.append(e)}};if(l){if(r.loopAddBlankSlides){m(n-s.slides.length%n),s.recalcSlides(),s.updateSlides()}else Zm();i()}else if(c){if(r.loopAddBlankSlides){m(r.grid.rows-s.slides.length%r.grid.rows),s.recalcSlides(),s.updateSlides()}else Zm();i()}else i();s.loopFix({slideRealIndex:e,direction:r.centeredSlides?void 0:"next",initial:t})},loopFix:function(e){let{slideRealIndex:t,slideTo:s=!0,direction:r,setTranslate:o,activeSlideIndex:i,initial:a,byController:n,byMousewheel:l}=void 0===e?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:m,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=c,{centeredSlides:f,initialSlide:v}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled)return s&&(p.centeredSlides||0!==c.snapIndex?p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=u,void c.emit("loopFix");let b=p.slidesPerView;"auto"===b?b=c.slidesPerViewDynamic():(b=Math.ceil(parseFloat(p.slidesPerView,10)),f&&b%2==0&&(b+=1));const g=p.slidesPerGroupAuto?b:p.slidesPerGroup;let x=f?Math.max(g,Math.ceil(b/2)):g;x%g!==0&&(x+=g-x%g),x+=p.loopAdditionalSlides,c.loopedSlides=x;const N=c.grid&&p.grid&&p.grid.rows>1;(m.length<b+x||"cards"===c.params.effect&&m.length<b+2*x||N&&"row"===p.grid.fill)&&Zm();const w=[],y=[],_=N?Math.ceil(m.length/p.grid.rows):m.length,E=a&&_-v<b&&!f;let D=E?v:c.activeIndex;void 0===i?i=c.getSlideIndex(m.find(e=>e.classList.contains(p.slideActiveClass))):D=i;const S="next"===r||!r,j="prev"===r||!r;let T=0,P=0;const C=(N?m[i].column:i)+(f&&void 0===o?-b/2+.5:0);if(C<x){T=Math.max(x-C,g);for(let e=0;e<x-C;e+=1){const t=e-Math.floor(e/_)*_;if(N){const e=_-t-1;for(let t=m.length-1;t>=0;t-=1)m[t].column===e&&w.push(t)}else w.push(_-t-1)}}else if(C+b>_-x){P=Math.max(C-(_-2*x),g),E&&(P=Math.max(P,b-_+v+1));for(let e=0;e<P;e+=1){const t=e-Math.floor(e/_)*_;N?m.forEach((e,s)=>{e.column===t&&y.push(s)}):y.push(t)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),"cards"===c.params.effect&&m.length<b+2*x&&(y.includes(i)&&y.splice(y.indexOf(i),1),w.includes(i)&&w.splice(w.indexOf(i),1)),j&&w.forEach(e=>{m[e].swiperLoopMoveDOM=!0,h.prepend(m[e]),m[e].swiperLoopMoveDOM=!1}),S&&y.forEach(e=>{m[e].swiperLoopMoveDOM=!0,h.append(m[e]),m[e].swiperLoopMoveDOM=!1}),c.recalcSlides(),"auto"===p.slidesPerView?c.updateSlides():N&&(w.length>0&&j||y.length>0&&S)&&c.slides.forEach((e,t)=>{c.grid.updateSlide(t,e,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),s)if(w.length>0&&j){if(void 0===t){const e=c.slidesGrid[D],t=c.slidesGrid[D+T]-e;l?c.setTranslate(c.translate-t):(c.slideTo(D+Math.ceil(T),0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else if(o){const e=N?w.length/p.grid.rows:w.length;c.slideTo(c.activeIndex+e,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(y.length>0&&S)if(void 0===t){const e=c.slidesGrid[D],t=c.slidesGrid[D-P]-e;l?c.setTranslate(c.translate-t):(c.slideTo(D-P,0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else{const e=N?y.length/p.grid.rows:y.length;c.slideTo(c.activeIndex-e,0,!1,!0)}if(c.allowSlidePrev=d,c.allowSlideNext=u,c.controller&&c.controller.control&&!n){const e={slideRealIndex:t,direction:r,setTranslate:o,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&s})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...e,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView&&s})}c.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||!s||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),r.forEach(e=>{s.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function yd(e,t,s){const r=$m(),{params:o}=e,i=o.edgeSwipeDetection,a=o.edgeSwipeThreshold;return!i||!(s<=a||s>=r.innerWidth-a)||"prevent"===i&&(t.preventDefault(),!0)}function _d(e){const t=this,s=Fm();let r=e;r.originalEvent&&(r=r.originalEvent);const o=t.touchEventsData;if("pointerdown"===r.type){if(null!==o.pointerId&&o.pointerId!==r.pointerId)return;o.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(o.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void yd(t,r,r.targetTouches[0].pageX);const{params:i,touches:a,enabled:n}=t;if(!n)return;if(!i.simulateTouch&&"mouse"===r.pointerType)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=r.target;if("wrapper"===i.touchEventsTarget&&!function(e,t){const s=$m();let r=t.contains(e);!r&&s.HTMLSlotElement&&t instanceof HTMLSlotElement&&(r=[...t.assignedElements()].includes(e),r||(r=function(e,t){const s=[t];for(;s.length>0;){const t=s.shift();if(e===t)return!0;s.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return r}(l,t.wrapperEl))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(o.isTouched&&o.isMoved)return;const c=!!i.noSwipingClass&&""!==i.noSwipingClass,m=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&m&&(l=m[0]);const d=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,u=!(!r.target||!r.target.shadowRoot);if(i.noSwiping&&(u?function(e,t){return void 0===t&&(t=this),function t(s){if(!s||s===Fm()||s===$m())return null;s.assignedSlot&&(s=s.assignedSlot);const r=s.closest(e);return r||s.getRootNode?r||t(s.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(i.swipeHandler&&!l.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const h=a.currentX,p=a.currentY;if(!yd(t,r,h))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=h,a.startY=p,o.touchStartTime=Gm(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1);let f=!0;l.matches(o.focusableElements)&&(f=!1,"SELECT"===l.nodeName&&(o.isTouched=!1)),s.activeElement&&s.activeElement.matches(o.focusableElements)&&s.activeElement!==l&&("mouse"===r.pointerType||"mouse"!==r.pointerType&&!l.matches(o.focusableElements))&&s.activeElement.blur();const v=f&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!v||l.isContentEditable||r.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function Ed(e){const t=Fm(),s=this,r=s.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:n}=s;if(!n)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==r.touchId)return;if(c.pointerId!==r.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===r.touchId),!l||l.identifier!==r.touchId)return}else l=c;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&s.emit("touchMoveOpposite",c));const m=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper)return i.startX=m,void(i.startY=d);if(!s.allowTouchMove)return c.target.matches(r.focusableElements)||(s.allowClick=!1),void(r.isTouched&&(Object.assign(i,{startX:m,startY:d,currentX:m,currentY:d}),r.touchStartTime=Gm()));if(o.touchReleaseOnEdges&&!o.loop)if(s.isVertical()){if(d<i.startY&&s.translate<=s.maxTranslate()||d>i.startY&&s.translate>=s.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else{if(a&&(m>i.startX&&-s.translate<=s.maxTranslate()||m<i.startX&&-s.translate>=s.minTranslate()))return;if(!a&&(m<i.startX&&s.translate<=s.maxTranslate()||m>i.startX&&s.translate>=s.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(s.allowClick=!1);r.allowTouchCallbacks&&s.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=m,i.currentY=d;const u=i.currentX-i.startX,h=i.currentY-i.startY;if(s.params.threshold&&Math.sqrt(u**2+h**2)<s.params.threshold)return;if(void 0===r.isScrolling){let e;s.isHorizontal()&&i.currentY===i.startY||s.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:u*u+h*h>=25&&(e=180*Math.atan2(Math.abs(h),Math.abs(u))/Math.PI,r.isScrolling=s.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(r.isScrolling&&s.emit("touchMoveOpposite",c),void 0===r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling||"touchmove"===c.type&&r.preventTouchMoveFromPointerMove)return void(r.isTouched=!1);if(!r.startMoving)return;s.allowClick=!1,!o.cssMode&&c.cancelable&&c.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&c.stopPropagation();let p=s.isHorizontal()?u:h,f=s.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;o.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),f=Math.abs(f)*(a?1:-1)),i.diff=p,p*=o.touchRatio,a&&(p=-p,f=-f);const v=s.touchesDirection;s.swipeDirection=p>0?"prev":"next",s.touchesDirection=f>0?"prev":"next";const b=s.params.loop&&!o.cssMode,g="next"===s.touchesDirection&&s.allowSlideNext||"prev"===s.touchesDirection&&s.allowSlidePrev;if(!r.isMoved){if(b&&g&&s.loopFix({direction:s.swipeDirection}),r.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!o.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==o._loopSwapReset&&r.isMoved&&r.allowThresholdMove&&v!==s.touchesDirection&&b&&g&&Math.abs(p)>=1)return Object.assign(i,{startX:m,startY:d,currentX:m,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);s.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let x=!0,N=o.resistanceRatio;if(o.touchReleaseOnEdges&&(N=0),p>0?(b&&g&&r.allowThresholdMove&&r.currentTranslate>(o.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-("auto"!==o.slidesPerView&&s.slides.length-o.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>s.minTranslate()&&(x=!1,o.resistance&&(r.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+r.startTranslate+p)**N))):p<0&&(b&&g&&r.allowThresholdMove&&r.currentTranslate<(o.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+("auto"!==o.slidesPerView&&s.slides.length-o.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===o.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),r.currentTranslate<s.maxTranslate()&&(x=!1,o.resistance&&(r.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-r.startTranslate-p)**N))),x&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),s.allowSlidePrev||s.allowSlideNext||(r.currentTranslate=r.startTranslate),o.threshold>0){if(!(Math.abs(p)>o.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=s.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&s.freeMode||o.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(r.currentTranslate),s.setTranslate(r.currentTranslate))}function Dd(e){const t=this,s=t.touchEventsData;let r,o=e;o.originalEvent&&(o=o.originalEvent);if("touchend"===o.type||"touchcancel"===o.type){if(r=[...o.changedTouches].find(e=>e.identifier===s.touchId),!r||r.identifier!==s.touchId)return}else{if(null!==s.touchId)return;if(o.pointerId!==s.pointerId)return;r=o}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(o.type)){if(!(["pointercancel","contextmenu"].includes(o.type)&&(t.browser.isSafari||t.browser.isWebView)))return}s.pointerId=null,s.touchId=null;const{params:i,touches:a,rtlTranslate:n,slidesGrid:l,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===o.pointerType)return;if(s.allowTouchCallbacks&&t.emit("touchEnd",o),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&i.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);i.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const m=Gm(),d=m-s.touchStartTime;if(t.allowClick){const e=o.path||o.composedPath&&o.composedPath();t.updateClickedSlide(e&&e[0]||o.target,e),t.emit("tap click",o),d<300&&m-s.lastClickTime<300&&t.emit("doubleTap doubleClick",o)}if(s.lastClickTime=Gm(),zm(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||0===a.diff&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let u;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,u=i.followFinger?n?t.translate:-t.translate:-s.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:u});const h=u>=-t.maxTranslate()&&!t.params.loop;let p=0,f=t.slidesSizesGrid[0];for(let N=0;N<l.length;N+=N<i.slidesPerGroupSkip?1:i.slidesPerGroup){const e=N<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==l[N+e]?(h||u>=l[N]&&u<l[N+e])&&(p=N,f=l[N+e]-l[N]):(h||u>=l[N])&&(p=N,f=l[l.length-1]-l[l.length-2])}let v=null,b=null;i.rewind&&(t.isBeginning?b=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const g=(u-l[p])/f,x=p<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?v:p+x):t.slideTo(p)),"prev"===t.swipeDirection&&(g>1-i.longSwipesRatio?t.slideTo(p+x):null!==b&&g<0&&Math.abs(g)>i.longSwipesRatio?t.slideTo(b):t.slideTo(p))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(o.target===t.navigation.nextEl||o.target===t.navigation.prevEl)?o.target===t.navigation.nextEl?t.slideTo(p+x):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==v?v:p+x),"prev"===t.swipeDirection&&t.slideTo(null!==b?b:p))}}function Sd(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:i}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||n?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function jd(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Td(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:r}=e;if(!r)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Pd(e){const t=this;fd(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Cd(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const kd=(e,t)=>{const s=Fm(),{params:r,el:o,wrapperEl:i,device:a}=e,n=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;o&&"string"!=typeof o&&(s[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:n}),o[l]("touchstart",e.onTouchStart,{passive:!1}),o[l]("pointerdown",e.onTouchStart,{passive:!1}),s[l]("touchmove",e.onTouchMove,{passive:!1,capture:n}),s[l]("pointermove",e.onTouchMove,{passive:!1,capture:n}),s[l]("touchend",e.onTouchEnd,{passive:!0}),s[l]("pointerup",e.onTouchEnd,{passive:!0}),s[l]("pointercancel",e.onTouchEnd,{passive:!0}),s[l]("touchcancel",e.onTouchEnd,{passive:!0}),s[l]("pointerout",e.onTouchEnd,{passive:!0}),s[l]("pointerleave",e.onTouchEnd,{passive:!0}),s[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&o[l]("click",e.onClick,!0),r.cssMode&&i[l]("scroll",e.onScroll),r.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Sd,!0):e[c]("observerUpdate",Sd,!0),o[l]("load",e.onLoad,{capture:!0}))};const Ud=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Vd={setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:r,el:o}=e,i=r.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const a=Fm(),n="window"!==r.breakpointsBase&&r.breakpointsBase?"container":r.breakpointsBase,l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?e.el:a.querySelector(r.breakpointsBase),c=e.getBreakpoint(i,n,l);if(!c||e.currentBreakpoint===c)return;const m=(c in i?i[c]:void 0)||e.originalParams,d=Ud(e,r),u=Ud(e,m),h=e.params.grabCursor,p=m.grabCursor,f=r.enabled;d&&!u?(o.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&u&&(o.classList.add(`${r.containerModifierClass}grid`),(m.grid.fill&&"column"===m.grid.fill||!m.grid.fill&&"column"===r.grid.fill)&&o.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),h&&!p?e.unsetGrabCursor():!h&&p&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===m[t])return;const s=r[t]&&r[t].enabled,o=m[t]&&m[t].enabled;s&&!o&&e[t].disable(),!s&&o&&e[t].enable()});const v=m.direction&&m.direction!==r.direction,b=r.loop&&(m.slidesPerView!==r.slidesPerView||v),g=r.loop;v&&s&&e.changeDirection(),Xm(e.params,m);const x=e.params.enabled,N=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!x?e.disable():!f&&x&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",m),s&&(b?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!g&&N?(e.loopCreate(t),e.updateSlides()):g&&!N&&e.loopDestroy()),e.emit("breakpoint",m)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let r=!1;const o=$m(),i="window"===t?o.innerHeight:s.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let n=0;n<a.length;n+=1){const{point:e,value:i}=a[n];"window"===t?o.matchMedia(`(min-width: ${i}px)`).matches&&(r=e):i<=s.clientWidth&&(r=e)}return r||"max"}};var Ad={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Md(e,t){return function(s){void 0===s&&(s={});const r=Object.keys(s)[0],o=s[r];"object"==typeof o&&null!==o?(!0===e[r]&&(e[r]={enabled:!0}),"navigation"===r&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),r in e&&"enabled"in o?("object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Xm(t,s)):Xm(t,s)):Xm(t,s)}}const Ld={eventsEmitter:{on(e,t,s){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const o=s?"unshift":"push";return e.split(" ").forEach(e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][o](t)}),r},once(e,t,s){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function o(){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];t.apply(r,i)}return o.__emitterProxy=t,r.on(e,o,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const r=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[r](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&s.eventsListeners[e].splice(o,1)})}),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,r;for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];"string"==typeof i[0]||Array.isArray(i[0])?(t=i[0],s=i.slice(1,i.length),r=e):(t=i[0].events,s=i[0].data,r=i[0].context||e),s.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(r,[t,...s])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(r,s)})}),e}},update:gd,translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:s,translate:r,wrapperEl:o}=this;if(t.virtualTranslate)return s?-r:r;if(t.cssMode)return r;let i=Hm(o,e);return i+=this.cssOverflowAdjustment(),s&&(i=-i),i||0},setTranslate:function(e,t){const s=this,{rtlTranslate:r,params:o,wrapperEl:i,progress:a}=s;let n,l=0,c=0;s.isHorizontal()?l=r?-e:e:c=e,o.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:c,o.cssMode?i[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-c:o.virtualTranslate||(s.isHorizontal()?l-=s.cssOverflowAdjustment():c-=s.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const m=s.maxTranslate()-s.minTranslate();n=0===m?0:(e-s.minTranslate())/m,n!==a&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,s,r,o){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),void 0===r&&(r=!0);const i=this,{params:a,wrapperEl:n}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let m;if(m=r&&e>l?l:r&&e<c?c:e,i.updateProgress(m),a.cssMode){const e=i.isHorizontal();if(0===t)n[e?"scrollLeft":"scrollTop"]=-m;else{if(!i.support.smoothScroll)return Jm({swiper:i,targetPosition:-m,side:e?"left":"top"}),!0;n.scrollTo({[e?"left":"top"]:-m,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(m),s&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(m),s&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,s&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`,s.wrapperEl.style.transitionDelay=0===e?"0ms":""),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:r}=s;r.cssMode||(r.autoHeight&&s.updateAutoHeight(),xd({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:r}=s;s.animating=!1,r.cssMode||(s.setTransition(0),xd({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:Nd,loop:wd,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=_d.bind(e),e.onTouchMove=Ed.bind(e),e.onTouchEnd=Dd.bind(e),e.onDocumentTouchStart=Cd.bind(e),t.cssMode&&(e.onScroll=Td.bind(e)),e.onClick=jd.bind(e),e.onLoad=Pd.bind(e),kd(e,"on")},detachEvents:function(){kd(this,"off")}},breakpoints:Vd,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:r}=s;if(r){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:r,el:o,device:i}=e,a=function(e,t){const s=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(r=>{e[r]&&s.push(t+r)}):"string"==typeof e&&s.push(t+e)}),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:r},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...a),o.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Id={};let Od=class e{constructor(){let t,s;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];1===o.length&&o[0].constructor&&"Object"===Object.prototype.toString.call(o[0]).slice(8,-1)?s=o[0]:[t,s]=o,s||(s={}),s=Xm({},s),t&&!s.el&&(s.el=t);const a=Fm();if(s.el&&"string"==typeof s.el&&a.querySelectorAll(s.el).length>1){const t=[];return a.querySelectorAll(s.el).forEach(r=>{const o=Xm({},s,{el:r});t.push(new e(o))}),t}const n=this;n.__swiper__=!0,n.support=md(),n.device=dd({userAgent:s.userAgent}),n.browser=ud(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],s.modules&&Array.isArray(s.modules)&&n.modules.push(...s.modules);const l={};n.modules.forEach(e=>{e({params:s,swiper:n,extendParams:Md(s,l),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});const c=Xm({},Ad,l);return n.params=Xm({},c,Id,s),n.originalParams=Xm({},n.params),n.passedParams=Xm({},s),n.params&&n.params.on&&Object.keys(n.params.on).forEach(e=>{n.on(e,n.params.on[e])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===n.params.direction,isVertical:()=>"vertical"===n.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,r=sd(Qm(t,`.${s.slideClass}, swiper-slide`)[0]);return sd(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Qm(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const r=s.minTranslate(),o=(s.maxTranslate()-r)*e+r;s.translateTo(o,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const r=e.getSlideClasses(s);t.push({slideEl:s,classNames:r}),e.emit("_slideClass",s,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:r,slidesGrid:o,slidesSizesGrid:i,size:a,activeIndex:n}=this;let l=1;if("number"==typeof s.slidesPerView)return s.slidesPerView;if(s.centeredSlides){let e,t=r[n]?Math.ceil(r[n].swiperSlideSize):0;for(let s=n+1;s<r.length;s+=1)r[s]&&!e&&(t+=Math.ceil(r[s].swiperSlideSize),l+=1,t>a&&(e=!0));for(let s=n-1;s>=0;s-=1)r[s]&&!e&&(t+=r[s].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let c=n+1;c<r.length;c+=1){(t?o[c]+i[c]-o[n]<a:o[c]-o[n]<a)&&(l+=1)}else for(let c=n-1;c>=0;c-=1){o[n]-o[c]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&fd(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s.freeMode&&s.freeMode.enabled&&!s.cssMode)r(),s.autoHeight&&e.updateAutoHeight();else{if(("auto"===s.slidesPerView||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const t=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(t.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||r()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,r=s.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${r}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(s&&s.shadowRoot&&s.shadowRoot.querySelector){return s.shadowRoot.querySelector(r())}return Qm(s,r())[0]})();return!o&&t.params.createElements&&(o=ed("div",t.params.wrapperClass),s.append(o),Qm(s,`.${t.params.slideClass}`).forEach(e=>{o.append(e)})),Object.assign(t,{el:s,wrapperEl:o,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===td(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===td(s,"direction")),wrongRTL:"-webkit-box"===td(o,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(e=>{e.complete?fd(t,e):e.addEventListener("load",e=>{fd(t,e.target)})}),bd(t),t.initialized=!0,bd(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:r,el:o,wrapperEl:i,slides:a}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),r.loop&&s.loopDestroy(),t&&(s.removeClasses(),o&&"string"!=typeof o&&o.removeAttribute("style"),i&&i.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(e=>{s.off(e)}),!1!==e&&(s.el&&"string"!=typeof s.el&&(s.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(Xp){}try{delete t[e]}catch(Xp){}})}(s)),s.destroyed=!0),null}static extendDefaults(e){Xm(Id,e)}static get extendedDefaults(){return Id}static get defaults(){return Ad}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const s=e.prototype.__modules__;"function"==typeof t&&s.indexOf(t)<0&&s.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(Ld).forEach(e=>{Object.keys(Ld[e]).forEach(t=>{Od.prototype[t]=Ld[e][t]})}),Od.use([function(e){let{swiper:t,on:s,emit:r}=e;const o=$m();let i=null,a=null;const n=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};s("init",()=>{t.params.resizeObserver&&void 0!==o.ResizeObserver?t&&!t.destroyed&&t.initialized&&(i=new ResizeObserver(e=>{a=o.requestAnimationFrame(()=>{const{width:s,height:r}=t;let o=s,i=r;e.forEach(e=>{let{contentBoxSize:s,contentRect:r,target:a}=e;a&&a!==t.el||(o=r?r.width:(s[0]||s).inlineSize,i=r?r.height:(s[0]||s).blockSize)}),o===s&&i===r||n()})}),i.observe(t.el)):(o.addEventListener("resize",n),o.addEventListener("orientationchange",l))}),s("destroy",()=>{a&&o.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),o.removeEventListener("resize",n),o.removeEventListener("orientationchange",l)})},function(e){let{swiper:t,extendParams:s,on:r,emit:o}=e;const i=[],a=$m(),n=function(e,s){void 0===s&&(s={});const r=new(a.MutationObserver||a.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void o("observerUpdate",e[0]);const s=function(){o("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(s):a.setTimeout(s,0)});r.observe(e,{attributes:void 0===s.attributes||s.attributes,childList:t.isElement||(void 0===s.childList||s).childList,characterData:void 0===s.characterData||s.characterData}),i.push(r)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=rd(t.hostEl);for(let t=0;t<e.length;t+=1)n(e[t])}n(t.hostEl,{childList:t.params.observeSlideChildren}),n(t.wrapperEl,{attributes:!1})}}),r("destroy",()=>{i.forEach(e=>{e.disconnect()}),i.splice(0,i.length)})}]);const Rd=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Fd(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function Bd(e,t){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:Fd(t[s])&&Fd(e[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?e[s]=t[s]:Bd(e[s],t[s]):e[s]=t[s]})}function $d(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function zd(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function Gd(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function Hd(e){void 0===e&&(e="");const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),s=[];return t.forEach(e=>{s.indexOf(e)<0&&s.push(e)}),s.join(" ")}function qd(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Wd.apply(this,arguments)}function Xd(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Yd(e){const t=[];return i.Children.toArray(e).forEach(e=>{Xd(e)?t.push(e):e.props&&e.props.children&&Yd(e.props.children).forEach(e=>t.push(e))}),t}function Jd(e){const t=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return i.Children.toArray(e).forEach(e=>{if(Xd(e))t.push(e);else if(e.props&&e.props.slot&&s[e.props.slot])s[e.props.slot].push(e);else if(e.props&&e.props.children){const r=Yd(e.props.children);r.length>0?r.forEach(e=>t.push(e)):s["container-end"].push(e)}else s["container-end"].push(e)}),{slides:t,slots:s}}function Kd(e,t){return"undefined"==typeof window?r.useEffect(e,t):r.useLayoutEffect(e,t)}const Qd=r.createContext(null),Zd=r.createContext(null),eu=r.forwardRef(function(e,t){let{className:s,tag:o="div",wrapperTag:a="div",children:n,onSwiper:l,...c}=void 0===e?{}:e,m=!1;const[d,u]=r.useState("swiper"),[h,p]=r.useState(null),[f,v]=r.useState(!1),b=r.useRef(!1),g=r.useRef(null),x=r.useRef(null),N=r.useRef(null),w=r.useRef(null),y=r.useRef(null),_=r.useRef(null),E=r.useRef(null),D=r.useRef(null),{params:S,passedParams:j,rest:T,events:P}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const s={on:{}},r={},o={};Bd(s,Ad),s._emitClasses=!0,s.init=!1;const i={},a=Rd.map(e=>e.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(n=>{void 0!==e[n]&&(a.indexOf(n)>=0?Fd(e[n])?(s[n]={},o[n]={},Bd(s[n],e[n]),Bd(o[n],e[n])):(s[n]=e[n],o[n]=e[n]):0===n.search(/on[A-Z]/)&&"function"==typeof e[n]?t?r[`${n[2].toLowerCase()}${n.substr(3)}`]=e[n]:s.on[`${n[2].toLowerCase()}${n.substr(3)}`]=e[n]:i[n]=e[n])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===s[e]&&(s[e]={}),!1===s[e]&&delete s[e]}),{params:s,passedParams:o,rest:i,events:r}}(c),{slides:C,slots:k}=Jd(n),U=()=>{v(!f)};Object.assign(S.on,{_containerClasses(e,t){u(t)}});const V=()=>{Object.assign(S.on,P),m=!0;const e={...S};if(delete e.wrapperClass,x.current=new Od(e),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=C;const e={cache:!1,slides:C,renderExternal:p,renderExternalUpdate:!1};Bd(x.current.params.virtual,e),Bd(x.current.originalParams.virtual,e)}};g.current||V(),x.current&&x.current.on("_beforeBreakpoint",U);return r.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",U)}),r.useEffect(()=>{!b.current&&x.current&&(x.current.emitSlidesClasses(),b.current=!0)}),Kd(()=>{if(t&&(t.current=g.current),g.current)return x.current.destroyed&&V(),function(e,t){let{el:s,nextEl:r,prevEl:o,paginationEl:i,scrollbarEl:a,swiper:n}=e;$d(t)&&r&&o&&(n.params.navigation.nextEl=r,n.originalParams.navigation.nextEl=r,n.params.navigation.prevEl=o,n.originalParams.navigation.prevEl=o),zd(t)&&i&&(n.params.pagination.el=i,n.originalParams.pagination.el=i),Gd(t)&&a&&(n.params.scrollbar.el=a,n.originalParams.scrollbar.el=a),n.init(s)}({el:g.current,nextEl:y.current,prevEl:_.current,paginationEl:E.current,scrollbarEl:D.current,swiper:x.current},S),l&&!x.current.destroyed&&l(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Kd(()=>{!m&&P&&x.current&&Object.keys(P).forEach(e=>{x.current.on(e,P[e])});const e=function(e,t,s,r,o){const i=[];if(!t)return i;const a=e=>{i.indexOf(e)<0&&i.push(e)};if(s&&r){const e=r.map(o),t=s.map(o);e.join("")!==t.join("")&&a("children"),r.length!==s.length&&a("children")}return Rd.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(s=>{if(s in e&&s in t)if(Fd(e[s])&&Fd(t[s])){const r=Object.keys(e[s]),o=Object.keys(t[s]);r.length!==o.length?a(s):(r.forEach(r=>{e[s][r]!==t[s][r]&&a(s)}),o.forEach(r=>{e[s][r]!==t[s][r]&&a(s)}))}else e[s]!==t[s]&&a(s)}),i}(j,N.current,C,w.current,e=>e.key);return N.current=j,w.current=C,e.length&&x.current&&!x.current.destroyed&&function(e){let{swiper:t,slides:s,passedParams:r,changedParams:o,nextEl:i,prevEl:a,scrollbarEl:n,paginationEl:l}=e;const c=o.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:m,pagination:d,navigation:u,scrollbar:h,virtual:p,thumbs:f}=t;let v,b,g,x,N,w,y,_;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(v=!0),o.includes("controller")&&r.controller&&r.controller.control&&m.controller&&!m.controller.control&&(b=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(m.pagination||!1===m.pagination)&&d&&!d.el&&(g=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||n)&&(m.scrollbar||!1===m.scrollbar)&&h&&!h.el&&(x=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(m.navigation||!1===m.navigation)&&u&&!u.prevEl&&!u.nextEl&&(N=!0);const E=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),m[e].prevEl=void 0,m[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),m[e].el=void 0,t[e].el=void 0))};o.includes("loop")&&t.isElement&&(m.loop&&!r.loop?w=!0:!m.loop&&r.loop?y=!0:_=!0),c.forEach(e=>{if(Fd(m[e])&&Fd(r[e]))Object.assign(m[e],r[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in r[e])||r[e].enabled||E(e);else{const t=r[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?m[e]=r[e]:!1===t&&E(e)}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),o.includes("children")&&s&&p&&m.virtual.enabled?(p.slides=s,p.update(!0)):o.includes("virtual")&&p&&m.virtual.enabled&&(s&&(p.slides=s),p.update(!0)),o.includes("children")&&s&&m.loop&&(_=!0),v&&f.init()&&f.update(!0);b&&(t.controller.control=m.controller.control),g&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(m.pagination.el=l),d.init(),d.render(),d.update()),x&&(!t.isElement||n&&"string"!=typeof n||(n=document.createElement("div"),n.classList.add("swiper-scrollbar"),n.part.add("scrollbar"),t.el.appendChild(n)),n&&(m.scrollbar.el=n),h.init(),h.updateSize(),h.setTranslate()),N&&(t.isElement&&(i&&"string"!=typeof i||(i=document.createElement("div"),i.classList.add("swiper-button-next"),ad(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-prev"),ad(a,t.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),t.el.appendChild(a))),i&&(m.navigation.nextEl=i),a&&(m.navigation.prevEl=a),u.init(),u.update()),o.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&t.changeDirection(r.direction,!1),(w||_)&&t.loopDestroy(),(y||_)&&t.loopCreate(),t.update()}({swiper:x.current,slides:C,passedParams:j,changedParams:e,nextEl:y.current,prevEl:_.current,scrollbarEl:D.current,paginationEl:E.current}),()=>{P&&x.current&&Object.keys(P).forEach(e=>{x.current.off(e,P[e])})}}),Kd(()=>{var e;!(e=x.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[h]),i.createElement(o,Wd({ref:g,className:Hd(`${d}${s?` ${s}`:""}`)},T),i.createElement(Zd.Provider,{value:x.current},k["container-start"],i.createElement(a,{className:qd(S.wrapperClass)},k["wrapper-start"],S.virtual?function(e,t,s){if(!s)return null;const r=e=>{let s=e;return e<0?s=t.length+e:s>=t.length&&(s-=t.length),s},o=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`},{from:a,to:n}=s,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,m=[];for(let i=l;i<c;i+=1)i>=a&&i<=n&&m.push(t[r(i)]);return m.map((t,s)=>i.cloneElement(t,{swiper:e,style:o,key:t.props.virtualIndex||t.key||`slide-${s}`}))}(x.current,C,h):C.map((e,t)=>i.cloneElement(e,{swiper:x.current,swiperSlideIndex:t})),k["wrapper-end"]),$d(S)&&i.createElement(i.Fragment,null,i.createElement("div",{ref:_,className:"swiper-button-prev"}),i.createElement("div",{ref:y,className:"swiper-button-next"})),Gd(S)&&i.createElement("div",{ref:D,className:"swiper-scrollbar"}),zd(S)&&i.createElement("div",{ref:E,className:"swiper-pagination"}),k["container-end"]))});eu.displayName="Swiper";const tu=r.forwardRef(function(e,t){let{tag:s="div",children:o,className:a="",swiper:n,zoom:l,lazy:c,virtualIndex:m,swiperSlideIndex:d,...u}=void 0===e?{}:e;const h=r.useRef(null),[p,f]=r.useState("swiper-slide"),[v,b]=r.useState(!1);function g(e,t,s){t===h.current&&f(s)}Kd(()=>{if(void 0!==d&&(h.current.swiperSlideIndex=d),t&&(t.current=h.current),h.current&&n){if(!n.destroyed)return n.on("_slideClass",g),()=>{n&&n.off("_slideClass",g)};"swiper-slide"!==p&&f("swiper-slide")}}),Kd(()=>{n&&h.current&&!n.destroyed&&f(n.getSlideClasses(h.current))},[n]);const x={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},N=()=>"function"==typeof o?o(x):o;return i.createElement(s,Wd({ref:h,className:Hd(`${p}${a?` ${a}`:""}`),"data-swiper-slide-index":m,onLoad:()=>{b(!0)}},u),l&&i.createElement(Qd.Provider,{value:x},i.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof l?l:void 0},N(),c&&!v&&i.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&i.createElement(Qd.Provider,{value:x},N(),c&&!v&&i.createElement("div",{className:"swiper-lazy-preloader"})))});function su(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function ru(e){let{swiper:t,extendParams:s,on:r,emit:o}=e;const i="swiper-pagination";let a;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let n=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,s){const{bulletActiveClass:r}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${r}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${r}-${s}-${s}`))}function m(e){const s=e.target.closest(su(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const r=sd(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===r)return;const e=(o=t.realIndex,i=r,a=t.slides.length,(i%=a)===1+(o%=a)?"next":i===o-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(r)}else t.slideTo(r);var o,i,a}function d(){const e=t.rtl,s=t.params.pagination;if(l())return;let r,i,m=t.pagination.el;m=id(m);const d=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,u=t.params.loop?Math.ceil(d/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(i=t.previousRealIndex||0,r=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(r=t.snapIndex,i=t.previousSnapIndex):(i=t.previousIndex||0,r=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const o=t.pagination.bullets;let l,d,u;if(s.dynamicBullets&&(a=od(o[0],t.isHorizontal()?"width":"height"),m.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]=a*(s.dynamicMainBullets+4)+"px"}),s.dynamicMainBullets>1&&void 0!==i&&(n+=r-(i||0),n>s.dynamicMainBullets-1?n=s.dynamicMainBullets-1:n<0&&(n=0)),l=Math.max(r-n,0),d=l+(Math.min(o.length,s.dynamicMainBullets)-1),u=(d+l)/2),o.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${s.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),m.length>1)o.forEach(e=>{const o=sd(e);o===r?e.classList.add(...s.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(o>=l&&o<=d&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),o===l&&c(e,"prev"),o===d&&c(e,"next"))});else{const e=o[r];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),t.isElement&&o.forEach((e,t)=>{e.setAttribute("part",t===r?"bullet-active":"bullet")}),s.dynamicBullets){const e=o[l],t=o[d];for(let r=l;r<=d;r+=1)o[r]&&o[r].classList.add(...`${s.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(s.dynamicBullets){const r=Math.min(o.length,s.dynamicMainBullets+4),i=(a*r-a)/2-u*a,n=e?"right":"left";o.forEach(e=>{e.style[t.isHorizontal()?n:"top"]=`${i}px`})}}m.forEach((e,i)=>{if("fraction"===s.type&&(e.querySelectorAll(su(s.currentClass)).forEach(e=>{e.textContent=s.formatFractionCurrent(r+1)}),e.querySelectorAll(su(s.totalClass)).forEach(e=>{e.textContent=s.formatFractionTotal(u)})),"progressbar"===s.type){let o;o=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const i=(r+1)/u;let a=1,n=1;"horizontal"===o?a=i:n=i,e.querySelectorAll(su(s.progressbarFillClass)).forEach(e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${n})`,e.style.transitionDuration=`${t.params.speed}ms`})}"custom"===s.type&&s.renderCustom?(ad(e,s.renderCustom(t,r+1,u)),0===i&&o("paginationRender",e)):(0===i&&o("paginationRender",e),o("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)})}function u(){const e=t.params.pagination;if(l())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let r=t.pagination.el;r=id(r);let i="";if("bullets"===e.type){let r=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&r>s&&(r=s);for(let s=0;s<r;s+=1)e.renderBullet?i+=e.renderBullet.call(t,s,e.bulletClass):i+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],r.forEach(s=>{"custom"!==e.type&&ad(s,i||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(su(e.bulletClass)))}),"custom"!==e.type&&o("paginationRender",r[0])}function h(){t.params.pagination=function(e,t,s,r){return e.params.createElements&&Object.keys(r).forEach(o=>{if(!s[o]&&!0===s.auto){let i=Qm(e.el,`.${r[o]}`)[0];i||(i=ed("div",r[o]),i.className=r[o],e.el.append(i)),s[o]=i,t[o]=i}}),s}(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.find(e=>rd(e,".swiper")[0]===t.el))),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=id(s),s.forEach(s=>{"bullets"===e.type&&e.clickable&&s.classList.add(...(e.clickableClass||"").split(" ")),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),n=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",m),t.enabled||s.classList.add(e.lockClass)}))}function p(){const e=t.params.pagination;if(l())return;let s=t.pagination.el;s&&(s=id(s),s.forEach(s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(s.classList.remove(...(e.clickableClass||"").split(" ")),s.removeEventListener("click",m))})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=id(s),s.forEach(s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),r("init",()=>{!1===t.params.pagination.enabled?f():(h(),u(),d())}),r("activeIndexChange",()=>{void 0===t.snapIndex&&d()}),r("snapIndexChange",()=>{d()}),r("snapGridLengthChange",()=>{u(),d()}),r("destroy",()=>{p()}),r("enable disable",()=>{let{el:e}=t.pagination;e&&(e=id(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),r("lock unlock",()=>{d()}),r("click",(e,s)=>{const r=s.target,i=id(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&i&&i.length>0&&!r.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&r===t.navigation.nextEl||t.navigation.prevEl&&r===t.navigation.prevEl))return;const e=i[0].classList.contains(t.params.pagination.hiddenClass);o(!0===e?"paginationShow":"paginationHide"),i.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const f=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=id(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),p()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=id(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),h(),u(),d()},disable:f,render:u,update:d,init:h,destroy:p})}function ou(e){let t,s,{swiper:r,extendParams:o,on:i,emit:a,params:n}=e;r.autoplay={running:!1,paused:!1,timeLeft:0},o({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,m,d,u,h,p,f,v=n&&n.autoplay?n.autoplay.delay:3e3,b=n&&n.autoplay?n.autoplay.delay:3e3,g=(new Date).getTime();function x(e){r&&!r.destroyed&&r.wrapperEl&&e.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",x),f||e.detail&&e.detail.bySwiperTouchMove||D())}const N=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?c=!0:c&&(b=l,c=!1);const e=r.autoplay.paused?l:g+b-(new Date).getTime();r.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/v),s=requestAnimationFrame(()=>{N()})},w=e=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(s),N();let o=void 0===e?r.params.autoplay.delay:e;v=r.params.autoplay.delay,b=r.params.autoplay.delay;const i=(()=>{let e;if(e=r.virtual&&r.params.virtual.enabled?r.slides.find(e=>e.classList.contains("swiper-slide-active")):r.slides[r.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(i)&&i>0&&void 0===e&&(o=i,v=i,b=i),l=o;const n=r.params.speed,c=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(n,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,n,!0,!0),a("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(n,!0,!0),a("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,n,!0,!0),a("autoplay")),r.params.cssMode&&(g=(new Date).getTime(),requestAnimationFrame(()=>{w()})))};return o>0?(clearTimeout(t),t=setTimeout(()=>{c()},o)):requestAnimationFrame(()=>{c()}),o},y=()=>{g=(new Date).getTime(),r.autoplay.running=!0,w(),a("autoplayStart")},_=()=>{r.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),a("autoplayStop")},E=(e,s)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(t),e||(p=!0);const o=()=>{a("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",x):D()};if(r.autoplay.paused=!0,s)return h&&(l=r.params.autoplay.delay),h=!1,void o();const i=l||r.params.autoplay.delay;l=i-((new Date).getTime()-g),r.isEnd&&l<0&&!r.params.loop||(l<0&&(l=0),o())},D=()=>{r.isEnd&&l<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(g=(new Date).getTime(),p?(p=!1,w(l)):w(),r.autoplay.paused=!1,a("autoplayResume"))},S=()=>{if(r.destroyed||!r.autoplay.running)return;const e=Fm();"hidden"===e.visibilityState&&(p=!0,E(!0)),"visible"===e.visibilityState&&D()},j=e=>{"mouse"===e.pointerType&&(p=!0,f=!0,r.animating||r.autoplay.paused||E(!0))},T=e=>{"mouse"===e.pointerType&&(f=!1,r.autoplay.paused&&D())};i("init",()=>{r.params.autoplay.enabled&&(r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",j),r.el.addEventListener("pointerleave",T)),Fm().addEventListener("visibilitychange",S),y())}),i("destroy",()=>{r.el&&"string"!=typeof r.el&&(r.el.removeEventListener("pointerenter",j),r.el.removeEventListener("pointerleave",T)),Fm().removeEventListener("visibilitychange",S),r.autoplay.running&&_()}),i("_freeModeStaticRelease",()=>{(d||p)&&D()}),i("_freeModeNoMomentumRelease",()=>{r.params.autoplay.disableOnInteraction?_():E(!0,!0)}),i("beforeTransitionStart",(e,t,s)=>{!r.destroyed&&r.autoplay.running&&(s||!r.params.autoplay.disableOnInteraction?E(!0,!0):_())}),i("sliderFirstMove",()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?_():(m=!0,d=!1,p=!1,u=setTimeout(()=>{p=!0,d=!0,E(!0)},200)))}),i("touchEnd",()=>{if(!r.destroyed&&r.autoplay.running&&m){if(clearTimeout(u),clearTimeout(t),r.params.autoplay.disableOnInteraction)return d=!1,void(m=!1);d&&r.params.cssMode&&D(),d=!1,m=!1}}),i("slideChange",()=>{!r.destroyed&&r.autoplay.running&&(h=!0)}),Object.assign(r.autoplay,{start:y,stop:_,pause:E,resume:D})}function iu(e,t){const s=Km(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function au(e,t,s){const r=`swiper-slide-shadow${s?`-${s}`:""} swiper-slide-shadow-${e}`,o=Km(t);let i=o.querySelector(`.${r.split(" ").join(".")}`);return i||(i=ed("div",r.split(" ")),o.append(i)),i}function nu(e){let{swiper:t,extendParams:s,on:r}=e;s({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}});!function(e){const{effect:t,swiper:s,on:r,setTranslate:o,setTransition:i,overwriteParams:a,perspective:n,recreateShadows:l,getEffectParams:c}=e;let m;r("beforeInit",()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),n&&n()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)}),r("setTranslate _virtualUpdated",()=>{s.params.effect===t&&o()}),r("setTransition",(e,r)=>{s.params.effect===t&&i(r)}),r("transitionEnd",()=>{if(s.params.effect===t&&l){if(!c||!c().slideShadows)return;s.slides.forEach(e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>e.remove())}),l()}}),r("virtualUpdate",()=>{s.params.effect===t&&(s.slides.length||(m=!0),requestAnimationFrame(()=>{m&&s.slides&&s.slides.length&&(o(),m=!1)}))})}({effect:"coverflow",swiper:t,on:r,setTranslate:()=>{const{width:e,height:s,slides:r,slidesSizesGrid:o}=t,i=t.params.coverflowEffect,a=t.isHorizontal(),n=t.translate,l=a?e/2-n:s/2-n,c=a?i.rotate:-i.rotate,m=i.depth,d=function(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}(t);for(let t=0,u=r.length;t<u;t+=1){const e=r[t],s=o[t],n=(l-e.swiperSlideOffset-s/2)/s,u="function"==typeof i.modifier?i.modifier(n):n*i.modifier;let h=a?c*u:0,p=a?0:c*u,f=-m*Math.abs(u),v=i.stretch;"string"==typeof v&&-1!==v.indexOf("%")&&(v=parseFloat(i.stretch)/100*s);let b=a?0:v*u,g=a?v*u:0,x=1-(1-i.scale)*Math.abs(u);Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(x)<.001&&(x=0);const N=`translate3d(${g}px,${b}px,${f}px)  rotateX(${d(p)}deg) rotateY(${d(h)}deg) scale(${x})`;if(iu(0,e).style.transform=N,e.style.zIndex=1-Math.abs(Math.round(u)),i.slideShadows){let t=a?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),s=a?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");t||(t=au("coverflow",e,a?"left":"top")),s||(s=au("coverflow",e,a?"right":"bottom")),t&&(t.style.opacity=u>0?u:0),s&&(s.style.opacity=-u>0?-u:0)}}},setTransition:e=>{t.slides.map(e=>Km(e)).forEach(t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(t=>{t.style.transitionDuration=`${e}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}tu.displayName="SwiperSlide";const lu=new Map;async function cu(e){if(!e)return null;const t=lu.get(e);if(t&&Date.now()-t.fetchedAt<3e5)return t.data;const s=await ui(e);if(!(null==s?void 0:s.success)||!s.data)return null;const r={streamUrl:s.data.stream_audio_url||s.data.audio_url||null,audioUrl:s.data.audio_url||s.data.stream_audio_url||null,status:s.data.status};return lu.set(e,{data:r,fetchedAt:Date.now()}),r}const mu=()=>{const[e,t]=r.useState(null),[s,o]=r.useState({}),{startNewCreationFlow:i}=ac(),a=Xr(),n={aniversario:["aniversário","birthday","bday"],casamento:["casamento","wedding","nupcial"],amor:["amor","love","romance","canção de amor"],"aniversario-casamento":["aniversário de casamento","wedding anniversary","bodas"],"so-porque":["só porque","just because","surpresa"],proposta:["proposta","pedido de casamento","proposal"],graduacao:["graduação","formatura","graduation"],"melhores-amigos":["melhores amigos","best friends","amizade","friend"],noivado:["noivado","engagement"],"dia-pais":["dia dos pais","father","pai"],"dia-maes":["dia das mães","mother","mãe"],natal:["natal","christmas","noel"]},l=e=>{const t=[e.audioUrlOption1,e.audioUrlOption2,e.audioUrl].filter(Boolean),s=t.find(e=>/^https?:\/\//.test(e)&&/\.(mp3|wav|m4a|aac)(\?|$)/i.test(e));if(s)return s;return t.find(e=>/^https?:\/\//.test(e))||null},c=e=>Boolean(l(e)),m=e=>Boolean(e.imageUrl),d=(e,t)=>{const s=[e.title,e.genre,e.mood,e.prompt].map(e=>(e=>(e||"").toLowerCase())(e)).join(" | ");return t.some(e=>s.includes(e.toLowerCase()))};r.useEffect(()=>{let e=!0;return(async()=>{var t,s;try{const i=await li(80);let a=(null==(t=null==i?void 0:i.data)?void 0:t.songs)||(null==i?void 0:i.songs)||[];if(a=a.filter(e=>m(e)&&c(e)),a.length<24)try{const e=await li(160),t=(null==(s=null==e?void 0:e.data)?void 0:s.songs)||(null==e?void 0:e.songs)||[];a=[...a,...t].filter((e,t,s)=>m(e)&&c(e)&&s.findIndex(t=>t.id===e.id)===t)}catch(r){}const h=new Set,p=new Set,f={},v=e=>{for(const t of e){const e=l(t);if(e&&(!h.has(t.id)&&!p.has(e)))return h.add(t.id),p.add(e),t}return null};for(const e of u){const t=n[e.id]||[],s=a.filter(e=>d(e,t));let r=v(s);r||(r=v(a)),f[e.id]=r}e&&o(f)}catch(Xp){}})(),()=>{e=!1}},[]);const u=[{id:"aniversario",title:"Aniversário",subtitle:"Transforme momentos especiais em melodias inesquecíveis",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=birthday%20celebration%20brazilian%20diverse%20family%20colorful%20balloons%20cake%20warm%20lighting%20joyful%20atmosphere%20mixed%20ethnicity&image_size=square",icon:Ee,color:"memora-primary"},{id:"casamento",title:"Casamento",subtitle:"Celebre o amor com uma canção única",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=elegant%20wedding%20ceremony%20brazilian%20couple%20diverse%20ethnicity%20flowers%20rings%20romantic%20atmosphere%20soft%20lighting%20cultural%20diversity&image_size=square",icon:oe,color:"memora-coral"},{id:"amor",title:"Canção de Amor",subtitle:"Declare seu amor com uma melodia personalizada",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=romantic%20brazilian%20couple%20mixed%20ethnicity%20holding%20hands%20walking%20together%20sunset%20golden%20hour%20love%20intimate%20moment%20cultural%20diversity&image_size=square",icon:oe,color:"memora-coral"},{id:"aniversario-casamento",title:"Aniversário de Casamento",subtitle:"Renove os votos de amor com uma canção personalizada",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=wedding%20anniversary%20celebration%20mature%20couple%20diverse%20ethnicity%20golden%20rings%20flowers%20elegant%20romantic%20dinner%20candlelight%20intimate%20setting&image_size=square",icon:Pe,color:"memora-secondary"},{id:"so-porque",title:"Só porque…",subtitle:"Demonstre carinho sem motivo especial com música",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=spontaneous%20gesture%20love%20couple%20diverse%20ethnicity%20surprise%20gift%20warm%20colors%20heartfelt%20moment%20romantic%20atmosphere&image_size=square",icon:oe,color:"memora-turquoise"},{id:"proposta",title:"Proposta",subtitle:"Torne o pedido inesquecível com a canção perfeita",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=romantic%20marriage%20proposal%20scene%20in%20cozy%20living%20room%20with%20warm%20lighting%20man%20kneeling%20with%20ring%20woman%20surprised%20elegant%20home%20decor%20soft%20romantic%20atmosphere%20beautiful%20couple%20intimate%20moment%20television%20showing%20memories%20photos%20on%20wall%20rose%20petals%20on%20floor&image_size=square",icon:Ee,color:"memora-accent"},{id:"graduacao",title:"Graduação",subtitle:"Marque sua conquista com uma música personalizada",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=graduation%20ceremony%20happy%20student%20cap%20gown%20university%20celebration%20diploma%20academic%20achievement%20diverse%20ethnicity%20joyful%20moment%20campus%20background%20festive%20atmosphere&image_size=square",icon:Ce,color:"memora-secondary"},{id:"melhores-amigos",title:"Melhores Amigos",subtitle:"Celebre a amizade verdadeira com uma canção especial",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=group%20friends%20diverse%20ethnicities%20laughing%20together%20outdoor%20picnic%20friendship%20celebration%20joyful%20bonding%20sunset%20park%20casual%20clothes&image_size=square",icon:Ce,color:"memora-turquoise"},{id:"noivado",title:"Noivado",subtitle:"Marque o início de uma nova jornada com música",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=engagement%20celebration%20happy%20couple%20mixed%20ethnicity%20champagne%20rings%20joyful%20atmosphere%20romantic%20dinner&image_size=square",icon:Ce,color:"memora-primary"},{id:"dia-pais",title:"Dia dos Pais",subtitle:"Expresse gratidão através de uma música única",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=brazilian%20father%20diverse%20ethnicity%20playing%20with%20child%20outdoor%20park%20paternal%20bond%20family%20joy%20father%20day%20celebration%20cultural%20diversity&image_size=square",icon:oe,color:"memora-primary"},{id:"dia-maes",title:"Dia das Mães",subtitle:"Homenageie quem mais ama com uma canção especial",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=mother%20diverse%20ethnicity%20hugging%20child%20garden%20flowers%20maternal%20love%20mother%20day%20warm%20sunlight%20tender%20moment&image_size=square",icon:oe,color:"memora-coral"},{id:"natal",title:"Natal",subtitle:"Espalhe a magia natalina através de uma melodia única",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=christmas%20celebration%20family%20diverse%20ethnicities%20decorated%20tree%20lights%20gifts%20cozy%20living%20room%20festive%20warm%20atmosphere%20holiday%20gathering&image_size=square",icon:Ee,color:"memora-secondary"}];return lt.jsxDEV("section",{id:"exemplos",className:"py-[120px]",children:lt.jsxDEV("div",{className:"container mx-auto px-4",children:[lt.jsxDEV("div",{className:"text-center mb-16",children:[lt.jsxDEV(Um,{children:["Momentos que ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-500 to-purple-600 bg-clip-text text-transparent",children:"merecem"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:247,columnNumber:26},void 0)," uma ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-500 to-purple-600 bg-clip-text text-transparent",children:"música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:247,columnNumber:140},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:246,columnNumber:11},void 0),lt.jsxDEV(km,{children:"Há algo especial no poder das músicas de unir as pessoas e tornar momentos ainda mais significativos."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:249,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:245,columnNumber:9},void 0),lt.jsxDEV(du,{examples:u,playingId:e,onTogglePlay:s=>{e===s?t(null):(t(s),setTimeout(()=>{t(null)},15e3))},linked:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:253,columnNumber:9},void 0),lt.jsxDEV("div",{className:"text-center mt-16",children:lt.jsxDEV("div",{className:"inline-flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[lt.jsxDEV("div",{className:"flex items-center space-x-2 text-white/50",children:[lt.jsxDEV(_e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:264,columnNumber:15},void 0),lt.jsxDEV("span",{className:"font-medium",children:"Prévias de 45 segundos • Músicas completas de até 5 minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:265,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:263,columnNumber:13},void 0),lt.jsxDEV(hm,{onClick:async()=>{const{token:e}=tc.getState();await i(a,e||null)},"data-attr":"examples-cta-button",className:"w-full sm:w-auto font-heading font-bold",children:[lt.jsxDEV(Z,{className:"mr-3 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:274,columnNumber:15},void 0),"Crie sua música agora"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:269,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:262,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:261,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:243,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:242,columnNumber:5},void 0)};function du({examples:e,playingId:t,onTogglePlay:s,linked:o}){const{play:i,pause:a,currentId:n,isPlaying:l}=yc(),[c,m]=r.useState(null),d=r.useRef(new Map),u=async(e,t)=>{if(!t)return void s(e);const r=t.id;if(n===r&&l)a();else try{m(r);const o=await(async e=>{const t=d.current.get(e.id);if(t)return t;const s=chooseAudioUrl(e),r=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(r){const t=await cu(r);if(null==t?void 0:t.streamUrl){const r={playbackUrl:t.streamUrl,downloadUrl:t.audioUrl||s||null};return d.current.set(e.id,r),r}}if(s){const t={playbackUrl:s,downloadUrl:s};return d.current.set(e.id,t),t}return null})(t);if(!(null==o?void 0:o.playbackUrl))return Dt.error("Não foi possível carregar a prévia desta música."),void s(e);i(r,o.playbackUrl,{title:t.title})}catch(o){Dt.error("Falha ao reproduzir esta prévia."),s(e)}finally{m(e=>e===r?null:e)}};return lt.jsxDEV("div",{className:"relative",children:lt.jsxDEV(eu,{modules:[nu,ou],effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",grabCursor:!0,loop:!0,spaceBetween:32,coverflowEffect:{rotate:15,stretch:0,depth:140,modifier:1.1,slideShadows:!1},autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},className:"px-10",children:e.map(e=>{const s=e.icon,r=t===e.id,i=o[e.id]||null,a=(null==i?void 0:i.id)||null,m=a&&n===a&&l,d=!!a&&c===a;return lt.jsxDEV(tu,{className:"!w-[92%] sm:!w-[78%] md:!w-[66%] lg:!w-[58%] xl:!w-[52%]",children:lt.jsxDEV("div",{className:"relative rounded-[22px] overflow-hidden shadow-2xl ring-1 ring-white/20",children:lt.jsxDEV("div",{className:"relative aspect-[1.62/1] sm:aspect-[1.85/1] overflow-hidden",children:[lt.jsxDEV("img",{src:e.image,alt:`Exemplo de música para ${e.title}`,className:"w-full h-full object-cover object-center"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:400,columnNumber:19},this),lt.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/20 to-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:407,columnNumber:19},this),lt.jsxDEV("div",{className:"absolute inset-0 flex flex-col justify-center pl-8 sm:pl-12 pr-8 py-2",children:[lt.jsxDEV("h3",{className:"font-heading text-white font-semibold drop-shadow-sm text-xl sm:text-2xl md:text-3xl lg:text-4xl max-w-[75%] mb-2",children:e.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:411,columnNumber:21},this),lt.jsxDEV("p",{className:"text-white/80 text-sm sm:text-base mt-2 max-w-[85%] drop-shadow-sm",children:e.subtitle},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:414,columnNumber:21},this),lt.jsxDEV("div",{className:"mt-6",children:lt.jsxDEV("button",{onClick:()=>{u(e.id,i)},disabled:d,className:`inline-flex items-center gap-2 rounded-lg px-5 py-2.5 text-sm sm:text-base font-semibold transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60 shadow-[inset_0_1px_0_rgba(255,255,255,0.3)] ${m||r?"bg-white text-neutral-900":"bg-white/20 hover:bg-white/30 text-white border border-white/40 backdrop-blur"} ${d?"opacity-70 cursor-wait":""}`,"aria-label":`${d?"Carregando":m||r?"Pausar":"Reproduzir"} exemplo de ${e.title}`,children:[lt.jsxDEV("span",{className:"tracking-wide",children:d?"Carregando...":"Ouça agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:430,columnNumber:23},this),lt.jsxDEV("span",{className:"ml-1 inline-flex h-5 w-5 items-center justify-center rounded-full "+(m||r?"bg-neutral-900 text-white":"bg-yellow-400 text-neutral-900"),children:d?lt.jsxDEV("div",{className:"h-3.5 w-3.5 border-2 border-current/40 border-t-current rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:435,columnNumber:27},this):lt.jsxDEV(ve,{className:"h-3.5 w-3.5 translate-x-[1px]"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:437,columnNumber:27},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:431,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:418,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:417,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:410,columnNumber:19},this),lt.jsxDEV("div",{className:`absolute top-4 right-4 w-9 h-9 rounded-full flex items-center justify-center bg-${e.color}/90`,children:lt.jsxDEV(s,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:446,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:445,columnNumber:19},this),(m||r||d)&&lt.jsxDEV("div",{className:"absolute bottom-3 left-3 flex items-center space-x-1",children:[lt.jsxDEV("div",{className:"flex space-x-1",children:[...Array(3)].map((e,t)=>lt.jsxDEV("div",{className:"w-1 h-4 bg-white rounded-full animate-pulse",style:{animationDelay:.2*t+"s",animationDuration:"1s"}},t,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:454,columnNumber:27},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:452,columnNumber:23},this),lt.jsxDEV(_e,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:464,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:451,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:399,columnNumber:17},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:398,columnNumber:15},this)},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:397,columnNumber:13},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:374,columnNumber:7},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:371,columnNumber:5},this)}const uu=["Pop","R&B","Soul","Hip hop","Latin Pop","Ballad","Cinematic","Opera","Soul/Funk","Pop/EDM"],hu=e=>Boolean(e.audioUrlOption1||e.audioUrlOption2||e.audioUrl),pu=e=>Boolean(e.imageUrl),fu=()=>{const[e,t]=r.useState([]),[s,o]=r.useState(null),[i,a]=r.useState(null),n=r.useRef(new Map),{currentId:l,isPlaying:c,play:m,pause:d}=yc();r.useEffect(()=>{let e=!0;return(async()=>{var s;try{const r=await li(24),o=(null==(s=null==r?void 0:r.data)?void 0:s.songs)||(null==r?void 0:r.songs)||[],i=(o.filter(e=>pu(e)),o.filter(e=>hu(e)),o.filter(e=>pu(e)&&hu(e)).slice(0,12));if(i.forEach((e,t)=>{}),!e)return;t(i)}catch(Xp){e&&t([])}})(),()=>{e=!1}},[]);const u=async e=>{if(l===e.id&&c)d();else try{a(e.id);const t=await(async e=>{const t=n.current.get(e.id);if(t)return t;const s=(e=>e.audioUrlOption1||e.audioUrlOption2||e.audioUrl||null)(e),r=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(r){const t=await cu(r);if(null==t?void 0:t.streamUrl){const r={playbackUrl:t.streamUrl,downloadUrl:t.audioUrl||s||null};return n.current.set(e.id,r),r}}if(s){const t={playbackUrl:s,downloadUrl:s};return n.current.set(e.id,t),t}return null})(e);if(!(null==t?void 0:t.playbackUrl))return void Dt.error("Não foi possível carregar o áudio desta música.");o(e.imageUrl||null),m(e.id,t.playbackUrl,{title:e.title,versionLabel:e.audioUrlOption2&&!e.audioUrlOption1?"B":"A"})}catch(t){Dt.error("Erro ao tocar a música. Tente novamente em instantes.")}finally{a(t=>t===e.id?null:t)}},h=r.useMemo(()=>s?{backgroundImage:`url(${s})`}:void 0,[s]);return lt.jsxDEV("section",{id:"artistas",className:"py-24 lg:py-32 relative overflow-hidden",children:[lt.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-lg transition-[background-image] duration-500",style:h,"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:174,columnNumber:7},void 0),lt.jsxDEV("div",{className:"relative container mx-auto px-6 lg:px-8",children:[lt.jsxDEV("div",{className:"text-center mb-16 lg:mb-20 space-y-6",children:[lt.jsxDEV(Um,{className:"text-memora-brand-purple drop-shadow leading-tight",children:["Estilos ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 via-purple-500 to-purple-600 bg-clip-text text-transparent",children:"variados"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:184,columnNumber:21},void 0)," que dão vida às suas ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 via-purple-500 to-purple-600 bg-clip-text text-transparent",children:"memórias"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:184,columnNumber:168},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:183,columnNumber:11},void 0),lt.jsxDEV(km,{className:"text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Escute vozes marcantes de nossos cantores que transformam sentimentos em canções eternas."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:186,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:182,columnNumber:9},void 0),lt.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6 sm:gap-8 lg:gap-6 mb-20 lg:mb-24",children:e.slice(0,12).map((e,t)=>{const s=e.imageUrl||"",r=(e=>{if(!e)return"";const t=[" - "," — "," – ",": ","/"];let s=e;for(const r of t)s.includes(r)&&(s=s.split(r).pop().trim());return s})(e.genre)||uu[t%uu.length],o=l===e.id&&c,a=i===e.id;return lt.jsxDEV("button",{onClick:()=>u(e),disabled:a,className:"group relative aspect-square rounded-2xl overflow-hidden shadow-[0_10px_20px_rgba(0,0,0,0.25)] bg-black/30 ring-1 ring-white/10 hover:ring-white/30 transition spotlight "+(a?"opacity-80 cursor-wait":""),"aria-label":`Reproduzir ${e.title}`,children:[lt.jsxDEV("img",{src:s,alt:e.title,className:"absolute inset-0 w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:207,columnNumber:17},void 0),lt.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 via-black/10 to-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:209,columnNumber:17},void 0),lt.jsxDEV("div",{className:"absolute top-2 left-2 px-2.5 py-1 rounded-md text-[11px] font-semibold text-white bg-black/60 backdrop-blur text-left",children:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:211,columnNumber:17},void 0),lt.jsxDEV("div",{className:"absolute bottom-2 right-2",children:lt.jsxDEV("div",{className:"w-11 h-11 rounded-full bg-yellow-400/90 group-hover:bg-yellow-400 flex items-center justify-center shadow-md",children:a?lt.jsxDEV("div",{className:"w-4 h-4 border-2 border-black/40 border-t-black rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:218,columnNumber:23},void 0):o?lt.jsxDEV(fe,{className:"w-5 h-5 text-black"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:220,columnNumber:23},void 0):lt.jsxDEV(ve,{className:"w-5 h-5 text-black ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:222,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:216,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:215,columnNumber:17},void 0)]},e.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:199,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:192,columnNumber:9},void 0),lt.jsxDEV("div",{className:"relative text-center",children:lt.jsxDEV("div",{className:"inline-flex flex-col items-center gap-8 bg-gradient-to-br from-purple-900/30 via-indigo-900/25 to-pink-900/20 backdrop-blur-xl border border-white/20 rounded-3xl px-12 py-12 lg:px-16 lg:py-14 shadow-2xl shadow-purple-500/10 hover:shadow-purple-500/20 transition-all duration-300 max-w-2xl mx-auto",children:[lt.jsxDEV("div",{className:"text-center space-y-4",children:[lt.jsxDEV("h3",{className:"text-white text-xl sm:text-2xl lg:text-3xl font-bold font-heading leading-tight",children:"Gostou do que ouviu?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:235,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-white/80 text-lg sm:text-xl font-medium leading-relaxed",children:"Crie sua própria música personalizada agora mesmo."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:238,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:234,columnNumber:13},void 0),lt.jsxDEV(vu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:242,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:233,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:232,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:180,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:171,columnNumber:5},void 0)},vu=()=>{const e=Xr(),{token:t}=tc(),{startNewCreationFlow:s}=ac();return lt.jsxDEV(hm,{onClick:async()=>{try{await s(e,t||null)}catch(Xp){e("/criar")}},className:"inline-flex items-center justify-center px-8",children:[lt.jsxDEV(Z,{className:"mr-3 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:272,columnNumber:7},void 0),"Crie sua música agora"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:268,columnNumber:5},void 0)},bu=[{id:1,name:"Despedida",video:"/Videos/Despedida.mp4"},{id:2,name:"Dia dos Pais",video:"/Videos/DiaPais.mp4"},{id:3,name:"Saudade de Amor",video:"/Videos/SaudadeAmor.mp4"},{id:4,name:"Aniversário de Casamento",video:"/Videos/aniversarioCasamento.mp4"},{id:5,name:"Aniversário do Pai",video:"/Videos/aniversarioPai.mp4"},{id:6,name:"Dia das Mães",video:"/Videos/diamaes.mp4"},{id:7,name:"Honrar Memorial",video:"/Videos/honrarMemorial.mp4"},{id:8,name:"Melhores Amigas",video:"/Videos/melhoresAmigas.mp4"},{id:9,name:"Para Vovô",video:"/Videos/paraVovo.mp4"},{id:10,name:"Pedido de Casamento",video:"/Videos/pedidoCasamento.mp4"}];function gu(){const e=r.useRef(null),[t,s]=r.useState(0),[o,i]=r.useState(!0),[a,n]=r.useState(!1),l=r.useRef([]),[c,m]=r.useState(new Array(bu.length).fill(!0)),[d,u]=r.useState(!0),[h,p]=r.useState(new Array(bu.length).fill(!1)),f=(e,t)=>{t&&t.stopPropagation();const s=!d;u(s),m(Array(bu.length).fill(s)),l.current.forEach(e=>{e&&(e.muted=s)})};return r.useEffect(()=>{bu.length>0&&(async()=>{if(!a)return;if(t<0||t>=bu.length)return;l.current.forEach((e,s)=>{e&&s!==t&&e.pause()}),await new Promise(e=>setTimeout(e,150));const e=l.current[t];if(e)try{e.currentTime=0,await e.play()}catch(s){}})()},[t,bu,a]),r.useEffect(()=>{0!==t&&s(0)},[]),lt.jsxDEV("div",{className:"user-slider-container w-full py-12",children:[lt.jsxDEV("style",{children:"\n        .user-slider-container {\n          max-width: 1320px;\n          margin: 0 auto;\n          padding: 0 1rem;\n        }\n        \n        .user-slider .swiper {\n          width: 100%;\n          padding: 50px 0;\n        }\n\n        .user-slider .swiper-slide {\n          position: relative;\n          width: 200px;\n          height: 360px;\n          border-radius: 18px;\n          overflow: hidden;\n          transition: all 0.6s ease;\n          user-select: none;\n          cursor: pointer;\n          box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);\n          border: 1px solid rgba(255,255,255,0.06);\n        }\n\n        .user-slider .swiper-slide::after {\n          content: '';\n          position: absolute;\n          inset: 0;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(180deg, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.0) 55%, rgba(0,0,0,0.55) 100%);\n          z-index: 1;\n          transition: all 0.6s ease;\n        }\n\n        /* Red tint overlay to match mock */\n        .user-slider .swiper-slide::before {\n          content: '';\n          position: absolute;\n          inset: 0;\n          background: rgba(120, 0, 0, 0.25);\n          z-index: 0;\n          transition: opacity 0.6s ease;\n          opacity: 1;\n        }\n\n        .user-slider .swiper-slide video {\n          position: absolute;\n          left: 0;\n          top: -46px; /* shift up so the cropped area fica fora do cartão */\n          width: 100%;\n          height: calc(100% + 92px); /* estende 46px acima e 46px abaixo para permitir o recorte */\n          object-fit: cover;\n          object-position: center top;\n          /* Recorta 46px no topo e 46px na base mantendo a área visível igual ao cartão */\n          clip-path: inset(46px 0 46px 0);\n          -webkit-clip-path: inset(46px 0 46px 0);\n          transition: all 0.6s ease;\n        }\n\n        .user-slider .swiper-slide p {\n          position: absolute;\n          left: 14px;\n          bottom: 12px;\n          right: auto;\n          color: #fff;\n          font-size: 0.9rem;\n          font-weight: 700;\n          font-style: italic;\n          letter-spacing: 0.5px;\n          z-index: 2;\n          opacity: 0;\n          transform: translateY(10px);\n          transition: all 0.4s ease;\n          text-shadow: 0 2px 6px rgba(0, 0, 0, 0.9);\n          text-align: left;\n        }\n\n        .user-slider .mute-button {\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 36px;\n          height: 36px;\n          background: rgba(0, 0, 0, 0.6);\n          border: none;\n          border-radius: 50%;\n          color: #fff;\n          cursor: pointer;\n          z-index: 3;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 14px;\n          transition: all 0.3s ease;\n          backdrop-filter: blur(4px);\n          opacity: 0;\n          transform: scale(0.8);\n        }\n\n        .user-slider .mute-button svg {\n          width: 18px;\n          height: 18px;\n          display: block;\n        }\n\n        .user-slider .mute-button:hover {\n          background: rgba(0, 0, 0, 0.8);\n          transform: scale(1.1);\n        }\n\n        .user-slider .swiper-slide-active .mute-button {\n          opacity: 1;\n          transform: scale(1);\n        }\n\n        .user-slider .video-container {\n          position: relative;\n          width: 100%;\n          height: 100%;\n          cursor: pointer;\n        }\n\n        .user-slider .video-container:hover .mute-button {\n          opacity: 1;\n          transform: scale(1);\n        }\n\n        .user-slider .swiper-slide-active {\n          width: 320px !important;\n          height: 520px !important;\n          transition: all 0.6s ease;\n          box-shadow: 0 14px 60px rgba(0, 0, 0, 0.35);\n          border-color: rgba(255,255,255,0.12);\n        }\n\n        .user-slider .swiper-slide-active::after {\n          background: linear-gradient(180deg, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.0) 60%, rgba(0,0,0,0.6) 100%);\n        }\n\n        .user-slider .swiper-slide-active::before {\n          opacity: 0.1;\n        }\n\n        .user-slider .swiper-slide-active video {\n          transform: scale(1.05);\n        }\n\n        .user-slider .swiper-slide-active p {\n          transform: translateY(0);\n          opacity: 1;\n        }\n\n        .user-slider .swiper-pagination {\n          position: relative;\n          margin-top: 30px;\n        }\n\n        .user-slider .swiper-pagination-bullet {\n          width: 8px;\n          height: 8px;\n          background-color: rgba(255, 255, 255, 0.35);\n          border-radius: 50%;\n          transition: all 0.3s ease;\n          opacity: 1;\n          margin: 0 4px;\n        }\n\n        .user-slider .swiper-pagination-bullet-active {\n          width: 22px;\n          height: 8px;\n          background: rgba(255, 255, 255, 0.8);\n          border-radius: 9999px;\n          transform: none;\n          box-shadow: 0 0 10px rgba(255, 255, 255, 0.4);\n        }\n\n        /* Responsividade */\n        @media (max-width: 1400px) {\n          .user-slider .swiper-slide {\n            width: 180px;\n            height: 320px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 280px !important;\n            height: 480px !important;\n          }\n        }\n\n        @media (max-width: 1024px) {\n          .user-slider-container {\n            max-width: 100%;\n            padding: 0 0.5rem;\n          }\n          \n          .user-slider .swiper-slide {\n            width: 160px;\n            height: 280px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 240px !important;\n            height: 420px !important;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .user-slider .swiper {\n            padding: 30px 0;\n          }\n          \n          .user-slider .swiper-slide {\n            width: 130px;\n            height: 210px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 190px !important;\n            height: 300px !important;\n          }\n          \n          .user-slider .swiper-slide p {\n            font-size: 0.75rem;\n            left: 8px;\n            right: 8px;\n            bottom: 8px;\n          }\n          \n          .user-slider .mute-button {\n            width: 32px;\n            height: 32px;\n            top: 8px;\n            right: 8px;\n            font-size: 12px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .user-slider .swiper {\n            padding: 20px 0;\n          }\n          \n          .user-slider .swiper-slide {\n            width: 120px;\n            height: 180px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 160px !important;\n            height: 240px !important;\n          }\n          \n          .user-slider .swiper-slide p {\n            font-size: 0.7rem;\n            left: 6px;\n            right: 6px;\n            bottom: 6px;\n          }\n          \n          .user-slider .swiper-pagination-bullet {\n            width: 6px;\n            height: 6px;\n          }\n          \n          .user-slider .mute-button {\n            width: 28px;\n            height: 28px;\n            top: 6px;\n            right: 6px;\n            font-size: 10px;\n          }\n        }\n      "},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:182,columnNumber:7},this),lt.jsxDEV("div",{className:"user-slider",children:lt.jsxDEV(eu,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!1,coverflowEffect:{rotate:15,stretch:0,depth:140,modifier:1,slideShadows:!1},pagination:{clickable:!0,dynamicBullets:!0},modules:[nu,ru],onSlideChange:e=>{s(e.realIndex),n(!0),setTimeout(()=>{const t=e.realIndex;l.current.forEach((e,s)=>{e&&s!==t&&e.pause()});const s=l.current[t];s&&(s.currentTime=0,s.play().catch(e=>{}))},100)},onSwiper:t=>{e.current=t,s(t.realIndex)},onClick:e=>{const r=e.clickedIndex;void 0!==r&&r!==t&&s(r)},className:"w-full h-full",children:[bu.map((e,s)=>lt.jsxDEV(tu,{children:lt.jsxDEV("div",{className:"video-container",children:[lt.jsxDEV("video",{ref:e=>{l.current[s]=e},src:e.video,muted:c[s],loop:!0,playsInline:!0,preload:"auto",onError:e=>{},onClick:e=>((e,s)=>{s.stopPropagation(),e===t&&f()})(s,e)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:518,columnNumber:17},this),lt.jsxDEV("button",{className:"mute-button",onClick:e=>f(0,e),"aria-label":d?"Ativar som":"Desativar som",children:d?lt.jsxDEV(ke,{className:"w-[18px] h-[18px] text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:544,columnNumber:21},this):lt.jsxDEV(be,{className:"w-[18px] h-[18px] text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:546,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:538,columnNumber:17},this),lt.jsxDEV("p",{children:e.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:549,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:517,columnNumber:15},this)},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:516,columnNumber:13},this)),lt.jsxDEV("div",{className:"swiper-pagination"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:553,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:460,columnNumber:9},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:458,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:180,columnNumber:5},this)}const xu=()=>{const[e,t]=r.useState(0),{startNewCreationFlow:s}=ac(),{token:o}=tc(),i=Xr(),a=[{id:1,text:"Recebi uma música da minha filha no meu aniversário e foi o presente mais emocionante que já ganhei.",author:"Maria",age:42,location:"São Paulo",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=middle%20aged%20woman%20smiling%20warmly%20portrait%20happy%20mother%20professional%20photo&image_size=square",rating:5},{id:2,text:"Criei uma música para o meu marido no nosso aniversário de casamento. Ele chorou de emoção quando ouviu.",author:"Ana",age:35,location:"Rio de Janeiro",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young%20woman%20smiling%20portrait%20happy%20wife%20professional%20photo%20warm%20lighting&image_size=square",rating:5},{id:3,text:"Nunca imaginei que seria tão fácil criar uma música personalizada. O resultado superou todas as minhas expectativas.",author:"Carlos",age:28,location:"Belo Horizonte",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young%20man%20smiling%20portrait%20happy%20professional%20photo%20confident%20expression&image_size=square",rating:5}],n=a[e];return lt.jsxDEV("section",{id:"depoimentos",className:"py-[120px] relative overflow-hidden",children:[lt.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:[lt.jsxDEV("div",{className:"absolute top-10 left-10 w-32 h-32 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:65,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute bottom-20 right-20 w-24 h-24 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:66,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:64,columnNumber:7},void 0),lt.jsxDEV("div",{className:"memora-heart-wrapper absolute inset-x-0 flex items-center justify-center pointer-events-none z-0",children:lt.jsxDEV("div",{className:"memora-heart-ambient",children:lt.jsxDEV("svg",{viewBox:"0 0 24 24",fill:"none",className:"memora-heart-svg w-72 h-72 sm:w-96 sm:h-96 md:w-[600px] md:h-[600px] lg:w-[1000px] lg:h-[1000px]","aria-hidden":"true",children:lt.jsxDEV("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:"currentColor",className:"text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:73,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:72,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:71,columnNumber:7},void 0),lt.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[lt.jsxDEV("div",{className:"text-center mb-16",children:[lt.jsxDEV(Um,{children:["Histórias que viraram ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 via-purple-500 to-purple-600 bg-clip-text text-transparent",children:"presente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:92,columnNumber:35},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:91,columnNumber:11},void 0),lt.jsxDEV(km,{className:"max-w-3xl mx-auto",children:"Veja como nossos usuários eternizaram momentos especiais em canções personalizadas."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:94,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:90,columnNumber:9},void 0),lt.jsxDEV(gu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:100,columnNumber:9},void 0),lt.jsxDEV("div",{className:"relative",children:[lt.jsxDEV(Am,{variant:"primary",className:"p-8 lg:p-12",children:[lt.jsxDEV("div",{className:"flex justify-center mb-8",children:lt.jsxDEV("div",{className:"w-16 h-16 bg-secondary rounded-full flex items-center justify-center",children:lt.jsxDEV(Ue,{className:"w-8 h-8 text-neutral-dark"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:108,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:107,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:106,columnNumber:13},void 0),lt.jsxDEV("div",{className:"text-center mb-8",children:[lt.jsxDEV("blockquote",{className:"text-2xl lg:text-3xl font-heading text-white leading-relaxed mb-8",children:['"',n.text,'"']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:114,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex justify-center mb-6",children:[...Array(n.rating)].map((e,t)=>lt.jsxDEV(we,{className:"w-6 h-6 text-secondary fill-current"},t,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:121,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:119,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex items-center justify-center space-x-4",children:[lt.jsxDEV("div",{className:"w-16 h-16 rounded-full overflow-hidden ring-4 ring-black/10",children:lt.jsxDEV("img",{src:n.avatar,alt:`Foto de ${n.author}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:128,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:127,columnNumber:17},void 0),lt.jsxDEV("div",{className:"text-left",children:[lt.jsxDEV("div",{className:"text-white font-heading font-bold text-lg",children:[n.author,", ",n.age," anos"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:135,columnNumber:19},void 0),lt.jsxDEV("div",{className:"text-white/50",children:n.location},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:138,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:126,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:104,columnNumber:11},void 0),a.length>1&&lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(Xo,{onClick:()=>{t(e=>(e-1+a.length)%a.length)},variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-black/10 hover:bg-black/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 group p-0","aria-label":"Depoimento anterior",children:lt.jsxDEV(Ve,{className:"w-6 h-6 text-white/60 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:156,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:149,columnNumber:15},void 0),lt.jsxDEV(Xo,{onClick:()=>{t(e=>(e+1)%a.length)},variant:"ghost",size:"sm",className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-black/10 hover:bg-black/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 group p-0","aria-label":"Próximo depoimento",children:lt.jsxDEV(Ae,{className:"w-6 h-6 text-white/60 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:166,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:159,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:103,columnNumber:9},void 0),a.length>1&&lt.jsxDEV("div",{className:"flex justify-center mt-8 space-x-3",children:a.map((s,r)=>lt.jsxDEV(Xo,{onClick:()=>t(r),variant:"ghost",size:"sm",className:"w-3 h-3 rounded-full transition-all duration-300 p-0 h-3 min-w-0 "+(r===e?"bg-white/60 scale-125":"bg-black/20 hover:bg-black/30"),"aria-label":`Ir para depoimento ${r+1}`},r,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:176,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:174,columnNumber:11},void 0),lt.jsxDEV("div",{className:"mt-16 grid sm:grid-cols-3 gap-8 text-center",children:[lt.jsxDEV("div",{children:[lt.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-white mb-2",children:"500+"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:195,columnNumber:13},void 0),lt.jsxDEV("div",{className:"text-white/50",children:"Músicas criadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:198,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:194,columnNumber:11},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-white mb-2",children:["4.9",lt.jsxDEV("span",{className:"text-yellow-500",children:"★"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:205,columnNumber:18},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:204,columnNumber:13},void 0),lt.jsxDEV("div",{className:"text-white/50",children:"Avaliação média"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:207,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:203,columnNumber:11},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-white mb-2",children:"98%"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:213,columnNumber:13},void 0),lt.jsxDEV("div",{className:"text-white/50",children:"Satisfação dos usuários"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:216,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:212,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:193,columnNumber:9},void 0),lt.jsxDEV("div",{className:"text-center mt-12",children:lt.jsxDEV(hm,{onClick:async()=>{try{await s(i,o||null)}catch(e){i("/criar")}},"data-attr":"testimonial-cta-create-music",className:"font-heading font-bold",children:[lt.jsxDEV(Z,{className:"mr-3 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:236,columnNumber:13},void 0),"Crie sua música agora"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:224,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:223,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:88,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:62,columnNumber:5},void 0)},Nu=()=>{const[e,t]=r.useState(null),s=s=>{t(e===s?null:s)};return lt.jsxDEV("section",{id:"faq",className:"py-[120px]",children:lt.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:lt.jsxDEV("div",{className:"mb-20",children:[lt.jsxDEV("div",{className:"text-center mb-12",children:[lt.jsxDEV(Um,{children:"Perguntas Frequentes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:37,columnNumber:13},void 0),lt.jsxDEV(km,{children:"Tire suas dúvidas sobre como criar sua música personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:36,columnNumber:11},void 0),lt.jsxDEV("div",{className:"space-y-4",children:[{question:"Como a música é criada?",answer:"A IA transforma sua história em letra e melodia exclusivas. Você conta sua história, descreve a ocasião e os sentimentos, e nossa inteligência artificial cria uma música única em menos de 5 minutos."},{question:"Posso escolher o estilo musical?",answer:"Sim, você escolhe entre vários estilos populares como pop, romântico, infantil, sertanejo, rock, MPB e muitos outros. Cada estilo é adaptado para criar a atmosfera perfeita para sua ocasião especial."},{question:"Quanto tempo demora?",answer:"Menos de 5 minutos na maioria dos casos. Após você fornecer as informações sobre sua história, nossa IA processa e gera sua música personalizada rapidamente, para que você possa ouvir e compartilhar no mesmo dia."}].map((t,r)=>lt.jsxDEV(Am,{variant:"primary",className:"overflow-hidden transition-all duration-300 cursor-pointer",onClick:()=>s(r),role:"button",tabIndex:0,"aria-expanded":e===r,"aria-controls":`faq-content-${r}`,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s(r))},children:[lt.jsxDEV("div",{className:"w-full px-6 py-6 flex items-center justify-between transition-all duration-200",children:[lt.jsxDEV("h3",{className:"text-lg font-heading font-bold text-white pr-4",children:t.question},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:62,columnNumber:19},void 0),lt.jsxDEV("div",{className:"transition-transform duration-200 "+(e===r?"rotate-180":"rotate-0"),children:lt.jsxDEV(Me,{className:"w-6 h-6 text-memora-primary flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:66,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:65,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:61,columnNumber:17},void 0),lt.jsxDEV("div",{id:`faq-content-${r}`,className:"overflow-hidden transition-all duration-300 ease-in-out "+(e===r?"max-h-96 opacity-100":"max-h-0 opacity-0"),"aria-hidden":e!==r,children:lt.jsxDEV("div",{className:"px-6 pb-6",children:lt.jsxDEV("p",{className:"text-white/70 leading-relaxed",children:t.answer},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:80,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:79,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:70,columnNumber:17},void 0)]},r,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:45,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:35,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:33,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:32,columnNumber:5},void 0)},wu=({onOpenAuth:e})=>{const{startNewCreationFlow:t}=ac(),{token:s}=tc(),r=Xr();return lt.jsxDEV("section",{className:"py-[120px] bg-gradient-to-br from-memora-primary via-memora-primary/95 to-memora-primary/90 relative overflow-hidden",children:[lt.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:[lt.jsxDEV("div",{className:"absolute top-10 left-10 w-32 h-32 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:16,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute top-32 right-20 w-24 h-24 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:17,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:18,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute bottom-32 right-10 w-28 h-28 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:19,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute top-20 right-1/4",children:lt.jsxDEV(_e,{className:"w-8 h-8 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:23,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:22,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute bottom-40 left-20",children:lt.jsxDEV(_e,{className:"w-6 h-6 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:26,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:25,columnNumber:9},void 0),lt.jsxDEV("div",{className:"absolute top-1/2 right-16",children:lt.jsxDEV(_e,{className:"w-10 h-10 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:29,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:28,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:15,columnNumber:7},void 0),lt.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[lt.jsxDEV("div",{className:"mb-12",children:[lt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-6xl font-heading font-bold text-memora-secondary mb-6 leading-tight",children:"Surpreenda quem você ama com uma música feita só para ele ou ela"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:36,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-xl lg:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"É grátis no lançamento. Crie agora e descubra o poder de transformar sentimentos em melodia."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:39,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:35,columnNumber:9},void 0),lt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:lt.jsxDEV(hm,{"data-attr":"final-cta-create-music",className:"font-heading font-bold text-lg px-10",onClick:async()=>{try{await t(r,s||null)}catch(o){e()}},children:[lt.jsxDEV(Z,{className:"mr-3 h-6 w-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:58,columnNumber:13},void 0),"Crie sua música agora"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:46,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:45,columnNumber:9},void 0),lt.jsxDEV("div",{className:"mt-12 pt-8 border-t border-white/20",children:lt.jsxDEV("div",{className:"grid sm:grid-cols-3 gap-8 text-center",children:[lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:lt.jsxDEV(_e,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:68,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:67,columnNumber:15},void 0),lt.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"100% Personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:70,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-white/50 text-sm",children:"Cada música é única e criada especialmente para você"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:73,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:66,columnNumber:13},void 0),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:lt.jsxDEV("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:lt.jsxDEV("span",{className:"text-memora-primary text-xs font-bold",children:"IA"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:81,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:80,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:79,columnNumber:15},void 0),lt.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"Tecnologia Avançada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:84,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-white/50 text-sm",children:"Inteligência artificial de última geração para criar sua música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:87,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:78,columnNumber:13},void 0),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:lt.jsxDEV("div",{className:"w-6 h-6 text-white font-bold text-lg",children:"♪"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:94,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:93,columnNumber:15},void 0),lt.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"Qualidade Profissional"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:98,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-white/50 text-sm",children:"Áudio em alta qualidade, pronto para compartilhar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:65,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:64,columnNumber:9},void 0),lt.jsxDEV("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-white/60 text-sm",children:[lt.jsxDEV("div",{className:"flex items-center space-x-2",children:[lt.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:111,columnNumber:13},void 0),lt.jsxDEV("span",{children:"Grátis no lançamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:110,columnNumber:11},void 0),lt.jsxDEV("div",{className:"flex items-center space-x-2",children:[lt.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:115,columnNumber:13},void 0),lt.jsxDEV("span",{children:"Sem compromisso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:116,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:114,columnNumber:11},void 0),lt.jsxDEV("div",{className:"flex items-center space-x-2",children:[lt.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:119,columnNumber:13},void 0),lt.jsxDEV("span",{children:"Resultado em minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:118,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:109,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:13,columnNumber:5},void 0)},yu=()=>{const[e,t]=r.useState(!1),[s,o]=r.useState(!1),[i,a]=r.useState({necessary:!0,analytics:!1,marketing:!1});r.useEffect(()=>{const e=localStorage.getItem("memora-cookie-consent");if(!e){const e=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(e)}try{const t=JSON.parse(e);a(t)}catch(s){}},[]);const n=e=>{localStorage.setItem("memora-cookie-consent",JSON.stringify(e)),a(e),t(!1),o(!1),e.analytics,e.marketing},l=e=>{"necessary"!==e&&a(t=>({...t,[e]:!t[e]}))};return e?lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV("div",{className:"fixed bottom-0 left-0 right-0 surface-1 shadow-2xl z-50 transform transition-transform duration-500",children:lt.jsxDEV("div",{className:"container mx-auto px-4 py-4",children:lt.jsxDEV("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[lt.jsxDEV("div",{className:"flex-1",children:lt.jsxDEV("div",{className:"flex items-start space-x-3",children:[lt.jsxDEV("div",{className:"flex-shrink-0 mt-1",children:lt.jsxDEV(Le,{className:"w-5 h-5 text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:99,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:98,columnNumber:17},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h3",{className:"font-heading font-bold text-foreground text-sm mb-1",children:"Cookies e Privacidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:102,columnNumber:19},void 0),lt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Usamos cookies para melhorar sua experiência, analisar o tráfego e personalizar conteúdo. Você pode escolher quais cookies aceitar."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:105,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:101,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:97,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:96,columnNumber:13},void 0),lt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[lt.jsxDEV("button",{onClick:()=>{n({necessary:!0,analytics:!0,marketing:!0})},className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm","data-attr":"cookie-accept-all",children:"Aceitar todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:114,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:()=>{n({necessary:!0,analytics:!1,marketing:!1})},className:"border border-white/20 hover:border-memora-primary text-muted-foreground hover:text-memora-primary font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm","data-attr":"cookie-reject-all",children:"Rejeitar todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:121,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:()=>{o(!0)},className:"border border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm flex items-center space-x-2","data-attr":"cookie-customize",children:[lt.jsxDEV(Ie,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:133,columnNumber:17},void 0),lt.jsxDEV("span",{children:"Personalizar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:94,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:93,columnNumber:7},void 0),s&&lt.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:lt.jsxDEV("div",{className:"surface-2 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[lt.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[lt.jsxDEV("h2",{className:"text-2xl font-heading font-bold text-foreground",children:"Preferências de Cookies"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:147,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors duration-200","aria-label":"Fechar modal",children:lt.jsxDEV(ee,{className:"w-6 h-6 text-muted-foreground"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:155,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:146,columnNumber:13},void 0),lt.jsxDEV("div",{className:"p-6 space-y-6",children:[lt.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:"Personalize suas preferências de cookies. Você pode alterar essas configurações a qualquer momento."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:161,columnNumber:15},void 0),lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[lt.jsxDEV("div",{className:"flex items-center space-x-3",children:[lt.jsxDEV(Le,{className:"w-5 h-5 text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:171,columnNumber:23},void 0),lt.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies Necessários"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:172,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:170,columnNumber:21},void 0),lt.jsxDEV("div",{className:"bg-memora-primary text-white text-xs px-2 py-1 rounded-full font-bold",children:"SEMPRE ATIVO"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:176,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:169,columnNumber:19},void 0),lt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies são essenciais para o funcionamento do site e não podem ser desativados. Eles são geralmente definidos em resposta a ações suas, como fazer login ou preencher formulários."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:168,columnNumber:17},void 0),lt.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[lt.jsxDEV("div",{className:"flex items-center space-x-3",children:[lt.jsxDEV(Oe,{className:"w-5 h-5 text-memora-turquoise"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:190,columnNumber:23},void 0),lt.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies de Analytics"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:191,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:189,columnNumber:21},void 0),lt.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[lt.jsxDEV("input",{type:"checkbox",checked:i.analytics,onChange:()=>l("analytics"),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:196,columnNumber:23},void 0),lt.jsxDEV("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(i.analytics?"bg-memora-primary":"bg-memora-gray/30"),children:lt.jsxDEV("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i.analytics?"translate-x-5":"translate-x-0.5"} mt-0.5`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:205,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:202,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:195,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:188,columnNumber:19},void 0),lt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies nos ajudam a entender como os visitantes interagem com o site, coletando informações de forma anônima para melhorar a experiência do usuário."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:211,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:187,columnNumber:17},void 0),lt.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[lt.jsxDEV("div",{className:"flex items-center space-x-3",children:[lt.jsxDEV(Re,{className:"w-5 h-5 text-memora-coral"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:221,columnNumber:23},void 0),lt.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies de Marketing"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:222,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:220,columnNumber:21},void 0),lt.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[lt.jsxDEV("input",{type:"checkbox",checked:i.marketing,onChange:()=>l("marketing"),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:227,columnNumber:23},void 0),lt.jsxDEV("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(i.marketing?"bg-memora-primary":"bg-memora-gray/30"),children:lt.jsxDEV("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i.marketing?"translate-x-5":"translate-x-0.5"} mt-0.5`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:236,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:233,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:226,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:219,columnNumber:19},void 0),lt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies são usados para exibir anúncios relevantes e medir a eficácia de nossas campanhas publicitárias em diferentes plataformas."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:218,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:160,columnNumber:13},void 0),lt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-white/10",children:[lt.jsxDEV("button",{onClick:()=>o(!1),className:"flex-1 border border-white/20 hover:border-memora-primary text-muted-foreground hover:text-memora-primary font-heading font-bold py-3 px-6 rounded-2xl transition-colors duration-200",children:"Cancelar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:252,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:()=>{n(i)},className:"flex-1 bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-2xl transition-colors duration-200","data-attr":"cookie-save-preferences",children:"Salvar Preferências"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:258,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:91,columnNumber:5},void 0):null},_u=()=>{const[e,t]=r.useState(!1),{showPaymentPopup:s}=rc();return lt.jsxDEV("div",{className:"min-h-screen font-body",children:[lt.jsxDEV("main",{children:[lt.jsxDEV(Cm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:24,columnNumber:9},void 0),lt.jsxDEV(Mm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:25,columnNumber:9},void 0),lt.jsxDEV(mu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:26,columnNumber:9},void 0),lt.jsxDEV(fu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:27,columnNumber:9},void 0),lt.jsxDEV(xu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:28,columnNumber:9},void 0),lt.jsxDEV(Lm,{id:"precos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:29,columnNumber:9},void 0),lt.jsxDEV(Nu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:30,columnNumber:9},void 0),lt.jsxDEV(wu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:23,columnNumber:7},void 0),lt.jsxDEV(yu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:34,columnNumber:7},void 0),lt.jsxDEV(xc,{isOpen:e,onClose:()=>t(!1)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:22,columnNumber:5},void 0)},Eu=[{label:"História",icon:oe,description:"Compartilhe a ocasião e os sentimentos que quer transformar em música.",microcopy:"Conte sua história"},{label:"Canção",icon:De,description:"Veja a letra criada pela IA com base na sua história.",microcopy:"Sua letra está pronta"},{label:"Estilo",icon:Fe,description:"Escolha o gênero musical e a voz que combinam com o momento.",microcopy:"Defina o som perfeito"},{label:"Sua música",icon:ve,description:"Ouça a prévia e receba a versão final da sua canção.",microcopy:"Sua música está sendo criada"}];function Du({steps:e,currentStep:t}){return lt.jsxDEV("div",{className:"w-full max-w-4xl mx-auto mb-12",children:lt.jsxDEV("div",{className:"relative backdrop-blur-md bg-white/10 border border-white/20 rounded-2xl p-6 shadow-2xl",children:[lt.jsxDEV("div",{className:"absolute top-1/2 left-8 right-8 h-1 bg-gray-200/30 rounded-full transform -translate-y-1/2",children:lt.jsxDEV("div",{className:"h-full bg-gradient-to-r from-[#7B3FE4] to-[#FEC641] rounded-full transition-all duration-1000 ease-out",style:{width:""+(0===t?"0%":t/(e.length-1)*100+"%")}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:44,columnNumber:11},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:43,columnNumber:9},this),lt.jsxDEV("div",{className:"flex items-center justify-between relative z-10",children:e.map((e,s)=>{const r=Eu[s],o=r.icon,i=s<t,a=s===t,n=s>t;return lt.jsxDEV("div",{className:"flex flex-col items-center group",children:[lt.jsxDEV("div",{className:"relative",children:lt.jsxDEV("div",{className:Qs("w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 ease-out backdrop-blur-sm border-2 relative overflow-hidden",i&&"bg-[#FEC641] border-[#FEC641] shadow-lg shadow-[#FEC641]/30",a&&"bg-[#7B3FE4] border-[#7B3FE4] shadow-lg shadow-[#7B3FE4]/40 scale-110",n&&"bg-white/10 border-[#7A7A7A] backdrop-blur-md"),title:r.description,children:[lt.jsxDEV("span",{className:Qs("absolute top-0.5 right-0.5 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold leading-none",i&&"bg-white text-[#FEC641]",a&&"bg-white text-[#7B3FE4]",n&&"bg-[#7A7A7A] text-white"),children:s+1},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:75,columnNumber:21},this),i?lt.jsxDEV(Te,{className:"w-7 h-7 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:88,columnNumber:23},this):lt.jsxDEV(o,{className:Qs("w-7 h-7 transition-colors duration-300",a&&"text-white",n&&"text-[#7A7A7A]")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:90,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:65,columnNumber:19},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:64,columnNumber:17},this),lt.jsxDEV("div",{className:"mt-4 text-center",children:[lt.jsxDEV("p",{className:Qs("font-heading font-semibold text-base transition-all duration-300",i&&"text-[#FEC641]",a&&"text-white scale-105",n&&"text-[#7A7A7A]"),children:r.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:103,columnNumber:19},this),a&&lt.jsxDEV("p",{className:"text-xs text-white/80 mt-1 animate-pulse",children:r.microcopy},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:116,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:102,columnNumber:17},this)]},s,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:62,columnNumber:15},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:41,columnNumber:7},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:39,columnNumber:5},this)}const Su=(e,t)=>{const s=document.createElement("a");s.href=e,s.setAttribute("download",t),document.body.appendChild(s),s.click(),document.body.removeChild(s)},ju=({clips:e})=>{const t=r.useRef(null),s=r.useRef(null),o=r.useRef(null),i=r.useRef(null),[a,n]=r.useState(0),[l,c]=r.useState(!1),[m,d]=r.useState(0),[u,h]=r.useState(0),[p,f]=r.useState(1),[v,b]=r.useState(!1),{isMvpFlowComplete:g,setValidationPopupVisible:x}=ac(),{isLoggedIn:N}=tc(),{showAuthPopup:w}=rc(),y=e[a],_=()=>{const e=t.current;e&&(d(e.currentTime),h(e.duration||0))},E=t=>{var s;t>=0&&t<e.length&&(null==(s=e[t])?void 0:s.audio_url)&&(n(t),c(!1),d(0))},D=()=>{const t=(a+1)%e.length;E(t)},S=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;r.useEffect(()=>{g&&t.current&&(t.current.volume=p,s.current&&(clearInterval(s.current),s.current=null))},[g,p]),r.useEffect(()=>()=>{s.current&&(clearInterval(s.current),s.current=null)},[]);const j=e.filter(e=>e.audio_url);return 0===j.length?lt.jsxDEV("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-8 text-center",children:lt.jsxDEV("div",{className:"text-slate-400",children:[lt.jsxDEV("div",{className:"flex items-center justify-center gap-2 mb-2",children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:190,columnNumber:13},void 0),"Aguardando músicas..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:189,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-sm",children:"Suas músicas aparecerão aqui quando estiverem prontas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:193,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:188,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:187,columnNumber:7},void 0):lt.jsxDEV("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl overflow-hidden shadow-2xl",children:[lt.jsxDEV("audio",{ref:t,src:null==y?void 0:y.audio_url,onTimeUpdate:()=>{_(),(()=>{const e=t.current;if(!e||g||N)return;const r=e.currentTime;r>=40&&!s.current&&(s.current=setInterval(()=>{e.volume>.1?e.volume=Math.max(0,e.volume-.1):e.volume=0},500)),r>=45&&(e.pause(),c(!1),s.current&&(clearInterval(s.current),s.current=null),N||x(!0))})()},onLoadedMetadata:_,onWaiting:()=>b(!0),onCanPlay:()=>b(!1),onEnded:D,preload:"metadata"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:202,columnNumber:7},void 0),lt.jsxDEV("div",{className:"p-6",children:[lt.jsxDEV("div",{className:"text-center mb-6",children:[lt.jsxDEV("h3",{className:"text-xl font-bold text-white mb-1",children:(null==y?void 0:y.title)||`Opção ${a+1}`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:220,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-slate-400 text-sm",children:["Faixa ",a+1," de ",j.length]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:223,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:219,columnNumber:9},void 0),lt.jsxDEV("div",{className:"mb-6",children:[lt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-2",children:[lt.jsxDEV("span",{children:S(m)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:231,columnNumber:13},void 0),lt.jsxDEV("span",{children:S(u)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:232,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:230,columnNumber:11},void 0),lt.jsxDEV("input",{ref:o,type:"range",min:"0",max:"100",value:u?m/u*100:0,onChange:e=>{const s=t.current;if(s){const t=parseFloat(e.target.value)/100*u;s.currentTime=t,d(t)}},className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:234,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:229,columnNumber:9},void 0),lt.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-6",children:[lt.jsxDEV("button",{onClick:()=>{const t=0===a?e.length-1:a-1;E(t)},disabled:j.length<=1,className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:lt.jsxDEV(Be,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:247,columnNumber:11},void 0),lt.jsxDEV("button",{onClick:()=>{const e=t.current;e&&(null==y?void 0:y.audio_url)&&(l?(e.pause(),c(!1)):(e.play(),c(!0)))},disabled:!(null==y?void 0:y.audio_url)||v,className:"p-4 rounded-full bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?lt.jsxDEV("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:261,columnNumber:15},void 0):l?lt.jsxDEV(fe,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:263,columnNumber:15},void 0):lt.jsxDEV(ve,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:265,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:255,columnNumber:11},void 0),lt.jsxDEV("button",{onClick:D,disabled:j.length<=1,className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:lt.jsxDEV($e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:269,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:246,columnNumber:9},void 0),lt.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[lt.jsxDEV(be,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:280,columnNumber:11},void 0),lt.jsxDEV("input",{ref:i,type:"range",min:"0",max:"100",value:100*p,onChange:e=>{const s=parseFloat(e.target.value)/100;f(s),t.current&&(t.current.volume=s)},className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:281,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:279,columnNumber:9},void 0),j.length>1&&lt.jsxDEV("div",{className:"mb-6",children:[lt.jsxDEV("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Escolha uma opção:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:295,columnNumber:13},void 0),lt.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:j.map((e,t)=>lt.jsxDEV("button",{onClick:()=>E(t),className:"p-3 rounded-lg text-left transition-colors "+(t===a?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"),children:[lt.jsxDEV("div",{className:"font-medium text-sm",children:["Opção ",t+1]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:307,columnNumber:19},void 0),lt.jsxDEV("div",{className:"text-xs opacity-75",children:e.title||"Música personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:310,columnNumber:19},void 0)]},e.id||t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:298,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:296,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:294,columnNumber:11},void 0),(g||N)&&y&&lt.jsxDEV("button",{onClick:()=>(e=>{const t=()=>{if(e.audio_url){const t=e.title||"Musica_Personalizada.mp3",s=`${ii}/api/download?url=${encodeURIComponent(e.audio_url)}&filename=${encodeURIComponent(t)}`;Su(s,t)}};N?t():w(t)})(y),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[lt.jsxDEV(Se,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:325,columnNumber:13},void 0),"Baixar Opção ",a+1]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:321,columnNumber:11},void 0),!g&&!N&&lt.jsxDEV("div",{className:"text-center text-slate-400 text-sm italic mt-4",children:"Ouça a prévia completa para desbloquear o download"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:332,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:217,columnNumber:7},void 0),lt.jsxDEV("style",{children:"\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #1e293b;\n        }\n        \n        .slider::-moz-range-thumb {\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #1e293b;\n        }\n      "},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:338,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:200,columnNumber:5},void 0)},Tu=()=>{const{completeMvpFlow:e}=ac(),[t,s]=r.useState({difficulty:5,recommendation:"",price:"",customPrice:""}),[o,i]=r.useState(!1),a=()=>""!==t.recommendation&&""!==t.price&&("outro"!==t.price||""!==t.customPrice.trim());return lt.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:lt.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:lt.jsxDEV("div",{className:"p-6",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:lt.jsxDEV("h2",{className:"text-xl font-heading font-bold text-gray-800",children:"Ajude-nos a melhorar!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:113,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:112,columnNumber:11},void 0),lt.jsxDEV("form",{onSubmit:async s=>{if(s.preventDefault(),a()){i(!0);try{let s="";if("outro"===t.price)s=t.customPrice;else{s={99:"99",149:"149",219:"219"}[t.price]||t.price}const r={difficulty:t.difficulty,wouldRecommend:"sim"===t.recommendation,priceWillingness:s};await hi("/api/save-feedback",{method:"POST",body:JSON.stringify(r)});e()}catch(r){alert("Erro ao enviar feedback. Tente novamente.")}finally{i(!1)}}},className:"space-y-6",children:[lt.jsxDEV("div",{children:[lt.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Como você avalia a dificuldade de usar nossa plataforma?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:122,columnNumber:15},void 0),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV("input",{type:"range",min:"1",max:"5",value:t.difficulty,onChange:e=>{return t=parseInt(e.target.value),void s(e=>({...e,difficulty:t}));var t},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:126,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500",children:[lt.jsxDEV("span",{children:"1 (Muito fácil)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:135,columnNumber:19},void 0),lt.jsxDEV("span",{className:"font-medium text-blue-600",children:t.difficulty},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:136,columnNumber:19},void 0),lt.jsxDEV("span",{children:"5 (Muito difícil)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:137,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:121,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Você indicaria nossa plataforma para um amigo?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:144,columnNumber:15},void 0),lt.jsxDEV("div",{className:"space-y-2",children:[{value:"sim",label:"Sim, com certeza!"},{value:"talvez",label:"Talvez, precisa melhorar"},{value:"nao",label:"Não, não recomendaria"}].map(e=>lt.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[lt.jsxDEV("input",{type:"radio",name:"recommendation",value:e.value,checked:t.recommendation===e.value,onChange:()=>{return t=e.value,void s(e=>({...e,recommendation:t}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:154,columnNumber:21},void 0),lt.jsxDEV("span",{className:"text-sm text-gray-700",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:162,columnNumber:21},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:153,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:143,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quanto você pagaria por este serviço?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:170,columnNumber:15},void 0),lt.jsxDEV("div",{className:"space-y-2",children:[{value:"99",label:"R$ 99,00"},{value:"149",label:"R$ 149,00"},{value:"219",label:"R$ 219,00"},{value:"outro",label:"Outro valor"}].map(e=>lt.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[lt.jsxDEV("input",{type:"radio",name:"price",value:e.value,checked:t.price===e.value,onChange:()=>{return t=e.value,void s(e=>({...e,price:t,customPrice:"outro"!==t?"":e.customPrice}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:181,columnNumber:21},void 0),lt.jsxDEV("span",{className:"text-sm text-gray-700",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:189,columnNumber:21},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:180,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:173,columnNumber:15},void 0),"outro"===t.price&&lt.jsxDEV("div",{className:"mt-3",children:lt.jsxDEV("input",{type:"text",placeholder:"Digite o valor (ex: R$ 299,00)",value:t.customPrice,onChange:e=>{return t=e.target.value,void s(e=>({...e,customPrice:t}));var t},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:197,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:196,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:169,columnNumber:13},void 0),lt.jsxDEV("div",{className:"pt-4",children:lt.jsxDEV(Xo,{type:"submit",disabled:!a()||o,className:"w-full",size:"lg",children:o?lt.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:218,columnNumber:21},void 0),"Enviando..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:217,columnNumber:19},void 0):"Enviar Feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:210,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:119,columnNumber:11},void 0),lt.jsxDEV("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Suas respostas nos ajudam a melhorar a experiência para todos os usuários."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:228,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:111,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:109,columnNumber:5},void 0)};const Pu=({value:e,onChange:t,highlightQuery:s,className:o="",rows:i=12})=>{const a=r.useRef(null),n=r.useRef(null),l=r.useMemo(()=>function(e,t){const s=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),r=(t||"").trim();if(!r)return s;const o=r.split(/\s+/).filter(Boolean).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(!o.length)return s;const i=new RegExp(`(${o.join("|")})`,"gi");return s.replace(i,'<mark class="bg-yellow-200 text-inherit rounded-sm">$1</mark>')}(e,s),[e,s]);return r.useEffect(()=>{const e=a.current,t=n.current;if(!e||!t)return;const s=()=>{t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft};return e.addEventListener("scroll",s),s(),()=>e.removeEventListener("scroll",s)},[e,s]),lt.jsxDEV("div",{className:`relative ${o}`,children:[lt.jsxDEV("div",{ref:n,className:"absolute inset-0 overflow-auto pointer-events-none select-none whitespace-pre-wrap break-words rounded-md border p-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:l},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:62,columnNumber:7},void 0),lt.jsxDEV("textarea",{ref:a,value:e,onChange:e=>t(e.target.value),rows:i,className:"relative w-full rounded-md border p-3 text-sm leading-relaxed bg-transparent caret-blue-600",style:{position:"relative"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:69,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:60,columnNumber:5},void 0)},Cu=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("div",{ref:s,className:Qs("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));Cu.displayName="Card";const ku=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("div",{ref:s,className:Qs("flex flex-col space-y-1.5 p-6",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));ku.displayName="CardHeader";const Uu=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("h3",{ref:s,className:Qs("text-2xl font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));Uu.displayName="CardTitle";r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("p",{ref:s,className:Qs("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0)).displayName="CardDescription";const Vu=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("div",{ref:s,className:Qs("p-6 pt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));Vu.displayName="CardContent";r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("div",{ref:s,className:Qs("flex items-center p-6 pt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0)).displayName="CardFooter";const Au=qo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mu({className:e,variant:t,...s}){return lt.jsxDEV("div",{className:Qs(Au({variant:t}),e),...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}var Lu="ScrollArea",[Iu,Ou]=m(Lu),[Ru,Fu]=Iu(Lu),Bu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:o="hover",dir:i,scrollHideDelay:a=600,...n}=e,[l,c]=r.useState(null),[m,u]=r.useState(null),[h,p]=r.useState(null),[f,v]=r.useState(null),[b,x]=r.useState(null),[w,y]=r.useState(0),[_,D]=r.useState(0),[S,j]=r.useState(!1),[T,P]=r.useState(!1),C=g(t,e=>c(e)),k=E(i);return d.jsx(Ru,{scope:s,type:o,dir:k,scrollHideDelay:a,scrollArea:l,viewport:m,onViewportChange:u,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:b,onScrollbarYChange:x,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:D,children:d.jsx(N.div,{dir:k,...n,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Bu.displayName=Lu;var $u="ScrollAreaViewport",zu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:o,nonce:i,...a}=e,n=Fu($u,s),l=r.useRef(null),c=g(t,l,n.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(N.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:n.scrollbarXEnabled?"scroll":"hidden",overflowY:n.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:n.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});zu.displayName=$u;var Gu="ScrollAreaScrollbar",Hu=r.forwardRef((e,t)=>{const{forceMount:s,...o}=e,i=Fu(Gu,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:n}=i,l="horizontal"===e.orientation;return r.useEffect(()=>(l?a(!0):n(!0),()=>{l?a(!1):n(!1)}),[l,a,n]),"hover"===i.type?d.jsx(qu,{...o,ref:t,forceMount:s}):"scroll"===i.type?d.jsx(Wu,{...o,ref:t,forceMount:s}):"auto"===i.type?d.jsx(Xu,{...o,ref:t,forceMount:s}):"always"===i.type?d.jsx(Yu,{...o,ref:t}):null});Hu.displayName=Gu;var qu=r.forwardRef((e,t)=>{const{forceMount:s,...o}=e,i=Fu(Gu,e.__scopeScrollArea),[a,n]=r.useState(!1);return r.useEffect(()=>{const e=i.scrollArea;let t=0;if(e){const s=()=>{window.clearTimeout(t),n(!0)},r=()=>{t=window.setTimeout(()=>n(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",s),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",s),e.removeEventListener("pointerleave",r)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(u,{present:s||a,children:d.jsx(Xu,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Wu=r.forwardRef((e,t)=>{const{forceMount:s,...o}=e,i=Fu(Gu,e.__scopeScrollArea),a="horizontal"===e.orientation,n=ph(()=>c("SCROLL_END"),100),[l,c]=(m="hidden",h={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>h[e][t]??e,m));var m,h;return r.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,i.scrollHideDelay,c]),r.useEffect(()=>{const e=i.viewport,t=a?"scrollLeft":"scrollTop";if(e){let s=e[t];const r=()=>{const r=e[t];s!==r&&(c("SCROLL"),n()),s=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[i.viewport,a,c,n]),d.jsx(u,{present:s||"hidden"!==l,children:d.jsx(Yu,{"data-state":"hidden"===l?"hidden":"visible",...o,ref:t,onPointerEnter:w(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:w(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Xu=r.forwardRef((e,t)=>{const s=Fu(Gu,e.__scopeScrollArea),{forceMount:o,...i}=e,[a,n]=r.useState(!1),l="horizontal"===e.orientation,c=ph(()=>{if(s.viewport){const e=s.viewport.offsetWidth<s.viewport.scrollWidth,t=s.viewport.offsetHeight<s.viewport.scrollHeight;n(l?e:t)}},10);return fh(s.viewport,c),fh(s.content,c),d.jsx(u,{present:o||a,children:d.jsx(Yu,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Yu=r.forwardRef((e,t)=>{const{orientation:s="vertical",...o}=e,i=Fu(Gu,e.__scopeScrollArea),a=r.useRef(null),n=r.useRef(0),[l,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=lh(l.viewport,l.content),u={...o,sizes:l,onSizesChange:c,hasThumb:Boolean(m>0&&m<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>n.current=0,onThumbPointerDown:e=>n.current=e};function h(e,t){return function(e,t,s,r="ltr"){const o=ch(s),i=o/2,a=t||i,n=o-a,l=s.scrollbar.paddingStart+a,c=s.scrollbar.size-s.scrollbar.paddingEnd-n,m=s.content-s.viewport,d="ltr"===r?[0,m]:[-1*m,0];return dh([l,c],d)(e)}(e,n.current,l,t)}return"horizontal"===s?d.jsx(Ju,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=mh(i.viewport.scrollLeft,l,i.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=h(e,i.dir))}}):"vertical"===s?d.jsx(Ku,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=mh(i.viewport.scrollTop,l);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=h(e))}}):null}),Ju=r.forwardRef((e,t)=>{const{sizes:s,onSizesChange:o,...i}=e,a=Fu(Gu,e.__scopeScrollArea),[n,l]=r.useState(),c=r.useRef(null),m=g(t,c,a.onScrollbarXChange);return r.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.jsx(eh,{"data-orientation":"horizontal",...i,ref:m,sizes:s,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ch(s)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,s)=>{if(a.viewport){const r=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),uh(r,s)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&n&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:nh(n.paddingLeft),paddingEnd:nh(n.paddingRight)}})}})}),Ku=r.forwardRef((e,t)=>{const{sizes:s,onSizesChange:o,...i}=e,a=Fu(Gu,e.__scopeScrollArea),[n,l]=r.useState(),c=r.useRef(null),m=g(t,c,a.onScrollbarYChange);return r.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.jsx(eh,{"data-orientation":"vertical",...i,ref:m,sizes:s,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ch(s)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,s)=>{if(a.viewport){const r=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),uh(r,s)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&n&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:nh(n.paddingTop),paddingEnd:nh(n.paddingBottom)}})}})}),[Qu,Zu]=Iu(Gu),eh=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:o,hasThumb:i,onThumbChange:a,onThumbPointerUp:n,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:m,onWheelScroll:u,onResize:h,...p}=e,f=Fu(Gu,s),[v,b]=r.useState(null),x=g(t,e=>b(e)),y=r.useRef(null),_=r.useRef(""),E=f.viewport,S=o.content-o.viewport,j=D(u),T=D(c),P=ph(h,10);function C(e){if(y.current){const t=e.clientX-y.current.left,s=e.clientY-y.current.top;m({x:t,y:s})}}return r.useEffect(()=>{const e=e=>{const t=e.target;(null==v?void 0:v.contains(t))&&j(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[E,v,S,j]),r.useEffect(T,[o,T]),fh(v,P),fh(f.content,P),d.jsx(Qu,{scope:s,scrollbar:v,hasThumb:i,onThumbChange:D(a),onThumbPointerUp:D(n),onThumbPositionChange:T,onThumbPointerDown:D(l),children:d.jsx(N.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:w(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(e)}}),onPointerMove:w(e.onPointerMove,C),onPointerUp:w(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=_.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),th="ScrollAreaThumb",sh=r.forwardRef((e,t)=>{const{forceMount:s,...r}=e,o=Zu(th,e.__scopeScrollArea);return d.jsx(u,{present:s||o.hasThumb,children:d.jsx(rh,{ref:t,...r})})}),rh=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:o,...i}=e,a=Fu(th,s),n=Zu(th,s),{onThumbPositionChange:l}=n,c=g(t,e=>n.onThumbChange(e)),m=r.useRef(void 0),u=ph(()=>{m.current&&(m.current(),m.current=void 0)},100);return r.useEffect(()=>{const e=a.viewport;if(e){const t=()=>{if(u(),!m.current){const t=hh(e,l);m.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[a.viewport,u,l]),d.jsx(N.div,{"data-state":n.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:w(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,r=e.clientY-t.top;n.onThumbPointerDown({x:s,y:r})}),onPointerUp:w(e.onPointerUp,n.onThumbPointerUp)})});sh.displayName=th;var oh="ScrollAreaCorner",ih=r.forwardRef((e,t)=>{const s=Fu(oh,e.__scopeScrollArea),r=Boolean(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&r?d.jsx(ah,{...e,ref:t}):null});ih.displayName=oh;var ah=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,...o}=e,i=Fu(oh,s),[a,n]=r.useState(0),[l,c]=r.useState(0),m=Boolean(a&&l);return fh(i.scrollbarX,()=>{var e;const t=(null==(e=i.scrollbarX)?void 0:e.offsetHeight)||0;i.onCornerHeightChange(t),c(t)}),fh(i.scrollbarY,()=>{var e;const t=(null==(e=i.scrollbarY)?void 0:e.offsetWidth)||0;i.onCornerWidthChange(t),n(t)}),m?d.jsx(N.div,{...o,ref:t,style:{width:a,height:l,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function nh(e){return e?parseInt(e,10):0}function lh(e,t){const s=e/t;return isNaN(s)?0:s}function ch(e){const t=lh(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function mh(e,t,s="ltr"){const r=ch(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,n=i-r,l=j(e,"ltr"===s?[0,a]:[-1*a,0]);return dh([0,a],[0,n])(l)}function dh(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function uh(e,t){return e>0&&e<t}var hh=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=s.left!==i.left,n=s.top!==i.top;(a||n)&&t(),s=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function ph(e,t){const s=D(e),o=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),r.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(s,t)},[s,t])}function fh(e,t){const s=D(t);S(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,s])}var vh=Bu,bh=zu,gh=ih;const xh=r.forwardRef(({className:e,children:t,...s},r)=>lt.jsxDEV(vh,{ref:r,className:Qs("relative overflow-hidden",e),...s,children:[lt.jsxDEV(bh,{className:"h-full w-full rounded-[inherit]",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),lt.jsxDEV(Nh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),lt.jsxDEV(gh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));xh.displayName=vh.displayName;const Nh=r.forwardRef(({className:e,orientation:t="vertical",...s},r)=>lt.jsxDEV(Hu,{ref:r,orientation:t,className:Qs("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:lt.jsxDEV(sh,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));Nh.displayName=Hu.displayName;const wh=[{id:"rock",name:"Rock",description:"Energético e poderoso",subGenres:[{id:"rock-alternativo",name:"Rock Alternativo",description:"Moderno e experimental"},{id:"rock-classico",name:"Rock Clássico",description:"Atemporal e icônico"},{id:"hard-rock",name:"Hard Rock",description:"Pesado e vibrante"},{id:"punk-rock",name:"Punk Rock",description:"Rápido e contestador"}]},{id:"pop",name:"Pop",description:"Cativante e universal",subGenres:[{id:"dance-pop",name:"Dance-pop",description:"Dançante e envolvente"},{id:"electropop",name:"Electropop",description:"Eletrônico e moderno"},{id:"indie-pop",name:"Indie Pop",description:"Independente e criativo"},{id:"synth-pop",name:"Synth-pop",description:"Sintético e nostálgico"},{id:"k-pop",name:"K-pop",description:"Colorido e dinâmico"}]},{id:"hip-hop",name:"Hip Hop",description:"Urbano e expressivo",subGenres:[{id:"hip-hop-alternativo",name:"Hip Hop Alternativo",description:"Inovador e consciente"},{id:"gangsta-rap",name:"Gangsta Rap",description:"Intenso e direto"},{id:"trap",name:"Trap",description:"Pesado e hipnótico"},{id:"drill",name:"Drill",description:"Sombrio e agressivo"}]},{id:"jazz",name:"Jazz",description:"Sofisticado e improvisado",subGenres:[{id:"bebop",name:"Bebop",description:"Rápido e complexo"},{id:"big-band",name:"Big Band",description:"Grandioso e swing"},{id:"cool-jazz",name:"Cool Jazz",description:"Suave e relaxante"},{id:"jazz-fusion",name:"Jazz Fusion",description:"Moderno e elétrico"}]},{id:"blues",name:"Blues",description:"Emotivo e autêntico",subGenres:[{id:"chicago-blues",name:"Chicago Blues",description:"Urbano e elétrico"},{id:"delta-blues",name:"Delta Blues",description:"Tradicional e acústico"},{id:"blues-eletrico",name:"Blues Elétrico",description:"Amplificado e potente"},{id:"gospel-blues",name:"Gospel Blues",description:"Espiritual e tocante"}]},{id:"country",name:"Country",description:"Narrativo e rural",subGenres:[{id:"bluegrass",name:"Bluegrass",description:"Acústico e virtuoso"},{id:"country-pop",name:"Country Pop",description:"Comercial e acessível"},{id:"country-rock",name:"Country Rock",description:"Energético e híbrido"}]},{id:"eletronica",name:"Eletrônica",description:"Digital e futurista",subGenres:[{id:"ambient",name:"Ambient",description:"Atmosférico e contemplativo"},{id:"breakbeat",name:"Breakbeat",description:"Fragmentado e rítmico"},{id:"disco",name:"Disco",description:"Dançante e festivo"},{id:"drum-and-bass",name:"Drum and Bass",description:"Rápido e intenso"},{id:"house",name:"House",description:"Repetitivo e hipnótico"},{id:"techno",name:"Techno",description:"Industrial e mecânico"},{id:"trance",name:"Trance",description:"Elevado e transcendente"}]},{id:"folk",name:"Folk",description:"Tradicional e storytelling",subGenres:[{id:"americana",name:"Americana",description:"Raízes e contemporâneo"},{id:"celta",name:"Celta",description:"Místico e ancestral"},{id:"indie-folk",name:"Indie Folk",description:"Moderno e intimista"}]},{id:"rnb-soul",name:"R&B & Soul",description:"Sensual e emotivo",subGenres:[{id:"funk",name:"Funk",description:"Groove e dançante"},{id:"gospel",name:"Gospel",description:"Espiritual e poderoso"},{id:"neo-soul",name:"Neo Soul",description:"Contemporâneo e sofisticado"}]},{id:"metal",name:"Metal",description:"Pesado e intenso",subGenres:[{id:"black-metal",name:"Black Metal",description:"Sombrio e extremo"},{id:"death-metal",name:"Death Metal",description:"Brutal e técnico"},{id:"heavy-metal",name:"Heavy Metal",description:"Clássico e poderoso"}]},{id:"punk",name:"Punk",description:"Rebelde e direto",subGenres:[{id:"punk-anarquista",name:"Punk Anarquista",description:"Político e revolucionário"},{id:"hardcore",name:"Hardcore",description:"Extremo e agressivo"},{id:"pop-punk",name:"Pop Punk",description:"Melódico e acessível"}]},{id:"easy-listening",name:"Easy Listening",description:"Relaxante e suave",subGenres:[{id:"musica-ambiente",name:"Música Ambiente",description:"Sutil e envolvente"},{id:"lounge",name:"Lounge",description:"Elegante e sofisticado"},{id:"soft-rock",name:"Soft Rock",description:"Melódico e gentil"}]},{id:"avant-garde",name:"Avant-garde & Experimental",description:"Inovador e vanguardista",subGenres:[{id:"experimental",name:"Experimental",description:"Ousado e único"},{id:"avant-garde",name:"Avant-garde",description:"Artístico e conceitual"}]},{id:"mpb",name:"MPB",description:"Brasileira e sofisticada",subGenres:[{id:"mpb-classica",name:"MPB Clássica",description:"Tradicional e poética"},{id:"mpb-contemporanea",name:"MPB Contemporânea",description:"Moderna e inovadora"}]},{id:"samba",name:"Samba",description:"Alegre e brasileiro",subGenres:[{id:"samba-de-raiz",name:"Samba de Raiz",description:"Autêntico e tradicional"},{id:"pagode",name:"Pagode",description:"Festivo e popular"}]},{id:"bossa-nova",name:"Bossa Nova",description:"Elegante e intimista",subGenres:[{id:"bossa-nova-classica",name:"Bossa Nova Clássica",description:"Suave e refinada"},{id:"bossa-nova-moderna",name:"Bossa Nova Moderna",description:"Contemporânea e estilizada"}]},{id:"forro",name:"Forró",description:"Dançante e nordestino",subGenres:[{id:"forro-pe-de-serra",name:"Forró Pé-de-Serra",description:"Tradicional e sanfona"},{id:"forro-universitario",name:"Forró Universitário",description:"Moderno e romântico"}]},{id:"sertanejo",name:"Sertanejo",description:"Popular e emotivo",subGenres:[{id:"sertanejo-raiz",name:"Sertanejo Raiz",description:"Tradicional e rural"},{id:"sertanejo-universitario",name:"Sertanejo Universitário",description:"Comercial e romântico"}]},{id:"axe",name:"Axé",description:"Festivo e baiano",subGenres:[{id:"axe-classico",name:"Axé Clássico",description:"Carnavalesco e energético"},{id:"axe-pop",name:"Axé Pop",description:"Comercial e dançante"}]},{id:"funk-carioca",name:"Funk Carioca",description:"Urbano e carioca",subGenres:[{id:"funk-melody",name:"Funk Melody",description:"Melódico e romântico"},{id:"funk-ostentacao",name:"Funk Ostentação",description:"Luxuoso e aspiracional"}]},{id:"tropicalia",name:"Tropicália",description:"Revolucionária e antropofágica",subGenres:[{id:"tropicalia-classica",name:"Tropicália Clássica",description:"Experimental e cultural"},{id:"neo-tropicalia",name:"Neo-Tropicália",description:"Contemporânea e conceitual"}]},{id:"choro",name:"Choro",description:"Virtuoso e instrumental",subGenres:[{id:"choro-tradicional",name:"Choro Tradicional",description:"Clássico e técnico"},{id:"choro-moderno",name:"Choro Moderno",description:"Inovador e fusion"}]}],yh=({onGenreSelect:e,selectedGenre:t,selectedSubGenre:s,className:o=""})=>{const{updateFormData:i}=ac(),[a,n]=r.useState(""),[l,c]=r.useState(null),[m,d]=r.useState("genres"),u=r.useMemo(()=>a.trim()?(e=>{const t=e.toLowerCase();return wh.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.subGenres.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))})(a):wh,[a]),{brazilianGenres:h,internationalGenres:p}=r.useMemo(()=>({brazilianGenres:u.filter(e=>["mpb","samba","bossa-nova","forro","sertanejo","axe","frevo","baiao","choro","tropicalia","funk-carioca"].includes(e.id)),internationalGenres:u.filter(e=>!["mpb","samba","bossa-nova","forro","sertanejo","axe","frevo","baiao","choro","tropicalia","funk-carioca"].includes(e.id))}),[u,a,m]),f=()=>{n("")},v=({genre:t,isSelected:s})=>lt.jsxDEV(Cu,{className:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] "+(s?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>(t=>{t.subGenres.length>0?(c(t),d("subgenres")):(i({genre:t.name}),null==e||e(t.id))})(t),children:lt.jsxDEV(Vu,{className:"p-4",children:lt.jsxDEV("div",{className:"flex items-center justify-between",children:[lt.jsxDEV("div",{className:"flex items-center space-x-3",children:[lt.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg",children:lt.jsxDEV(_e,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:92,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:91,columnNumber:13},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h3",{className:"font-heading font-semibold text-gray-900",children:t.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:95,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-sm text-gray-600",children:t.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:96,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:94,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:90,columnNumber:11},void 0),t.subGenres.length>0&&lt.jsxDEV("div",{className:"flex items-center space-x-2",children:[lt.jsxDEV(Mu,{variant:"secondary",className:"text-xs",children:[t.subGenres.length," estilos"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:101,columnNumber:15},void 0),lt.jsxDEV(Ae,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:89,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:88,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:82,columnNumber:5},void 0),b=({subGenre:t,isSelected:s})=>lt.jsxDEV(Cu,{className:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] "+(s?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>(t=>{if(l){const s=`${l.name} - ${t.name}`;i({genre:s}),null==e||e(l.id,t.id)}})(t),children:lt.jsxDEV(Vu,{className:"p-4",children:lt.jsxDEV("div",{className:"flex items-center space-x-3",children:[lt.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg",children:lt.jsxDEV(_e,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:121,columnNumber:11},void 0),lt.jsxDEV("div",{children:[lt.jsxDEV("h4",{className:"font-heading font-medium text-gray-900",children:t.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:125,columnNumber:13},void 0),lt.jsxDEV("p",{className:"text-sm text-gray-600",children:t.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:120,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:119,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:113,columnNumber:5},void 0),g=({title:e,genres:s,icon:r})=>0===s.length?null:lt.jsxDEV("div",{className:"space-y-3",children:[lt.jsxDEV("div",{className:"flex items-center space-x-2",children:[lt.jsxDEV("span",{className:"text-2xl",children:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:139,columnNumber:11},void 0),lt.jsxDEV("h3",{className:"text-lg font-heading font-semibold text-gray-800",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:140,columnNumber:11},void 0),lt.jsxDEV(Mu,{variant:"outline",children:s.length},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:141,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:138,columnNumber:9},void 0),lt.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:s.map(e=>lt.jsxDEV(v,{genre:e,isSelected:t===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:145,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:137,columnNumber:7},void 0);return lt.jsxDEV("div",{className:`w-full max-w-4xl mx-auto ${o}`,children:lt.jsxDEV(Cu,{className:"shadow-lg",children:[lt.jsxDEV(ku,{className:"pb-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-between",children:[lt.jsxDEV(Uu,{className:"flex items-center space-x-2",children:["subgenres"===m&&lt.jsxDEV(Xo,{variant:"ghost",size:"sm",onClick:()=>{d("genres"),c(null)},className:"mr-2",children:lt.jsxDEV(Ve,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:163,columnNumber:17},void 0),lt.jsxDEV(_e,{className:"h-6 w-6 text-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:172,columnNumber:15},void 0),lt.jsxDEV("span",{children:"genres"===m?"Escolha o Estilo Musical":`${null==l?void 0:l.name} - Subgêneros`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:161,columnNumber:13},void 0),"genres"===m&&lt.jsxDEV(Mu,{variant:"secondary",children:[u.length," gêneros disponíveis"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:181,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:160,columnNumber:11},void 0),"genres"===m&&lt.jsxDEV("div",{className:"relative",children:[lt.jsxDEV(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:189,columnNumber:15},void 0),lt.jsxDEV(dc,{placeholder:"Buscar por gênero ou estilo...",value:a,onChange:e=>n(e.target.value),className:"pl-10 pr-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:190,columnNumber:15},void 0),a&&lt.jsxDEV(Xo,{variant:"ghost",size:"sm",onClick:f,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:"×"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:188,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:159,columnNumber:9},void 0),lt.jsxDEV(Vu,{children:lt.jsxDEV(xh,{className:"h-[600px] pr-4",children:"genres"===m?lt.jsxDEV("div",{className:"space-y-8",children:[a?lt.jsxDEV("div",{className:"space-y-3",children:[lt.jsxDEV("h3",{className:"text-lg font-heading font-semibold text-gray-800",children:["Resultados da busca (",u.length,")"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:217,columnNumber:21},void 0),lt.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:u.map(e=>lt.jsxDEV(v,{genre:e,isSelected:t===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:222,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:220,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:216,columnNumber:19},void 0):lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(g,{title:"Gêneros Brasileiros",genres:h,icon:"🇧🇷"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:233,columnNumber:21},void 0),lt.jsxDEV(g,{title:"Gêneros Internacionais",genres:p,icon:"🌍"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:238,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:232,columnNumber:19},void 0),0===u.length&&lt.jsxDEV("div",{className:"text-center py-12",children:[lt.jsxDEV(_e,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:248,columnNumber:21},void 0),lt.jsxDEV("p",{className:"text-gray-500",children:['Nenhum gênero encontrado para "',a,'"']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:249,columnNumber:21},void 0),lt.jsxDEV(Xo,{variant:"outline",onClick:f,className:"mt-2",children:"Limpar busca"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:250,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:213,columnNumber:15},void 0):lt.jsxDEV("div",{className:"space-y-4",children:l&&lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border",children:[lt.jsxDEV("h3",{className:"font-heading font-semibold text-gray-900",children:l.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:262,columnNumber:23},void 0),lt.jsxDEV("p",{className:"text-sm text-gray-600",children:l.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:263,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:261,columnNumber:21},void 0),lt.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2",children:l.subGenres.map(e=>lt.jsxDEV(b,{subGenre:e,isSelected:s===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:268,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:266,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:260,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:258,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:211,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:210,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:158,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:157,columnNumber:5},void 0)},_h=r.forwardRef(({className:e,children:t,isLoading:s=!1,loadingText:r="Gerando letra...",variant:o="default",size:i="lg",disabled:a,...n},l)=>lt.jsxDEV(Xo,{className:Qs("font-medium transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]","shadow-lg hover:shadow-xl",e),variant:o,size:i,disabled:a||s,ref:l,...n,children:s?lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(Ge,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/HistoryFormButton.tsx",lineNumber:39,columnNumber:13},void 0),r]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/HistoryFormButton.tsx",lineNumber:38,columnNumber:11},void 0):lt.jsxDEV(lt.Fragment,{children:[lt.jsxDEV(Z,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/HistoryFormButton.tsx",lineNumber:44,columnNumber:13},void 0),t||"Gerar Letra da Música"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/HistoryFormButton.tsx",lineNumber:43,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/HistoryFormButton.tsx",lineNumber:25,columnNumber:7},void 0));_h.displayName="HistoryFormButton";const Eh=F,Dh=B,Sh=r.forwardRef(({className:e,children:t,...s},r)=>lt.jsxDEV(T,{ref:r,className:Qs("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,lt.jsxDEV(P,{asChild:!0,children:lt.jsxDEV(Me,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));Sh.displayName=T.displayName;const jh=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(C,{ref:s,className:Qs("flex cursor-default items-center justify-center py-1",e),...t,children:lt.jsxDEV(He,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:45,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));jh.displayName=C.displayName;const Th=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(k,{ref:s,className:Qs("flex cursor-default items-center justify-center py-1",e),...t,children:lt.jsxDEV(Me,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:54,columnNumber:3},void 0));Th.displayName=k.displayName;const Ph=r.forwardRef(({className:e,children:t,position:s="popper",...r},o)=>lt.jsxDEV(U,{children:lt.jsxDEV(V,{ref:o,className:Qs("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[lt.jsxDEV(jh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:84,columnNumber:7},void 0),lt.jsxDEV(A,{className:Qs("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:85,columnNumber:7},void 0),lt.jsxDEV(Th,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:72,columnNumber:3},void 0));Ph.displayName=V.displayName;r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(M,{ref:s,className:Qs("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0)).displayName=M.displayName;const Ch=r.forwardRef(({className:e,children:t,...s},r)=>lt.jsxDEV(L,{ref:r,className:Qs("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[lt.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:lt.jsxDEV(I,{children:lt.jsxDEV(Te,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:124,columnNumber:5},void 0),lt.jsxDEV(O,{children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:130,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:116,columnNumber:3},void 0));Ch.displayName=L.displayName;r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(R,{ref:s,className:Qs("-mx-1 my-1 h-px bg-muted",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:139,columnNumber:3},void 0)).displayName=R.displayName;const kh=({children:e,onClick:t,disabled:s=!1,className:r,type:o="button"})=>lt.jsxDEV(Xo,{variant:"glassGold",size:"default",onClick:t,disabled:s,type:o,className:Qs(r),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/LiquidGlassButtonSmall.tsx",lineNumber:21,columnNumber:5},void 0);kh.displayName="LiquidGlassButtonSmall";const Uh=({children:e,onClick:t,disabled:s=!1,className:r,type:o="button"})=>lt.jsxDEV(Xo,{variant:"glassWhite",size:"default",onClick:t,disabled:s,type:o,className:Qs(r),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/LiquidGlassButtonWhiteSmall.tsx",lineNumber:21,columnNumber:5},void 0);Uh.displayName="LiquidGlassButtonWhiteSmall";const Vh=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV("textarea",{className:Qs("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/textarea.tsx",lineNumber:8,columnNumber:7},void 0));function Ah({title:e,children:t,className:s}){return lt.jsxDEV("div",{className:Qs("relative overflow-hidden rounded-2xl","bg-gradient-to-br from-white/20 via-white/10 to-white/5","backdrop-blur-xl border border-white/20","shadow-2xl shadow-black/10","transition-all duration-700 ease-out","hover:shadow-3xl hover:shadow-black/20","hover:border-white/30","before:absolute before:inset-0","before:bg-gradient-to-br before:from-white/10 before:via-transparent before:to-transparent","before:opacity-0 before:transition-opacity before:duration-300","hover:before:opacity-100","group",s),children:[lt.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/5 to-pink-500/10 transition-opacity duration-700 group-hover:opacity-80"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:50,columnNumber:7},this),lt.jsxDEV("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_70%)] transition-opacity duration-700 group-hover:opacity-60"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:51,columnNumber:7},this),lt.jsxDEV("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-400/20 via-purple-400/20 to-pink-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-700 blur-sm"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:54,columnNumber:7},this),lt.jsxDEV(ku,{className:"relative z-10 pb-4",children:lt.jsxDEV(Uu,{className:"text-xl font-heading font-semibold text-white drop-shadow-sm transition-all duration-500 group-hover:text-white/95 group-hover:drop-shadow-xl",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:57,columnNumber:9},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:56,columnNumber:7},this),lt.jsxDEV(Vu,{className:"relative z-10 space-y-6",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:62,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:34,columnNumber:5},this)}function Mh({label:e,error:t,className:s,...r}){return lt.jsxDEV("div",{className:"space-y-2",children:[e&&lt.jsxDEV(fc,{htmlFor:r.id,className:"text-white/90 font-medium drop-shadow-sm",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:74,columnNumber:9},this),lt.jsxDEV(dc,{...r,className:Qs("h-12 px-4","bg-white/10 backdrop-blur-md","border border-white/20","text-white placeholder:text-white/60","shadow-lg shadow-black/5","transition-all duration-500 ease-out","hover:bg-white/15 hover:border-white/30","focus:bg-white/20 focus:border-white/40 focus:ring-2 focus:ring-white/20","focus:shadow-xl focus:shadow-black/10","transform hover:scale-[1.02] focus:scale-[1.02]",t&&"border-red-400/60 focus:border-red-400/80 focus:ring-red-400/20",s)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:78,columnNumber:7},this),t&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm animate-pulse",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:72,columnNumber:5},this)}function Lh({label:e,error:t,className:s,...r}){return lt.jsxDEV("div",{className:"space-y-2",children:[e&&lt.jsxDEV(fc,{htmlFor:r.id,className:"text-white/90 font-medium drop-shadow-sm",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:107,columnNumber:9},this),lt.jsxDEV(Vh,{...r,className:Qs("min-h-[100px] px-4 py-3","bg-white/10 backdrop-blur-md","border border-white/20","text-white placeholder:text-white/60","shadow-lg shadow-black/5","transition-all duration-500 ease-out","hover:bg-white/15 hover:border-white/30","focus:bg-white/20 focus:border-white/40 focus:ring-2 focus:ring-white/20","focus:shadow-xl focus:shadow-black/10","resize-none","transform hover:scale-[1.01] focus:scale-[1.01]",t&&"border-red-400/60 focus:border-red-400/80 focus:ring-red-400/20",s)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:111,columnNumber:7},this),t&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm animate-pulse",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:105,columnNumber:5},this)}function Ih({children:e,className:t}){return lt.jsxDEV("div",{className:Qs("flex flex-wrap gap-2",t),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:139,columnNumber:5},this)}function Oh({children:e,active:t=!1,className:s,...r}){const o="string"==typeof e&&("Memorial"===e||"Homenagem a quem partiu"===e),i=null==s?void 0:s.includes("text-left"),a=o||i;return lt.jsxDEV("button",{...r,className:Qs("px-4 py-2.5 rounded-xl","backdrop-blur-md border","text-sm font-medium","transition-all duration-500 ease-out","shadow-lg shadow-black/5","hover:shadow-xl hover:shadow-black/10","hover:scale-[1.02]","active:scale-[0.98]",t?[a?["liquid-glass-button--gold-solid","!px-4 !py-2.5 !rounded-xl","shadow-xl shadow-black/20"]:["liquid-glass-button bg-transparent text-white","!px-4 !py-2.5 !rounded-xl","shadow-xl shadow-black/20 glow-effect"]]:["bg-white/10 border-white/20","text-white/80 hover:text-white","hover:bg-white/15 hover:border-white/30 hover:shadow-white/10"],s),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:166,columnNumber:5},this)}function Rh({title:e,children:t,className:s}){return lt.jsxDEV("div",{className:Qs("space-y-4",s),children:[lt.jsxDEV("h3",{className:"text-lg font-semibold font-heading text-white/95 drop-shadow-sm",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:206,columnNumber:7},this),lt.jsxDEV("div",{className:"space-y-4",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:209,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HeroCard.tsx",lineNumber:205,columnNumber:5},this)}Vh.displayName="Textarea";const Fh=({onComplete:e,className:t=""})=>{const[s,o]=r.useState(3e5);r.useEffect(()=>{if(s<=0)return void(null==e||e());const t=setInterval(()=>{o(t=>t<=100?(null==e||e(),0):t-100)},100);return()=>clearInterval(t)},[s,e]);return lt.jsxDEV("div",{className:`flex items-center justify-center ${t}`,children:[lt.jsxDEV("div",{className:"w-16 h-16 bg-accent-turquoise/20 rounded-full flex items-center justify-center mx-auto",children:lt.jsxDEV(je,{className:"w-8 h-8 text-accent-turquoise"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:45,columnNumber:7},void 0),lt.jsxDEV("div",{className:"ml-4",children:[lt.jsxDEV("div",{className:"text-2xl font-mono font-bold text-accent-turquoise",children:(e=>{const t=Math.floor(e/1e3),s=Math.floor(t/60),r=t%60,o=Math.floor(e%1e3/10);return`${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`})(s)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:49,columnNumber:9},void 0),lt.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Tempo estimado restante"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:44,columnNumber:5},void 0)},Bh=tt({occasion:st({required_error:"Por favor, selecione uma ocasião especial."}).min(1,"A ocasião é obrigatória."),recipientName:st({required_error:"Por favor, informe o nome da pessoa."}).min(1,"O nome da pessoa é obrigatório.").max(50,"O nome deve ter no máximo 50 caracteres."),relationship:st({required_error:"Por favor, selecione o tipo de relação."}).min(1,"A relação é obrigatória."),senderName:st().max(50,"O nome deve ter no máximo 50 caracteres.").optional(),hobbies:st().min(1,"Hobbies são obrigatórios").max(500,"Hobbies devem ter no máximo 500 caracteres"),qualities:st().min(1,"Qualidades são obrigatórias").max(500,"Qualidades devem ter no máximo 500 caracteres"),uniqueTraits:st().min(1,"Características únicas são obrigatórias").max(500,"Características únicas devem ter no máximo 500 caracteres"),memories:st().min(1,"Memórias são obrigatórias").max(1e3,"Memórias devem ter no máximo 1000 caracteres")}),$h=tt({lyrics:st({required_error:"A letra da música é obrigatória."}).min(10,"A letra deve ter pelo menos 10 caracteres.").max(2e3,"A letra deve ter no máximo 2000 caracteres.")}),zh=tt({genre:st({required_error:"Por favor, selecione um gênero musical."}).min(1,"O gênero musical é obrigatório."),emotion:st({required_error:"Por favor, selecione uma emoção."}).min(1,"A emoção é obrigatória."),vocalPreference:st({required_error:"Por favor, selecione uma preferência vocal."}).min(1,"A preferência vocal é obrigatória.")}),Gh=Bh.merge($h).merge(zh);const Hh=["Briefing","Letra","Estilo","Prévia"],qh=[{category:"Amor",items:["Canção de amor","Aniversário de namoro","Aniversário de casamento","Proposta","Noivado","Casamento","Desculpa","Só porque…"]},{category:"Família",items:["Aniversário","Dia dos Pais","Dia das Mães","Nascimento de criança","Chá de bebê","Batizado","Natal"]},{category:"Amizade",items:["Melhores amigos","Agradecimento","Despedida","Saudade"]},{category:"Conquistas",items:["Graduação","Formatura","Reconhecimento"]},{category:"Memória",items:["Memorial","Homenagem a quem partiu"]}],Wh=[{category:"Família",items:["Pai ou Mãe","Filho(a)","Irmão ou Irmã","Avô ou Avó","Neto(a)","Tio ou Tia","Sobrinho(a)","Padrasto ou Madrasta","Enteado(a)"]},{category:"Amor",items:["Namorado(a)","Esposo(a) / Esposa","Noivo(a)","Companheiro(a)"]},{category:"Amigos & Outros",items:["Amigo(a)","Melhores amigos","Colega de trabalho","Professor(a) / Mentor(a)","Chefe / Equipe","Cliente especial"]}],Xh=["Feliz e animado","Emocional e profundo","Romântico e terno","Divertido e brincalhão","Nostálgico e reflexivo","Inspirador e motivador","Cómico e peculiar"],Yh=["Feminino","Masculino","Ambos","Indiferente"];function Jh(){const e=ac(),{formData:t,currentStep:s,isLoading:o,isPreviewLoading:a,error:n,updateFormData:l,setCurrentStep:c,nextStep:m,prevStep:d,generateLyrics:u,generateMusic:h,regenerateLyrics:p,resetForm:f,reset:v,setError:b,clearError:g,currentTaskId:x,isPolling:N,musicGenerationStatus:w,completedClips:y,totalExpected:_,isValidationPopupVisible:E,startNewCreationFlow:D,generatedLyrics:S}=e,j=Xr(),T=Hr(),{isCreationFlowBlocked:P}=rc(),[C,k]=r.useState({}),[U,V]=r.useState(!1),[A,M]=r.useState(""),[L,I]=r.useState("idle"),[O,R]=r.useState(""),[F,B]=r.useState(""),$=i.useRef(null),[z,G]=r.useState(()=>{const t=qh.find(t=>t.items.includes(e.formData.occasion||""));return t?t.category:qh[0].category}),[H,q]=r.useState(()=>{const t=e.formData.relationship||"",s=Wh.find(e=>e.items.includes(t));return s?s.category:Wh[0].category});r.useEffect(()=>{window.scrollTo(0,0)},[]),r.useEffect(()=>{const e=new URLSearchParams(T.search).get("para");e&&e.trim()&&!t.recipientName&&l({recipientName:e.trim()})},[T.search,t.recipientName,l]),r.useEffect(()=>{n&&(Dt.error(n,{description:"Tente novamente em alguns instantes."}),g())},[n,g]),r.useEffect(()=>{},[s]),r.useEffect(()=>{1===s&&t.lyrics&&M(t.lyrics)},[s,t.lyrics]),r.useEffect(()=>()=>{$.current&&(window.clearTimeout($.current),$.current=null)},[]);const W=()=>{$.current&&(window.clearTimeout($.current),$.current=null)},X=e=>{I("saving"),W(),$.current=window.setTimeout(()=>{l({lyrics:e}),I("saved"),window.setTimeout(()=>I("idle"),1500)},600)},Y=()=>{V(e=>{const s=!e;return s?(W(),M(t.lyrics||""),I("idle")):(W(),A!==t.lyrics?(l({lyrics:A}),I("saved"),window.setTimeout(()=>I("idle"),1500)):I("idle")),s})},J=(e,t)=>{const s=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");const r=(t||"").trim();if(!r)return s;const o=r.split(/\s+/).filter(e=>e.length>0).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(0===o.length)return s;const i=new RegExp(`(${o.join("|")})`,"gi");return s.replace(i,"<mark>$1</mark>")},K=(e,t)=>{if(l({[e]:t}),C[e]){const t={...C};delete t[e],k(t)}};return lt.jsxDEV("div",{className:"min-h-screen flex flex-col",children:[lt.jsxDEV("main",{className:"flex-1 pt-25 pb-12",children:lt.jsxDEV("div",{className:"container mx-auto px-4",children:lt.jsxDEV("div",{className:"max-w-2xl mx-auto",children:[lt.jsxDEV("div",{className:"text-center mb-8",children:[lt.jsxDEV(Um,{children:["Dê ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 to-purple-600 bg-clip-text text-transparent",children:"vida"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1005,columnNumber:32},this)," à sua ",lt.jsxDEV("span",{className:"bg-gradient-to-r from-yellow-400 to-purple-600 bg-clip-text text-transparent",children:"canção"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1005,columnNumber:145},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1005,columnNumber:15},this),lt.jsxDEV(km,{children:"Compartilhe sentimentos, escolha o estilo e receba sua música final em minutos."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1006,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1004,columnNumber:13},this),lt.jsxDEV(Du,{steps:Hh,currentStep:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1011,columnNumber:13},this),lt.jsxDEV(Pm,{className:"h-32 -mt-4",maxParticles:60,reducedMotion:!1,disableWaves:!0},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1013,columnNumber:13},this),lt.jsxDEV("div",{className:"space-y-6",children:[((s,r,o)=>{switch(s){case 0:return lt.jsxDEV(Ah,{title:"Conte sua história",children:lt.jsxDEV("div",{className:"space-y-8",children:[n&&lt.jsxDEV("div",{className:"bg-accent-coral/10 border border-accent-coral/20 rounded-lg p-4",children:lt.jsxDEV("p",{className:"text-accent-coral text-sm font-medium",children:n},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:392,columnNumber:19},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:391,columnNumber:17},this),lt.jsxDEV(Rh,{title:"A Ocasião",children:lt.jsxDEV("div",{className:"space-y-3",children:[lt.jsxDEV(fc,{className:"text-white/90 font-medium drop-shadow-sm",children:"Qual a ocasião especial? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:399,columnNumber:19},this),lt.jsxDEV(Ih,{children:qh.map(({category:e})=>{const t=z===e;return lt.jsxDEV(Oh,{type:"button",active:t,onClick:()=>G(e),"aria-pressed":t,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:405,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:401,columnNumber:19},this),lt.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 mt-2",children:qh.find(e=>e.category===z).items.map(e=>{const s=t.occasion===e;return lt.jsxDEV(Oh,{type:"button",active:s,onClick:()=>K("occasion",e),className:"text-left",children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:425,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:419,columnNumber:19},this),C.occasion&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.occasion},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:439,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:398,columnNumber:17},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:397,columnNumber:15},this),lt.jsxDEV(Rh,{title:"Sobre a(s) Pessoa(s)",children:lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV(Mh,{id:"recipientName",label:"Qual o nome da pessoa para quem está a criar esta música? *",placeholder:"Ex: Maria",value:t.recipientName,onChange:e=>K("recipientName",e.target.value),error:C.recipientName},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:447,columnNumber:19},this),C.recipientName&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.recipientName},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:456,columnNumber:21},this),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV(fc,{className:"text-white/90 font-medium drop-shadow-sm",children:"Qual a vossa relação? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:460,columnNumber:21},this),lt.jsxDEV(Ih,{children:Wh.map(({category:e})=>{const t=H===e;return lt.jsxDEV(Oh,{type:"button",active:t,onClick:()=>q(e),"aria-pressed":t,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:466,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:462,columnNumber:21},this),lt.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 mt-2",children:Wh.find(e=>e.category===H).items.map(e=>{const s=t.relationship===e;return lt.jsxDEV(Oh,{type:"button",active:s,onClick:()=>K("relationship",e),className:"text-left",children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:486,columnNumber:29},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:480,columnNumber:21},this),C.relationship&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.relationship},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:500,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:459,columnNumber:19},this),lt.jsxDEV(Mh,{id:"senderName",label:"Qual o seu nome?",placeholder:"Ex: João",value:t.senderName,onChange:e=>K("senderName",e.target.value)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:504,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:446,columnNumber:17},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:445,columnNumber:15},this),lt.jsxDEV(Rh,{title:"Detalhes e Personalidade",children:lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV(Lh,{id:"hobbies",label:"Fale-nos sobre os seus hobbies e interesses! *",placeholder:"Ex: Adora cozinhar, fazer caminhadas na natureza, ler livros de ficção...",value:t.hobbies,onChange:e=>K("hobbies",e.target.value),rows:3},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:517,columnNumber:19},this),C.hobbies&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.hobbies},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:526,columnNumber:21},this),lt.jsxDEV(Lh,{id:"qualities",label:"Quais as qualidades que você mais admira nessa pessoa? *",placeholder:"Ex: É muito generosa, sempre disposta a ajudar, tem um sorriso contagiante...",value:t.qualities,onChange:e=>K("qualities",e.target.value),rows:3},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:529,columnNumber:19},this),C.qualities&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.qualities},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:538,columnNumber:21},this),lt.jsxDEV(Lh,{id:"uniqueTraits",label:"O que a torna única ou especial? Tem algum hábito engraçado ou interessante? *",placeholder:"Ex: Sempre canta no chuveiro, coleciona postais de viagens, faz as melhores panquecas...",value:t.uniqueTraits,onChange:e=>K("uniqueTraits",e.target.value),rows:3},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:541,columnNumber:19},this),C.uniqueTraits&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.uniqueTraits},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:550,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:516,columnNumber:17},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:515,columnNumber:15},this),lt.jsxDEV(Rh,{title:"Memórias e Histórias",children:[lt.jsxDEV(Lh,{id:"memories",label:"Partilhe as vossas histórias ou memórias favoritas que gostaria de incluir na música. *",placeholder:"Uma é suficiente. Mais é melhor.",value:t.memories,onChange:e=>K("memories",e.target.value),rows:4},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:557,columnNumber:17},this),C.memories&&lt.jsxDEV("p",{className:"text-sm text-red-300/90 drop-shadow-sm",children:C.memories},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:566,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:556,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:388,columnNumber:13},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:387,columnNumber:11},this);case 1:return lt.jsxDEV(Ah,{title:"Letra da sua música",children:lt.jsxDEV("div",{className:"space-y-6",children:[!t.lyrics&&!r&&lt.jsxDEV("div",{className:"text-center space-y-4",children:[lt.jsxDEV("p",{className:"text-muted-foreground",children:"Vamos gerar a letra da sua música baseada na história que você contou."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:579,columnNumber:19},this),lt.jsxDEV(_h,{onClick:u,isLoading:r,loadingText:"Gerando letra...",disabled:r||!t.occasion||!t.recipientName||!t.relationship,children:"Gerar Letra da Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:582,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:578,columnNumber:17},this),r&&lt.jsxDEV("div",{className:"text-center space-y-4 py-8",children:[lt.jsxDEV("div",{className:"pulse-music",children:lt.jsxDEV(_e,{className:"w-12 h-12 text-primary mx-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:596,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:595,columnNumber:19},this),lt.jsxDEV("div",{children:[lt.jsxDEV("p",{className:"font-medium",children:"Criando sua letra personalizada..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:599,columnNumber:21},this),lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Nossa IA está analisando sua história e criando versos únicos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:600,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:598,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:594,columnNumber:17},this),t.lyrics&&!r&&lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV(Am,{variant:"primary",className:"p-4 sm:p-6",children:[lt.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[lt.jsxDEV("h3",{className:"font-heading font-semibold flex items-center gap-2",children:[lt.jsxDEV(_e,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:612,columnNumber:25},this),"Sua Letra Personalizada"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:611,columnNumber:23},this),lt.jsxDEV(_h,{onClick:Y,className:"text-sm px-3 py-1.5 h-auto","aria-label":U?"Fechar edição":"Editar letra","aria-pressed":U,children:[U?lt.jsxDEV(ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:621,columnNumber:44},this):lt.jsxDEV(Xe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:621,columnNumber:72},this),U?"Fechar":"Editar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:615,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:610,columnNumber:21},this),U?lt.jsxDEV("div",{className:"space-y-3",children:[lt.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 bg-white/60 rounded-md p-3",children:[lt.jsxDEV("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-2",children:lt.jsxDEV("div",{className:"sm:col-span-3",children:[lt.jsxDEV("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[lt.jsxDEV(ze,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:634,columnNumber:116},this)," Localizar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:634,columnNumber:31},this),lt.jsxDEV("div",{className:"relative",children:[lt.jsxDEV("input",{value:O,onChange:e=>R(e.target.value),placeholder:"Texto a localizar",className:"w-full pr-9 pl-3 py-2 rounded border"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:636,columnNumber:33},this),O&&lt.jsxDEV("button",{type:"button","aria-label":"Limpar busca",onClick:()=>R(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-black/5",children:lt.jsxDEV(ee,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:649,columnNumber:37},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:643,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:635,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:633,columnNumber:29},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:632,columnNumber:27},this),lt.jsxDEV("div",{className:"text-xs text-muted-foreground flex items-center gap-3",children:[lt.jsxDEV("button",{type:"button",className:"px-2.5 py-1 rounded-md bg-white hover:bg-white/90 border text-xs font-medium",onClick:()=>{const e=S||t.lyrics||"";M(e),X(e)},children:[lt.jsxDEV(Ye,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:665,columnNumber:31},this),"Restaurar original"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:656,columnNumber:29},this),"saving"===L&&lt.jsxDEV(Ge,{className:"w-3 h-3 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:668,columnNumber:55},this),"saved"===L&&lt.jsxDEV(Te,{className:"w-3 h-3 text-green-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:669,columnNumber:54},this),"saving"===L?"Salvando…":"saved"===L?"Alterações salvas":"Auto‑salvamento ativado"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:655,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:631,columnNumber:25},this),lt.jsxDEV(Pu,{value:A,onChange:e=>{M(e),X(e)},rows:14,highlightQuery:O,className:"w-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:674,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:629,columnNumber:23},this):lt.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm leading-relaxed font-medium",dangerouslySetInnerHTML:{__html:J(t.lyrics||"",O)}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:627,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:609,columnNumber:19},this),lt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3",children:lt.jsxDEV(_h,{onClick:p,className:"flex-1",isLoading:r,loadingText:"Gerando nova letra...",children:[lt.jsxDEV(Ye,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:692,columnNumber:23},this),"Gerar Nova Letra"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:686,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:685,columnNumber:19},this),lt.jsxDEV("p",{className:"text-xs text-muted-foreground text-center",children:"💡 Dica: Você pode gerar quantas versões quiser até ficar satisfeito"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:698,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:608,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:576,columnNumber:13},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:575,columnNumber:11},this);case 2:return lt.jsxDEV("div",{className:"space-y-6",children:[lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("h2",{className:"text-2xl font-bold font-heading mb-2",children:"Escolha o estilo musical"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:711,columnNumber:15},this),lt.jsxDEV("p",{className:"text-muted-foreground",children:"Selecione o gênero musical e as preferências para sua música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:712,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:710,columnNumber:13},this),lt.jsxDEV("div",{className:"space-y-6",children:[lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV(fc,{className:"text-base font-semibold",children:"Estilo Musical *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:719,columnNumber:17},this),lt.jsxDEV(yh,{onGenreSelect:(e,t)=>{const s=wh.find(t=>t.id===e);if(s)if(t){const e=s.subGenres.find(e=>e.id===t);e&&K("genre",`${s.name} - ${e.name}`)}else K("genre",s.name)},className:"w-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:720,columnNumber:17},this),C.genre&&lt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:738,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:718,columnNumber:15},this),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV(fc,{htmlFor:"emotion",className:"text-base font-semibold",children:"Que emoção você quer transmitir? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:743,columnNumber:17},this),lt.jsxDEV(Eh,{value:t.emotion,onValueChange:e=>K("emotion",e),children:[lt.jsxDEV(Sh,{className:"h-12",children:lt.jsxDEV(Dh,{placeholder:"Selecione a emoção"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:746,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:745,columnNumber:19},this),lt.jsxDEV(Ph,{children:Xh.map(e=>lt.jsxDEV(Ch,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:750,columnNumber:23},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:748,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:744,columnNumber:17},this),C.emotion&&lt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.emotion},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:757,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:742,columnNumber:15},this),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV(fc,{htmlFor:"vocalPreference",className:"text-base font-semibold",children:"Prefere vocais masculinos ou femininos? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:762,columnNumber:17},this),lt.jsxDEV(Eh,{value:t.vocalPreference,onValueChange:e=>K("vocalPreference",e),children:[lt.jsxDEV(Sh,{className:"h-12",children:lt.jsxDEV(Dh,{placeholder:"Selecione a preferência vocal"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:765,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:764,columnNumber:19},this),lt.jsxDEV(Ph,{children:Yh.map(e=>lt.jsxDEV(Ch,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:769,columnNumber:23},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:767,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:763,columnNumber:17},this),C.vocalPreference&&lt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.vocalPreference},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:776,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:761,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:717,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:709,columnNumber:11},this);case 3:return lt.jsxDEV("div",{className:"space-y-6",children:[lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("h2",{className:"text-2xl font-bold font-heading mb-2",children:"Ouça a sua criação"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:787,columnNumber:15},this),lt.jsxDEV("p",{className:"text-muted-foreground",children:"Sua música está pronta! Ouça uma prévia e escolha o que fazer a seguir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:788,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:786,columnNumber:13},this),!a&&!N||e.audioClips&&0!==e.audioClips.length?lt.jsxDEV(Cu,{children:[lt.jsxDEV(ku,{children:[lt.jsxDEV(Uu,{className:"flex items-center gap-2",children:[lt.jsxDEV(_e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:861,columnNumber:21},this),"Música para ",t.recipientName||"Pessoa Especial"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:860,columnNumber:19},this),lt.jsxDEV("div",{className:"space-y-2",children:[lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Estilo: ",t.genre?t.genre.charAt(0).toUpperCase()+t.genre.slice(1):"Pop"," • Emoção: ",t.emotion||"Feliz e animado"," • Vocal: ",t.vocalPreference||"Feminino"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:865,columnNumber:21},this),(N||a)&&_>0&&lt.jsxDEV("div",{className:"space-y-1",children:[lt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[lt.jsxDEV("span",{children:"Progresso da geração"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:874,columnNumber:27},this),lt.jsxDEV("span",{children:[y||0,"/",_]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:875,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:873,columnNumber:25},this),lt.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:lt.jsxDEV("div",{className:"bg-primary h-2 rounded-full transition-all duration-500 ease-out",style:{width:(_>0?(y||0)/_*100:0)+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:878,columnNumber:27},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:877,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:872,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:864,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:859,columnNumber:17},this),lt.jsxDEV(Vu,{className:"space-y-6",children:[lt.jsxDEV("div",{className:"space-y-4",children:[o&&o.length>0&&lt.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border",children:[lt.jsxDEV("div",{className:"mb-4",children:[lt.jsxDEV("h3",{className:"font-semibold font-heading text-lg flex items-center gap-2 mb-2",children:["Suas Músicas Personalizadas",lt.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["✓ ",o.filter(e=>e.audio_url).length," Pronta",1!==o.filter(e=>e.audio_url).length?"s":""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:896,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:894,columnNumber:27},this),lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Use os controles abaixo para ouvir e baixar suas opções"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:900,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:893,columnNumber:25},this),lt.jsxDEV(ju,{clips:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:904,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:892,columnNumber:23},this),N&&_>0&&Array.from({length:Math.max(0,_-((null==o?void 0:o.length)||0))}).map((e,t)=>{const s=((null==o?void 0:o.length)||0)+t+1;return lt.jsxDEV("div",{className:"bg-gradient-to-r from-muted/50 to-muted/30 p-6 rounded-lg border border-dashed",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[lt.jsxDEV("div",{children:[lt.jsxDEV("h3",{className:"font-semibold font-heading text-lg flex items-center gap-2",children:["Opção ",s,lt.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[lt.jsxDEV(Ge,{className:"w-3 h-3 mr-1 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:918,columnNumber:35},this),"Gerando..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:917,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:915,columnNumber:31},this),lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Aguarde, sua música está sendo criada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:922,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:914,columnNumber:29},this),lt.jsxDEV("div",{className:"text-right",children:[lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Duração"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:925,columnNumber:31},this),lt.jsxDEV("p",{className:"font-mono text-lg text-muted-foreground",children:"--:--"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:926,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:924,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:913,columnNumber:27},this),lt.jsxDEV("div",{className:"flex items-center gap-4 mb-4",children:[lt.jsxDEV("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:lt.jsxDEV(_e,{className:"w-8 h-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:933,columnNumber:31},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:932,columnNumber:29},this),lt.jsxDEV("div",{className:"flex-1 h-12 bg-muted rounded-md flex items-center justify-center",children:lt.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Player será exibido quando a música estiver pronta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:937,columnNumber:31},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:936,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:930,columnNumber:27},this),lt.jsxDEV("div",{className:"flex justify-center",children:lt.jsxDEV(Xo,{size:"sm",variant:"outline",className:"w-full",disabled:!0,children:[lt.jsxDEV(Se,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:944,columnNumber:31},this),"Aguardando geração..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:943,columnNumber:29},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:942,columnNumber:27},this)]},`placeholder-${s}`,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:912,columnNumber:25},this)}),(!o||0===o.length)&&!N&&lt.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border",children:lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("h3",{className:"font-heading font-semibold text-lg mb-2",children:"Nenhuma prévia disponível"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:956,columnNumber:27},this),lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Tente gerar a música novamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:957,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:955,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:954,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:889,columnNumber:19},this),lt.jsxDEV("div",{className:"space-y-3",children:lt.jsxDEV("div",{className:"grid md:grid-cols-2 gap-3",children:[lt.jsxDEV(Xo,{variant:"outline",size:"lg",onClick:()=>c(2),className:"w-full",children:[lt.jsxDEV(qe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:972,columnNumber:25},this),"Alterar Estilo"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:966,columnNumber:23},this),lt.jsxDEV(Xo,{variant:"link",size:"lg",onClick:()=>c(0),className:"w-full",children:[lt.jsxDEV(Xe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:981,columnNumber:25},this),"Editar Briefing"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:975,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:965,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:964,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:887,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:858,columnNumber:15},this):lt.jsxDEV("div",{className:"text-center space-y-6 py-12",children:[x?lt.jsxDEV(Fh,{className:"mb-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:802,columnNumber:19},this):lt.jsxDEV("div",{className:"flex flex-col items-center space-y-4",children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:798,columnNumber:21},this),lt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Conectando com a Suno API..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:799,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:797,columnNumber:19},this),lt.jsxDEV("div",{children:[lt.jsxDEV("h3",{className:"text-xl font-bold font-heading mb-2",children:x?"processing"===w?"Criando sua música...":"Processando...":"Iniciando geração..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:806,columnNumber:19},this),lt.jsxDEV("p",{className:"text-muted-foreground",children:x?_>0?`Gerando ${_} versões da sua música personalizada.`:"Estamos finalizando os últimos detalhes da sua música personalizada.":"Conectando com a API da Suno e iniciando o processo de geração..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:810,columnNumber:19},this),_>0&&lt.jsxDEV("div",{className:"mt-4",children:[lt.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:lt.jsxDEV("span",{children:["Progresso: ",y,"/",_," músicas prontas"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:822,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:821,columnNumber:23},this),lt.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:lt.jsxDEV("div",{className:"bg-accent-turquoise h-2 rounded-full transition-all duration-500",style:{width:(_>0?y/_*100:0)+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:825,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:824,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:820,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:805,columnNumber:17},this),lt.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-6 space-y-4",children:[lt.jsxDEV("h4",{className:"font-semibold font-heading text-lg",children:"Resumo da sua música:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:834,columnNumber:19},this),lt.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[lt.jsxDEV("div",{children:[lt.jsxDEV("span",{className:"font-medium",children:"Ocasião:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:837,columnNumber:23},this)," ",t.occasion]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:836,columnNumber:21},this),lt.jsxDEV("div",{children:[lt.jsxDEV("span",{className:"font-medium",children:"Para:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:840,columnNumber:23},this)," ",t.recipientName]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:839,columnNumber:21},this),lt.jsxDEV("div",{children:[lt.jsxDEV("span",{className:"font-medium",children:"Relação:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:843,columnNumber:23},this)," ",t.relationship]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:842,columnNumber:21},this),lt.jsxDEV("div",{children:[lt.jsxDEV("span",{className:"font-medium",children:"Gênero:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:846,columnNumber:23},this)," ",t.genre]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:845,columnNumber:21},this),lt.jsxDEV("div",{children:[lt.jsxDEV("span",{className:"font-medium",children:"Emoção:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:849,columnNumber:23},this)," ",t.emotion]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:848,columnNumber:21},this),lt.jsxDEV("div",{children:[lt.jsxDEV("span",{className:"font-medium",children:"Vocal:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:852,columnNumber:23},this)," ",t.vocalPreference]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:851,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:835,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:833,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:794,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:785,columnNumber:11},this);default:return null}})(s,o,e.audioClips||[]),lt.jsxDEV("div",{className:"flex "+(0===s?"justify-end":"justify-between"),children:[s>0&&lt.jsxDEV(Uh,{onClick:()=>{k({}),b(null),d()},children:[lt.jsxDEV(qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1024,columnNumber:21},this),"Anterior"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1021,columnNumber:19},this),s<Hh.length-1?1===s?t.lyrics&&!o?lt.jsxDEV(kh,{onClick:()=>{A&&A!==t.lyrics&&l({lyrics:A}),m()},disabled:U,children:[lt.jsxDEV(We,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1043,columnNumber:25},this),"Aprovar e Continuar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1033,columnNumber:23},this):lt.jsxDEV("div",{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1047,columnNumber:23},this):lt.jsxDEV(kh,{onClick:async()=>{const{showPaymentPopup:e}=rc.getState();if(P)return void e();const r=((e,t)=>{switch(e){case 0:return Bh.safeParse(t);case 1:return $h.safeParse(t);case 2:return zh.safeParse(t);case 3:return Gh.safeParse(t);default:return{success:!1,error:{issues:[{message:`Passo inválido: ${e}`}]}}}})(s,t);if(!r.success){const e=function(e){const t={};return e.errors.forEach(e=>{e.path&&e.path.length>0&&(t[e.path[0]]=e.message)}),t}(r.error);return void k(e)}if(k({}),0===s)return m(),window.scrollTo({top:0,behavior:"smooth"}),void setTimeout(()=>{u()},100);2===s?(m(),await h()):m()},children:["Próximo",lt.jsxDEV(We,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1052,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1050,columnNumber:21},this):lt.jsxDEV(Xo,{variant:"secondary",onClick:()=>{const e=ac.getState(),{token:t}=tc.getState();e.startNewCreationFlow(j,t)},children:"Criar Nova Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1056,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1019,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1015,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1003,columnNumber:11},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1002,columnNumber:9},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1001,columnNumber:7},this),E&&lt.jsxDEV(Tu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1074,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1e3,columnNumber:5},this)}const Kh=({song:e,isPlaying:t=!1,isLoading:s=!1,onPlay:r,onPause:o,className:i="",onDownloadVersion:a,playingVersionLabel:n})=>{const{currentTime:l,duration:c}=yc(),m=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return lt.jsxDEV("div",{className:`relative overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ${i}`,children:[lt.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-60",style:{backgroundImage:e.imageUrl?`url(${e.imageUrl})`:"linear-gradient(135deg, #4D2699 0%, #231733 50%, #160D27 100%)"},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:55,columnNumber:7},void 0),lt.jsxDEV("div",{className:"relative p-4 bg-black/60 backdrop-blur-sm",children:[lt.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[lt.jsxDEV("div",{className:"flex-1 min-w-0",children:[lt.jsxDEV("h3",{className:"text-lg font-semibold text-white truncate mb-1",children:e.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:66,columnNumber:11},void 0),e.artist&&lt.jsxDEV("div",{className:"flex items-center text-sm text-gray-200 mb-2",children:[lt.jsxDEV(Je,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:71,columnNumber:15},void 0),lt.jsxDEV("span",{className:"truncate",children:e.artist},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:70,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:65,columnNumber:9},void 0),lt.jsxDEV("button",{onClick:()=>{s||(t?null==o||o():null==r||r(e,e.audioUrlOption1||e.audioUrl,"A"))},disabled:s,className:"flex-shrink-0 ml-3 w-12 h-12 bg-yellow-500 hover:bg-yellow-600 text-black rounded-full flex items-center justify-center transition-colors duration-200","aria-label":s?"Carregando música":t?"Pausar música":"Reproduzir música",children:s?lt.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:84,columnNumber:13},void 0):t?lt.jsxDEV(fe,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:86,columnNumber:13},void 0):lt.jsxDEV(ve,{className:"w-5 h-5 ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:88,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:77,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:64,columnNumber:7},void 0),lt.jsxDEV("div",{className:"space-y-2",children:[e.genre&&lt.jsxDEV("div",{className:"flex items-center text-sm text-gray-300",children:[lt.jsxDEV(_e,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:97,columnNumber:13},void 0),lt.jsxDEV("span",{children:e.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:98,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:96,columnNumber:11},void 0),e.duration&&lt.jsxDEV("div",{className:"flex items-center text-sm text-gray-300",children:[lt.jsxDEV(je,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:104,columnNumber:13},void 0),lt.jsxDEV("span",{children:m(e.duration)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:105,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:103,columnNumber:11},void 0),(e.audioUrlOption1||e.audioUrlOption2)&&lt.jsxDEV("div",{className:"mt-2 space-y-2",children:[e.audioUrlOption1&&lt.jsxDEV("div",{className:"flex items-center justify-between",children:[lt.jsxDEV("div",{className:"text-sm text-gray-200 font-medium flex items-center gap-2",children:["Versão A",t&&"A"===n&&lt.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:"Tocando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:117,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:114,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("button",{onClick:()=>null==r?void 0:r(e,e.audioUrlOption1,"A"),disabled:s,className:`px-2 py-1 text-xs rounded-md ${t&&"A"===n?"bg-purple-700 text-white":"bg-purple-600 text-white hover:bg-purple-700"} ${s?"opacity-70 cursor-not-allowed":""}`,"aria-label":"Reproduzir versão A",children:[lt.jsxDEV(ve,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:127,columnNumber:21},void 0)," Reproduzir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:121,columnNumber:19},void 0),a&&lt.jsxDEV("button",{onClick:()=>a("A",e.audioUrlOption1),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":"Baixar versão A",children:[lt.jsxDEV(Se,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:135,columnNumber:23},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:120,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:113,columnNumber:15},void 0),e.audioUrlOption2&&lt.jsxDEV("div",{className:"flex items-center justify-between",children:[lt.jsxDEV("div",{className:"text-sm text-gray-200 font-medium flex items-center gap-2",children:["Versão B",t&&"B"===n&&lt.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:"Tocando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:146,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:143,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("button",{onClick:()=>null==r?void 0:r(e,e.audioUrlOption2,"B"),disabled:s,className:`px-2 py-1 text-xs rounded-md ${t&&"B"===n?"bg-purple-700 text-white":"bg-purple-600 text-white hover:bg-purple-700"} ${s?"opacity-70 cursor-not-allowed":""}`,"aria-label":"Reproduzir versão B",children:[lt.jsxDEV(ve,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:156,columnNumber:21},void 0)," Reproduzir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:150,columnNumber:19},void 0),a&&lt.jsxDEV("button",{onClick:()=>a("B",e.audioUrlOption2),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":"Baixar versão B",children:[lt.jsxDEV(Se,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:164,columnNumber:23},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:159,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:149,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:111,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:94,columnNumber:7},void 0),lt.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-100",children:lt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-300",children:[lt.jsxDEV("span",{children:["Criada em ",(d=e.createdAt,new Date(d).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:177,columnNumber:11},void 0),e.status&&lt.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===e.status?"bg-green-500/20 text-green-200":"processing"===e.status?"bg-yellow-500/20 text-yellow-200":"bg-red-500/20 text-red-200"),children:"completed"===e.status?"Concluída":"processing"===e.status?"Processando":"failed"===e.status?"Falhou":e.status},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:179,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:176,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:175,columnNumber:7},void 0),t&&lt.jsxDEV("div",{className:"mt-3",children:[lt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-blue-200 mb-1",children:[lt.jsxDEV("span",{className:"font-medium",children:["Reproduzindo",n?` · Versão ${n}`:""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:198,columnNumber:13},void 0),lt.jsxDEV("span",{children:[m(Math.floor(l||0))," / ",m(Math.floor(c||0))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:197,columnNumber:11},void 0),lt.jsxDEV("div",{className:"w-full h-2 bg-blue-900/30 rounded-full overflow-hidden",children:lt.jsxDEV("div",{className:"h-full bg-blue-600 transition-[width] duration-200",style:{width:`${Math.min(100,Math.max(0,l&&c?l/Math.max(1,c)*100:0))}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:204,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:203,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:196,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:62,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:54,columnNumber:5},void 0);var d};var Qh="AlertDialog",[Zh,ep]=m(Qh,[$]),tp=$(),sp=e=>{const{__scopeAlertDialog:t,...s}=e,r=tp(t);return d.jsx(J,{...r,...s,modal:!0})};sp.displayName=Qh;r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,o=tp(s);return d.jsx(K,{...o,...r,ref:t})}).displayName="AlertDialogTrigger";var rp=e=>{const{__scopeAlertDialog:t,...s}=e,r=tp(t);return d.jsx(G,{...r,...s})};rp.displayName="AlertDialogPortal";var op=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,o=tp(s);return d.jsx(z,{...o,...r,ref:t})});op.displayName="AlertDialogOverlay";var ip="AlertDialogContent",[ap,np]=Zh(ip),lp=v("AlertDialogContent"),cp=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:o,...i}=e,a=tp(s),n=r.useRef(null),l=g(t,n),c=r.useRef(null);return d.jsx(H,{contentName:ip,titleName:mp,docsSlug:"alert-dialog",children:d.jsx(ap,{scope:s,cancelRef:c,children:d.jsxs(q,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:w(i.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=c.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[d.jsx(lp,{children:o}),d.jsx(bp,{contentRef:n})]})})})});cp.displayName=ip;var mp="AlertDialogTitle",dp=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,o=tp(s);return d.jsx(W,{...o,...r,ref:t})});dp.displayName=mp;var up="AlertDialogDescription",hp=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,o=tp(s);return d.jsx(X,{...o,...r,ref:t})});hp.displayName=up;var pp=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,o=tp(s);return d.jsx(Y,{...o,...r,ref:t})});pp.displayName="AlertDialogAction";var fp="AlertDialogCancel",vp=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...r}=e,{cancelRef:o}=np(fp,s),i=tp(s),a=g(t,o);return d.jsx(Y,{...i,...r,ref:a})});vp.displayName=fp;var bp=({contentRef:e})=>{const t=`\`${ip}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${ip}\` by passing a \`${up}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ip}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))},[t,e]),null},gp=op,xp=cp,Np=pp,wp=vp,yp=dp,_p=hp;const Ep=sp,Dp=rp,Sp=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(gp,{className:Qs("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));Sp.displayName=gp.displayName;const jp=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(Dp,{children:[lt.jsxDEV(Sp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),lt.jsxDEV(xp,{ref:s,className:Qs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));jp.displayName=xp.displayName;const Tp=({className:e,...t})=>lt.jsxDEV("div",{className:Qs("flex flex-col space-y-2 text-center sm:text-left",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);Tp.displayName="AlertDialogHeader";const Pp=({className:e,...t})=>lt.jsxDEV("div",{className:Qs("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);Pp.displayName="AlertDialogFooter";const Cp=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(yp,{ref:s,className:Qs("text-lg font-semibold",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));Cp.displayName=yp.displayName;const kp=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(_p,{ref:s,className:Qs("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));kp.displayName=_p.displayName;const Up=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(Np,{ref:s,className:Qs(Wo(),e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));Up.displayName=Np.displayName;const Vp=r.forwardRef(({className:e,...t},s)=>lt.jsxDEV(wp,{ref:s,className:Qs(Wo({variant:"outline"}),"mt-2 sm:mt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));Vp.displayName=wp.displayName;const Ap=()=>{const e=Xr(),{reset:t,startNewCreationFlow:s}=ac(),[o,i]=r.useState([]),[a,n]=r.useState(!0),[l,c]=r.useState(null),[m,d]=r.useState(null),{currentId:u,isPlaying:h,play:p,pause:f,currentVersionLabel:v}=yc(),b=r.useRef(new Map),[g,x]=r.useState(""),[N,w]=r.useState("recent"),[y,_]=r.useState("all"),[E,D]=r.useState(!1),[S,j]=r.useState(null),T=async()=>{const{token:t}=tc.getState();await s(e,t)};r.useEffect(()=>{(async()=>{var e;try{n(!0),c(null);const t=await ni(),s=((null==(e=null==t?void 0:t.data)?void 0:e.songs)||(null==t?void 0:t.songs)||t||[]).map(e=>{const t=e.audioUrlOption1||e.audio_url_option1||e.audioUrl||e.audio_url||"",s=e.audioUrlOption2||e.audio_url_option2||"";return{id:e.id,title:e.title||"Sem título",lyrics:e.lyrics||void 0,audioUrlOption1:t||void 0,audioUrlOption2:s||void 0,audioUrl:t||s||void 0,imageUrl:e.imageUrl||e.image_url||void 0,createdAt:"string"==typeof e.createdAt?e.createdAt:e.created_at||(new Date).toISOString(),userId:e.userId||e.user_id,guestId:e.guestId||e.guest_id,status:e.status||e.generationStatus||e.generation_status||"completed",sunoTaskId:e.sunoTaskId||e.suno_task_id||e.taskId||e.task_id||null}});s.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i(s)}catch(t){c("Erro ao carregar suas músicas. Tente novamente.")}finally{n(!1)}})()},[]);const P=async e=>{const t=b.current.get(e.id);if(t)return t;const s=e.audioUrlOption1||e.audioUrl||null,r=e.audioUrlOption2||null,o=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(o){const t=await cu(o);if(null==t?void 0:t.streamUrl){const o={playbackUrl:t.streamUrl,downloadUrl:t.audioUrl||s||r||null};return b.current.set(e.id,o),o}}if(s||r){const t={playbackUrl:s||r,downloadUrl:s||r||null};return b.current.set(e.id,t),t}return null},C=()=>{f()};return a?lt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-[#4D2699] via-[#231733] to-[#160D27] flex items-center justify-center",children:lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV(Ge,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:235,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-white text-lg",children:"Carregando suas músicas..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:236,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:234,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:233,columnNumber:7},void 0):l?lt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:lt.jsxDEV("div",{className:"text-center",children:lt.jsxDEV("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-6 max-w-md",children:[lt.jsxDEV("p",{className:"text-red-200 mb-4",children:l},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:247,columnNumber:13},void 0),lt.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Tentar Novamente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:246,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:245,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:244,columnNumber:7},void 0):lt.jsxDEV("div",{className:"min-h-screen",children:[lt.jsxDEV("div",{className:"container mx-auto px-4 pb-8 pt-0",children:[lt.jsxDEV("div",{className:"text-center mb-8",children:[lt.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-4 flex items-center justify-center gap-3",children:[lt.jsxDEV(_e,{className:"h-10 w-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:265,columnNumber:13},void 0),"Minhas Músicas"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:264,columnNumber:11},void 0),lt.jsxDEV("div",{className:"flex items-center justify-center gap-4",children:[lt.jsxDEV("p",{className:"text-blue-200 text-lg",children:"Suas criações musicais personalizadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:269,columnNumber:13},void 0),lt.jsxDEV("button",{onClick:T,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Criar Nova Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:268,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:263,columnNumber:9},void 0),o.length>0&&lt.jsxDEV("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[lt.jsxDEV("div",{className:"w-full sm:w-auto sm:flex-1 sm:max-w-md",children:lt.jsxDEV("div",{className:"relative",children:[lt.jsxDEV(ze,{className:"w-4 h-4 text-blue-200 absolute left-3 top-1/2 -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:285,columnNumber:17},void 0),lt.jsxDEV(dc,{placeholder:"Buscar por título...",value:g,onChange:e=>x(e.target.value),className:"pl-9 bg-white/10 border-white/20 text-white placeholder:text-blue-200/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:286,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:284,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:283,columnNumber:13},void 0),lt.jsxDEV("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[lt.jsxDEV(Eh,{value:N,onValueChange:e=>w(e),children:[lt.jsxDEV(Sh,{className:"bg-white/10 border-white/20 text-white w-full sm:w-[140px]",children:lt.jsxDEV(Dh,{placeholder:"Ordenar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:299,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:298,columnNumber:17},void 0),lt.jsxDEV(Ph,{children:[lt.jsxDEV(Ch,{value:"recent",children:"Mais recentes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:302,columnNumber:19},void 0),lt.jsxDEV(Ch,{value:"oldest",children:"Mais antigas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:303,columnNumber:19},void 0),lt.jsxDEV(Ch,{value:"title",children:"Título A-Z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:304,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:301,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:297,columnNumber:15},void 0),lt.jsxDEV(Eh,{value:y,onValueChange:e=>_(e),children:[lt.jsxDEV(Sh,{className:"bg-white/10 border-white/20 text-white w-full sm:w-[120px]",children:lt.jsxDEV(Dh,{placeholder:"Status"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:309,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:308,columnNumber:17},void 0),lt.jsxDEV(Ph,{children:[lt.jsxDEV(Ch,{value:"all",children:"Todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:312,columnNumber:19},void 0),lt.jsxDEV(Ch,{value:"completed",children:"Concluídas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:313,columnNumber:19},void 0),lt.jsxDEV(Ch,{value:"processing",children:"Processando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:314,columnNumber:19},void 0),lt.jsxDEV(Ch,{value:"failed",children:"Falhas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:315,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:311,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:307,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:296,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:281,columnNumber:11},void 0),0===o.length?lt.jsxDEV("div",{className:"text-center",children:lt.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 max-w-md mx-auto",children:[lt.jsxDEV(_e,{className:"h-16 w-16 text-white/50 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:325,columnNumber:15},void 0),lt.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma música encontrada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:326,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-blue-200 mb-4",children:"Você ainda não criou nenhuma música. Que tal começar agora?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:329,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:T,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Criar Primeira Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:324,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:323,columnNumber:11},void 0):lt.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.filter(e=>"all"===y||(e.status||"completed").toLowerCase()===y).filter(e=>e.title.toLowerCase().includes(g.toLowerCase())).sort((e,t)=>"recent"===N?new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():"oldest"===N?new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime():e.title.localeCompare(t.title)).map(e=>lt.jsxDEV("div",{className:"space-y-3",children:[lt.jsxDEV(Kh,{song:{id:e.id,title:e.title,audioUrl:e.audioUrl||"",imageUrl:e.imageUrl,lyrics:e.lyrics,genre:void 0,mood:void 0,userId:e.userId,guestId:e.guestId,createdAt:e.createdAt,audioUrlOption1:e.audioUrlOption1,audioUrlOption2:e.audioUrlOption2,status:e.status,sunoTaskId:e.sunoTaskId},isPlaying:u===e.id&&h,isLoading:m===e.id,onPlay:(t,s,r)=>(async(e,t,s)=>{try{d(e.id);let r=t||null;if(!r){const t=await P(e);r=(null==t?void 0:t.playbackUrl)||null}if(!r)return void Dt.error("Não foi possível carregar o áudio desta música.");p(e.id,r,{title:e.title,versionLabel:s})}catch(r){Dt.error("Falha ao iniciar a reprodução. Tente novamente.")}finally{d(t=>t===e.id?null:t)}})(e,s,r),onPause:C,onDownloadVersion:(t,s)=>(async(e,t,s)=>{let r=t||null;if(!r){const t=await P(e);r=(null==t?void 0:t.downloadUrl)||(null==t?void 0:t.playbackUrl)||null}if(!r)return void Dt.error("Não foi possível localizar o arquivo para download.");const o=`${e.title||"minha-musica"}${s?`_${s}`:""}.mp3`;try{const e=`${ii}/api/download?url=${encodeURIComponent(r)}&filename=${encodeURIComponent(o)}`;await Su(e,o)}catch(Xp){await Su(r,o)}})(e,s,t),playingVersionLabel:u===e.id?v:void 0},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:352,columnNumber:17},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("button",{onClick:()=>{const t=`${window.location.origin}/musica/${e.id}`;navigator.clipboard.writeText(t).then(()=>{}).catch(()=>{})},className:"flex-1 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center justify-center gap-2",children:[lt.jsxDEV(Ke,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:386,columnNumber:21},void 0)," Copiar Link"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:377,columnNumber:19},void 0),lt.jsxDEV("button",{onClick:()=>(async e=>{const t=`${window.location.origin}/musica/${e.id}`,s={title:e.title,text:"Ouça minha música no Memora Music",url:t};try{navigator.share?await navigator.share(s):(await navigator.clipboard.writeText(t),Dt.success("Link copiado para a área de transferência"))}catch{}})(e),className:"flex-1 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center justify-center gap-2",children:[lt.jsxDEV(Qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:392,columnNumber:21},void 0)," Compartilhar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:388,columnNumber:19},void 0),lt.jsxDEV("button",{onClick:()=>(async e=>{j(e),D(!0)})(e),className:"flex-1 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-100 rounded-md text-sm flex items-center justify-center gap-2",children:[lt.jsxDEV(Ze,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:398,columnNumber:21},void 0)," Excluir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:394,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:376,columnNumber:17},void 0)]},e.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:351,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:341,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:262,columnNumber:7},void 0),lt.jsxDEV(Ep,{open:E,onOpenChange:D,children:lt.jsxDEV(jp,{className:"bg-white",children:[lt.jsxDEV(Tp,{children:[lt.jsxDEV(Cp,{children:"Excluir música?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:411,columnNumber:13},void 0),lt.jsxDEV(kp,{children:['Esta ação não pode ser desfeita. A música "',null==S?void 0:S.title,'" será removida permanentemente.']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:412,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:410,columnNumber:11},void 0),lt.jsxDEV(Pp,{children:[lt.jsxDEV(Vp,{children:"Cancelar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:417,columnNumber:13},void 0),lt.jsxDEV(Up,{onClick:async()=>{const e=S;if(e)try{await mi(e.id),i(t=>t.filter(t=>t.id!==e.id))}catch(Xp){alert("Não foi possível excluir a música.")}finally{D(!1),j(null)}},className:"bg-red-600 hover:bg-red-700",children:"Excluir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:418,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:416,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:409,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:408,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:261,columnNumber:5},void 0)};class Mp{constructor(e,t){this.path=e,this.options=t,this.times=[],this.lyrics=[],this.lyricsCounts=[],this.metadata={},this.gCurrentLyric,this.lastPlayedLyric,this.contaScroll=!0,this.validateInputs()}validateInputs(){this.validateOptions(),this.validatePath(),this.validateSelectors(),this.validateAnimation(),this.init()}validatePath(){if("string"!=typeof this.path||""===this.path&&!this.isRaw)throw new Error("File's path is required and should be a string.");if(!this.path.endsWith(".lrc")&&!this.isRaw)throw new Error("File's path should have a valid '.lrc' format.")}validateOptions(){if(!this.options)throw new Error("Options object is required.");const e=["sync","print","extract"];if(!this.options.type||!e.includes(this.options.type))throw new Error(`"${this.options.type}" is not a valid type.\n- (Valid types: "${e.join('", "')}")`);const t=this.getRequiredOptionsByType().filter(e=>!this.options[e]);if(t.length>0)throw new Error(`Required attributes are missing: "${t.join('", "')}"`);this.karaoke=this.options.isKaraoke??!1,this.actKaraoke=this.options.actKaraoke??this.karaoke,this.isRaw=this.options.isRaw??!1,this.auto_start=this.options.autoStart??!0}getRequiredOptionsByType(){switch(this.options.type){case"extract":return[];case"print":return["container_selector"];default:return["audio_selector","container_selector"]}}validateSelectors(){this.getRequiredOptionsByType().forEach(e=>{const t=this.options[e];if(t&&!["#","."].includes(t.charAt(0)))throw new Error(`Element selector for "${e}" must start with "#" or ".".`);if(null===document.querySelector(t))throw new Error(`${t} is not a valid selector.`)})}validateAnimation(){const e=["normal","slide"];if(this.options.animations&&!e.includes(this.options.animations.animation_type))throw new Error(`"${this.options.animations.animation_type}" is not a valid animation type.\n- (Valid animations: "${e.join('", "')}")`)}static async load(e,t){const s=new Mp(e,t);return await s.init(),s}async init(){if(this.isRaw)this.extractLrc(this.path);else try{const e=await fetch(this.path);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.text();this.extractLrc(t)}catch(e){}}extractLrc(e){var t;this.times=[],this.lyrics=[],this.metadata={};let s=[];e.split(/\r?\n|\r|\n/g).forEach(e=>{const t=this.extractTimeAndText(e);if(t[0]){const{times:e,text:r,counter:o}=t[1];if(this.karaoke&&this.actKaraoke){const t=e.pop();for(const e of t){const t=this.timeToMilliseconds(e);isNaN(t)||s.push({time:t})}}for(const t of e){const e=this.timeToMilliseconds(t);isNaN(e)||s.push({time:e,lyric:r,counter:o})}}}),s.sort((e,t)=>e.time-t.time),this.times=s.map(e=>e.time),this.lyrics=s.filter(e=>void 0!==e.lyric).map(e=>e.lyric),this.lyricsCounts=s.filter(e=>void 0!==e.counter&&null!==e.counter).map(e=>e.counter),this.offset=this.options.offset??(Number(null==(t=this.metadata)?void 0:t.offset)||0);let r=0;const o=this.lyricsCounts.length;for(let i=0;i<o;i++)this.lyricsCounts[i]=[this.lyricsCounts[i],r],r+=this.lyricsCounts[i][0];this.typesHandler()}typesHandler(){var e,t,s;const r=this.options.type;if(0!==this.times.length)if("extract"===r);else if("sync"===r){if(this.container=document.querySelector(this.options.container_selector),this.audio=document.querySelector(this.options.audio_selector),this.options.animations&&"slide"===this.options.animations.animation_type){let r,o;this.container.scrollTo({top:0});const i=(null==(e=this.options.animations)?void 0:e.wheel_scroll)??!0,a=(null==(t=this.options.animations)?void 0:t.touch_scroll)??!0,n=(null==(s=this.options.animations)?void 0:s.change_onclick)??!0;if(i&&this.container.addEventListener("wheel",()=>{clearTimeout(r),clearTimeout(o),this.contaScroll&&(this.contaScroll=!1),r=setTimeout(()=>{o=setTimeout(()=>{var e;const t=(null==(e=this.gCurrentLyric)?void 0:e[2])||0,s=this.container.offsetHeight,r=this.container.querySelector(`.lyric:nth-child(${t+2})`),o=r.offsetHeight,i=r.offsetTop-(s/2.19-o/2);this.container.scrollTo({top:i,behavior:"smooth"}),this.contaScroll=!0},2e3)},150)}),a&&(this.container.addEventListener("touchstart",()=>{clearTimeout(o),this.contaScroll&&(this.contaScroll=!1)}),this.container.addEventListener("touchend",()=>{o=setTimeout(()=>{var e;const t=(null==(e=this.gCurrentLyric)?void 0:e[2])||0,s=this.container.offsetHeight,r=this.container.querySelector(`.lyric:nth-child(${t+2})`),o=r.offsetHeight,i=r.offsetTop-(s/2.19-o/2);this.container.scrollTo({top:i,behavior:"smooth"}),this.contaScroll=!0},2e3)})),n&&this.container.addEventListener("click",e=>{const t=e.target.closest(".lyric");if(null!==t){let e=t.getAttribute("data-time");this.audio.currentTime=Number(e)/1e3+.2}}),this.renderLyrics(),this.options.animations&&this.options.animations.auto_scroll){this.container.querySelectorAll(".segap").forEach(e=>{e.style.height="55.5%",e.style.width="100%"})}}this.syncLyrics()}else"sync"===r?(this.container=document.querySelector(this.options.container_selector),this.syncLyrics()):"print"===r&&this.renderLyrics()}extractTimeAndText(e){const t=/\[(\d+):(\d{2})\.(\d{1,5})\]/g,s=/\[([a-zA-Z0-9]+):\s*([^\]]+)\]/,r=/<(\d{2}):(\d{2})\.(\d{2,3})>([^<]*)/g,o=[],i=[];let a,n,l,c=!1;for(;null!==(a=t.exec(e));){c=!0;const[e,t,s,r]=a;o.push([t,s,r])}if(c){const s=[...e.matchAll(t)].pop();if(n=!!s&&e.slice(s.index+s[0].length),!1!==n&&this.karaoke){const t=e.replace(/\[[a-zA-Z0-9_]+:.*?\]/g,"");let s;const a=[];for(;null!==(s=r.exec(t));){const[e,t,r,o]=s;a.push([t,r,o]),i.push(s[4])}this.actKaraoke&&o.push(a),l=i.length+1}}else if(""!==e){const t=s.exec(e);t&&(this.metadata[t[1]]=t[2])}const m=this.karaoke?this.actKaraoke?i.length>0?i:[n]:String(i.join("")):n,d=this.karaoke&&this.actKaraoke?l:null;return[c,c?{times:o,text:m,counter:d}:null]}timeToMilliseconds([e,t,s]){const r=s.padEnd(3,"0").slice(0,3);return 60*parseInt(e)*1e3+1e3*parseInt(t)+parseInt(r)}renderLyrics(){const{times:e,lyrics:t,lyricsCounts:s,offset:r}=this,o=document.querySelector(this.options.container_selector),i=this.options.animations&&this.options.animations.auto_scroll,a=document.createDocumentFragment();if(i){const e=document.createElement("span");e.classList.add("segap"),a.appendChild(e)}if(this.karaoke)for(let n=0;n<t.length;n++){const o=this.actKaraoke?"div":"p",i=document.createElement(o);this.actKaraoke?(t[n].forEach(e=>{const t=document.createElement("p");t.textContent=e,i.appendChild(t)}),i.setAttribute("data-time",e[s[n][1]]-r)):(i.textContent=t[n],i.setAttribute("data-time",e[n]-r)),i.classList.add("lyric"),i.setAttribute("index",n),a.appendChild(i)}else for(let n=0;n<t.length;n++){const s=document.createElement("p");s.textContent=t[n],s.classList.add("lyric"),s.setAttribute("data-time",e[n]-r),a.appendChild(s)}if(i){const e=document.createElement("span");e.classList.add("segap"),a.appendChild(e)}o.appendChild(a)}syncLyrics(){var e,t;const{times:s,lyrics:r,audio:o,offset:i,karaoke:a,actKaraoke:n,auto_start:l}=this,c=(null==(t=null==(e=this.options)?void 0:e.animations)?void 0:t.animation_type)||"normal",m=a&&n;let d,u=[0,0];0==s[0]&&(this.gCurrentLyric=[r[0],s[0],0]);const h=()=>{let e=1e3*o.currentTime;for(let t=0;t<s.length;t++)if(s[t+1]-i>=e||t===s.length-1){this.sendLyric(c,[r[t],t],"",m,!0),u=[u[0],e],u[0]=t;break}},p=()=>{clearInterval(d),h(),d=setInterval(()=>{let e=1e3*o.currentTime;Math.abs(e-u[1])<70?s[u[0]]-i<=e?(this.sendLyric(c,[r[u[0]],u[0]],e,m,!1),u=[u[0]+1,e]):u=[u[0],e]:h()},10)},f=()=>{clearInterval(d),d=null};this.start=()=>p(),this.pause=()=>f(),l&&(o.addEventListener("play",p),o.addEventListener("pause",f)),o.addEventListener("seeked",h)}sendLyric(e,t,s,r,o){const{lyrics:i,times:a,container:n}=this,l=()=>{var e,s,r,o;const i=n.querySelector(".lyric");i&&i.remove();const a=document.createElement("p");a.classList.add("lyric"),a.textContent=t[0],n.appendChild(a),a.style.animation=`${(null==(s=null==(e=this.options)?void 0:e.animations)?void 0:s.keyframe_id)||"LyricaLyricIn"} ${(null==(o=null==(r=this.options)?void 0:r.animations)?void 0:o.animation_parameters)||"ease-out 0.2s"}`,clearTimeout()},c=e=>{var s,r;n.querySelectorAll(".active").forEach(e=>{e.classList.add("passed"),e.classList.remove("active")});const i=e?m[0]:t[1];if(o){const e=n.children;n.querySelectorAll(".passed").forEach(e=>{e.classList.remove("passed")});for(let t=(null==(s=this.options.animations)?void 0:s.auto_scroll)?1:0;t<=i;t++)e[t].classList.add("passed")}const a=(null==(r=this.options.animations)?void 0:r.auto_scroll)?i+2:i+1;if(n.querySelector(`.lyric:nth-child(${a})`).classList.add("active"),this.options.animations.auto_scroll&&this.contaScroll){const e=n.offsetHeight,t=n.querySelector(`.lyric:nth-child(${i+2})`).offsetHeight,s=n.querySelector(`.lyric:nth-child(${i+2})`).offsetTop-(e/2.19-t/2);n.scrollTo({top:s,behavior:"smooth"})}},m=!!r&&this.karaokeMatchIndex(t[1]);switch(r?(-1==m[1]&&(this.lastPlayedLyric=this.gCurrentLyric),this.gCurrentLyric=[i[m[0]],a[t[1]],m[0]]):(this.lastPlayedLyric=this.gCurrentLyric,this.gCurrentLyric=[i[t[1]],a[t[1]],t[1]]),e){case"normal":r?(()=>{const e=n.querySelector(".lyric");let t;if(t=e?e.getAttribute("index"):null,-1==m[1]||Number(t)!==m[0]){const e=n.querySelector(".lyric");e&&e.remove();const t=document.createElement("div");t.classList.add("lyric"),t.setAttribute("index",m[0]),i[m[0]].forEach(e=>{const s=document.createElement("p");s.textContent=e,t.appendChild(s)}),n.appendChild(t)}else for(let s=0;s<=m[1];s++)n.querySelector(`.lyric p:nth-child(${s+1})`).classList.add("active")})():l();break;case"slide":r?function(){const e=n.querySelector("div.active");let t;if(t=e?e.getAttribute("index"):null,-1==m[1]||Number(t)!==m[0])c(!0);else for(let s=0;s<=m[1];s++)n.querySelector(`.active p:nth-child(${s+1})`).classList.add("active")}():c(!1)}}karaokeMatchIndex(e){const{times:t,lyricsCounts:s}=this;let r=0,o=0;for(;r+s[o][0]<=e;)r+=s[o][0],o+=1;return[o,e-r-1]}searchLyric(e,t,s){const{times:r,lyrics:o,lyricsCounts:i,karaoke:a,actKaraoke:n}=this;const l=/(\d+):(\d{2})\.(\d{2})/.exec(e);let c;if(l){const[e,t,s,r]=l;c=this.timeToMilliseconds([t,s,r])}else c=e;return t?function(e,t){const s=r.indexOf(e),l=a&&n?i[s][1]:s,c=s>0&&o[l];return t?[c,l]:[c]}(c,s):function(e,t){for(let s=0;s<o.length;s++){const l=a&&n?i[s][1]:s;if(r[l]>e){const e=a&&n?String(o[s-1].join("")):o[s-1];return t?[e,s-1]:[e]}}}(c,s)}searchTime(e,t){const{times:s,lyrics:r,lyricsCounts:o,karaoke:i,actKaraoke:a}=this;let n=[],l=[];for(let c=0;c<r.length;c++){const t=i&&a?o[c][1]:c;(i&&a?String(r[c].join("")):r[c])===e&&(n.push(s[t]),l.push(t))}return t?[n,l]:[n]}getCurrent(){if("sync"===this.options.type)return this.gCurrentLyric}next(e){var t;if("sync"===this.options.type){const{times:s,lyrics:r,lyricsCounts:o,audio:i,karaoke:a,actKaraoke:n,offset:l}=this,c=(null==(t=this.gCurrentLyric)?void 0:t[2])||0,m=e||1;if(c<r.length-m){const e=a&&n?o[c+m][1]:c+m;i.currentTime=(s[e]-l)/1e3+.2;return[a&&n?String(r[c+m].join("")):r[c+m],s[e]-l,c+m]}return}}previous(e){var t;if("sync"===this.options.type){const{times:s,lyrics:r,lyricsCounts:o,audio:i,karaoke:a,actKaraoke:n,offset:l}=this,c=(null==(t=this.gCurrentLyric)?void 0:t[2])||0,m=e||1;if(c>=m){const e=a&&n?o[c-m][1]:c-m;i.currentTime=(s[e]-l)/1e3+.2;return[a&&n?String(r[c+m].join("")):r[c+m],s[e]-l,c+m]}return}}last(){if("sync"===this.options.type)return void 0===this.lastPlayedLyric||null===this.lastPlayedLyric?void 0:(this.audio.currentTime=this.lastPlayedLyric[1]/1e3+.2,this.lastPlayedLyric)}goTo(e){if("sync"===this.options.type){const{times:t,lyrics:s,lyricsCounts:r,audio:o,karaoke:i,actKaraoke:a,offset:n}=this;if(e.time){if(""!==e.time){const s=this.searchLyric(e.time,!1,!0),l=i&&a?r[s[1]][1]:s[1];return o.currentTime=(t[l]-n)/1e3+.2,[s[0],t[l]-n,s[1]]}return}if(e.lyric){let s,r;Array.isArray(e.lyric)?(s=String(e.lyric[0]),r=e.lyric[1]??0):(s=String(e.lyric),r=0);const i=this.searchTime(s,!0);return i[1].length>=0&&void 0!==i[1][r]?(o.currentTime=(t[i[1][r]]-n)/1e3+.2,[s,t[i[1][r]]-n,this.karaokeMatchIndex(i[1][r])[0]]):void 0}if(e.index){if(""===e.index||isNaN(e.index))return;{const l=i&&a?r[Number(e.index)][1]:Number(e.index);o.currentTime=(t[l]-n)/1e3+.2;return[i&&a?String(s[e.index].join("")):s[e.index],t[l]-n,e.index]}}}}getData(){return{lyrics:this.lyrics,lyricsCounter:this.lyricsCounts,times:this.times,metadata:this.metadata}}}function Lp(e){const t=e.split(/\r?\n/),s=[],r=/\[(\d{1,2}):(\d{2})(?:\.(\d{1,3}))?\]\s*(.*)$/;for(const o of t){const e=o.match(r);if(e){const t=60*parseInt(e[1],10)+parseInt(e[2],10)+(e[3]?parseInt(e[3].padEnd(3,"0"),10):0)/1e3,r=e[4]||"";s.push({t:t,text:r})}}return s.length>0?s.sort((e,t)=>e.t-t.t):null}const Ip=({lyrics:e,className:t="",wordTimings:s})=>{const{currentTime:o,duration:i,getMediaElement:a}=yc(),[n,l]=r.useState(void 0);r.useEffect(()=>{let t=!1;return(async()=>{try{if(!e)return void l(void 0);const s=new Mp(e,{type:"extract",isRaw:!0,isKaraoke:!0,actKaraoke:!0,offset:0}),r=(null==s?void 0:s.lyrics)||(null==s?void 0:s.data)||(null==s?void 0:s.result)||[];if(Array.isArray(r)&&r.length>0){const e=r.map(e=>{const t=Number(e.t??e.time??e.start??0),s=(Array.isArray(e.words)?e.words:Array.isArray(e.karaoke)?e.karaoke:[]).map(e=>({t:Number(e.t??e.time??e.start??0),d:e.d??e.duration,text:String(e.text??e.word??"")})),r="string"==typeof e.text?e.text:s.length?s.map(e=>e.text).join(" "):"";return{t:t,words:s,text:r}});t||l(e)}else t||l(void 0)}catch(Xp){t||l(void 0)}})(),()=>{t=!0}},[e]);const c=r.useMemo(()=>{if(!e)return[{t:0,text:""}];const t=s&&s.length>0?s:n;if(t&&t.length>0)return t.map(e=>({t:e.t,text:e.text??e.words.map(e=>e.text).join(" ")})).sort((e,t)=>e.t-t.t);const r=Lp(e);if(r)return r;const o=Number.isFinite(i)&&i>0?i:180;return function(e,t){const s=e.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);if(0===s.length)return[{t:0,text:""}];const r=s.map(e=>Math.max(1,e.split(/\s+/).length)),o=r.reduce((e,t)=>e+t,0),i=t/Math.max(1,o),a=[];let n=0;for(let l=0;l<s.length;l++)a.push({t:n,text:s[l]}),n+=r[l]*i;return a}(e,o)},[e,i,s,n]),m=r.useMemo(()=>function(e){const t=e.match(/\[offset\s*:\s*([+-]?\d+)\s*\]/i);if(!t)return 0;const s=parseInt(t[1],10);return Number.isFinite(s)?s/1e3:0}(e||""),[e]),[d,u]=r.useState(0),h=r.useRef(null);r.useEffect(()=>{const e=null==a?void 0:a();if(!e)return;return(async()=>{var t;try{const s=h.current||(h.current={}),r=e.currentSrc||e.src;if(s.lastSrc===r&&s.ctx)return;s.raf&&cancelAnimationFrame(s.raf);try{null==(t=s.ctx)||t.close()}catch{}const o=new(window.AudioContext||window.webkitAudioContext),i=o.createMediaElementSource(e),a=o.createBiquadFilter();a.type="highpass",a.frequency.value=180;const n=o.createBiquadFilter();n.type="lowpass",n.frequency.value=4e3;const l=o.createAnalyser();l.fftSize=1024,l.smoothingTimeConstant=.85,i.connect(a),a.connect(n),n.connect(l),l.connect(o.destination),s.ctx=o,s.src=i,s.analyser=l,s.hp=a,s.lp=n,s.lastSrc=r;const c=new Uint8Array(l.frequencyBinCount);let m=0,d=0,p=0,f=!1;const v=()=>e.currentTime,b=()=>{if(s.raf=requestAnimationFrame(b),e.paused)return;l.getByteFrequencyData(c);let t=0,r=0;for(let e=5;e<.65*c.length;e++)t+=c[e],r++;if(t=r?t/r:0,d++,d<20)return void(m=m?.9*m+.1*t:t);m=.995*m+.005*t;f||((m>1?t/m:0)>1.8?p++:p=Math.max(0,p-1),p>6&&(f=!0,u(v())))};s.raf=requestAnimationFrame(b)}catch{}})(),()=>{const e=h.current;e&&e.raf&&cancelAnimationFrame(e.raf)}},[a]);const p=r.useMemo(()=>!(n&&n.length>0||!!Lp(e||""))&&d>.05,[n,e,d]),f=r.useMemo(()=>{const e=o+m-(p?d:0);return Math.max(0,e)},[o,m,p,d]),{activeIndex:v,nextTime:b,lineProgress:g}=r.useMemo(()=>{var e;if(!c||0===c.length)return{activeIndex:0,nextTime:0,lineProgress:0};let t=0;for(let a=0;a<c.length;a++){const e=c[a].t,s=a<c.length-1?c[a+1].t:i||e+3;if(f>=e&&f<s){t=a;break}f>=s&&(t=a)}const s=(null==(e=c[t])?void 0:e.t)||0,r=t<c.length-1?c[t+1].t:i||s+3,o=Math.max(.3,r-s);return{activeIndex:t,nextTime:r,lineProgress:Math.min(1,Math.max(0,(f-s)/o))}},[c,f,i]),x=r.useRef(null),N=r.useRef([]);r.useEffect(()=>{const e=N.current[v],t=x.current;if(e&&t){const s=e.offsetTop-t.offsetTop,r=e.clientHeight,o=t.clientHeight,i=Math.max(0,s-o/2+r/2);t.scrollTo({top:i,behavior:"smooth"})}},[v]);const w=r.useMemo(()=>{const e=(s&&s.length>0?s:n)||[];if(0===e.length||!c||0===c.length)return null;const t=e.find(e=>{var t;return Math.abs(e.t-((null==(t=c[v])?void 0:t.t)||0))<.05});if(!t)return null;const r=t.words||[];let o=-1;for(let s=0;s<r.length;s++){const e=t.t+(r[s].t||0),i=e+(r[s].d||.2);if(f>=e&&f<i){o=s;break}f>=i&&(o=s)}return{line:t,activeWordIndex:Math.max(0,o)}},[s,n,c,v,f]);return lt.jsxDEV("div",{className:`rounded-lg bg-white/5 border border-white/10 p-4 max-h-80 overflow-y-auto ${t}`,ref:x,children:c.map((e,t)=>{const s=t===v,r=e.text||" ";return lt.jsxDEV("div",{ref:e=>N.current[t]=e,className:"my-1 px-2 py-1 rounded transition-colors "+(s?"bg-blue-600/10":"bg-transparent"),children:(()=>{if(s&&w&&Math.abs(w.line.t-e.t)<.05){const e=w.line.words;return lt.jsxDEV("span",{className:"relative inline-block text-white/90",children:e.map((t,s)=>{const r=w.line.t+(t.t||0),i=r+(t.d||.2),a=o>=i,n=o>=r&&o<i;return lt.jsxDEV("span",{children:[lt.jsxDEV("span",{className:"transition-colors "+(a?"text-white":n?"text-white/90":"text-white/50"),style:{transitionDuration:"120ms"},children:t.text},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:281,columnNumber:23},void 0),s<e.length-1?" ":""]},`${r}-${s}`,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:280,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:273,columnNumber:15},void 0)}return lt.jsxDEV("span",{className:"relative inline-block text-white/90",style:{backgroundImage:s?`linear-gradient(90deg, rgba(255,255,255,0.95) ${Math.round(100*g)}%, rgba(255,255,255,0.25) ${Math.round(100*g)}%)`:"none",WebkitBackgroundClip:s?"text":"initial",backgroundClip:s?"text":"initial",color:s?"transparent":void 0,transition:"background 120ms linear"},children:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:296,columnNumber:13},void 0)})()},`${e.t}-${t}`,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:313,columnNumber:11},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:264,columnNumber:5},void 0)},Op=()=>{const{id:e}=function(){let{matches:e}=r.useContext($r),t=e[e.length-1];return t?t.params:{}}(),t=Xr(),[s,o]=r.useState(null),[i,a]=r.useState(!0),[n,l]=r.useState(null),[c,m]=r.useState(null),[d,u]=r.useState(!1),h=r.useRef(new Map),{currentId:p,isPlaying:f,play:v,pause:b}=yc(),g=async e=>{if(!e)return null;const t=e.id,s=h.current.get(t);if(s)return s;const r=e.audioUrlOption1||e.audioUrlOption2||null,o=e.sunoTaskId||e.taskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(o){const e=await cu(o);if(null==e?void 0:e.streamUrl){const s={playbackUrl:e.streamUrl,downloadUrl:e.audioUrl||r||null};return h.current.set(t,s),s}}if(r){const e={playbackUrl:r,downloadUrl:r};return h.current.set(t,e),e}return null};r.useEffect(()=>{(async()=>{try{if(a(!0),l(null),!e)return;const t=await ci(e),s=(null==t?void 0:t.data)||t,r={...s,sunoTaskId:s.sunoTaskId||s.suno_task_id||s.taskId||s.task_id||null,taskId:s.taskId||s.task_id||null};o(r);const i=await g(r),n=(null==i?void 0:i.playbackUrl)||r.audioUrlOption1||r.audioUrlOption2||null;m(n)}catch(Xp){l((null==Xp?void 0:Xp.message)||"Não foi possível carregar a música.")}finally{a(!1)}})()},[e]);const x=r.useMemo(()=>p===(null==s?void 0:s.id)&&f,[p,null==s?void 0:s.id,f]),N=r.useMemo(()=>s&&c?s.audioUrlOption2&&c===s.audioUrlOption2?"Versão B":s.audioUrlOption1&&c===s.audioUrlOption1?"Versão A":"Versão Suno":"Versão A",[s,c]),w=async(e,t)=>{if(s)try{u(!0);let r=e||c;if(!r){const e=await g(s);r=(null==e?void 0:e.playbackUrl)||null,(null==e?void 0:e.playbackUrl)&&m(e.playbackUrl)}if(!r)return void Dt.error("Não foi possível carregar o áudio desta música.");v(s.id,r,{title:s.title,versionLabel:t})}catch(r){Dt.error("Falha ao reproduzir esta música. Tente novamente.")}finally{u(!1)}},y=e=>{if(!s)return;const t="A"===e?s.audioUrlOption1||null:s.audioUrlOption2||null;m(t),t&&w(t,e)},_=async e=>{if(!s)return;let t="A"===e?s.audioUrlOption1:"B"===e?s.audioUrlOption2:c;if(!t){const e=await g(s);t=(null==e?void 0:e.downloadUrl)||(null==e?void 0:e.playbackUrl)||null}if(!t)return void Dt.error("Não foi possível localizar o arquivo para download.");const r=`${s.title}${e?`_${e}`:""}.mp3`;try{const e=`${ii}/api/download?url=${encodeURIComponent(t)}&filename=${encodeURIComponent(r)}`;await Su(e,r)}catch(Xp){await Su(t,r)}};return i?lt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV(Ge,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:180,columnNumber:11},void 0),lt.jsxDEV("p",{className:"text-white text-lg",children:"Carregando música..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:181,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:179,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:178,columnNumber:7},void 0):n||!s?lt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:lt.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 max-w-md text-center text-white",children:[lt.jsxDEV("p",{className:"mb-4",children:n||"Música não encontrada."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:191,columnNumber:11},void 0),lt.jsxDEV("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20",children:"Voltar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:190,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:189,columnNumber:7},void 0):lt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:lt.jsxDEV("div",{className:"relative",children:[s.imageUrl&&lt.jsxDEV("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url(${s.imageUrl})`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:202,columnNumber:11},void 0),lt.jsxDEV("div",{className:"relative container mx-auto px-4 pt-25 pb-12",children:[lt.jsxDEV("button",{onClick:()=>t(-1),className:"text-white/80 hover:text-white mb-6 inline-flex items-center gap-2",children:[lt.jsxDEV(qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:206,columnNumber:13},void 0)," Voltar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:205,columnNumber:11},void 0),lt.jsxDEV("div",{className:"max-w-3xl mx-auto bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",children:[lt.jsxDEV("div",{className:"flex items-start gap-4",children:[lt.jsxDEV("div",{className:"w-24 h-24 rounded-lg bg-white/10 flex items-center justify-center overflow-hidden flex-shrink-0",children:s.imageUrl?lt.jsxDEV("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:212,columnNumber:19},void 0):lt.jsxDEV(_e,{className:"w-10 h-10 text-white/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:214,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:210,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex-1 min-w-0",children:[lt.jsxDEV("h1",{className:"text-2xl font-bold text-white mb-1 truncate",children:s.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:218,columnNumber:17},void 0),lt.jsxDEV("p",{className:"text-blue-200 text-sm",children:["Criada em ",new Date(s.createdAt).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:217,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("button",{onClick:async()=>{const e=window.location.href;try{navigator.share?await navigator.share({title:(null==s?void 0:s.title)||"Minha música",url:e}):(await navigator.clipboard.writeText(e),alert("Link copiado para a área de transferência"))}catch{}},className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[lt.jsxDEV(Qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:223,columnNumber:19},void 0)," Compartilhar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:222,columnNumber:17},void 0),lt.jsxDEV("button",{onClick:()=>_(),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[lt.jsxDEV(Se,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:226,columnNumber:19},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:225,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:221,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:209,columnNumber:13},void 0),lt.jsxDEV("div",{className:"mt-6 space-y-4",children:[lt.jsxDEV("div",{className:"flex items-center gap-2 text-white/90",children:[x?lt.jsxDEV("button",{onClick:()=>{b()},className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:lt.jsxDEV(fe,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:235,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:234,columnNumber:19},void 0):lt.jsxDEV("button",{onClick:()=>{const e=c===s.audioUrlOption2?"B":c===s.audioUrlOption1?"A":void 0;w(void 0,e)},disabled:d,className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:d?lt.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:247,columnNumber:23},void 0):lt.jsxDEV(ve,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:249,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:238,columnNumber:19},void 0),lt.jsxDEV("div",{className:"text-sm",children:[lt.jsxDEV("div",{className:"font-medium",children:["Reproduzindo ",N]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:254,columnNumber:19},void 0),lt.jsxDEV("div",{className:"text-white/70",children:"Selecione outra versão abaixo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:255,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:253,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:232,columnNumber:15},void 0),lt.jsxDEV("div",{className:"grid sm:grid-cols-2 gap-3",children:[lt.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[lt.jsxDEV("div",{className:"font-medium",children:"Versão A"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:262,columnNumber:21},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("button",{onClick:()=>y("A"),disabled:d,className:"px-2 py-1 text-xs rounded-md bg-blue-600 hover:bg-blue-700 "+(d?"opacity-70 cursor-not-allowed":""),children:"Reproduzir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:264,columnNumber:23},void 0),lt.jsxDEV("button",{onClick:()=>_("A"),className:"px-2 py-1 text-xs rounded-md bg-white/10 hover:bg-white/20",children:"Baixar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:271,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:263,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:261,columnNumber:19},void 0),!s.audioUrlOption1&&lt.jsxDEV("div",{className:"text-white/60 text-sm",children:"Indisponível"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:274,columnNumber:45},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:260,columnNumber:17},void 0),lt.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white",children:[lt.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[lt.jsxDEV("div",{className:"font-medium",children:"Versão B"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:278,columnNumber:21},void 0),lt.jsxDEV("div",{className:"flex items-center gap-2",children:[lt.jsxDEV("button",{onClick:()=>y("B"),disabled:d,className:"px-2 py-1 text-xs rounded-md bg-blue-600 hover:bg-blue-700 "+(d?"opacity-70 cursor-not-allowed":""),children:"Reproduzir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:280,columnNumber:23},void 0),lt.jsxDEV("button",{onClick:()=>_("B"),className:"px-2 py-1 text-xs rounded-md bg-white/10 hover:bg-white/20",children:"Baixar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:287,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:279,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:277,columnNumber:19},void 0),!s.audioUrlOption2&&lt.jsxDEV("div",{className:"text-white/60 text-sm",children:"Indisponível"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:290,columnNumber:45},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:276,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:259,columnNumber:15},void 0),p===s.id&&lt.jsxDEV(Rp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:296,columnNumber:17},void 0),s.lyrics&&lt.jsxDEV("div",{className:"mt-4 text-white/90",children:[lt.jsxDEV("div",{className:"text-sm font-semibold mb-2",children:"Letra"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:301,columnNumber:19},void 0),lt.jsxDEV(Ip,{lyrics:s.lyrics},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:302,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:300,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:208,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:204,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:200,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:199,columnNumber:5},void 0)},Rp=()=>{const{currentTime:e,duration:t}=yc(),s=Math.min(100,Math.max(0,t?e/Math.max(1,t)*100:0)),r=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return lt.jsxDEV("div",{className:"mt-3",children:[lt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-white/80 mb-1",children:[lt.jsxDEV("span",{className:"font-medium",children:"Progresso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:327,columnNumber:9},void 0),lt.jsxDEV("span",{children:[r(e)," / ",r(t||0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:328,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:326,columnNumber:7},void 0),lt.jsxDEV("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:lt.jsxDEV("div",{className:"h-full bg-blue-500 transition-[width] duration-200",style:{width:`${s}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:331,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:330,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:325,columnNumber:5},void 0)},Fp=()=>{const e=Xr(),{user:t,isLoggedIn:s}=tc(),[o,i]=r.useState("loading"),[a,n]=r.useState(""),[l,c]=r.useState(3),m=async()=>{try{const t=await Zl();if(!t)throw new Error("Falha ao inicializar cliente Supabase");const{data:s,error:r}=await t.auth.getSession();if(r)throw r;if(s.session){const{syncSession:t}=tc.getState();if(!(await t()))throw new Error("Falha ao sincronizar sessão com o sistema");i("success");let s=3;const r=setInterval(()=>{s-=1,c(s),s<=0&&(clearInterval(r),e("/minhas-musicas",{replace:!0}))},1e3);return()=>clearInterval(r)}{const e=new URLSearchParams(window.location.search),t=e.get("error"),s=e.get("error_description");if(t)throw new Error(s||t);throw new Error("Nenhuma sessão encontrada. Verifique seu email e tente novamente.")}}catch(t){i("error");let e="Erro desconhecido";t instanceof Error&&(e=t.message),e.includes("Email not confirmed")?e="Email ainda não foi confirmado. Verifique sua caixa de entrada.":e.includes("Invalid login credentials")&&(e="Credenciais inválidas. Tente fazer login novamente."),n(e)}};r.useEffect(()=>{m()},[e]),r.useEffect(()=>{s&&e("/minhas-musicas",{replace:!0})},[s,e]);return lt.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:lt.jsxDEV("div",{className:"max-w-md w-full space-y-8 p-8",children:lt.jsxDEV("div",{className:"text-center",children:["loading"===o&&lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:117,columnNumber:15},void 0),lt.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Verificando email..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:118,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-gray-600",children:"Processando sua confirmação de email..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:119,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:116,columnNumber:13},void 0),"success"===o&&lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV("div",{className:"rounded-full h-12 w-12 bg-green-100 mx-auto flex items-center justify-center",children:lt.jsxDEV("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:lt.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:127,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:126,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:125,columnNumber:15},void 0),lt.jsxDEV("h2",{className:"text-xl font-semibold text-green-900",children:"Email verificado com sucesso!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:130,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-green-700",children:["Redirecionando em ",l," segundos..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:131,columnNumber:15},void 0),lt.jsxDEV("button",{onClick:()=>e("/minhas-musicas",{replace:!0}),className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para Minhas Músicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:132,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:124,columnNumber:13},void 0),"error"===o&&lt.jsxDEV("div",{className:"space-y-4",children:[lt.jsxDEV("div",{className:"rounded-full h-12 w-12 bg-red-100 mx-auto flex items-center justify-center",children:lt.jsxDEV("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:lt.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:145,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:144,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:143,columnNumber:15},void 0),lt.jsxDEV("h2",{className:"text-xl font-semibold text-red-900",children:"Erro na verificação"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:148,columnNumber:15},void 0),lt.jsxDEV("p",{className:"text-red-700 mb-4",children:a},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:149,columnNumber:15},void 0),lt.jsxDEV("div",{className:"flex flex-col space-y-2",children:[lt.jsxDEV("button",{onClick:()=>{i("loading"),n(""),m()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tentar novamente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:151,columnNumber:17},void 0),lt.jsxDEV("button",{onClick:()=>{e("/?auth=login",{replace:!0})},className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fazer login"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:157,columnNumber:17},void 0),lt.jsxDEV("button",{onClick:()=>{e("/",{replace:!0})},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Voltar ao início"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:163,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:114,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:113,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:112,columnNumber:5},void 0)},Bp=()=>{const e=Hr();return r.useEffect(()=>{},[e.pathname]),lt.jsxDEV("div",{className:"min-h-screen pt-25 flex items-center justify-center bg-gray-100",children:lt.jsxDEV("div",{className:"text-center",children:[lt.jsxDEV("h1",{className:"text-4xl font-bold font-heading mb-4",children:"404"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:17,columnNumber:9},void 0),lt.jsxDEV("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Página não encontrada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:18,columnNumber:9},void 0),lt.jsxDEV(ko,{to:"/",className:"bg-memora-primary text-white px-6 py-2 rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:"Voltar ao Início"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:16,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:15,columnNumber:5},void 0)},$p=({children:e,redirectTo:t="/"})=>{const{isLoggedIn:s,isLoading:o}=tc(),{showAuthPopup:i}=rc(),a=Xr();return r.useEffect(()=>{o||s||(a(t,{replace:!0}),i(()=>{a(window.location.pathname)}))},[s,o,a,t,i]),o?lt.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:lt.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/auth/ProtectedRoute.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/auth/ProtectedRoute.tsx",lineNumber:43,columnNumber:7},void 0):s?lt.jsxDEV(lt.Fragment,{children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/auth/ProtectedRoute.tsx",lineNumber:56,columnNumber:10},void 0):null};let zp=localStorage.getItem("deviceId");zp||(zp=zo(),localStorage.setItem("deviceId",zp));const Gp=new rt,Hp=()=>{const e=tc();return i.useEffect(()=>{e.isLoading&&tc.persist.rehydrate()},[e.isLoading]),null},qp=()=>{(()=>{const e=Hr();r.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e.pathname])})();const{isPaymentPopupVisible:e,hidePaymentPopup:t,handleUpgrade:s}=rc();return lt.jsxDEV(Dc,{children:[lt.jsxDEV(Hp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:66,columnNumber:7},void 0),lt.jsxDEV(nc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:67,columnNumber:7},void 0),lt.jsxDEV("div",{className:"flex-1 w-full",style:{paddingTop:"164px"},children:lt.jsxDEV(uo,{children:[lt.jsxDEV(co,{path:"/",element:lt.jsxDEV(_u,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:73,columnNumber:36},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:73,columnNumber:11},void 0),lt.jsxDEV(co,{path:"/criar",element:lt.jsxDEV(Jh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:74,columnNumber:41},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:74,columnNumber:11},void 0),lt.jsxDEV(co,{path:"/minhas-musicas",element:lt.jsxDEV($p,{children:lt.jsxDEV(Ap,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:79,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:78,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:75,columnNumber:11},void 0),lt.jsxDEV(co,{path:"/musica/:id",element:lt.jsxDEV(Op,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:83,columnNumber:46},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:83,columnNumber:11},void 0),lt.jsxDEV(co,{path:"/auth/callback",element:lt.jsxDEV(Fp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:84,columnNumber:49},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:84,columnNumber:11},void 0),lt.jsxDEV(co,{path:"*",element:lt.jsxDEV(Bp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:86,columnNumber:36},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:72,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:68,columnNumber:7},void 0),lt.jsxDEV(cc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:89,columnNumber:7},void 0),lt.jsxDEV(um,{isOpen:e,onClose:t,onConfirm:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:92,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:65,columnNumber:5},void 0)},Wp=()=>lt.jsxDEV(ot,{client:Gp,children:lt.jsxDEV(Zs,{children:[lt.jsxDEV(At,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:104,columnNumber:7},void 0),lt.jsxDEV(To,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:lt.jsxDEV(qp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:111,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:105,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:103,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:102,columnNumber:3},void 0);nt(document.getElementById("root")).render(lt.jsxDEV(lt.Fragment,{children:lt.jsxDEV(Wp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/main.tsx",lineNumber:7,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/main.tsx",lineNumber:6,columnNumber:3},void 0));

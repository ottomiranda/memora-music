var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,a as o,c as i,b as a,R as n,d as l,e as c}from"./react-vendor-CouUomew.js";import{c as m,j as d,P as u,a as h,D as p,C as f,b as v,R as g,u as b,A as x,d as N,e as w,f as y,S as _,g as E,h as D,i as S,k as j,T,I as P,l as C,m as k,n as U,o as V,V as A,L as M,p as I,q as L,r as O,s as R,t as F,v as $,w as B,O as z,x as G,W as H,y as q,z as W,B as X,E as Y,F as J,G as K}from"./radix-vendor-CuDUQtA7.js";import{c as Q,X as Z,M as ee,C as te,S as re,H as se,o as oe,r as ie,a as ae,u as ne,b as le,E as ce,d as me,P as de,e as ue,V as he,f as pe,g as fe,h as ve,i as ge,Z as be,j as xe,k as Ne,l as we,m as ye,n as _e,D as Ee,p as De,q as Se,G as je,s as Te,U as Pe,t as Ce,Q as ke,v as Ue,w as Ve,x as Ae,y as Me,z as Ie,A as Le,B as Oe,T as Re,F as Fe,I as $e,J as Be,K as ze,L as Ge,N as He,O as qe,R as We,W as Xe,Y as Ye,_ as Je,$ as Ke}from"./ui-vendor-emfL37ku.js";import{c as Qe,o as Ze,s as et,Q as tt,a as rt}from"./utils-vendor-Br_zJQ6K.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var st={exports:{}},ot={};!function(){var e=r,t=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),f=Symbol.iterator;var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function g(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];!function(e,t,r){var s=v.ReactDebugCurrentFrame.getStackAddendum();""!==s&&(t+="%s",r=r.concat([s]));var o=r.map(function(e){return String(e)});o.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,o)}("error",e,r)}var b;function x(e){return e.displayName||"Context"}function N(e){if(null==e)return null;if("number"==typeof e.tag&&g("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case s:return"Portal";case a:return"Profiler";case i:return"StrictMode";case m:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return x(e)+".Consumer";case n:return x(e._context)+".Provider";case c:return function(e,t,r){var s=e.displayName;if(s)return s;var o=t.displayName||t.name||"";return""!==o?r+"("+o+")":r}(e,e.render,"ForwardRef");case u:var t=e.displayName||null;return null!==t?t:N(e.type)||"Memo";case h:var r=e,p=r._payload,f=r._init;try{return N(f(p))}catch(v){return null}}return null}b=Symbol.for("react.module.reference");var w,y,_,E,D,S,j,T=Object.assign,P=0;function C(){}C.__reactDisabledLog=!0;var k,U=v.ReactCurrentDispatcher;function V(e,t,r){if(void 0===k)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||""}return"\n"+k+e}var A,M=!1,I="function"==typeof WeakMap?WeakMap:Map;function L(e,t){if(!e||M)return"";var r,s=A.get(e);if(void 0!==s)return s;M=!0;var o,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=U.current,U.current=null,function(){if(0===P){w=console.log,y=console.info,_=console.warn,E=console.error,D=console.group,S=console.groupCollapsed,j=console.groupEnd;var e={configurable:!0,enumerable:!0,value:C,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}P++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(p){r=p}Reflect.construct(e,[],a)}else{try{a.call()}catch(p){r=p}e.call(a.prototype)}}else{try{throw Error()}catch(p){r=p}e()}}catch(f){if(f&&r&&"string"==typeof f.stack){for(var n=f.stack.split("\n"),l=r.stack.split("\n"),c=n.length-1,m=l.length-1;c>=1&&m>=0&&n[c]!==l[m];)m--;for(;c>=1&&m>=0;c--,m--)if(n[c]!==l[m]){if(1!==c||1!==m)do{if(c--,--m<0||n[c]!==l[m]){var d="\n"+n[c].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&A.set(e,d),d}}while(c>=1&&m>=0);break}}}finally{M=!1,U.current=o,function(){if(0===--P){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:T({},e,{value:w}),info:T({},e,{value:y}),warn:T({},e,{value:_}),error:T({},e,{value:E}),group:T({},e,{value:D}),groupCollapsed:T({},e,{value:S}),groupEnd:T({},e,{value:j})})}P<0&&g("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var u=e?e.displayName||e.name:"",h=u?V(u):"";return"function"==typeof e&&A.set(e,h),h}function O(e,t,r){if(null==e)return"";if("function"==typeof e)return L(e,!(!(s=e.prototype)||!s.isReactComponent));var s;if("string"==typeof e)return V(e);switch(e){case m:return V("Suspense");case d:return V("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return L(e.render,!1);case u:return O(e.type,t,r);case h:var o=e,i=o._payload,a=o._init;try{return O(a(i),t,r)}catch(n){}}return""}A=new I;var R=Object.prototype.hasOwnProperty,F={},$=v.ReactDebugCurrentFrame;function B(e){if(e){var t=e._owner,r=O(e.type,e._source,t?t.type:null);$.setExtraStackFrame(r)}else $.setExtraStackFrame(null)}var z=Array.isArray;function G(e){return z(e)}function H(e){return""+e}function q(e){if(function(e){try{return H(e),!1}catch(t){return!0}}(e))return g("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),H(e)}var W,X,Y,J=v.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};Y={};function Q(e,r,s,o,i){var a,n={},l=null,c=null;for(a in void 0!==s&&(q(s),l=""+s),function(e){if(R.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(r)&&(q(r.key),l=""+r.key),function(e){if(R.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(r)&&(c=r.ref,function(e,t){if("string"==typeof e.ref&&J.current&&t&&J.current.stateNode!==t){var r=N(J.current.type);Y[r]||(g('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N(J.current.type),e.ref),Y[r]=!0)}}(r,i)),r)R.call(r,a)&&!K.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps){var m=e.defaultProps;for(a in m)void 0===n[a]&&(n[a]=m[a])}if(l||c){var d="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var r=function(){W||(W=!0,g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(n,d),c&&function(e,t){var r=function(){X||(X=!0,g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(n,d)}return function(e,r,s,o,i,a,n){var l={$$typeof:t,type:e,key:r,ref:s,props:n,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,i,o,J.current,n)}var Z,ee=v.ReactCurrentOwner,te=v.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,r=O(e.type,e._source,t?t.type:null);te.setExtraStackFrame(r)}else te.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function oe(){if(ee.current){var e=N(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Z=!1;var ie={};function ae(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=oe();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t="\n\nCheck the top-level render call using <"+r+">.")}return t}(t);if(!ie[r]){ie[r]=!0;var s="";e&&e._owner&&e._owner!==ee.current&&(s=" It was passed a child from "+N(e._owner.type)+"."),re(e),g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,s),re(null)}}}function ne(e,t){if("object"==typeof e)if(G(e))for(var r=0;r<e.length;r++){var s=e[r];se(s)&&ae(s,t)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=f&&e[f]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var i,a=o.call(e);!(i=a.next()).done;)se(i.value)&&ae(i.value,t)}}function le(e){var t,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)t=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==c&&r.$$typeof!==u)return;t=r.propTypes}if(t){var s=N(r);!function(e,t,r,s,o){var i=Function.call.bind(R);for(var a in e)if(i(e,a)){var n=void 0;try{if("function"!=typeof e[a]){var l=Error((s||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}n=e[a](t,a,s,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){n=c}!n||n instanceof Error||(B(o),g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",r,a,typeof n),B(null)),n instanceof Error&&!(n.message in F)&&(F[n.message]=!0,B(o),g("Failed %s type: %s",r,n.message),B(null))}}(t,e.props,"prop",s,e)}else if(void 0!==r.PropTypes&&!Z){Z=!0,g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",N(r)||"Unknown")}"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ce={};var me=function(e,r,s,f,v,x){var w=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===a||e===i||e===m||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===u||e.$$typeof===n||e.$$typeof===l||e.$$typeof===c||e.$$typeof===b||void 0!==e.getModuleId)}(e);if(!w){var y="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(y+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var _,E=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(v);y+=E||oe(),null===e?_="null":G(e)?_="array":void 0!==e&&e.$$typeof===t?(_="<"+(N(e.type)||"Unknown")+" />",y=" Did you accidentally export a JSX literal instead of a component?"):_=typeof e,g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_,y)}var D=Q(e,r,s,v,x);if(null==D)return D;if(w){var S=r.children;if(void 0!==S)if(f)if(G(S)){for(var j=0;j<S.length;j++)ne(S[j],e);Object.freeze&&Object.freeze(S)}else g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ne(S,e)}if(R.call(r,"key")){var T=N(e),P=Object.keys(r).filter(function(e){return"key"!==e}),C=P.length>0?"{key: someKey, "+P.join(": ..., ")+": ...}":"{key: someKey}";if(!ce[T+C])g('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',C,T,P.length>0?"{"+P.join(": ..., ")+": ...}":"{}",T),ce[T+C]=!0}return e===o?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var s=t[r];if("children"!==s&&"key"!==s){re(e),g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",s),re(null);break}}null!==e.ref&&(re(e),g("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(D):le(D),D};ot.Fragment=o,ot.jsxDEV=me}(),st.exports=ot;var it,at=st.exports,nt=o,lt=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;it=function(e,t){lt.usingClientEntryPoint=!0;try{return nt.createRoot(e,t)}finally{lt.usingClientEntryPoint=!1}};var ct=["light","dark"],mt=r.createContext(void 0),dt={setTheme:e=>{},themes:[]};r.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:o,enableColorScheme:i,defaultTheme:a,value:n,attrs:l,nonce:c})=>{let m="system"===a,d="class"===s?`var d=document.documentElement,c=d.classList;c.remove(${l.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${s}',s='setAttribute';`,u=i?ct.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{let o=n?n[e]:e,a=t?e+"|| ''":`'${o}'`,l="";return i&&r&&!t&&ct.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===s?l+=t||o?`c.add(${a})`:"null":o&&(l+=`d[s](n,${a})`),l},p=e?`!function(){${d}${h(e)}}()`:o?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${n?`var x=${JSON.stringify(n)};`:""}${h(n?"x[e]":"e",!0)}}${m?"":"else{"+h(a,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${n?`var x=${JSON.stringify(n)};`:""}${h(n?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${u}}catch(t){}}();`;return r.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var ut=Array(12).fill(0),ht=({visible:e,className:t})=>i.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},i.createElement("div",{className:"sonner-spinner"},ut.map((e,t)=>i.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),pt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ft=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xt=1,Nt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:xt++,i=this.toasts.find(e=>e.id===o),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(t=>t.id===o?(this.publish({...t,...e,id:o,title:r}),{...t,...e,id:o,dismissible:a,title:r}):t):this.addToast({title:r,...s,dismissible:a,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let s,o=e instanceof Promise?e:e(),a=void 0!==r,n=o.then(async e=>{if(s=["resolve",e],i.isValidElement(e))a=!1,this.create({id:r,type:"default",message:e});else if(wt(e)&&!e.ok){a=!1;let s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,o="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:r,type:"error",message:s,description:o})}else if(void 0!==t.success){a=!1;let s="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"success",message:s,description:o})}}).catch(async e=>{if(s=["reject",e],void 0!==t.error){a=!1;let s="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"error",message:s,description:o})}}).finally(()=>{var e;a&&(this.dismiss(r),r=void 0),null==(e=t.finally)||e.call(t)}),l=()=>new Promise((e,t)=>n.then(()=>"reject"===s[0]?t(s[1]):e(s[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||xt++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wt=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,yt=(e,t)=>{let r=(null==t?void 0:t.id)||xt++;return Nt.addToast({title:e,...t,id:r}),r},_t=Object.assign(yt,{success:Nt.success,info:Nt.info,warning:Nt.warning,error:Nt.error,custom:Nt.custom,message:Nt.message,promise:Nt.promise,dismiss:Nt.dismiss,loading:Nt.loading},{getHistory:()=>Nt.toasts,getToasts:()=>Nt.getActiveToasts()});function Et(e){return void 0!==e.label}!function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===t&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Dt=3,St=14;function jt(...e){return e.filter(Boolean).join(" ")}var Tt=e=>{var t,s,o,a,n,l,c,m,d,u,h;let{invert:p,toast:f,unstyled:v,interacting:g,setHeights:b,visibleToasts:x,heights:N,index:w,toasts:y,expanded:_,removeToast:E,defaultRichColors:D,closeButton:S,style:j,cancelButtonStyle:T,actionButtonStyle:P,className:C="",descriptionClassName:k="",duration:U,position:V,gap:A,loadingIcon:M,expandByDefault:I,classNames:L,icons:O,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:F}=e,[$,B]=i.useState(null),[z,G]=i.useState(null),[H,q]=i.useState(!1),[W,X]=i.useState(!1),[Y,J]=i.useState(!1),[K,Q]=i.useState(!1),[Z,ee]=i.useState(!1),[te,re]=i.useState(0),[se,oe]=i.useState(0),ie=i.useRef(f.duration||U||4e3),ae=i.useRef(null),ne=i.useRef(null),le=0===w,ce=w+1<=x,me=f.type,de=!1!==f.dismissible,ue=f.className||"",he=f.descriptionClassName||"",pe=i.useMemo(()=>N.findIndex(e=>e.toastId===f.id)||0,[N,f.id]),fe=i.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:S},[f.closeButton,S]),ve=i.useMemo(()=>f.duration||U||4e3,[f.duration,U]),ge=i.useRef(0),be=i.useRef(0),xe=i.useRef(0),Ne=i.useRef(null),[we,ye]=V.split("-"),_e=i.useMemo(()=>N.reduce((e,t,r)=>r>=pe?e:e+t.height,0),[N,pe]),Ee=(()=>{let[e,t]=i.useState(document.hidden);return i.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),De=f.invert||p,Se="loading"===me;be.current=i.useMemo(()=>pe*A+_e,[pe,_e]),i.useEffect(()=>{ie.current=ve},[ve]),i.useEffect(()=>{q(!0)},[]),i.useEffect(()=>{let e=ne.current;if(e){let t=e.getBoundingClientRect().height;return oe(t),b(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>b(e=>e.filter(e=>e.toastId!==f.id))}},[b,f.id]),i.useLayoutEffect(()=>{if(!H)return;let e=ne.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,oe(r),b(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:r}:e):[{toastId:f.id,height:r,position:f.position},...e])},[H,f.title,f.description,b,f.id]);let je=i.useCallback(()=>{X(!0),re(be.current),b(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{E(f)},200)},[f,E,b,be]);return i.useEffect(()=>{if(f.promise&&"loading"===me||f.duration===1/0||"loading"===f.type)return;let e;return _||g||F&&Ee?(()=>{if(xe.current<ge.current){let e=(new Date).getTime()-ge.current;ie.current=ie.current-e}xe.current=(new Date).getTime()})():ie.current!==1/0&&(ge.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),je()},ie.current)),()=>clearTimeout(e)},[_,g,f,me,F,Ee,je]),i.useEffect(()=>{f.delete&&je()},[je,f.delete]),i.createElement("li",{tabIndex:0,ref:ne,className:jt(C,ue,null==L?void 0:L.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[me],null==(s=null==f?void 0:f.classNames)?void 0:s[me]),"data-sonner-toast":"","data-rich-colors":null!=(o=f.richColors)?o:D,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":W,"data-visible":ce,"data-y-position":we,"data-x-position":ye,"data-index":w,"data-front":le,"data-swiping":Y,"data-dismissible":de,"data-type":me,"data-invert":De,"data-swipe-out":K,"data-swipe-direction":z,"data-expanded":!!(_||I&&H),style:{"--index":w,"--toasts-before":w,"--z-index":y.length-w,"--offset":`${W?te:be.current}px`,"--initial-height":I?"auto":`${se}px`,...j,...f.style},onDragEnd:()=>{J(!1),B(null),Ne.current=null},onPointerDown:e=>{Se||!de||(ae.current=new Date,re(be.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(J(!0),Ne.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,s;if(K||!de)return;Ne.current=null;let o=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(r=ae.current)?void 0:r.getTime()),n="x"===$?o:i,l=Math.abs(n)/a;if(Math.abs(n)>=20||l>.11)return re(be.current),null==(s=f.onDismiss)||s.call(f,f),G("x"===$?o>0?"right":"left":i>0?"down":"up"),je(),Q(!0),void ee(!1);J(!1),B(null)},onPointerMove:t=>{var r,s,o,i;if(!Ne.current||!de||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let a=t.clientY-Ne.current.y,n=t.clientX-Ne.current.x,l=null!=(s=e.swipeDirections)?s:function(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}(V);!$&&(Math.abs(n)>1||Math.abs(a)>1)&&B(Math.abs(n)>Math.abs(a)?"x":"y");let c={x:0,y:0};"y"===$?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&a<0||l.includes("bottom")&&a>0)&&(c.y=a):"x"===$&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&n<0||l.includes("right")&&n>0)&&(c.x=n),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(o=ne.current)||o.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(i=ne.current)||i.style.setProperty("--swipe-amount-y",`${c.y}px`)}},fe&&!f.jsx?i.createElement("button",{"aria-label":R,"data-disabled":Se,"data-close-button":!0,onClick:Se||!de?()=>{}:()=>{var e;je(),null==(e=f.onDismiss)||e.call(f,f)},className:jt(null==L?void 0:L.closeButton,null==(a=null==f?void 0:f.classNames)?void 0:a.closeButton)},null!=(n=null==O?void 0:O.close)?n:bt):null,f.jsx||r.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:i.createElement(i.Fragment,null,me||f.icon||f.promise?i.createElement("div",{"data-icon":"",className:jt(null==L?void 0:L.icon,null==(l=null==f?void 0:f.classNames)?void 0:l.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||(null!=O&&O.loading?i.createElement("div",{className:jt(null==L?void 0:L.loader,null==(Te=null==f?void 0:f.classNames)?void 0:Te.loader,"sonner-loader"),"data-visible":"loading"===me},O.loading):M?i.createElement("div",{className:jt(null==L?void 0:L.loader,null==(Pe=null==f?void 0:f.classNames)?void 0:Pe.loader,"sonner-loader"),"data-visible":"loading"===me},M):i.createElement(ht,{className:jt(null==L?void 0:L.loader,null==(Ce=null==f?void 0:f.classNames)?void 0:Ce.loader),visible:"loading"===me})):null,"loading"!==f.type?f.icon||(null==O?void 0:O[me])||(e=>{switch(e){case"success":return pt;case"info":return vt;case"warning":return ft;case"error":return gt;default:return null}})(me):null):null,i.createElement("div",{"data-content":"",className:jt(null==L?void 0:L.content,null==(c=null==f?void 0:f.classNames)?void 0:c.content)},i.createElement("div",{"data-title":"",className:jt(null==L?void 0:L.title,null==(m=null==f?void 0:f.classNames)?void 0:m.title)},"function"==typeof f.title?f.title():f.title),f.description?i.createElement("div",{"data-description":"",className:jt(k,he,null==L?void 0:L.description,null==(d=null==f?void 0:f.classNames)?void 0:d.description)},"function"==typeof f.description?f.description():f.description):null),r.isValidElement(f.cancel)?f.cancel:f.cancel&&Et(f.cancel)?i.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:e=>{var t,r;Et(f.cancel)&&de&&(null==(r=(t=f.cancel).onClick)||r.call(t,e),je())},className:jt(null==L?void 0:L.cancelButton,null==(u=null==f?void 0:f.classNames)?void 0:u.cancelButton)},f.cancel.label):null,r.isValidElement(f.action)?f.action:f.action&&Et(f.action)?i.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:e=>{var t,r;Et(f.action)&&(null==(r=(t=f.action).onClick)||r.call(t,e),!e.defaultPrevented&&je())},className:jt(null==L?void 0:L.actionButton,null==(h=null==f?void 0:f.classNames)?void 0:h.actionButton)},f.action.label):null));var Te,Pe,Ce};function Pt(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Ct(e,t){let r={};return[e,t].forEach((e,t)=>{let s=1===t,o=s?"--mobile-offset":"--offset",i=s?"16px":"32px";function a(e){["top","right","bottom","left"].forEach(t=>{r[`${o}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${o}-${t}`]=i:r[`${o}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):a(i)}),r}var kt=r.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:n,closeButton:l,className:c,offset:m,mobileOffset:d,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:v=Dt,toastOptions:g,dir:b=Pt(),gap:x=St,loadingIcon:N,icons:w,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:_}=e,[E,D]=i.useState([]),S=i.useMemo(()=>Array.from(new Set([s].concat(E.filter(e=>e.position).map(e=>e.position)))),[E,s]),[j,T]=i.useState([]),[P,C]=i.useState(!1),[k,U]=i.useState(!1),[V,A]=i.useState("system"!==u?u:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=i.useRef(null),I=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=i.useRef(null),O=i.useRef(!1),R=i.useCallback(e=>{D(t=>{var r;return null!=(r=t.find(t=>t.id===e.id))&&r.delete||Nt.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return i.useEffect(()=>Nt.subscribe(e=>{e.dismiss?D(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{a.flushSync(()=>{D(t=>{let r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[]),i.useEffect(()=>{if("system"!==u)return void A(u);if("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(t){}})}},[u]),i.useEffect(()=>{E.length<=1&&C(!1)},[E]),i.useEffect(()=>{let e=e=>{var t,r;o.every(t=>e[t]||e.code===t)&&(C(!0),null==(t=M.current)||t.focus()),"Escape"===e.code&&(document.activeElement===M.current||null!=(r=M.current)&&r.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),i.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,O.current=!1)}},[M.current]),i.createElement("section",{ref:t,"aria-label":`${y} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,s)=>{var o;let[a,u]=t.split("-");return E.length?i.createElement("ol",{key:t,dir:"auto"===b?Pt():b,tabIndex:-1,ref:M,className:c,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":a,"data-lifted":P&&E.length>1&&!n,"data-x-position":u,style:{"--front-toast-height":`${(null==(o=j[0])?void 0:o.height)||0}px`,"--width":"356px","--gap":`${x}px`,...f,...Ct(m,d)},onBlur:e=>{O.current&&!e.currentTarget.contains(e.relatedTarget)&&(O.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||O.current||(O.current=!0,L.current=e.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{k||C(!1)},onDragEnd:()=>C(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U(!0)},onPointerUp:()=>U(!1)},E.filter(e=>!e.position&&0===s||e.position===t).map((s,o)=>{var a,c;return i.createElement(Tt,{key:s.id,icons:w,index:o,toast:s,defaultRichColors:h,duration:null!=(a=null==g?void 0:g.duration)?a:p,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:null!=(c=null==g?void 0:g.closeButton)?c:l,interacting:k,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,removeToast:R,toasts:E.filter(e=>e.position==s.position),heights:j.filter(e=>e.position==s.position),setHeights:T,expandByDefault:n,gap:x,loadingIcon:N,expanded:P,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const Ut=({...e})=>{const{theme:t="system"}=null!=(s=r.useContext(mt))?s:dt;var s;return at.jsxDEV(kt,{theme:t,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/sonner.tsx",lineNumber:10,columnNumber:5},void 0)};var[Vt,At]=m("Tooltip",[h]),Mt=h(),It="TooltipProvider",Lt=700,Ot="tooltip.open",[Rt,Ft]=Vt(It),$t=e=>{const{__scopeTooltip:t,delayDuration:s=Lt,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:a}=e,n=r.useRef(!0),l=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),d.jsx(Rt,{scope:t,isOpenDelayedRef:n,delayDuration:s,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),n.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>n.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:r.useCallback(e=>{l.current=e},[]),disableHoverableContent:i,children:a})};$t.displayName=It;var Bt="Tooltip",[zt,Gt]=Vt(Bt),Ht="TooltipTrigger";r.forwardRef((e,t)=>{const{__scopeTooltip:s,...o}=e,i=Gt(Ht,s),a=Ft(Ht,s),n=Mt(s),l=r.useRef(null),c=b(t,l,i.onTriggerChange),m=r.useRef(!1),u=r.useRef(!1),h=r.useCallback(()=>m.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(x,{asChild:!0,...n,children:d.jsx(N.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:c,onPointerMove:w(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))}),onPointerLeave:w(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:w(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:w(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:w(e.onBlur,i.onClose),onClick:w(e.onClick,i.onClose)})})}).displayName=Ht;var[qt,Wt]=Vt("TooltipPortal",{forceMount:void 0}),Xt="TooltipContent",Yt=r.forwardRef((e,t)=>{const r=Wt(Xt,e.__scopeTooltip),{forceMount:s=r.forceMount,side:o="top",...i}=e,a=Gt(Xt,e.__scopeTooltip);return d.jsx(u,{present:s||a.open,children:a.disableHoverableContent?d.jsx(er,{side:o,...i,ref:t}):d.jsx(Jt,{side:o,...i,ref:t})})}),Jt=r.forwardRef((e,t)=>{const s=Gt(Xt,e.__scopeTooltip),o=Ft(Xt,e.__scopeTooltip),i=r.useRef(null),a=b(t,i),[n,l]=r.useState(null),{trigger:c,onClose:m}=s,u=i.current,{onPointerInTransitChange:h}=o,p=r.useCallback(()=>{l(null),h(!1)},[h]),f=r.useCallback((e,t)=>{const r=e.currentTarget,s={x:e.clientX,y:e.clientY},o=function(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return s}(s,function(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,o,i)){case i:return"left";case o:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,r.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const e=t[t.length-1],s=t[t.length-2];if(!((e.x-s.x)*(r.y-s.y)>=(e.y-s.y)*(r.x-s.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const t=e[s];for(;r.length>=2;){const e=r[r.length-1],s=r[r.length-2];if(!((e.x-s.x)*(t.y-s.y)>=(e.y-s.y)*(t.x-s.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...o,...function(e){const{top:t,right:r,bottom:s,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:s},{x:o,y:s}]}(t.getBoundingClientRect())]);l(i),h(!0)},[h]);return r.useEffect(()=>()=>p(),[p]),r.useEffect(()=>{if(c&&u){const e=e=>f(e,u),t=e=>f(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,f,p]),r.useEffect(()=>{if(n){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},s=(null==c?void 0:c.contains(t))||(null==u?void 0:u.contains(t)),o=!function(e,t){const{x:r,y:s}=e;let o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const e=t[i],n=t[a],l=e.x,c=e.y,m=n.x,d=n.y;c>s!=d>s&&r<(m-l)*(s-c)/(d-c)+l&&(o=!o)}return o}(r,n);s?p():o&&(p(),m())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,n,m,p]),d.jsx(er,{...e,ref:a})}),[Kt,Qt]=Vt(Bt,{isInside:!1}),Zt=v("TooltipContent"),er=r.forwardRef((e,t)=>{const{__scopeTooltip:s,children:o,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:n,...l}=e,c=Gt(Xt,s),m=Mt(s),{onClose:u}=c;return r.useEffect(()=>(document.addEventListener(Ot,u),()=>document.removeEventListener(Ot,u)),[u]),r.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),d.jsx(p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:d.jsxs(f,{"data-state":c.stateAttribute,...m,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Zt,{children:o}),d.jsx(Kt,{scope:s,isInside:!0,children:d.jsx(g,{id:c.contentId,role:"tooltip",children:i||o})})]})})});Yt.displayName=Xt;var tr="TooltipArrow";r.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,o=Mt(r);return Qt(tr,r).isInside?null:d.jsx(y,{...o,...s,ref:t})}).displayName=tr;var rr=$t,sr=Yt;const or=e=>{const t=lr(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ir(r,t)||nr(e)},getConflictingClassGroupIds:(e,t)=>{const o=r[e]||[];return t&&s[e]?[...o,...s[e]]:o}}},ir=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const s=e[0],o=t.nextPart.get(s),i=o?ir(e.slice(1),o):void 0;if(i)return i;if(0===t.validators.length)return;const a=e.join("-");return null==(r=t.validators.find(({validator:e})=>e(a)))?void 0:r.classGroupId},ar=/^\[(.+)\]$/,nr=e=>{if(ar.test(e)){const t=ar.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},lr=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return ur(Object.entries(e.classGroups),r).forEach(([e,r])=>{cr(r,s,e,t)}),s},cr=(e,t,r,s)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:mr(t,e)).classGroupId=r)}if("function"==typeof e)return dr(e)?void cr(e(s),t,r,s):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(([e,o])=>{cr(o,mr(t,e),r,s)})})},mr=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},dr=e=>e.isThemeGetter,ur=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,hr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const o=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,s=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(o(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):o(e,t)}}},pr=e=>{const{separator:t,experimentalParseClassName:r}=e,s=1===t.length,o=t[0],i=t.length,a=e=>{const r=[];let a,n=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===n){if(c===o&&(s||e.slice(d,d+i)===t)){r.push(e.slice(l,d)),l=d+i;continue}if("/"===c){a=d;continue}}"["===c?n++:"]"===c&&n--}const c=0===r.length?e:e.substring(l),m=c.startsWith("!");return{modifiers:r,hasImportantModifier:m,baseClassName:m?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return r?e=>r({className:e,parseClassName:a}):a},fr=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},vr=/\s+/;function gr(){let e,t,r=0,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=br(e))&&(s&&(s+=" "),s+=t);return s}const br=e=>{if("string"==typeof e)return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=br(e[s]))&&(r&&(r+=" "),r+=t);return r};function xr(e,...t){let r,s,o,i=function(n){const l=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:hr(e.cacheSize),parseClassName:pr(e),...or(e)}))(l),s=r.cache.get,o=r.cache.set,i=a,a(n)};function a(e){const t=s(e);if(t)return t;const i=((e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(vr);let n="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:m,maybePostfixModifierPosition:d}=r(e);let u=Boolean(d),h=s(u?m.substring(0,d):m);if(!h){if(!u){n=e+(n.length>0?" "+n:n);continue}if(h=s(m),!h){n=e+(n.length>0?" "+n:n);continue}u=!1}const p=fr(t).join(":"),f=c?p+"!":p,v=f+h;if(i.includes(v))continue;i.push(v);const g=o(h,u);for(let r=0;r<g.length;++r){const e=g[r];i.push(f+e)}n=e+(n.length>0?" "+n:n)}return n})(e,r);return o(e,i),i}return function(){return i(gr.apply(null,arguments))}}const Nr=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},wr=/^\[(?:([a-z-]+):)?(.+)\]$/i,yr=/^\d+\/\d+$/,_r=new Set(["px","full","screen"]),Er=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pr=e=>kr(e)||_r.has(e)||yr.test(e),Cr=e=>Gr(e,"length",Hr),kr=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ur=e=>Gr(e,"number",kr),Vr=e=>Boolean(e)&&Number.isInteger(Number(e)),Ar=e=>e.endsWith("%")&&kr(e.slice(0,-1)),Mr=e=>wr.test(e),Ir=e=>Er.test(e),Lr=new Set(["length","size","percentage"]),Or=e=>Gr(e,Lr,qr),Rr=e=>Gr(e,"position",qr),Fr=new Set(["image","url"]),$r=e=>Gr(e,Fr,Xr),Br=e=>Gr(e,"",Wr),zr=()=>!0,Gr=(e,t,r)=>{const s=wr.exec(e);return!!s&&(s[1]?"string"==typeof t?s[1]===t:t.has(s[1]):r(s[2]))},Hr=e=>Dr.test(e)&&!Sr.test(e),qr=()=>!1,Wr=e=>jr.test(e),Xr=e=>Tr.test(e),Yr=xr(()=>{const e=Nr("colors"),t=Nr("spacing"),r=Nr("blur"),s=Nr("brightness"),o=Nr("borderColor"),i=Nr("borderRadius"),a=Nr("borderSpacing"),n=Nr("borderWidth"),l=Nr("contrast"),c=Nr("grayscale"),m=Nr("hueRotate"),d=Nr("invert"),u=Nr("gap"),h=Nr("gradientColorStops"),p=Nr("gradientColorStopPositions"),f=Nr("inset"),v=Nr("margin"),g=Nr("opacity"),b=Nr("padding"),x=Nr("saturate"),N=Nr("scale"),w=Nr("sepia"),y=Nr("skew"),_=Nr("space"),E=Nr("translate"),D=()=>["auto",Mr,t],S=()=>[Mr,t],j=()=>["",Pr,Cr],T=()=>["auto",kr,Mr],P=()=>["","0",Mr],C=()=>[kr,Mr];return{cacheSize:500,separator:":",theme:{colors:[zr],spacing:[Pr,Cr],blur:["none","",Ir,Mr],brightness:C(),borderColor:[e],borderRadius:["none","","full",Ir,Mr],borderSpacing:S(),borderWidth:j(),contrast:C(),grayscale:P(),hueRotate:C(),invert:P(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Ar,Cr],inset:D(),margin:D(),opacity:C(),padding:S(),saturate:C(),scale:C(),sepia:P(),skew:C(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Mr]}],container:["container"],columns:[{columns:[Ir]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Mr]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vr,Mr]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mr]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Vr,Mr]}],"grid-cols":[{"grid-cols":[zr]}],"col-start-end":[{col:["auto",{span:["full",Vr,Mr]},Mr]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[zr]}],"row-start-end":[{row:["auto",{span:[Vr,Mr]},Mr]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mr]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mr,t]}],"min-w":[{"min-w":[Mr,t,"min","max","fit"]}],"max-w":[{"max-w":[Mr,t,"none","full","min","max","fit","prose",{screen:[Ir]},Ir]}],h:[{h:[Mr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ir,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ur]}],"font-family":[{font:[zr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mr]}],"line-clamp":[{"line-clamp":["none",kr,Ur]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pr,Mr]}],"list-image":[{"list-image":["none",Mr]}],"list-style-type":[{list:["none","disc","decimal",Mr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pr,Cr]}],"underline-offset":[{"underline-offset":["auto",Pr,Mr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Rr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Or]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$r]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[n]}],"border-w-x":[{"border-x":[n]}],"border-w-y":[{"border-y":[n]}],"border-w-s":[{"border-s":[n]}],"border-w-e":[{"border-e":[n]}],"border-w-t":[{"border-t":[n]}],"border-w-r":[{"border-r":[n]}],"border-w-b":[{"border-b":[n]}],"border-w-l":[{"border-l":[n]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[n]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[n]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Pr,Mr]}],"outline-w":[{outline:[Pr,Cr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Pr,Cr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ir,Br]}],"shadow-color":[{shadow:[zr]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ir,Mr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mr]}],duration:[{duration:C()}],ease:[{ease:["linear","in","out","in-out",Mr]}],delay:[{delay:C()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Vr,Mr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pr,Cr,Ur]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Jr(...e){return Yr(Q(e))}const Kr=rr;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qr.apply(this,arguments)}var Zr,es;r.forwardRef(({className:e,sideOffset:t=4,...r},s)=>at.jsxDEV(sr,{ref:s,sideOffset:t,className:Jr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0)).displayName=sr.displayName,(es=Zr||(Zr={})).Pop="POP",es.Push="PUSH",es.Replace="REPLACE";const ts="popstate";function rs(e){return void 0===e&&(e={}),function(e,t,r,s){void 0===s&&(s={});let{window:o=document.defaultView,v5Compat:i=!1}=s,a=o.history,n=Zr.Pop,l=null,c=m();null==c&&(c=0,a.replaceState(Qr({},a.state,{idx:c}),""));function m(){return(a.state||{idx:null}).idx}function d(){n=Zr.Pop;let e=m(),t=null==e?null:e-c;c=e,l&&l({action:n,location:f.location,delta:t})}function u(e,t){n=Zr.Push;let r=as(f.location,e,t);c=m()+1;let s=is(r,c),d=f.createHref(r);try{a.pushState(s,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(d)}i&&l&&l({action:n,location:f.location,delta:1})}function h(e,t){n=Zr.Replace;let r=as(f.location,e,t);c=m();let s=is(r,c),o=f.createHref(r);a.replaceState(s,"",o),i&&l&&l({action:n,location:f.location,delta:0})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,r="string"==typeof e?e:ns(e);return r=r.replace(/ $/,"%20"),ss(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let f={get action(){return n},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(ts,d),l=e,()=>{o.removeEventListener(ts,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:u,replace:h,go:e=>a.go(e)};return f}(function(e,t){let{pathname:r,search:s,hash:o}=e.location;return as("",{pathname:r,search:s,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:ns(t)},0,e)}function ss(e,t){if(!1===e||null==e)throw new Error(t)}function os(e,t){if(!e)try{throw new Error(t)}catch(r){}}function is(e,t){return{usr:e.state,key:e.key,idx:t}}function as(e,t,r,s){return void 0===r&&(r=null),Qr({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?ls(t):t,{state:r,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function ns(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function ls(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}var cs,ms;function ds(e,t,r){return void 0===r&&(r="/"),function(e,t,r){let s="string"==typeof t?ls(t):t,o=Ds(s.pathname||"/",r);if(null==o)return null;let i=us(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let n=0;null==a&&n<i.length;++n){let e=Es(o);a=ys(i[n],e)}return a}(e,t,r)}function us(e,t,r,s){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===s&&(s="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(ss(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(s.length));let n=Ps([s,a.relativePath]),l=r.concat(a);e.children&&e.children.length>0&&(ss(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+n+'".'),us(e.children,t,l,n)),(null!=e.path||e.index)&&t.push({path:n,score:ws(n,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let s of hs(e.path))o(e,t,s);else o(e,t)}),t}function hs(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,o=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===s.length)return o?[i,""]:[i];let a=hs(s.join("/")),n=[];return n.push(...a.map(e=>""===e?i:[i,e].join("/"))),o&&n.push(...a),n.map(t=>e.startsWith("/")&&""===t?"/":t)}(ms=cs||(cs={})).data="data",ms.deferred="deferred",ms.redirect="redirect",ms.error="error";const ps=/^:[\w-]+$/,fs=3,vs=2,gs=1,bs=10,xs=-2,Ns=e=>"*"===e;function ws(e,t){let r=e.split("/"),s=r.length;return r.some(Ns)&&(s+=xs),t&&(s+=vs),r.filter(e=>!Ns(e)).reduce((e,t)=>e+(ps.test(t)?fs:""===t?gs:bs),s)}function ys(e,t,r){let{routesMeta:s}=e,o={},i="/",a=[];for(let n=0;n<s.length;++n){let e=s[n],r=n===s.length-1,l="/"===i?t:t.slice(i.length)||"/",c=_s({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},l),m=e.route;if(!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:Ps([i,c.pathname]),pathnameBase:Cs(Ps([i,c.pathnameBase])),route:m}),"/"!==c.pathnameBase&&(i=Ps([i,c.pathnameBase]))}return a}function _s(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);os("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,s]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),n=o.slice(1);return{params:s.reduce((e,t,r)=>{let{paramName:s,isOptional:o}=t;if("*"===s){let e=n[r]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=n[r];return e[s]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function Es(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return os(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ds(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}function Ss(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function js(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function Ts(e,t,r,s){let o;void 0===s&&(s=!1),"string"==typeof e?o=ls(e):(o=Qr({},e),ss(!o.pathname||!o.pathname.includes("?"),Ss("?","pathname","search",o)),ss(!o.pathname||!o.pathname.includes("#"),Ss("#","pathname","hash",o)),ss(!o.search||!o.search.includes("#"),Ss("#","search","hash",o)));let i,a=""===e||""===o.pathname,n=a?"/":o.pathname;if(null==n)i=r;else{let e=t.length-1;if(!s&&n.startsWith("..")){let t=n.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:s="",hash:o=""}="string"==typeof e?ls(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:ks(s),hash:Us(o)}}(o,i),c=n&&"/"!==n&&n.endsWith("/"),m=(a||"."===n)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!m||(l.pathname+="/"),l}const Ps=e=>e.join("/").replace(/\/\/+/g,"/"),Cs=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ks=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Us=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Vs=["post","put","patch","delete"];new Set(Vs);const As=["get",...Vs];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ms.apply(this,arguments)}new Set(As);const Is=r.createContext(null);Is.displayName="DataRouter";const Ls=r.createContext(null);Ls.displayName="DataRouterState";r.createContext(null).displayName="Await";const Os=r.createContext(null);Os.displayName="Navigation";const Rs=r.createContext(null);Rs.displayName="Location";const Fs=r.createContext({outlet:null,matches:[],isDataRoute:!1});Fs.displayName="Route";const $s=r.createContext(null);function Bs(){return null!=r.useContext(Rs)}function zs(){return Bs()||ss(!1,"useLocation() may be used only in the context of a <Router> component."),r.useContext(Rs).location}$s.displayName="RouteError";const Gs="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hs(e){r.useContext(Os).static||r.useLayoutEffect(e)}function qs(){let{isDataRoute:e}=r.useContext(Fs);return e?function(){let{router:e}=function(e){let t=r.useContext(Is);return t||ss(!1,to(e)),t}(Zs.UseNavigateStable),t=ro(eo.UseNavigateStable),s=r.useRef(!1);return Hs(()=>{s.current=!0}),r.useCallback(function(r,o){void 0===o&&(o={}),os(s.current,Gs),s.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Ms({fromRouteId:t},o)))},[e,t])}():function(){Bs()||ss(!1,"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Is),{basename:t,future:s,navigator:o}=r.useContext(Os),{matches:i}=r.useContext(Fs),{pathname:a}=zs(),n=JSON.stringify(js(i,s.v7_relativeSplatPath)),l=r.useRef(!1);return Hs(()=>{l.current=!0}),r.useCallback(function(r,s){if(void 0===s&&(s={}),os(l.current,Gs),!l.current)return;if("number"==typeof r)return void o.go(r);let i=Ts(r,JSON.parse(n),a,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:Ps([t,i.pathname])),(s.replace?o.replace:o.push)(i,s.state,s)},[t,o,n,a,e])}()}function Ws(e,t){let{relative:s}=void 0===t?{}:t,{future:o}=r.useContext(Os),{matches:i}=r.useContext(Fs),{pathname:a}=zs(),n=JSON.stringify(js(i,o.v7_relativeSplatPath));return r.useMemo(()=>Ts(e,JSON.parse(n),a,"path"===s),[e,n,a,s])}function Xs(e,t){return function(e,t,s,o){Bs()||ss(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(Os),{matches:a}=r.useContext(Fs),n=a[a.length-1],l=n?n.params:{},c=n?n.pathname:"/",m=n?n.pathnameBase:"/",d=n&&n.route;{let e=d&&d.path||"";oo(c,!d||e.endsWith("*"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'+c+'" (under <Route path="'+e+'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="'+e+'"> to <Route path="'+("/"===e?"*":e+"/*")+'">.')}let u,h=zs();if(t){var p;let e="string"==typeof t?ls(t):t;"/"===m||(null==(p=e.pathname)?void 0:p.startsWith(m))||ss(!1,'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'+m+'" but pathname "'+e.pathname+'" was given in the `location` prop.'),u=e}else u=h;let f=u.pathname||"/",v=f;if("/"!==m){let e=m.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=ds(e,{pathname:v});os(d||null!=g,'No routes matched location "'+u.pathname+u.search+u.hash+'" '),os(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,'Matched leaf route at location "'+u.pathname+u.search+u.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let b=function(e,t,s,o){var i;void 0===t&&(t=[]);void 0===s&&(s=null);void 0===o&&(o=null);if(null==e){var a;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(a=o)&&a.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let n=e,l=null==(i=s)?void 0:i.errors;if(null!=l){let e=n.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||ss(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(l).join(",")),n=n.slice(0,Math.min(n.length,e+1))}let c=!1,m=-1;if(s&&o&&o.v7_partialHydration)for(let r=0;r<n.length;r++){let e=n[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(m=r),e.route.id){let{loaderData:t,errors:r}=s,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){c=!0,n=m>=0?n.slice(0,m+1):[n[0]];break}}}return n.reduceRight((e,o,i)=>{let a,d=!1,u=null,h=null;s&&(a=l&&o.route.id?l[o.route.id]:void 0,u=o.route.errorElement||Js,c&&(m<0&&0===i?(oo("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):m===i&&(d=!0,h=o.route.hydrateFallbackElement||null)));let p=t.concat(n.slice(0,i+1)),f=()=>{let t;return t=a?u:d?h:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(Qs,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(Ks,{location:s.location,revalidation:s.revalidation,component:u,error:a,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Ps([m,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:Ps([m,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,s,o);if(t&&b)return r.createElement(Rs.Provider,{value:{location:Ms({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zr.Pop}},b);return b}(e,t)}function Ys(){let e=function(){var e;let t=r.useContext($s),s=function(e){let t=r.useContext(Ls);return t||ss(!1,to(e)),t}(eo.UseRouteError),o=ro(eo.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[o]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},n=null;return n=r.createElement(r.Fragment,null,r.createElement("p",null," Hey developer "),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),s?r.createElement("pre",{style:i},s):null,n)}const Js=r.createElement(Ys,null);class Ks extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?r.createElement(Fs.Provider,{value:this.props.routeContext},r.createElement($s.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qs(e){let{routeContext:t,match:s,children:o}=e,i=r.useContext(Is);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),r.createElement(Fs.Provider,{value:t},o)}var Zs=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zs||{}),eo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eo||{});function to(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ro(e){let t=function(e){let t=r.useContext(Fs);return t||ss(!1,to(e)),t}(e),s=t.matches[t.matches.length-1];return s.route.id||ss(!1,e+' can only be used on routes that contain a unique "id"'),s.route.id}const so={};function oo(e,t,r){t||so[e]||(so[e]=!0,os(!1,r))}const io={};const ao=(e,t,r)=>{var s;io[s=" React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+r+"."]||(io[s]=!0)};function no(e){ss(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lo(e){let{basename:t="/",children:s=null,location:o,navigationType:i=Zr.Pop,navigator:a,static:n=!1,future:l}=e;Bs()&&ss(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:c,navigator:a,static:n,future:Ms({v7_relativeSplatPath:!1},l)}),[c,l,a,n]);"string"==typeof o&&(o=ls(o));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:f="default"}=o,v=r.useMemo(()=>{let e=Ds(d,c);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:f},navigationType:i}},[c,d,u,h,p,f,i]);return os(null!=v,'<Router basename="'+c+'"> is not able to match the URL "'+d+u+h+"\" because it does not start with the basename, so the <Router> won't render anything."),null==v?null:r.createElement(Os.Provider,{value:m},r.createElement(Rs.Provider,{children:s,value:v}))}function co(e){let{children:t,location:r}=e;return Xs(mo(t),r)}function mo(e,t){void 0===t&&(t=[]);let s=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void s.push.apply(s,mo(e.props.children,i));e.type!==no&&ss(!1,"["+("string"==typeof e.type?e.type:e.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),e.props.index&&e.props.children&&ss(!1,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=mo(e.props.children,i)),s.push(a)}),s}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uo.apply(this,arguments)}function ho(e,t){if(null==e)return{};var r,s,o={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(o[r]=e[r]);return o}new Promise(()=>{});const po="get",fo="application/x-www-form-urlencoded";function vo(e){return null!=e&&"string"==typeof e.tagName}let go=null;const bo=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xo(e){return null==e||bo.has(e)?e:(os(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "'+fo+'"'),null)}function No(e,t){let r,s,o,i,a;if(vo(n=e)&&"form"===n.tagName.toLowerCase()){let a=e.getAttribute("action");s=a?Ds(a,t):null,r=e.getAttribute("method")||po,o=xo(e.getAttribute("enctype"))||fo,i=new FormData(e)}else if(function(e){return vo(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return vo(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let n=e.getAttribute("formaction")||a.getAttribute("action");if(s=n?Ds(n,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||po,o=xo(e.getAttribute("formenctype"))||xo(a.getAttribute("enctype"))||fo,i=new FormData(a,e),!function(){if(null===go)try{new FormData(document.createElement("form"),0),go=!1}catch(e){go=!0}return go}()){let{name:t,type:r,value:s}=e;if("image"===r){let e=t?t+".":"";i.append(e+"x","0"),i.append(e+"y","0")}else t&&i.append(t,s)}}else{if(vo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=po,s=null,o=fo,a=e}var n;return i&&"text/plain"===o&&(a=i,i=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:i,body:a}}const wo=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yo=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_o=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(kp){}const Eo=r.createContext({isTransitioning:!1});Eo.displayName="ViewTransition";r.createContext(new Map).displayName="Fetchers";const Do=n.startTransition;function So(e){let{basename:t,children:s,future:o,window:i}=e,a=r.useRef();null==a.current&&(a.current=rs({window:i,v5Compat:!0}));let n=a.current,[l,c]=r.useState({action:n.action,location:n.location}),{v7_startTransition:m}=o||{},d=r.useCallback(e=>{m&&Do?Do(()=>c(e)):c(e)},[c,m]);return r.useLayoutEffect(()=>n.listen(d),[n,d]),r.useEffect(()=>{return void 0===(null==(e=o)?void 0:e.v7_startTransition)&&ao("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void(void 0===(null==e?void 0:e.v7_relativeSplatPath)&&ao("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"));var e},[o]),r.createElement(lo,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:n,future:o})}const jo="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,To=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Po=r.forwardRef(function(e,t){let s,{onClick:o,relative:i,reloadDocument:a,replace:n,state:l,target:c,to:m,preventScrollReset:d,viewTransition:u}=e,h=ho(e,wo),{basename:p}=r.useContext(Os),f=!1;if("string"==typeof m&&To.test(m)&&(s=m,jo))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=Ds(t.pathname,p);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:f=!0}catch(kp){os(!1,'<Link to="'+m+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let v=function(e,t){let{relative:s}=void 0===t?{}:t;Bs()||ss(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:i}=r.useContext(Os),{hash:a,pathname:n,search:l}=Ws(e,{relative:s}),c=n;return"/"!==o&&(c="/"===n?o:Ps([o,n])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:i}),g=function(e,t){let{target:s,replace:o,state:i,preventScrollReset:a,relative:n,viewTransition:l}=void 0===t?{}:t,c=qs(),m=zs(),d=Ws(e,{relative:n});return r.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,s)){t.preventDefault();let r=void 0!==o?o:ns(m)===ns(d);c(e,{replace:r,state:i,preventScrollReset:a,relative:n,viewTransition:l})}},[m,c,d,o,i,s,e,a,n,l])}(m,{replace:n,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:u});return r.createElement("a",uo({},h,{href:s||v,onClick:f||a?o:function(e){o&&o(e),e.defaultPrevented||g(e)},ref:t,target:c}))});Po.displayName="Link";r.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:i="",end:a=!1,style:n,to:l,viewTransition:c,children:m}=e,d=ho(e,yo),u=Ws(l,{relative:d.relative}),h=zs(),p=r.useContext(Ls),{navigator:f,basename:v}=r.useContext(Os),g=null!=p&&function(e,t){void 0===t&&(t={});let s=r.useContext(Eo);null==s&&ss(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ao(Co.useViewTransitionState),i=Ws(e,{relative:t.relative});if(!s.isTransitioning)return!1;let a=Ds(s.currentLocation.pathname,o)||s.currentLocation.pathname,n=Ds(s.nextLocation.pathname,o)||s.nextLocation.pathname;return null!=_s(i.pathname,n)||null!=_s(i.pathname,a)}(u)&&!0===c,b=f.encodeLocation?f.encodeLocation(u).pathname:u.pathname,x=h.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(x=x.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&v&&(N=Ds(N,v)||N);const w="/"!==b&&b.endsWith("/")?b.length-1:b.length;let y,_=x===b||!a&&x.startsWith(b)&&"/"===x.charAt(w),E=null!=N&&(N===b||!a&&N.startsWith(b)&&"/"===N.charAt(b.length)),D={isActive:_,isPending:E,isTransitioning:g},S=_?s:void 0;y="function"==typeof i?i(D):[i,_?"active":null,E?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let j="function"==typeof n?n(D):n;return r.createElement(Po,uo({},d,{"aria-current":S,className:y,ref:t,style:j,to:l,viewTransition:c}),"function"==typeof m?m(D):m)}).displayName="NavLink";var Co,ko,Uo,Vo;function Ao(e){let t=r.useContext(Is);return t||ss(!1,function(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}(e)),t}r.forwardRef((e,t)=>{let{fetcherKey:s,navigate:o,reloadDocument:i,replace:a,state:n,method:l=po,action:c,onSubmit:m,relative:d,preventScrollReset:u,viewTransition:h}=e,p=ho(e,_o),f=function(){let{router:e}=Ao(Co.UseSubmit),{basename:t}=r.useContext(Os),s=ro(eo.UseRouteId);return r.useCallback(function(r,o){void 0===o&&(o={}),function(){if("undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:i,method:a,encType:n,formData:l,body:c}=No(r,t);if(!1===o.navigate){let t=o.fetcherKey||Io();e.fetch(t,s,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||n,flushSync:o.flushSync})}else e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||n,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,s])}(),v=function(e,t){let{relative:s}=void 0===t?{}:t,{basename:o}=r.useContext(Os),i=r.useContext(Fs);i||ss(!1,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),n=uo({},Ws(e||".",{relative:s})),l=zs();if(null==e){n.search=l.search;let e=new URLSearchParams(n.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();n.search=r?"?"+r:""}}e&&"."!==e||!a.route.index||(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index");"/"!==o&&(n.pathname="/"===n.pathname?o:Ps([o,n.pathname]));return ns(n)}(c,{relative:d}),g="get"===l.toLowerCase()?"get":"post";return r.createElement("form",uo({ref:t,method:g,action:v,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null==t?void 0:t.getAttribute("formmethod"))||l;f(t||e.currentTarget,{fetcherKey:s,method:r,navigate:o,replace:a,state:n,relative:d,preventScrollReset:u,viewTransition:h})}},p))}).displayName="Form",(ko=Co||(Co={})).UseScrollRestoration="useScrollRestoration",ko.UseSubmit="useSubmit",ko.UseSubmitFetcher="useSubmitFetcher",ko.UseFetcher="useFetcher",ko.useViewTransitionState="useViewTransitionState",(Vo=Uo||(Uo={})).UseFetcher="useFetcher",Vo.UseFetchers="useFetchers",Vo.UseScrollRestoration="useScrollRestoration";let Mo=0,Io=()=>"__"+String(++Mo)+"__";const Lo=[];for(let s=0;s<256;++s)Lo.push((s+256).toString(16).slice(1));let Oo;const Ro=new Uint8Array(16);const Fo={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function $o(e,t,r){var s;if(Fo.randomUUID&&!e)return Fo.randomUUID();const o=(e=e||{}).random??(null==(s=e.rng)?void 0:s.call(e))??function(){if(!Oo){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Oo=crypto.getRandomValues.bind(crypto)}return Oo(Ro)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(e,t=0){return(Lo[e[t+0]]+Lo[e[t+1]]+Lo[e[t+2]]+Lo[e[t+3]]+"-"+Lo[e[t+4]]+Lo[e[t+5]]+"-"+Lo[e[t+6]]+Lo[e[t+7]]+"-"+Lo[e[t+8]]+Lo[e[t+9]]+"-"+Lo[e[t+10]]+Lo[e[t+11]]+Lo[e[t+12]]+Lo[e[t+13]]+Lo[e[t+14]]+Lo[e[t+15]]).toLowerCase()}(o)}const Bo=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,zo=Q,Go=(e,t)=>r=>{var s;if(null==(null==t?void 0:t.variants))return zo(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map(e=>{const t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;const a=Bo(t)||Bo(s);return o[e][a]}),n=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{}),l=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...o}=t;return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...n}[t]):{...i,...n}[t]===r})?[...e,r,s]:e},[]);return zo(e,a,l,null==r?void 0:r.class,null==r?void 0:r.className)},Ho=Go("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-soft",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-soft font-semibold transition-bounce",music:"bg-gradient-music text-primary-foreground hover:shadow-primary transition-smooth",coral:"bg-accent-coral text-accent-coral-foreground hover:bg-accent-coral/90 shadow-soft",turquoise:"bg-accent-turquoise text-accent-turquoise-foreground hover:bg-accent-turquoise/90 shadow-soft"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qo=r.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...o},i)=>{const a=s?_:"button";return at.jsxDEV(a,{className:Jr(Ho({variant:t,size:r,className:e})),ref:i,...o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/button.tsx",lineNumber:51,columnNumber:7},void 0)});function Wo(e,t){let r;try{r=e()}catch(kp){return}return{getItem:e=>{var t;const s=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=r.getItem(e))?t:null;return o instanceof Promise?o.then(s):s(o)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}qo.displayName="Button";const Xo=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>Xo(e)(r),catch(e){return this}}}catch(kp){return{then(e){return this},catch:t=>Xo(t)(kp)}}},Yo=(e,t)=>(r,s,o)=>{let i={storage:Wo(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const n=new Set,l=new Set;let c=i.storage;if(!c)return e((...e)=>{r(...e)},s,o);const m=()=>{const e=i.partialize({...s()});return c.setItem(i.name,{state:e,version:i.version})},d=o.setState;o.setState=(e,t)=>(d(e,t),m());const u=e((...e)=>(r(...e),m()),s,o);let h;o.getInitialState=()=>u;const p=()=>{var e,t;if(!c)return;a=!1,n.forEach(e=>{var t;return e(null!=(t=s())?t:u)});const o=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=s())?e:u))||void 0;return Xo(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[o,a]=e;if(h=i.merge(a,null!=(t=s())?t:u),r(h,!0),o)return m()}).then(()=>{null==o||o(h,void 0),h=s(),a=!0,l.forEach(e=>e(h))}).catch(e=>{null==o||o(void 0,e)})};return o.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:e=>(n.add(e),()=>{n.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||p(),h||u},Jo={},Ko=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Jo)return;Jo[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,r&&o.setAttribute("nonce",r),document.head.appendChild(o),t?new Promise((t,r)=>{o.addEventListener("load",t),o.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},Qo="memora-guest-id";function Zo(){try{const e=localStorage.getItem(Qo),t=localStorage.getItem("deviceId");if(e)return t&&t!==e?(localStorage.setItem(Qo,t),t):e;if(t)return localStorage.setItem(Qo,t),t;const r=$o();return localStorage.setItem(Qo,r),localStorage.setItem("deviceId",r),r}catch(e){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}function ei(){try{localStorage.getItem(Qo)&&localStorage.removeItem(Qo)}catch(e){}}function ti(){try{return localStorage.getItem(Qo)}catch(e){return null}}const ri=Object.freeze(Object.defineProperty({__proto__:null,clearGuestId:ei,getCurrentGuestId:ti,getOrCreateGuestId:Zo},Symbol.toStringTag,{value:"Module"})),si={isDevelopment:!0,apiBaseUrl:"http://localhost:3337"}.apiBaseUrl,oi={GENERATE_PREVIEW:`${si}/api/generate-preview`,CHECK_MUSIC_STATUS:`${si}/api/check-music-status`,SONGS:"/api/songs",SONGS_DISCOVER:"/api/songs/discover",MIGRATE_GUEST_DATA:"/api/migrate-guest-data",LOGIN:"/api/auth/login",SIGNUP:"/api/auth/signup",LOGOUT:"/api/auth/logout",PAYWALL:`${si}/api/user`,SUNO_GENERATE:"https://api.sunoapi.org/api/generate",SUNO_GET_TASK:"https://api.sunoapi.org/api/get"},ii=async()=>{const{useAuthStore:e}=await Ko(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>ec);return{useAuthStore:e}},void 0),{isLoggedIn:t,user:r}=e.getState();let s=oi.SONGS;if(t&&(null==r?void 0:r.id))s+=`?userId=${encodeURIComponent(r.id)}`;else{const{getOrCreateGuestId:e}=await Ko(async()=>{const{getOrCreateGuestId:e}=await Promise.resolve().then(()=>ri);return{getOrCreateGuestId:e}},void 0),t=e();s+=`?guestId=${encodeURIComponent(t)}`}return di(s)},ai=(e=24)=>di(`${oi.SONGS_DISCOVER}?limit=${e}`),ni=e=>di(`${oi.SONGS}/${e}/public`),li=e=>di(`${oi.SONGS}/${e}`,{method:"DELETE"}),ci=async e=>{const{useAuthStore:t}=await Ko(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>ec);return{useAuthStore:e}},void 0),{user:r}=t.getState(),s=localStorage.getItem("deviceId");return di(oi.MIGRATE_GUEST_DATA,{method:"POST",body:{guestId:e,userId:null==r?void 0:r.id,email:null==r?void 0:r.email,name:null==r?void 0:r.name,deviceId:s}})},mi=async e=>{try{const t=`${si||""}/api/suno/music/${e}`,r=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();return{success:!1,error:`API Error: ${r.status} ${r.statusText}`,message:e}}const s=await r.json();return(null==s?void 0:s.success)&&(null==s?void 0:s.data)?{success:!0,data:s.data}:{success:!1,error:(null==s?void 0:s.error)||"Resposta invlida da API Suno",message:null==s?void 0:s.message}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erro desconhecido",message:"Falha ao conectar com a API da Suno"}}},di=async(e,t={})=>{const{method:r="GET",body:s,headers:o={}}=t;try{const{useAuthStore:t}=await Ko(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>ec);return{useAuthStore:e}},void 0),{token:n,isLoggedIn:l}=t.getState(),c={"Content-Type":"application/json",...o},m=localStorage.getItem("deviceId");if(m&&(c["X-Device-ID"]=m),l&&n)c.Authorization=`Bearer ${n}`;else{const e=Zo();c["X-Guest-ID"]=e}const d=e.startsWith("http")?e:`${si}${e}`,u={method:r,headers:c,...s&&{body:"string"==typeof s?s:JSON.stringify(s)}},h=await fetch(d,u);if(!h.ok){let e;try{const t=await h.text();try{e=JSON.parse(t)}catch(i){e={message:t}}}catch(a){e={message:`API Error: ${h.status} ${h.statusText}`}}const t=e.message||`API Error: ${h.status} ${h.statusText}`,r=new Error(t);throw r.status=h.status,r.statusText=h.statusText,r.data=e,r}return await h.json()}catch(n){throw n}};class ui extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class hi extends ui{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pi extends ui{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fi extends ui{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vi,gi;(gi=vi||(vi={})).Any="any",gi.ApNortheast1="ap-northeast-1",gi.ApNortheast2="ap-northeast-2",gi.ApSouth1="ap-south-1",gi.ApSoutheast1="ap-southeast-1",gi.ApSoutheast2="ap-southeast-2",gi.CaCentral1="ca-central-1",gi.EuCentral1="eu-central-1",gi.EuWest1="eu-west-1",gi.EuWest2="eu-west-2",gi.EuWest3="eu-west-3",gi.SaEast1="sa-east-1",gi.UsEast1="us-east-1",gi.UsWest1="us-west-1",gi.UsWest2="us-west-2";var bi=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};class xi{constructor(e,{headers:t={},customFetch:r,region:s=vi.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Ko(async()=>{const{default:e}=await Promise.resolve().then(()=>Ui);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return bi(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=t;let a={},{region:n}=t;n||(n=this.region);const l=new URL(`${this.url}/${e}`);let c;n&&"any"!==n&&(a["x-region"]=n,l.searchParams.set("forceFunctionRegion",n)),i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):"string"==typeof i?(a["Content-Type"]="text/plain",c=i):"undefined"!=typeof FormData&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const m=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(e=>{throw new hi(e)}),d=m.headers.get("x-relay-error");if(d&&"true"===d)throw new pi(m);if(!m.ok)throw new fi(m);let u,h=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return u="application/json"===h?yield m.json():"application/octet-stream"===h?yield m.blob():"text/event-stream"===h?m:"multipart/form-data"===h?yield m.formData():yield m.text(),{data:u,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof fi||s instanceof pi?s.context:void 0}}})}}var Ni={},wi={},yi={},_i={},Ei={},Di={},Si=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const ji=Si.fetch,Ti=Si.fetch.bind(Si),Pi=Si.Headers,Ci=Si.Request,ki=Si.Response,Ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pi,Request:Ci,Response:ki,default:Ti,fetch:ji},Symbol.toStringTag,{value:"Module"})),Vi=l(Ui);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});let Mi=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ai.default=Mi;var Ii=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const Li=Ii(Vi),Oi=Ii(Ai);Di.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Li.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,s,o;let i=null,a=null,n=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const o=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),m=null===(s=e.headers.get("content-range"))||void 0===s?void 0:s.split("/");o&&m&&m.length>1&&(n=parseInt(m[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,n=null,l=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(a=[],i=null,l=200,c="OK")}catch(m){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(o=null==i?void 0:i.details)||void 0===o?void 0:o.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new Oi.default(i)}return{error:i,data:a,count:n,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,s;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(s=null==e?void 0:e.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};var Ri=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const Fi=Ri(Di);let $i=class extends Fi.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const o=void 0===s?"offset":`${s}.offset`,i=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const n=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${n};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ei.default=$i;var Bi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const zi=Bi(Ei);let Gi=class extends zi.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let o="";"plain"===s?o="pl":"phrase"===s?o="ph":"websearch"===s&&(o="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};_i.default=Gi;var Hi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0});const qi=Hi(_i);yi.default=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let o=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new qi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new qi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e,{count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new qi.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new qi.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}};var Wi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wi,"__esModule",{value:!0});const Xi=Wi(yi),Yi=Wi(_i);wi.default=class e{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Xi.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:o}={}){var i;let a;const n=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{n.searchParams.append(e,t)})):(a="POST",l=t);const c=new Headers(this.headers);return o&&c.set("Prefer",`count=${o}`),new Yi.default({method:a,url:n,headers:c,schema:this.schemaName,body:l,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}};var Ji=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.PostgrestError=Ni.PostgrestBuilder=Ni.PostgrestTransformBuilder=Ni.PostgrestFilterBuilder=Ni.PostgrestQueryBuilder=Ni.PostgrestClient=void 0;const Ki=Ji(wi);Ni.PostgrestClient=Ki.default;const Qi=Ji(yi);Ni.PostgrestQueryBuilder=Qi.default;const Zi=Ji(_i);Ni.PostgrestFilterBuilder=Zi.default;const ea=Ji(Ei);Ni.PostgrestTransformBuilder=ea.default;const ta=Ji(Di);Ni.PostgrestBuilder=ta.default;const ra=Ji(Ai);Ni.PostgrestError=ra.default;var sa=Ni.default={PostgrestClient:Ki.default,PostgrestQueryBuilder:Qi.default,PostgrestFilterBuilder:Zi.default,PostgrestTransformBuilder:ea.default,PostgrestBuilder:ta.default,PostgrestError:ra.default};const{PostgrestClient:oa,PostgrestQueryBuilder:ia,PostgrestFilterBuilder:aa,PostgrestTransformBuilder:na,PostgrestBuilder:la,PostgrestError:ca}=sa;class ma{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const da=1e4;var ua,ha,pa,fa,va,ga,ba,xa,Na,wa,ya;(ha=ua||(ua={}))[ha.connecting=0]="connecting",ha[ha.open=1]="open",ha[ha.closing=2]="closing",ha[ha.closed=3]="closed",(fa=pa||(pa={})).closed="closed",fa.errored="errored",fa.joined="joined",fa.joining="joining",fa.leaving="leaving",(ga=va||(va={})).close="phx_close",ga.error="phx_error",ga.join="phx_join",ga.reply="phx_reply",ga.leave="phx_leave",ga.access_token="access_token",(ba||(ba={})).websocket="websocket",(Na=xa||(xa={})).Connecting="connecting",Na.Open="open",Na.Closing="closing",Na.Closed="closed";class _a{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),o=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+s));i+=s;const n=r.decode(e.slice(i,i+o));i+=o;return{ref:null,topic:a,event:n,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class Ea{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(ya=wa||(wa={})).abstime="abstime",ya.bool="bool",ya.date="date",ya.daterange="daterange",ya.float4="float4",ya.float8="float8",ya.int2="int2",ya.int4="int4",ya.int4range="int4range",ya.int8="int8",ya.int8range="int8range",ya.json="json",ya.jsonb="jsonb",ya.money="money",ya.numeric="numeric",ya.oid="oid",ya.reltime="reltime",ya.text="text",ya.time="time",ya.timestamp="timestamp",ya.timestamptz="timestamptz",ya.timetz="timetz",ya.tsrange="tsrange",ya.tstzrange="tstzrange";const Da=(e,t,r={})=>{var s;const o=null!==(s=r.skipTypes)&&void 0!==s?s:[];return Object.keys(t).reduce((r,s)=>(r[s]=Sa(s,e,t,o),r),{})},Sa=(e,t,r,s)=>{const o=t.find(t=>t.name===e),i=null==o?void 0:o.type,a=r[e];return i&&!s.includes(i)?ja(i,a):Ta(a)},ja=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Ua(t,r)}switch(e){case wa.bool:return Pa(t);case wa.float4:case wa.float8:case wa.int2:case wa.int4:case wa.int8:case wa.numeric:case wa.oid:return Ca(t);case wa.json:case wa.jsonb:return ka(t);case wa.timestamp:return Va(t);case wa.abstime:case wa.date:case wa.daterange:case wa.int4range:case wa.int8range:case wa.money:case wa.reltime:case wa.text:case wa.time:case wa.timestamptz:case wa.timetz:case wa.tsrange:case wa.tstzrange:default:return Ta(t)}},Ta=e=>e,Pa=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ca=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ka=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Ua=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch(o){s=i?i.split(","):[]}return s.map(e=>ja(t,e))}return e},Va=e=>"string"==typeof e?e.replace(" ","T"):e,Aa=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ma{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ia,La,Oa,Ra,Fa,$a,Ba,za;(La=Ia||(Ia={})).SYNC="sync",La.JOIN="join",La.LEAVE="leave";class Ga{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ga.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Ga.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Ga.syncDiff(this.state,e,t,r),s())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const o=this.cloneDeep(e),i=this.transformState(t),a={},n={};return this.map(o,(e,t)=>{i[e]||(n[e]=t)}),this.map(i,(e,t)=>{const r=o[e];if(r){const s=t.map(e=>e.presence_ref),o=r.map(e=>e.presence_ref),i=t.filter(e=>o.indexOf(e.presence_ref)<0),l=r.filter(e=>s.indexOf(e.presence_ref)<0);i.length>0&&(a[e]=i),l.length>0&&(n[e]=l)}else a[e]=t}),this.syncDiff(o,{joins:a,leaves:n},r,s)}static syncDiff(e,t,r,s){const{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(t,s)=>{var o;const i=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(s),i.length>0){const r=e[t].map(e=>e.presence_ref),s=i.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...s)}r(t,i,s)}),this.map(i,(t,r)=>{let o=e[t];if(!o)return;const i=r.map(e=>e.presence_ref);o=o.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=o,s(t,o,r),0===o.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return t[r]="metas"in s?s.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ra=Oa||(Oa={})).ALL="*",Ra.INSERT="INSERT",Ra.UPDATE="UPDATE",Ra.DELETE="DELETE",($a=Fa||(Fa={})).BROADCAST="broadcast",$a.PRESENCE="presence",$a.POSTGRES_CHANGES="postgres_changes",$a.SYSTEM="system",(za=Ba||(Ba={})).SUBSCRIBED="SUBSCRIBED",za.TIMED_OUT="TIMED_OUT",za.CLOSED="CLOSED",za.CHANNEL_ERROR="CHANNEL_ERROR";class Ha{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=pa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ma(this,va.join,this.params,this.timeout),this.rejoinTimer=new Ea(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pa.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(va.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Ga(this),this.broadcastEndpointURL=Aa(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pa.closed){const{config:{broadcast:i,presence:a,private:n}}=this.params,l=null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==s?s:[],c=!!this.bindings[Fa.PRESENCE]&&this.bindings[Fa.PRESENCE].length>0||!0===(null===(o=this.params.config.presence)||void 0===o?void 0:o.enabled),m={},d={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:n};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(Ba.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Ba.CLOSED)),this.updateJoinPayload(Object.assign({config:d},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const s=this.bindings.postgres_changes,o=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,i=[];for(let r=0;r<o;r++){const o=s[r],{filter:{event:a,schema:n,table:l,filter:c}}=o,m=t&&t[r];if(!m||m.event!==a||m.schema!==n||m.table!==l||m.filter!==c)return this.unsubscribe(),this.state=pa.errored,void(null==e||e(Ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},o),{id:m.id}))}return this.bindings.postgres_changes=i,void(e&&e(Ba.SUBSCRIBED))}null==e||e(Ba.SUBSCRIBED)}).receive("error",t=>{this.state=pa.errored,null==e||e(Ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===pa.joined&&e===Fa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var s,o,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(o=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===o?void 0:o.broadcast)||void 0===i?void 0:i.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("error",()=>r("error")),a.receive("timeout",()=>r("timed out"))});{const{event:i,payload:a}=e,n={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(s=e.body)||void 0===s?void 0:s.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pa.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(va.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ma(this,va.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pa.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),i}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ma(this,e,t,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,o;const i=e.toLocaleLowerCase(),{close:a,error:n,leave:l,join:c}=va;if(r&&[a,n,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter(e=>{var t,r,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===i}).map(e=>e.callback(m,r)):null===(o=this.bindings[i])||void 0===o||o.filter(e=>{var r,s,o,a,n,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(s=t.ids)||void 0===s?void 0:s.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const r=null===(n=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===n?void 0:n.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof m&&"ids"in m){const e=m.data,{schema:t,table:r,commit_timestamp:s,type:o,errors:i}=e,a={schema:t,table:r,commit_timestamp:s,eventType:o,new:{},old:{},errors:i};m=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(m,r)})}_isClosed(){return this.state===pa.closed}_isJoined(){return this.state===pa.joined}_isJoining(){return this.state===pa.joining}_isLeaving(){return this.state===pa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&Ha.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(va.close,{},e)}_onError(e){this._on(va.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Da(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Da(e.columns,e.old_record)),t}}const qa=()=>{},Wa=25e3,Xa=10,Ya=100,Ja=[1e3,2e3,5e3,1e4];class Ka{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=da,this.transport=null,this.heartbeatIntervalMs=Wa,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qa,this.ref=0,this.reconnectTimer=null,this.logger=qa,this.conn=null,this.sendBuffer=[],this.serializer=new _a,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Ko(async()=>{const{default:e}=await Promise.resolve().then(()=>Ui);return{default:e}},void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ba.websocket}`,this.httpEndpoint=Aa(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ma.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ua.connecting:return xa.Connecting;case ua.open:return xa.Open;case ua.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(e=>e.topic===r);if(s)return s;{const r=new Ha(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:s,ref:o}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(kp){this.log("error","error in heartbeat callback",kp)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Ya)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(kp){this.log("error","error in heartbeat callback",kp)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(kp){this.log("error","error in heartbeat callback",kp)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(kp){this.log("error","error in heartbeat callback",kp)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:s,ref:o}=e,i=o?`(${o})`:"",a=s.status||"";this.log("receive",`${a} ${t} ${r} ${i}`.trim(),s),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,s,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(va.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.15.5"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(va.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(kp){this.log("error",`error in ${e} callback`,kp)}})}catch(kp){this.log("error",`error triggering ${e} callbacks`,kp)}}_setupReconnectionTimer(){this.reconnectTimer=new Ea(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xa)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,s,o,i,a,n,l,c;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:da,this.heartbeatIntervalMs=null!==(s=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==s?s:Wa,this.worker=null!==(o=null==e?void 0:e.worker)&&void 0!==o&&o,this.accessToken=null!==(i=null==e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:qa,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(n=null==e?void 0:e.reconnectAfterMs)&&void 0!==n?n:e=>Ja[e-1]||1e4,this.encode=null!==(l=null==e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class Qa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Za(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class en extends Qa{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tn extends Qa{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var rn=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};const sn=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Ko(async()=>{const{default:e}=await Promise.resolve().then(()=>Ui);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},on=e=>{if(Array.isArray(e))return e.map(e=>on(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const s=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=on(r)}),t};var an=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};const nn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ln=(e,t,r)=>an(void 0,void 0,void 0,function*(){const s=yield rn(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Ko(()=>Promise.resolve().then(()=>Ui),void 0)).Response:Response});e instanceof s&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(null==r?void 0:r.statusCode)||s+"";t(new en(nn(r),s,o))}).catch(e=>{t(new tn(nn(e),e))}):t(new tn(nn(e),e))}),cn=(e,t,r,s)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&s?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(s)?(o.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),o.body=JSON.stringify(s)):o.body=s,(null==t?void 0:t.duplex)&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r)):o};function mn(e,t,r,s,o,i){return an(this,void 0,void 0,function*(){return new Promise((a,n)=>{e(r,cn(t,s,o,i)).then(e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>ln(e,n,s))})})}function dn(e,t,r,s){return an(this,void 0,void 0,function*(){return mn(e,"GET",t,r,s)})}function un(e,t,r,s,o){return an(this,void 0,void 0,function*(){return mn(e,"POST",t,s,o,r)})}function hn(e,t,r,s,o){return an(this,void 0,void 0,function*(){return mn(e,"PUT",t,s,o,r)})}function pn(e,t,r,s,o){return an(this,void 0,void 0,function*(){return mn(e,"DELETE",t,s,o,r)})}var fn=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};const vn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bn{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=sn(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,s){return fn(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},gn),s);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const n=i.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),n&&o.append("metadata",this.encodeMetadata(n)),o.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),n&&o.append("metadata",this.encodeMetadata(n))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,n&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(n)))),(null==s?void 0:s.headers)&&(a=Object.assign(Object.assign({},a),s.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),m=yield("PUT"==e?hn:un)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Za(o))return{data:null,error:o};throw o}})}upload(e,t,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return fn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:gn.upsert},s),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:o,fullPath:(yield hn(this.fetch,a.toString(),e,{headers:i})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Za(n))return{data:null,error:n};throw n}})}createSignedUploadUrl(e,t){return fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(s["x-upsert"]="true");const o=yield un(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Qa("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}update(e,t,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return fn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Za(s))return{data:null,error:s};throw s}})}copy(e,t,r){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Za(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield un(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Za(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return fn(this,void 0,void 0,function*(){try{const s=yield un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:s.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Za(s))return{data:null,error:s};throw s}})}download(e,t){return fn(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),o=s?`?${s}`:"";try{const t=this._getFinalPath(e),s=yield dn(this.fetch,`${this.url}/${r}/${t}${o}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Za(i))return{data:null,error:i};throw i}})}info(e){return fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield dn(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:on(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}exists(e){return fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,s){return an(this,void 0,void 0,function*(){return mn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r)&&r instanceof tn){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],o=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==o&&s.push(o);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&s.push(a);let n=s.join("&");return""!==n&&(n=`?${n}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${n}`)}}}remove(e){return fn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}list(e,t,r){return fn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vn),t),{prefix:e||""});return{data:yield un(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Za(s))return{data:null,error:s};throw s}})}listV2(e,t){return fn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield un(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const xn={"X-Client-Info":"storage-js/2.12.0"};var Nn=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};class wn{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const o=new URL(e);if(null==s?void 0:s.useNewHostname){/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href,this.headers=Object.assign(Object.assign({},xn),t),this.fetch=sn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Nn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}getBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Nn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Nn(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}}class yn extends wn{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new bn(this.url,this.headers,e,this.fetch)}}let _n="";_n="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const En={headers:{"X-Client-Info":`supabase-js-${_n}/2.57.2`}},Dn={schema:"public"},Sn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jn={};var Tn=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};const Pn=(e,t,r)=>{const s=(e=>{let t;return t=e||("undefined"==typeof fetch?Ti:fetch),(...e)=>t(...e)})(r),o="undefined"==typeof Headers?Pi:Headers;return(r,i)=>Tn(void 0,void 0,void 0,function*(){var a;const n=null!==(a=yield t())&&void 0!==a?a:e;let l=new o(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${n}`),s(r,Object.assign(Object.assign({},i),{headers:l}))})};var Cn=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};const kn="2.71.1",Un=3e4,Vn=9e4,An={"X-Client-Info":`gotrue-js/${kn}`},Mn="X-Supabase-Api-Version",In={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ln=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class On extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Rn(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Fn extends On{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class $n extends On{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Bn extends On{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class zn extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Gn extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hn extends Bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qn extends Bn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wn extends Bn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xn extends Bn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Yn(e){return Rn(e)&&"AuthRetryableFetchError"===e.name}class Jn extends Bn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Kn extends Bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zn=" \t\n\r=".split(""),el=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zn.length;t+=1)e[Zn[t].charCodeAt(0)]=-2;for(let t=0;t<Qn.length;t+=1)e[Qn[t].charCodeAt(0)]=t;return e})();function tl(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Qn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Qn[e]),t.queuedBits-=6}}function rl(e,t,r){const s=el[e];if(!(s>-1)){if(-2===s)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function sl(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,s,r)};for(let a=0;a<e.length;a+=1)rl(e.charCodeAt(a),o,i);return t.join("")}function ol(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function il(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)rl(e.charCodeAt(o),r,s);return new Uint8Array(t)}function al(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const t=1024*(s-55296)&65535;s=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}ol(s,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function nl(e){const t=[],r={queue:0,queuedBits:0},s=e=>{t.push(e)};return e.forEach(e=>tl(e,r,s)),tl(null,r,s),t.join("")}const ll=()=>"undefined"!=typeof window&&"undefined"!=typeof document,cl={tested:!1,writable:!1},ml=()=>{if(!ll())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(kp){return!1}if(cl.tested)return cl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cl.tested=!0,cl.writable=!0}catch(kp){cl.tested=!0,cl.writable=!1}return cl.writable};const dl=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Ko(async()=>{const{default:e}=await Promise.resolve().then(()=>Ui);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},ul=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(s){return r}},pl=async(e,t)=>{await e.removeItem(t)};class fl{constructor(){this.promise=new fl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function vl(e){const t=e.split(".");if(3!==t.length)throw new Kn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ln.test(t[r]))throw new Kn("JWT not in base64url format");return{header:JSON.parse(sl(t[0])),payload:JSON.parse(sl(t[1])),signature:il(t[2]),raw:{header:t[0],payload:t[1]}}}function gl(e){return("0"+e.toString(16)).substr(-2)}async function bl(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xl(e,t,r=!1){const s=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,gl).join("")}();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await ul(e,`${t}-code-verifier`,o);const i=await bl(s);return[i,s===i?"plain":"s256"]}fl.promiseConstructor=Promise;const Nl=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wl=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yl(e){if(!wl.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _l(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function El(e){return JSON.parse(JSON.stringify(e))}const Dl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sl=[502,503,504];async function jl(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Xn(Dl(e),0);if(Sl.includes(e.status))throw new Xn(Dl(e),e.status);let s,o;try{s=await e.json()}catch(kp){throw new $n(Dl(kp),kp)}const i=function(e){const t=e.headers.get(Mn);if(!t)return null;if(!t.match(Nl))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(kp){return null}}(e);if(i&&i.getTime()>=In.timestamp&&"object"==typeof s&&s&&"string"==typeof s.code?o=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(o=s.error_code),o){if("weak_password"===o)throw new Jn(Dl(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new zn}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Jn(Dl(s),e.status,s.weak_password.reasons);throw new Fn(Dl(s),e.status||500,o)}async function Tl(e,t,r,s){var o;const i=Object.assign({},null==s?void 0:s.headers);i[Mn]||(i[Mn]=In.name),(null==s?void 0:s.jwt)&&(i.Authorization=`Bearer ${s.jwt}`);const a=null!==(o=null==s?void 0:s.query)&&void 0!==o?o:{};(null==s?void 0:s.redirectTo)&&(a.redirect_to=s.redirectTo);const n=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,r,s,o,i){const a=((e,t,r,s)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))})(t,s,o,i);let n;try{n=await e(r,Object.assign({},a))}catch(kp){throw new Xn(Dl(kp),0)}n.ok||await jl(n);if(null==s?void 0:s.noResolveJson)return n;try{return await n.json()}catch(kp){await jl(kp)}}(e,t,r+n,{headers:i,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function Pl(e){var t;let r=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Cl(e){const t=Pl(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function kl(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ul(e){return{data:e,error:null}}function Vl(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:o,verification_type:i}=e,a=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]])}return r}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:o,verification_type:i},user:Object.assign({},a)},error:null}}function Al(e){return e}const Ml=["global","local","others"];class Il{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=dl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ml[0]){if(Ml.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ml.join(", ")}`);try{return await Tl(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Rn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Tl(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:kl})}catch(r){if(Rn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]])}return r}(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await Tl(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vl,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Rn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Tl(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kl})}catch(t){if(Rn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,o,i,a,n;try{const l={nextPage:null,lastPage:0,total:0},c=await Tl(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(o=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==o?o:""},xform:Al});if(c.error)throw c.error;const m=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,u=null!==(n=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==n?n:[];return u.length>0&&(u.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},m),l),error:null}}catch(l){if(Rn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){yl(e);try{return await Tl(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kl})}catch(t){if(Rn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){yl(e);try{return await Tl(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:kl})}catch(r){if(Rn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){yl(e);try{return await Tl(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:kl})}catch(r){if(Rn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yl(e.userId);try{const{data:t,error:r}=await Tl(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){yl(e.userId),yl(e.id);try{return{data:await Tl(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Rn(t))return{data:null,error:t};throw t}}}function Ll(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ol=!!(globalThis&&ml()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Rl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fl extends Rl{}async function $l(e,t,r){const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async s=>{if(!s){if(0===t)throw new Fl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ol)try{await globalThis.navigator.locks.query()}catch(kp){}return await r()}try{return await r()}finally{}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(kp){"undefined"!=typeof self&&(self.globalThis=self)}}();const Bl={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:An,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zl(e,t,r){return await r()}const Gl={};class Hl{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hl.nextInstanceID,Hl.nextInstanceID+=1,this.instanceID>0&&ll();const s=Object.assign(Object.assign({},Bl),e);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Il({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dl(s.fetch),this.lock=s.lock||zl,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ll()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=$l:this.lock=zl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ml()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ll(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ll(this.memoryStorage)),ll()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(kp){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Gl[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Gl[this.storageKey]=Object.assign(Object.assign({},Gl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Gl[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gl[this.storageKey]=Object.assign(Object.assign({},Gl[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kn}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(kp){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ll()&&this.detectSessionInUrl&&"none"!==r){const{data:s,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return Rn(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rn(t)?{error:t}:{error:new $n("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const o=await Tl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:Pl}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const n=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(o){if(Rn(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,s;try{let o;if("email"in e){const{email:r,password:s,options:i}=e;let a=null,n=null;"pkce"===this.flowType&&([a,n]=await xl(this.storage,this.storageKey)),o=await Tl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:s,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:n},xform:Pl})}else{if(!("phone"in e))throw new Hn("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;o=await Tl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(s=null==a?void 0:a.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Pl})}}const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const n=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(o){if(Rn(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:s,options:o}=e;t=await Tl(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Cl})}else{if(!("phone"in e))throw new Hn("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:o}=e;t=await Tl(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Cl})}}const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s}):{data:{user:null,session:null},error:new Gn}}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,s,o,i,a,n,l,c,m,d,u;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:u,statement:f,options:v}=e;let g;if(ll())if("object"==typeof u)g=u;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");g=e.solana}else{if("object"!=typeof u||!(null==v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=u}const b=new URL(null!==(t=null==v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in g&&g.signIn){const e=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in g&&"function"==typeof g.signMessage&&"publicKey"in g&&"object"==typeof g&&g.publicKey&&"toBase58"in g.publicKey&&"function"==typeof g.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${b.host} wants you to sign in with your Solana account:`,g.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(s=null===(r=null==v?void 0:v.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...(null===(o=null==v?void 0:v.signInWithSolana)||void 0===o?void 0:o.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null===(i=null==v?void 0:v.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null===(a=null==v?void 0:v.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null===(n=null==v?void 0:v.signInWithSolana)||void 0===n?void 0:n.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null===(l=null==v?void 0:v.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null===(m=null===(c=null==v?void 0:v.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===m?void 0:m.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await g.signMessage((new TextEncoder).encode(h),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await Tl(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:nl(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(u=e.options)||void 0===u?void 0:u.captchaToken}}:null),xform:Pl});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new Gn}}catch(f){if(Rn(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await hl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{const{data:t,error:o}=await Tl(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pl});if(await pl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new Gn}}catch(o){if(Rn(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:o,nonce:i}=e,a=await Tl(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Pl}),{data:n,error:l}=a;return l?{data:{user:null,session:null},error:l}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:l}):{data:{user:null,session:null},error:new Gn}}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,o,i;try{if("email"in e){const{email:s,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await xl(this.storage,this.storageKey));const{error:n}=await Tl(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(r=null==o?void 0:o.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){const{phone:t,options:r}=e,{data:a,error:n}=await Tl(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(o=null==r?void 0:r.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(i=null==r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:n}}throw new Hn("You must provide either an email or phone number.")}catch(a){if(Rn(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{let s,o;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:a}=await Tl(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Pl});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const n=i.session,l=i.user;return(null==n?void 0:n.access_token)&&(await this._saveSession(n),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(s){if(Rn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let o=null,i=null;return"pkce"===this.flowType&&([o,i]=await xl(this.storage,this.storageKey)),await Tl(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Ul})}catch(o){if(Rn(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new zn;const{error:s}=await Tl(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Rn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:i}=await Tl(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:s,options:o}=e,{data:i,error:a}=await Tl(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Hn("You must provide either an email or phone number and a type")}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(kp){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(kp){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Vn;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await hl(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=_l()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,s)=>(t||"user"!==r||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,s))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Tl(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kl}):await this._useSession(async e=>{var t,r,s;const{data:o,error:i}=e;if(i)throw i;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Tl(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0,xform:kl}):{data:{user:null},error:new zn}})}catch(t){if(Rn(t))return function(e){return Rn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new zn;const i=s.session;let a=null,n=null;"pkce"===this.flowType&&null!=e.email&&([a,n]=await xl(this.storage,this.storageKey));const{data:l,error:c}=await Tl(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:n}),jwt:i.access_token,xform:kl});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(Rn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zn;const t=Date.now()/1e3;let r=t,s=!0,o=null;const{payload:i}=vl(e.access_token);if(i.exp&&(r=i.exp,s=r<=t),s){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:s,error:i}=await this._getUser(e.access_token);if(i)throw i;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Rn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:s,error:o}=t;if(o)throw o;e=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new zn;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Rn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ll())throw new qn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Wn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new qn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wn("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:n,token_type:l}=e;if(!(o&&a&&i&&l))throw new qn("No session defined in URL");const c=Math.round(Date.now()/1e3),m=parseInt(a);let d=c+m;n&&(d=parseInt(n));const{data:u,error:h}=await this._getUser(o);if(h)throw h;const p={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:m,expires_at:d,refresh_token:i,token_type:l,user:u.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(Rn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await hl(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return{error:o};const i=null===(r=s.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Rn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:s},error:o}=t;if(o)throw o;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(o){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=await xl(this.storage,this.storageKey,!0));try{return await Tl(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Rn(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async t=>{var r,s,o,i,a;const{data:n,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await Tl(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=n.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})});if(s)throw s;return ll()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(Rn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:i}=t;if(i)throw i;return await Tl(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const o=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Tl(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pl})),s=(e,t)=>{const r=200*Math.pow(2,e);return t&&Yn(t)&&Date.now()+r-o<Un},new Promise((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await r(o);if(!s(o,null,t))return void e(t)}catch(kp){if(!s(o,kp))return void t(kp)}})()}))}catch(o){if(this._debug(t,"error",o),Rn(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var r,s}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ll()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await hl(this.storage,this.storageKey);if(o&&this.userStorage){let t=await hl(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:o.user},await ul(this.userStorage,this.storageKey+"-user",t)),o.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:_l()}else if(o&&!o.user&&!o.user){const e=await hl(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(o.user=e.user,await pl(this.storage,this.storageKey+"-user"),await ul(this.storage,this.storageKey,o)):o.user=_l()}if(this._debug(r,"session from storage",o),!this._isValidSession(o))return this._debug(r,"session is not valid"),void(null!==o&&await this._removeSession());const i=1e3*(null!==(t=o.expires_at)&&void 0!==t?t:1/0)-Date.now()<Vn;if(this._debug(r,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:e}=await this._callRefreshToken(o.refresh_token);e&&(Yn(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(o.user&&!0===o.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(o.access_token);!t&&(null==e?void 0:e.user)?(o.user=e.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){return void this._debug(r,"error",o)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fl;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new zn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={session:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(s,"error",o),Rn(o)){const e={session:null,error:o};return Yn(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(kp){s.push(kp)}});if(await Promise.all(o),s.length>0){for(let e=0;e<s.length;e+=1);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await ul(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const s=El(e);await ul(this.storage,this.storageKey,s)}else{const e=El(t);await ul(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await pl(this.storage,this.storageKey),await pl(this.storage,this.storageKey+"-code-verifier"),await pl(this.storage,this.storageKey+"-user"),this.userStorage&&await pl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ll()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(kp){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-e)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)})}catch(kp){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(kp){if(!(kp.isAcquireTimeout||kp instanceof Rl))throw kp;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ll()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await xl(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;return o?{data:null,error:o}:await Tl(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:i}=t;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:n,error:l}=await Tl(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(r=null==o?void 0:o.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(s=null==n?void 0:n.totp)||void 0===s?void 0:s.qr_code)&&(n.totp.qr_code=`data:image/svg+xml;utf-8,${n.totp.qr_code}`),{data:n,error:null})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:i,error:a}=await Tl(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;return o?{data:null,error:o}:await Tl(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})})}catch(t){if(Rn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],s=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),o=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vl(s.access_token);let a=null;i.aal&&(a=i.aal);let n=a;(null!==(r=null===(t=s.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(n="aal2");return{data:{currentLevel:a,nextLevel:n,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>s)return r;const{data:o,error:i}=await Tl(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return o.keys&&0!==o.keys.length?(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(t=>t.kid===e),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:n}}=vl(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp);const l=s.alg&&!s.alg.startsWith("HS")&&s.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(s.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:o,header:s,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(s.alg),m=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,m,i,al(`${a}.${n}`))))throw new Kn("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(Rn(r))return{data:null,error:r};throw r}}}Hl.nextInstanceID=0;const ql=Hl;class Wl extends ql{constructor(e){super(e)}}var Xl=function(e,t,r,s){return new(r||(r=Promise))(function(o,i){function a(e){try{l(s.next(e))}catch(kp){i(kp)}}function n(e){try{l(s.throw(e))}catch(kp){i(kp)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((s=s.apply(e,t||[])).next())})};class Yl{constructor(e,t,r){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=(n=e).endsWith("/")?n:n+"/";var n;const l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,m=function(e,t){var r,s;const{db:o,auth:i,realtime:a,global:n}=e,{db:l,auth:c,realtime:m,global:d}=t,u={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},m),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),n),{headers:Object.assign(Object.assign({},null!==(r=null==d?void 0:d.headers)&&void 0!==r?r:{}),null!==(s=null==n?void 0:n.headers)&&void 0!==s?s:{})}),accessToken:()=>Cn(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!=r?r:{},{db:Dn,realtime:jn,auth:Object.assign(Object.assign({},Sn),{storageKey:c}),global:En});this.storageKey=null!==(s=m.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(o=m.global.headers)&&void 0!==o?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=m.auth)&&void 0!==i?i:{},this.headers,m.global.fetch),this.fetch=Pn(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new oa(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new yn(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new xi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Xl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:i,flowType:a,lock:n,debug:l},c,m){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wl({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,flowType:a,lock:n,debug:l,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Ka(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();let Jl=null;const Kl=()=>Jl||(Jl=(async()=>{try{let e="https://nvhaylwuvdmsjuwjsfva.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im52aGF5bHd1dmRtc2p1d2pzZnZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3NjcwMzksImV4cCI6MjA3MjM0MzAzOX0.WNZc_C9DAHTmjOaJpm-1TbH4-ZGKbO4oZR5c-KlPuzg";if(!e||!t){const r=si||"",s=await fetch(`${r}/api/supabase/public-config`);if(s.ok){const r=await s.json();(null==r?void 0:r.success)&&(e=r.url,t=r.anonKey)}}if(!e||!t)return null;return new Yl(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}catch(kp){return null}})(),Jl),Ql=async e=>{try{localStorage.getItem("deviceId");return await ci(e)}catch(t){return null}},Zl=Qe()(Yo((e,t)=>({user:null,token:null,isLoggedIn:!1,isLoading:!0,error:null,login:async t=>{var r,s;e({isLoading:!0,error:null});const o=ti();try{const i=await Kl();if(!i)throw new Error("Falha ao inicializar Supabase");const{data:a,error:n}=await i.auth.signInWithPassword({email:t.email,password:t.password});if(n)throw n;const l=null==(r=a.session)?void 0:r.access_token,c=a.user?{id:a.user.id,email:a.user.email||t.email,name:a.user.user_metadata&&a.user.user_metadata.name||void 0}:null;if(!l||!c)throw new Error("Sesso invlida");localStorage.setItem("authToken",l),e({user:c,token:l,isLoggedIn:!0,error:null});const m=localStorage.getItem("deviceId");if(o||m)try{const e=await Ql(o||c.id);e&&(!0===e.success||(null==(s=e.data)?void 0:s.migratedCount)>=0)&&o&&ei()}catch(kp){}return!0}catch(i){const t=i instanceof Error?i.message:"Email ou senha invlidos.";throw e({error:t}),i}finally{e({isLoading:!1})}},signup:async t=>{var r;e({isLoading:!0,error:null});const s=ti();try{const o=await Kl();if(!o)throw new Error("Falha ao inicializar Supabase");const{data:i,error:a}=await o.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;const n=(await o.auth.getSession()).data.session,l=(null==n?void 0:n.access_token)||null,c=i.user?{id:i.user.id,email:i.user.email||t.email,name:t.name}:null;l&&c?(localStorage.setItem("authToken",l),e({user:c,token:l,isLoggedIn:!0,error:null})):e({user:c,token:null,isLoggedIn:!1,error:null});const m=localStorage.getItem("deviceId");if(s||m)try{const e=await Ql(s||c.id);e&&(!0===e.success||(null==(r=e.data)?void 0:r.migratedCount)>=0)&&s&&ei()}catch(kp){}return!0}catch(o){const t=o instanceof Error?o.message:"Erro desconhecido ao criar conta.";throw e({error:t}),o}finally{e({isLoading:!1})}},logout:async()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("guestId");const t=await Kl();t&&await t.auth.signOut(),e({user:null,token:null,isLoggedIn:!1,error:null}),Zl.persist.clearStorage(),window.location.href="/"}catch(t){localStorage.removeItem("authToken"),localStorage.removeItem("guestId"),e({user:null,token:null,isLoggedIn:!1,error:null}),window.location.href="/"}},clearError:()=>{e({error:null})},resetPassword:async t=>{try{const e=await Kl();if(!e)throw new Error("Falha ao inicializar Supabase");const{error:r}=await e.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/reset`});if(r)throw r;return!0}catch(kp){const r=kp instanceof Error?kp.message:"Erro ao solicitar recuperao de senha";return e({error:r}),!1}},resendConfirmationEmail:async t=>{e({isLoading:!0,error:null});try{const e=await Kl();if(!e)throw new Error("Falha ao inicializar Supabase");const{error:r}=await e.auth.resend({type:"signup",email:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(r)throw r;return!0}catch(kp){const r=kp instanceof Error?kp.message:"Erro ao reenviar email de confirmao";return e({error:r}),!1}finally{e({isLoading:!1})}},syncSession:async()=>{var t;try{const r=await Kl();if(!r)throw new Error("Falha ao inicializar Supabase");const{data:s,error:o}=await r.auth.getSession();if(o)throw o;if(s.session){const{access_token:r,user:o}=s.session,i={id:o.id,email:o.email||"",name:(null==(t=o.user_metadata)?void 0:t.name)||o.email||""};return localStorage.setItem("authToken",r),e({user:i,token:r,isLoggedIn:!0,error:null}),!0}return localStorage.removeItem("authToken"),e({user:null,token:null,isLoggedIn:!1}),!1}catch(r){const t=r instanceof Error?r.message:"Erro ao sincronizar sesso";return e({error:t}),!1}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token})}));Zl.persist.onFinishHydration(async e=>{var t;try{const s=localStorage.getItem("authToken");if(e.token||s){try{const e=await Kl();if(e){const{data:r,error:s}=await e.auth.getSession();if(!s&&r.session){const e={id:r.session.user.id,email:r.session.user.email||"",name:(null==(t=r.session.user.user_metadata)?void 0:t.name)||r.session.user.email||""};return localStorage.setItem("authToken",r.session.access_token),void Zl.setState({user:e,token:r.session.access_token,isLoggedIn:!0,isLoading:!1,error:null})}}}catch(r){}localStorage.removeItem("authToken")}Zl.setState({user:null,token:null,isLoggedIn:!1,isLoading:!1,error:null})}catch(r){Zl.setState({user:null,token:null,isLoggedIn:!1,isLoading:!1,error:"Erro durante inicializao"})}}),Kl().then(e=>{null==e||e.auth.onAuthStateChange((e,t)=>{const r=(null==t?void 0:t.access_token)||null;if(r){localStorage.setItem("authToken",r);const e=Zl.getState();Zl.setState({token:r,isLoggedIn:!0,user:e.user||((null==t?void 0:t.user)?{id:t.user.id,email:t.user.email||""}:null)})}})});const ec=Object.freeze(Object.defineProperty({__proto__:null,useAuthStore:Zl},Symbol.toStringTag,{value:"Module"})),tc=Qe((e,t)=>({isAuthModalOpen:!1,authCallback:null,isPaymentPopupVisible:!1,isCreationFlowBlocked:!1,showAuthPopup:t=>{e({isAuthModalOpen:!0,authCallback:t})},hideAuthPopup:()=>{e({isAuthModalOpen:!1,authCallback:void 0})},executeAuthCallback:()=>{const{authCallback:r}=t();r&&(r(),e({authCallback:void 0}))},showPaymentPopup:()=>{e({isPaymentPopupVisible:!0})},hidePaymentPopup:()=>{e({isPaymentPopupVisible:!1})},handleUpgrade:()=>{e({isPaymentPopupVisible:!1})},blockCreationFlow:()=>{e({isCreationFlowBlocked:!0})},unblockCreationFlow:()=>{e({isCreationFlowBlocked:!1})}})),rc=()=>{const[e,t]=r.useState(!1),[s,o]=r.useState(!1),i=zs(),a=qs(),n="/"===i.pathname,{isLoggedIn:l,user:c,logout:m}=Zl(),{showAuthPopup:d}=tc(),u=()=>{l?a("/minhas-musicas"):d(()=>a("/minhas-musicas")),o(!1)};r.useEffect(()=>{const e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const h=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"}),o(!1)},p=e=>e?e.split(" ")[0]:"";return at.jsxDEV("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(e?"bg-white/95 backdrop-blur-md border-b border-black/5 shadow-lg":"bg-transparent"),children:at.jsxDEV("div",{className:"container mx-auto px-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[at.jsxDEV("div",{className:"flex items-center",children:at.jsxDEV(Po,{to:"/",children:at.jsxDEV("img",{src:n&&!e?"/memora_logo_white.svg":"/memora_logo.svg",alt:"Memora Music",className:"h-9 w-auto cursor-pointer"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:63,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:62,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:61,columnNumber:11},void 0),at.jsxDEV("div",{className:"hidden md:flex items-center space-x-8",children:[at.jsxDEV(qo,{onClick:()=>h("como-funciona"),variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:73,columnNumber:13},void 0),at.jsxDEV(qo,{onClick:()=>h("exemplos"),variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:80,columnNumber:13},void 0),at.jsxDEV(qo,{onClick:()=>h("artistas"),variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:87,columnNumber:13},void 0),at.jsxDEV("div",{className:"flex items-center gap-4",children:l?at.jsxDEV("div",{className:"flex items-center gap-4",children:[at.jsxDEV("span",{className:(n&&!e?"text-white":"text-memora-gray")+" font-medium",children:["Ol, ",p(null==c?void 0:c.name)||"usurio","!"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:101,columnNumber:19},void 0),at.jsxDEV(qo,{variant:"outline",onClick:()=>m().catch(console.error),className:(n&&!e?"border-white text-white hover:bg-white hover:text-memora-primary":"border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white")+" transition-all duration-200",children:"Sair"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:104,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:100,columnNumber:17},void 0):at.jsxDEV(at.Fragment,{children:at.jsxDEV(qo,{onClick:()=>u(),className:"bg-memora-primary text-white px-6 py-2 rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:"Minhas Msicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:116,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:114,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:72,columnNumber:11},void 0),at.jsxDEV("div",{className:"md:hidden flex items-center gap-2",children:at.jsxDEV(qo,{onClick:()=>o(!s),variant:"ghost",size:"icon",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200","aria-label":"Menu de navegao",children:s?at.jsxDEV(Z,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:137,columnNumber:17},void 0):at.jsxDEV(ee,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:139,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:129,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:128,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:59,columnNumber:9},void 0),s&&at.jsxDEV("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-memora-gray-light",children:at.jsxDEV("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[at.jsxDEV(qo,{onClick:()=>h("como-funciona"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:149,columnNumber:15},void 0),at.jsxDEV(qo,{onClick:()=>h("exemplos"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:156,columnNumber:15},void 0),at.jsxDEV(qo,{onClick:()=>h("artistas"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:163,columnNumber:15},void 0),l?at.jsxDEV("div",{className:"mt-2 space-y-2",children:[at.jsxDEV("div",{className:"px-3 py-2 text-memora-gray font-medium",children:["Ol, ",p(null==c?void 0:c.name)||"usurio","!"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:174,columnNumber:19},void 0),at.jsxDEV(qo,{onClick:()=>{m().catch(console.error),o(!1)},variant:"outline",className:"block w-full text-left px-3 py-2 border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white transition-all duration-200 font-medium",children:"Sair"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:177,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:173,columnNumber:17},void 0):at.jsxDEV("div",{className:"mt-2 space-y-2",children:at.jsxDEV(qo,{onClick:()=>{u(),o(!1)},className:"block w-full text-left px-3 py-2 bg-memora-primary text-white rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium",children:"Minhas Msicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:192,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:190,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:148,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:147,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:58,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:51,columnNumber:5},void 0)},sc=({isOpen:e,onClose:t})=>{const[s,o]=r.useState({difficulty:"",would_recommend:"",price_willingness:""}),[i,a]=r.useState(!1),[n,l]=r.useState(!1),c=()=>{i||(t(),setTimeout(()=>{o({difficulty:"",would_recommend:"",price_willingness:""}),l(!1)},300))};return e?at.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[at.jsxDEV("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:c},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:87,columnNumber:7},void 0),at.jsxDEV("div",{className:"relative bg-white rounded-3xl p-6 lg:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[at.jsxDEV(qo,{onClick:c,disabled:i,variant:"ghost",size:"sm",className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 disabled:opacity-50 h-auto","aria-label":"Fechar popup",children:at.jsxDEV(Z,{className:"w-6 h-6 text-memora-gray"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:103,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:95,columnNumber:9},void 0),at.jsxDEV("div",{className:"pr-12",children:[at.jsxDEV("div",{className:"text-center mb-8",children:[at.jsxDEV("h3",{className:"text-2xl lg:text-3xl font-heading font-bold text-memora-black mb-4",children:"Ajude-nos a melhorar a Memora Music"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:109,columnNumber:13},void 0),at.jsxDEV("p",{className:"text-memora-gray max-w-xl mx-auto",children:"Sua opinio  fundamental para criarmos a melhor experincia possvel. Responda algumas perguntas rpidas:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:108,columnNumber:11},void 0),n?at.jsxDEV("div",{className:"text-center py-12",children:[at.jsxDEV("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:at.jsxDEV(te,{className:"w-10 h-10 text-green-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:120,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:119,columnNumber:15},void 0),at.jsxDEV("h4",{className:"text-2xl font-heading font-bold text-memora-black mb-4",children:"Obrigado pelo seu feedback!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:122,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-memora-gray mb-6",children:"Suas respostas nos ajudaro a criar uma experincia ainda melhor."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:125,columnNumber:15},void 0),at.jsxDEV(qo,{onClick:c,className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-xl transition-all duration-300",size:"lg",children:"Fechar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:118,columnNumber:13},void 0):at.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),s.difficulty&&s.would_recommend&&s.price_willingness){a(!0);try{const e=`${si}/api/mvp-feedback`;if(!(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:parseInt(s.difficulty),would_recommend:"sim"===s.would_recommend,price_willingness:"other"===s.price_willingness?0:parseFloat(s.price_willingness)})})).ok)throw new Error("Erro ao enviar feedback");l(!0),_t.success("Obrigado pelo seu feedback! Suas respostas so muito importantes para ns.")}catch(t){_t.error("Erro ao enviar feedback. Tente novamente.")}finally{a(!1)}}else _t.error("Por favor, responda todas as perguntas")},className:"space-y-8",children:[at.jsxDEV("div",{children:[at.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"De 1 a 10, qual foi o nvel de dificuldade para gerar sua msica?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:140,columnNumber:17},void 0),at.jsxDEV("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:[...Array(10)].map((e,t)=>{const r=(t+1).toString();return at.jsxDEV("label",{className:"relative",children:[at.jsxDEV("input",{type:"radio",name:"difficulty",value:r,checked:s.difficulty===r,onChange:e=>o({...s,difficulty:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:148,columnNumber:25},void 0),at.jsxDEV("div",{className:"w-12 h-12 rounded-xl border-2 flex items-center justify-center cursor-pointer transition-all duration-200 "+(s.difficulty===r?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:t+1},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:156,columnNumber:25},void 0)]},t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:147,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:143,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex justify-between text-sm text-memora-gray mt-2",children:[at.jsxDEV("span",{children:"Muito fcil"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:168,columnNumber:19},void 0),at.jsxDEV("span",{children:"Muito difcil"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:169,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:139,columnNumber:15},void 0),at.jsxDEV("div",{children:[at.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"Voc indicaria a Memora para um amigo ou parente?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:175,columnNumber:17},void 0),at.jsxDEV("div",{className:"grid sm:grid-cols-3 gap-4",children:[{value:"sim",label:"Sim",color:"green"},{value:"nao",label:"No",color:"red"},{value:"talvez",label:"Talvez",color:"yellow"}].map(e=>at.jsxDEV("label",{className:"relative",children:[at.jsxDEV("input",{type:"radio",name:"would_recommend",value:e.value,checked:s.would_recommend===e.value,onChange:e=>o({...s,would_recommend:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:185,columnNumber:23},void 0),at.jsxDEV("div",{className:"p-4 rounded-2xl border-2 text-center cursor-pointer transition-all duration-200 "+(s.would_recommend===e.value?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:at.jsxDEV("span",{className:"font-heading font-bold",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:198,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:193,columnNumber:23},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:184,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:178,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:174,columnNumber:15},void 0),at.jsxDEV("div",{children:[at.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"Quanto voc estaria disposto a pagar por uma msica completa e personalizada?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:207,columnNumber:17},void 0),at.jsxDEV("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{value:"99",label:"R$ 99,00"},{value:"149",label:"R$ 149,00"},{value:"219",label:"R$ 219,00"},{value:"other",label:"Outro valor"}].map(e=>at.jsxDEV("label",{className:"relative",children:[at.jsxDEV("input",{type:"radio",name:"price_willingness",value:e.value,checked:s.price_willingness===e.value,onChange:e=>o({...s,price_willingness:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:213,columnNumber:23},void 0),at.jsxDEV("div",{className:"p-4 rounded-2xl border-2 text-center cursor-pointer transition-all duration-200 "+(s.price_willingness===e.value?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:at.jsxDEV("span",{className:"font-heading font-bold",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:226,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:221,columnNumber:23},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:212,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:206,columnNumber:15},void 0),at.jsxDEV("div",{className:"text-center pt-4",children:at.jsxDEV(qo,{type:"submit",disabled:i,className:"bg-memora-primary hover:bg-memora-primary/90 disabled:bg-memora-gray/50 text-white font-heading font-bold py-4 px-8 rounded-xl transition-all duration-300 disabled:hover:scale-100 flex items-center space-x-2 mx-auto","data-attr":"mvp-feedback-submit",size:"lg",children:i?at.jsxDEV(at.Fragment,{children:[at.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:244,columnNumber:23},void 0),at.jsxDEV("span",{children:"Enviando..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:245,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:243,columnNumber:21},void 0):at.jsxDEV(at.Fragment,{children:[at.jsxDEV(re,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:249,columnNumber:23},void 0),at.jsxDEV("span",{children:"Enviar feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:250,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:248,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:235,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:107,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:93,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FeedbackPopup.tsx",lineNumber:85,columnNumber:5},void 0):null},oc=()=>{const e=(new Date).getFullYear(),[t,s]=r.useState(!1);return at.jsxDEV("footer",{className:"py-12 bg-neutral-dark text-foreground border-t border-white/10",children:at.jsxDEV("div",{className:"container mx-auto px-4",children:[at.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[at.jsxDEV("div",{className:"md:col-span-2",children:[at.jsxDEV("div",{className:"flex items-center mb-4",children:at.jsxDEV("img",{src:"/memora_logo_white.svg",alt:"Memora Music",className:"h-10 w-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:17,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:16,columnNumber:13},void 0),at.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4 max-w-md",children:"Transforme memrias em msica com Inteligncia Artificial. Crie canes nicas e emocionantes para presentear pessoas especiais."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:23,columnNumber:13},void 0),at.jsxDEV("button",{onClick:()=>s(!0),className:"text-left bg-primary/10 border border-primary/20 rounded-xl p-3 max-w-md text-secondary text-xs font-medium hover:bg-primary/15 transition",children:" MVP em fase de testes. Sua opinio  muito importante para ns!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:27,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:15,columnNumber:11},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h3",{className:"font-heading font-bold text-foreground mb-4",children:"Links Rpidos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:37,columnNumber:13},void 0),at.jsxDEV("ul",{className:"space-y-3",children:[at.jsxDEV("li",{children:at.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("como-funciona"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:42,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:41,columnNumber:15},void 0),at.jsxDEV("li",{children:at.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("exemplos"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:50,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:49,columnNumber:15},void 0),at.jsxDEV("li",{children:at.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("artistas"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:58,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:57,columnNumber:15},void 0),at.jsxDEV("li",{children:at.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("faq"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"FAQ"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:65,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:36,columnNumber:11},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h3",{className:"font-heading font-bold text-foreground mb-4",children:"Legal"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:78,columnNumber:13},void 0),at.jsxDEV("ul",{className:"space-y-3",children:[at.jsxDEV("li",{children:at.jsxDEV("a",{href:"#termos",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Termos de Uso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:83,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:82,columnNumber:15},void 0),at.jsxDEV("li",{children:at.jsxDEV("a",{href:"#privacidade",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Poltica de Privacidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:91,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:90,columnNumber:15},void 0),at.jsxDEV("li",{children:at.jsxDEV("a",{href:"#contato",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Contato"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:99,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:98,columnNumber:15},void 0),at.jsxDEV("li",{children:at.jsxDEV("a",{href:"#cookies",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Poltica de Cookies"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:107,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:106,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:77,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:13,columnNumber:9},void 0),at.jsxDEV("div",{className:"border-t border-white/10 pt-8",children:at.jsxDEV("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[at.jsxDEV("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[at.jsxDEV("p",{className:"text-muted-foreground text-sm",children:[" ",e," Memora Music. Todos os direitos reservados."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:122,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex items-center space-x-4",children:[at.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"Feito com"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:126,columnNumber:17},void 0),at.jsxDEV(se,{className:"w-4 h-4 text-memora-coral fill-current"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:129,columnNumber:17},void 0),at.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"para criar memrias inesquecveis"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:121,columnNumber:13},void 0),at.jsxDEV("div",{className:"flex items-center space-x-4",children:[at.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"Em breve nas redes sociais"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:138,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex space-x-2",children:[at.jsxDEV("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center",children:at.jsxDEV("div",{className:"w-4 h-4 bg-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:143,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:142,columnNumber:17},void 0),at.jsxDEV("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center",children:at.jsxDEV("div",{className:"w-4 h-4 bg-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:146,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:145,columnNumber:17},void 0),at.jsxDEV("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center",children:at.jsxDEV("div",{className:"w-4 h-4 bg-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:149,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:148,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:120,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:119,columnNumber:9},void 0),at.jsxDEV(sc,{isOpen:t,onClose:()=>s(!1)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:157,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:11,columnNumber:5},void 0)};var ic=function(e,t){for(var r={};e.length;){var s=e[0],o=s.code,i=s.message,a=s.path.join(".");if(!r[a])if("unionErrors"in s){var n=s.unionErrors[0].errors[0];r[a]={message:n.message,type:n.code}}else r[a]={message:i,type:o};if("unionErrors"in s&&s.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[a].types,c=l&&l[s.code];r[a]=ae(a,t,r,o,c?[].concat(c,s.message):s.message)}e.shift()}return r};const ac=r.forwardRef(({className:e,type:t,...r},s)=>at.jsxDEV("input",{type:t,className:Jr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));ac.displayName="Input";var nc=r.forwardRef((e,t)=>d.jsx(N.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));nc.displayName="Label";var lc=nc;const cc=Go("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mc=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(lc,{ref:r,className:Jr(cc(),e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));mc.displayName=lc.displayName;const dc=Ze({email:et().min(1,"E-mail  obrigatrio").email("Formato de e-mail invlido"),password:et().min(6,"A senha deve ter pelo menos 6 caracteres").max(100,"A senha deve ter no mximo 100 caracteres")}),uc=dc.extend({name:et().min(2,"Nome deve ter pelo menos 2 caracteres").max(100,"Nome deve ter no mximo 100 caracteres").regex(/^[a-zA-Z-\s]+$/,"Nome deve conter apenas letras e espaos")}),hc=e=>e?dc:uc,pc=({isOpen:e,onClose:t})=>{const[s,o]=r.useState(!1),[i,a]=r.useState(!0),[n,l]=r.useState(!1),[c,m]=r.useState(""),{login:d,signup:u,isLoading:h,error:p,clearError:f,resetPassword:v,isLoggedIn:g,resendConfirmationEmail:b}=Zl(),{hideAuthPopup:x,executeAuthCallback:N}=tc();r.useEffect(()=>{g&&n&&(x(),N(),t(),window.location.href="/minhas-musicas")},[g,n,x,N,t]),r.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]),r.useEffect(()=>{n&&g&&setTimeout(()=>{P()},2e3)},[n,g]);const{register:w,handleSubmit:y,formState:{errors:_},reset:E,watch:D}=ne({resolver:(S=hc(i),void 0===T&&(T={}),function(e,t,r){try{return Promise.resolve(function(t,s){try{var o=Promise.resolve(S["sync"===T.mode?"parse":"parseAsync"](e,j)).then(function(t){return r.shouldUseNativeValidation&&oe({},r),{errors:{},values:T.raw?e:t}})}catch(i){return s(i)}return o&&o.then?o.then(void 0,s):o}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:ie(ic(e.errors,!r.shouldUseNativeValidation&&"all"===r.criteriaMode),r)};var t;throw e}))}catch(s){return Promise.reject(s)}}),mode:"onChange",defaultValues:{email:"",password:"",...i?{}:{name:""}}});var S,j,T;if(!e)return null;const P=()=>{l(!1),x(),t(),g&&(window.location.href="/minhas-musicas")};return at.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[at.jsxDEV("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:180,columnNumber:7},void 0),at.jsxDEV("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6",children:[at.jsxDEV(qo,{onClick:t,variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-memora-gray hover:text-memora-black","aria-label":"Fechar modal",children:at.jsxDEV(Z,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:195,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:188,columnNumber:9},void 0),at.jsxDEV("div",{className:"text-center mb-6",children:[at.jsxDEV("h2",{className:"text-2xl font-heading font-bold text-memora-black mb-2",children:i?"Entrar":"Criar conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:200,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-memora-gray",children:i?"Acesse suas msicas personalizadas":"Comece a criar suas msicas nicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:203,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:199,columnNumber:9},void 0),at.jsxDEV(qo,{onClick:async()=>{await d({email:"google@user.com",password:"google"})&&(N(),x(),t())},variant:"outline",className:"w-full mb-4 border-2 border-memora-gray-light hover:border-memora-primary hover:bg-memora-primary/5","data-attr":i?"google-login":"google-signup",children:[at.jsxDEV("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[at.jsxDEV("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:219,columnNumber:13},void 0),at.jsxDEV("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:223,columnNumber:13},void 0),at.jsxDEV("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:227,columnNumber:13},void 0),at.jsxDEV("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:218,columnNumber:11},void 0),"Continuar com Google"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:212,columnNumber:9},void 0),at.jsxDEV("div",{className:"relative mb-4",children:[at.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:at.jsxDEV("div",{className:"w-full border-t border-memora-gray-light"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:242,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:241,columnNumber:11},void 0),at.jsxDEV("div",{className:"relative flex justify-center text-sm",children:at.jsxDEV("span",{className:"px-2 bg-white text-memora-gray",children:"ou"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:245,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:244,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:240,columnNumber:9},void 0),p&&at.jsxDEV("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:at.jsxDEV("p",{className:"text-red-600 text-sm",children:p},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:251,columnNumber:11},void 0),at.jsxDEV("form",{onSubmit:y(async e=>{f();try{if(i)await d({email:e.email,password:e.password}),N(),x(),t(),E();else{const t=e;await u({email:t.email,password:t.password,name:t.name}),m(e.email),l(!0)}}catch(r){}}),className:"space-y-4",children:[!i&&at.jsxDEV("div",{children:[at.jsxDEV(mc,{htmlFor:"name",className:"text-memora-black font-medium",children:"Nome completo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:260,columnNumber:15},void 0),at.jsxDEV(ac,{id:"name",type:"text",...w("name"),className:"mt-1 h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl",placeholder:"Seu nome"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:263,columnNumber:15},void 0),_.name&&at.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:_.name.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:271,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:259,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV(mc,{htmlFor:"email",className:"text-memora-black font-medium",children:"E-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:277,columnNumber:13},void 0),at.jsxDEV("div",{className:"relative mt-1",children:[at.jsxDEV(ac,{id:"email",type:"email",...w("email"),className:"h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl pl-10",placeholder:"seu@email.com"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:281,columnNumber:15},void 0),at.jsxDEV(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-memora-gray"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:288,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:280,columnNumber:13},void 0),_.email&&at.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:_.email.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:291,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:276,columnNumber:11},void 0),at.jsxDEV("div",{children:[at.jsxDEV(mc,{htmlFor:"password",className:"text-memora-black font-medium",children:"Senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:296,columnNumber:13},void 0),at.jsxDEV("div",{className:"relative mt-1",children:[at.jsxDEV(ac,{id:"password",type:s?"text":"password",...w("password"),className:"h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl pr-10",placeholder:"Sua senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:300,columnNumber:15},void 0),at.jsxDEV(qo,{type:"button",onClick:()=>o(!s),variant:"ghost",size:"icon",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-memora-gray hover:text-memora-black h-auto w-auto p-0","aria-label":s?"Ocultar senha":"Mostrar senha",children:s?at.jsxDEV(ce,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:316,columnNumber:19},void 0):at.jsxDEV(me,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:318,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:307,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:299,columnNumber:13},void 0),_.password&&at.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:_.password.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:295,columnNumber:11},void 0),at.jsxDEV(qo,{type:"submit",disabled:h,className:"w-full bg-memora-primary hover:bg-memora-primary/90 text-white font-medium disabled:opacity-50","data-attr":i?"email-login":"email-signup",children:h?at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:335,columnNumber:17},void 0),i?"Entrando...":"Criando conta..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:334,columnNumber:15},void 0):i?"Entrar":"Criar conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:327,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:257,columnNumber:9},void 0),at.jsxDEV("div",{className:"text-center mt-6",children:[at.jsxDEV("p",{className:"text-memora-gray",children:[i?"No tem uma conta?":"J tem uma conta?",at.jsxDEV(qo,{onClick:()=>{const e=!i;a(e),f(),E({email:"",password:"",...e?{}:{name:""}})},variant:"link",className:"ml-1 text-memora-primary hover:text-memora-primary/80 font-medium p-0 h-auto",children:i?"Criar conta":"Entrar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:348,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:346,columnNumber:11},void 0),i&&at.jsxDEV("div",{className:"mt-2",children:at.jsxDEV(qo,{type:"button",variant:"link",className:"text-memora-primary hover:text-memora-primary/80 font-medium p-0 h-auto",onClick:async()=>{const e=D("email");if(!e)return void alert("Informe seu e-mail para recuperar a senha.");await v(e)&&alert("Enviamos um e-mail com instrues para redefinir sua senha.")},children:"Esqueci minha senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:368,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:367,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:345,columnNumber:9},void 0),n&&at.jsxDEV("div",{className:"absolute inset-0 bg-white rounded-2xl flex flex-col items-center justify-center p-8 text-center",children:[at.jsxDEV("div",{className:"mb-6",children:[at.jsxDEV("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:at.jsxDEV(le,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:385,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:384,columnNumber:15},void 0),at.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Confirme seu e-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:387,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-gray-600 mb-4",children:"Enviamos um link de confirmao para:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:390,columnNumber:15},void 0),at.jsxDEV("p",{className:"font-medium text-gray-900 mb-6",children:c},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:393,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-sm text-gray-500 mb-6",children:"Clique no link do e-mail para ativar sua conta. Aps a confirmao, voc ser redirecionado automaticamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:396,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:383,columnNumber:13},void 0),at.jsxDEV("div",{className:"space-y-3 w-full max-w-sm",children:[at.jsxDEV(qo,{onClick:async()=>{if(c)try{if(await b(c)){const e=document.querySelector("[data-resend-button]");if(e){const t=e.textContent;e.textContent="E-mail enviado!",e.disabled=!0,setTimeout(()=>{e.textContent=t,e.disabled=!1},3e3)}}}catch(e){const t=document.querySelector("[data-resend-button]");if(t){const e=t.textContent;t.textContent="Erro ao enviar",setTimeout(()=>{t.textContent=e},3e3)}}},variant:"outline",className:"w-full",disabled:h,"data-resend-button":!0,children:h?"Reenviando...":"Reenviar e-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:402,columnNumber:15},void 0),at.jsxDEV(qo,{onClick:P,variant:"ghost",className:"w-full text-gray-500",children:"Fechar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:412,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:401,columnNumber:13},void 0),at.jsxDEV("div",{className:"mt-6 flex items-center text-sm text-gray-500",children:[at.jsxDEV(te,{className:"w-4 h-4 mr-2 text-green-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:422,columnNumber:15},void 0),"Monitorando confirmao automaticamente..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:421,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:382,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:186,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:178,columnNumber:5},void 0)};let fc=null,vc=1;try{if("undefined"!=typeof window){const e=localStorage.getItem("memora_volume"),t=e?parseFloat(e):NaN;!Number.isNaN(t)&&t>=0&&t<=1&&(vc=t)}}catch{}const gc=Qe((e,t)=>({currentId:null,currentUrl:null,currentTitle:null,currentVersionLabel:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,volume:vc,play:(r,s,o)=>{try{e({isLoading:!0}),fc?fc.src!==s&&(fc.src=s):fc=new Audio(s),fc.onloadedmetadata=()=>{e({duration:(null==fc?void 0:fc.duration)||0,isLoading:!1})},fc.ontimeupdate=()=>{e({currentTime:(null==fc?void 0:fc.currentTime)||0})},fc.onended=()=>{e({isPlaying:!1,currentId:null,currentUrl:null,currentVersionLabel:null})},fc.onplaying=()=>e({isPlaying:!0,isLoading:!1}),fc.onwaiting=()=>e({isLoading:!0}),fc.onerror=()=>e({isLoading:!1}),fc.currentTime=0,fc.volume=t().volume,fc.play(),e({currentId:r,currentUrl:s,isPlaying:!0,currentTitle:(null==o?void 0:o.title)||null,currentVersionLabel:(null==o?void 0:o.versionLabel)||null})}catch(kp){}},pause:()=>{try{fc&&fc.pause(),e({isPlaying:!1})}catch(kp){}},stop:()=>{try{fc&&(fc.pause(),fc.currentTime=0),e({isPlaying:!1,currentId:null,currentUrl:null,currentTime:0,currentTitle:null,currentVersionLabel:null})}catch(kp){}},seek:t=>{try{fc&&!Number.isNaN(t)&&(fc.currentTime=Math.max(0,Math.min(t,fc.duration||t)),e({currentTime:fc.currentTime}))}catch(kp){}},setVolume:t=>{const r=Math.max(0,Math.min(1,t));fc&&(fc.volume=r),e({volume:r});try{"undefined"!=typeof window&&localStorage.setItem("memora_volume",String(r))}catch{}},getMediaElement:()=>fc}));function bc(e){if(!isFinite(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}const xc=()=>{const{currentId:e,currentUrl:t,currentTitle:s,currentVersionLabel:o,isPlaying:i,currentTime:a,duration:n,seek:l,play:c,pause:m,stop:d,volume:u,setVolume:h}=gc();return r.useMemo(()=>!!e&&!!t,[e,t])?at.jsxDEV("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 max-w-3xl w-[92%] sm:w-[640px]",children:at.jsxDEV("div",{className:"rounded-xl border p-3 backdrop-blur-md bg-white/90 border-gray-200 shadow-[0_10px_30px_rgba(0,0,0,0.3)]",children:at.jsxDEV("div",{className:"flex items-center gap-3",children:[i?at.jsxDEV("button",{onClick:m,className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center active:scale-95 transition","aria-label":"Pausar",children:at.jsxDEV(de,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:32,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:27,columnNumber:13},void 0):at.jsxDEV("button",{onClick:()=>e&&t&&c(e,t,{title:s||void 0,versionLabel:o||void 0}),className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center active:scale-95 transition","aria-label":"Reproduzir",children:at.jsxDEV(ue,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:40,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:35,columnNumber:13},void 0),at.jsxDEV("div",{className:"min-w-0 flex-1",children:[at.jsxDEV("div",{className:"text-sm font-medium text-gray-900 truncate",children:[s||"Reproduzindo udio"," ",o?at.jsxDEV("span",{className:"text-gray-500",children:[" Verso ",o]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:47,columnNumber:77},void 0):null]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:46,columnNumber:13},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("span",{className:"text-[11px] text-gray-500 w-10 text-right",children:bc(a)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:51,columnNumber:15},void 0),at.jsxDEV("input",{type:"range",min:0,max:Math.max(1,n),step:.5,value:a,onChange:e=>l(Number(e.target.value)),className:"flex-1 accent-blue-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:52,columnNumber:15},void 0),at.jsxDEV("span",{className:"text-[11px] text-gray-500 w-10",children:bc(n)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:45,columnNumber:11},void 0),at.jsxDEV("div",{className:"hidden sm:flex items-center gap-2 w-28",children:[at.jsxDEV(he,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:67,columnNumber:13},void 0),at.jsxDEV("input",{type:"range",min:0,max:1,step:.05,value:u,onChange:e=>h(Number(e.target.value)),className:"w-full accent-blue-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:66,columnNumber:11},void 0),at.jsxDEV("button",{onClick:d,className:"p-2 rounded-md hover:bg-gray-100","aria-label":"Fechar player",children:at.jsxDEV(Z,{className:"w-4 h-4 text-gray-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:24,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:23,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:22,columnNumber:5},void 0):null},Nc=({children:e})=>{const{isAuthModalOpen:t,hideAuthPopup:r}=tc();return at.jsxDEV(at.Fragment,{children:[at.jsxDEV("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-br from-[#4D2699] via-[#231733] to-[#160D27]"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:16,columnNumber:7},void 0),at.jsxDEV("div",{className:"min-h-screen flex flex-col relative z-10",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:19,columnNumber:7},void 0),at.jsxDEV(xc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:24,columnNumber:7},void 0),at.jsxDEV(pc,{isOpen:t,onClose:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:27,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:14,columnNumber:5},void 0)};function wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(r),!0).forEach(function(t){Ec(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _c(e){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ec(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dc(e,t){if(null==e)return{};var r,s,o=function(e,t){if(null==e)return{};var r,s,o={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var s,o,i=[],a=!0,n=!1;try{for(r=r.call(e);!(a=(s=r.next()).done)&&(i.push(s.value),!t||i.length!==t);a=!0);}catch(l){n=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(n)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Tc=function(e,t,r){var s=!!r,o=i.useRef(r);i.useEffect(function(){o.current=r},[r]),i.useEffect(function(){if(!s||!e)return function(){};var r=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,r),function(){e.off(t,r)}},[s,t,e,o])},Pc=function(e){var t=i.useRef(e);return i.useEffect(function(){t.current=e},[e]),t.current},Cc=function(e){return null!==e&&"object"===_c(e)},kc="[object Object]",Uc=function e(t,r){if(!Cc(t)||!Cc(r))return t===r;var s=Array.isArray(t);if(s!==Array.isArray(r))return!1;var o=Object.prototype.toString.call(t)===kc;if(o!==(Object.prototype.toString.call(r)===kc))return!1;if(!o&&!s)return t===r;var i=Object.keys(t),a=Object.keys(r);if(i.length!==a.length)return!1;for(var n={},l=0;l<i.length;l+=1)n[i[l]]=!0;for(var c=0;c<a.length;c+=1)n[a[c]]=!0;var m=Object.keys(n);if(m.length!==i.length)return!1;var d=t,u=r;return m.every(function(t){return e(d[t],u[t])})},Vc=function(e,t,r){return Cc(e)?Object.keys(e).reduce(function(s,o){var i=!Cc(t)||!Uc(e[o],t[o]);return r.includes(o)?s:i?yc(yc({},s||{}),{},Ec({},o,e[o])):s},null):null},Ac="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Mc=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac;if(null===e||Cc(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(r)},Ic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac;if(function(e){return Cc(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return Mc(e,t)})};var r=Mc(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},Lc=i.createContext(null);Lc.displayName="ElementsContext";var Oc=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Rc=function(e){var t=e.stripe,r=e.options,s=e.children,o=i.useMemo(function(){return Ic(t)},[t]),a=Sc(i.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}}),2),n=a[0],l=a[1];i.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==o.tag||n.stripe?"sync"!==o.tag||n.stripe||t(o.stripe):o.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[o,n,r]);var c=Pc(t);i.useEffect(function(){},[c,t]);var m=Pc(r);return i.useEffect(function(){if(n.elements){var e=Vc(r,m,["clientSecret","fonts"]);e&&n.elements.update(e)}},[r,m,n.elements]),i.useEffect(function(){var e;(e=n.stripe)&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.1"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.1",url:"https://stripe.com/docs/stripe-js/react"}))},[n.stripe]),i.createElement(Lc.Provider,{value:n},s)};Rc.propTypes={stripe:pe.any,options:pe.object};var Fc=function(){var e,t;return(e="calls useElements()",t=i.useContext(Lc),Oc(t,e)).elements};pe.func.isRequired;var $c=i.createContext(null);$c.displayName="CheckoutContext",pe.any,pe.shape({fetchClientSecret:pe.func.isRequired,elementsOptions:pe.object}).isRequired;var Bc=function(e){var t=i.useContext($c),r=i.useContext(Lc);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}return Oc(r,e)},zc=["mode"],Gc=function(e,t){var r,s="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=t?function(e){Bc("mounts <".concat(s,">"));var t=e.id,r=e.className;return i.createElement("div",{id:t,className:r})}:function(t){var r,o=t.id,a=t.className,n=t.options,l=void 0===n?{}:n,c=t.onBlur,m=t.onFocus,d=t.onReady,u=t.onChange,h=t.onEscape,p=t.onClick,f=t.onLoadError,v=t.onLoaderStart,g=t.onNetworksChange,b=t.onConfirm,x=t.onCancel,N=t.onShippingAddressChange,w=t.onShippingRateChange,y=t.onSavedPaymentMethodRemove,_=t.onSavedPaymentMethodUpdate,E=Bc("mounts <".concat(s,">")),D="elements"in E?E.elements:null,S="checkoutState"in E?E.checkoutState:null,j="success"===(null==S?void 0:S.type)?S.checkout:null,T=Sc(i.useState(null),2),P=T[0],C=T[1],k=i.useRef(null),U=i.useRef(null);Tc(P,"blur",c),Tc(P,"focus",m),Tc(P,"escape",h),Tc(P,"click",p),Tc(P,"loaderror",f),Tc(P,"loaderstart",v),Tc(P,"networkschange",g),Tc(P,"confirm",b),Tc(P,"cancel",x),Tc(P,"shippingaddresschange",N),Tc(P,"shippingratechange",w),Tc(P,"savedpaymentmethodremove",y),Tc(P,"savedpaymentmethodupdate",_),Tc(P,"change",u),d&&(r="expressCheckout"===e?d:function(){d(P)}),Tc(P,"ready",r),i.useLayoutEffect(function(){if(null===k.current&&null!==U.current&&(D||j)){var t=null;if(j)switch(e){case"payment":t=j.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var r=l.mode,o=Dc(l,zc);if("shipping"===r)t=j.createShippingAddressElement(o);else{if("billing"!==r)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=j.createBillingAddressElement(o)}break;case"expressCheckout":t=j.createExpressCheckoutElement(l);break;case"currencySelector":t=j.createCurrencySelectorElement();break;case"taxId":t=j.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else D&&(t=D.create(e,l));k.current=t,C(t),t&&t.mount(U.current)}},[D,j,l]);var V=Pc(l);return i.useEffect(function(){if(k.current){var e=Vc(l,V,["paymentRequest"]);e&&"update"in k.current&&k.current.update(e)}},[l,V]),i.useLayoutEffect(function(){return function(){if(k.current&&"function"==typeof k.current.destroy)try{k.current.destroy(),k.current=null}catch(e){}}},[]),i.createElement("div",{id:o,className:a,ref:U})};return o.propTypes={id:pe.string,className:pe.string,onChange:pe.func,onBlur:pe.func,onFocus:pe.func,onReady:pe.func,onEscape:pe.func,onClick:pe.func,onLoadError:pe.func,onLoaderStart:pe.func,onNetworksChange:pe.func,onConfirm:pe.func,onCancel:pe.func,onShippingAddressChange:pe.func,onShippingRateChange:pe.func,onSavedPaymentMethodRemove:pe.func,onSavedPaymentMethodUpdate:pe.func,options:pe.object},o.displayName=s,o.__elementType=e,o},Hc="undefined"==typeof window;i.createContext(null).displayName="EmbeddedCheckoutProviderContext";Gc("auBankAccount",Hc),Gc("card",Hc),Gc("cardNumber",Hc),Gc("cardExpiry",Hc),Gc("cardCvc",Hc),Gc("fpxBank",Hc),Gc("iban",Hc),Gc("idealBank",Hc),Gc("p24Bank",Hc),Gc("epsBank",Hc);var qc=Gc("payment",Hc);Gc("expressCheckout",Hc),Gc("paymentRequestButton",Hc),Gc("linkAuthentication",Hc),Gc("address",Hc),Gc("shippingAddress",Hc),Gc("paymentMethodMessaging",Hc),Gc("affirmMessage",Hc),Gc("afterpayClearpayMessage",Hc),Gc("taxId",Hc);var Wc,Xc="basil",Yc="https://js.stripe.com",Jc="".concat(Yc,"/").concat(Xc,"/stripe.js"),Kc=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Qc=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Zc=function(e){return Kc.test(e)||Qc.test(e)},em=function(e){var t=document.createElement("script");t.src="".concat(Jc).concat("");var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t},tm=null,rm=null,sm=null,om=function(e){return null!==tm?tm:(tm=new Promise(function(t,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)t(window.Stripe);else try{var s=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Yc,'"]')),t=0;t<e.length;t++){var r=e[t];if(Zc(r.src))return r}return null}();if(s&&e);else if(s){if(s&&null!==sm&&null!==rm){var o;s.removeEventListener("load",sm),s.removeEventListener("error",rm),null===(o=s.parentNode)||void 0===o||o.removeChild(s),s=em()}}else s=em();sm=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),rm=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(r),s.addEventListener("load",sm),s.addEventListener("error",rm)}catch(i){return void r(i)}else t(null)}),tm.catch(function(e){return tm=null,Promise.reject(e)}))},im=function(){return Wc||(Wc=om(null).catch(function(e){return Wc=null,Promise.reject(e)}))};Promise.resolve().then(function(){return im()}).catch(function(e){});const am=({amount:e,clientSecret:t,onSuccess:s,onError:o,disabled:i=!1})=>{const a=Bc("calls useStripe()").stripe,n=Fc(),{user:l}=Zl(),[c,m]=r.useState(!1),[d,u]=r.useState("idle"),[h,p]=r.useState(""),f=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),v=r.useMemo(()=>({defaultValues:{billingDetails:{name:(null==l?void 0:l.name)||void 0,email:(null==l?void 0:l.email)||void 0,address:{country:"BR"}}},fields:{billingDetails:{name:"auto",email:"auto",address:{country:"auto"}}}}),[null==l?void 0:l.name,null==l?void 0:l.email]);return at.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),a&&n){m(!0),u("processing"),p("");try{const{error:e,paymentIntent:t}=await a.confirmPayment({elements:n,redirect:"if_required",confirmParams:{return_url:`${window.location.origin}/payment/success`}});e?(u("failed"),"tax_id_invalid"===(null==e?void 0:e.code)?p("CPF/CNPJ invlido. Confira o nmero informado. Para testes, utilize um CPF/CNPJ vlido."):p((null==e?void 0:e.message)||"Erro no pagamento"),o(e.message||"Erro no pagamento")):t&&"succeeded"===t.status?(u("succeeded"),s(t.id)):!t||"processing"!==t.status&&"requires_action"!==t.status?(u("failed"),p("Pagamento no foi processado corretamente"),o("Pagamento no foi processado corretamente")):(u("processing"),p("Pagamento em processamento. Para Boleto/PIX, aguarde a confirmao. Voc ser liberado aps a confirmao automtica."))}catch(t){u("failed");const e=t instanceof Error?t.message:"Erro inesperado";p(e),o(e)}finally{m(!1)}}},className:"space-y-6",children:[at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between",children:[at.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Pagamento Seguro"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:120,columnNumber:11},void 0),at.jsxDEV("div",{className:"text-2xl font-bold text-indigo-600",children:f(e)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:119,columnNumber:9},void 0),at.jsxDEV("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[at.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[at.jsxDEV(fe,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:128,columnNumber:13},void 0),at.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Mtodo de Pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:127,columnNumber:11},void 0),at.jsxDEV(qc,{options:v},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:131,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:126,columnNumber:9},void 0),h&&at.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[at.jsxDEV(ve,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:136,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h4",{className:"text-red-800 font-medium text-sm",children:"Erro no pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:138,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-red-700 text-sm mt-1",children:h},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:135,columnNumber:11},void 0),"succeeded"===d&&at.jsxDEV("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start space-x-3",children:[at.jsxDEV(te,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:146,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h4",{className:"text-green-800 font-medium text-sm",children:"Pagamento realizado!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:148,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-green-700 text-sm mt-1",children:"Seu upgrade foi processado com sucesso."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:149,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:147,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:145,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:118,columnNumber:7},void 0),at.jsxDEV("div",{className:"sticky bottom-0 left-0 right-0 bg-white pt-3 pb-3 sm:pb-4 border-t border-gray-200 [--s:env(safe-area-inset-bottom)] pb-[max(0px,var(--s))]",children:[at.jsxDEV("button",{type:"submit",disabled:!a||c||i||"succeeded"===d,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200 flex items-center space-x-2 w-full h-12 text-base font-semibold justify-center shadow-lg",children:c?at.jsxDEV(at.Fragment,{children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:164,columnNumber:15},void 0),at.jsxDEV("span",{children:"Processando..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:165,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:163,columnNumber:13},void 0):"succeeded"===d?at.jsxDEV(at.Fragment,{children:[at.jsxDEV(te,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:169,columnNumber:15},void 0),"Pagamento Concludo"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:168,columnNumber:13},void 0):at.jsxDEV(at.Fragment,{children:[at.jsxDEV(fe,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:174,columnNumber:15},void 0),"Pagar ",f(e)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:173,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:157,columnNumber:9},void 0),at.jsxDEV("div",{className:"mt-2 text-[11px] leading-4 text-gray-500 text-center",children:at.jsxDEV("p",{children:" Pagamento seguro processado pelo Stripe"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:181,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:156,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:117,columnNumber:5},void 0)},nm=({isOpen:e,onClose:t,onConfirm:s})=>{const{user:o,token:i}=Zl(),{unblockCreationFlow:a,hidePaymentPopup:n}=tc(),l=qs(),[c,m]=r.useState(!1),[d,u]=r.useState(!1),[h,p]=r.useState(null),[f,v]=r.useState(null),[g,b]=r.useState(null),x=r.useRef(!1),[N,w]=r.useState(null),[y,_]=r.useState(!1),[E,D]=r.useState([]),S=r.useRef(null),j="pk_test_51S3bc1IA5Nxa3lOrVErNEZJtET1HnvZ20cs4QS2N7DUNnm3G4VOlyhEKiQWUd4eJR0xLm6UafoSx3Wwk8M8nY0Cj00aZUhQcwY",T=j.startsWith("pk_"),P=!!g&&g.startsWith("pk_")||T;r.useEffect(()=>{if(!e)return;if(f&&g)return;(async()=>{try{let e=T?j:"";if(!e){const t=await fetch(`${si}/api/stripe/public-key`);if(t.ok){const r=await t.json();(null==r?void 0:r.publishableKey)&&"string"==typeof r.publishableKey&&(e=r.publishableKey)}}e&&e.startsWith("pk_")&&(b(e),v(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];0;var s=Date.now();return im().then(function(e){return function(e,t,r){if(null===e)return null;t[0].match(/^pk_test/),e.version;var s=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(s,r),s}(e,t,s)})}(e)))}catch(kp){}})()},[e,T,j,f,g]);r.useEffect(()=>{},[e,j,g,f]),r.useEffect(()=>{e&&!x.current&&(m(!1),w(null),_(!1),p(null)),x.current=e},[e]),r.useEffect(()=>{(async()=>{try{if(!e)return;const t={"Content-Type":"application/json","X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${si}/api/stripe/pending`,{headers:t});if(!r.ok)return;const s=await r.json();D(Array.isArray(null==s?void 0:s.items)?s.items:[])}catch{}})()},[e,i]),r.useEffect(()=>{if(e&&(0!==E.length||c))return S.current||(S.current=setInterval(async()=>{var e;try{const t={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${si}/api/user/creation-status`,{headers:t}),o=await r.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(e=null==o?void 0:o.data)?void 0:e.isFree))&&(a(),n(),s(),l("/criar"))}catch{}},3e3)),()=>{S.current&&(clearInterval(S.current),S.current=null)}},[e,E.length,c,i,a,n,l,s]);const C=()=>{u(!0),setTimeout(()=>{u(!1),_t.success("Pagamento simulado realizado com sucesso!"),s()},2e3)};r.useEffect(()=>{h&&(_t.error(h),p(null))},[h]);return e?at.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3 sm:p-4",children:at.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 flex flex-col max-h-[90vh]",children:[at.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-5 sm:p-6 text-white relative shrink-0",children:[at.jsxDEV("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:at.jsxDEV(Z,{size:24},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:305,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:301,columnNumber:11},void 0),at.jsxDEV("div",{className:"flex items-center gap-3",children:[at.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:at.jsxDEV(ge,{className:"text-yellow-300",size:24},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:309,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:308,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h2",{className:"text-xl font-bold",children:"Upgrade para Premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:312,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-purple-100 text-sm",children:"Desbloqueie msicas ilimitadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:313,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:311,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:307,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:300,columnNumber:9},void 0),at.jsxDEV("div",{className:"px-4 py-5 sm:p-6 overflow-y-auto flex-1",children:[!c&&at.jsxDEV(at.Fragment,{children:[at.jsxDEV("div",{className:"text-center mb-6",children:at.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[at.jsxDEV("p",{className:"text-red-800 font-medium",children:" Limite de msicas gratuitas atingido"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:326,columnNumber:19},void 0),at.jsxDEV("p",{className:"text-red-600 text-sm mt-1",children:"Voc j criou sua msica gratuita. Faa upgrade para continuar!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:327,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:325,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:324,columnNumber:15},void 0),at.jsxDEV("div",{className:"space-y-3 mb-6",children:[at.jsxDEV("div",{className:"flex items-center gap-3",children:[at.jsxDEV("div",{className:"bg-green-100 p-1 rounded-full",children:at.jsxDEV(be,{className:"text-green-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:337,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:336,columnNumber:19},void 0),at.jsxDEV("span",{className:"text-gray-700",children:"Msicas ilimitadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:339,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:335,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex items-center gap-3",children:[at.jsxDEV("div",{className:"bg-blue-100 p-1 rounded-full",children:at.jsxDEV(ge,{className:"text-blue-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:343,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:342,columnNumber:19},void 0),at.jsxDEV("span",{className:"text-gray-700",children:"Qualidade premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:345,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:341,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex items-center gap-3",children:[at.jsxDEV("div",{className:"bg-purple-100 p-1 rounded-full",children:at.jsxDEV(fe,{className:"text-purple-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:349,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:348,columnNumber:19},void 0),at.jsxDEV("span",{className:"text-gray-700",children:"Sem anncios"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:351,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:347,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:334,columnNumber:15},void 0),at.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 mb-6",children:at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("div",{className:"text-2xl font-bold text-gray-800",children:"R$ 14,90"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:358,columnNumber:19},void 0),at.jsxDEV("div",{className:"text-sm text-gray-600",children:"pagamento nico"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:359,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:357,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:356,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:323,columnNumber:13},void 0),!c&&e&&E&&E.length>0&&at.jsxDEV("div",{className:"mb-6 border border-yellow-300 bg-yellow-50 rounded-lg p-4",children:[at.jsxDEV("p",{className:"font-medium text-yellow-900",children:"Pagamento pendente encontrado"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:368,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-sm text-yellow-800 mt-1",children:"Finalize o boleto antes de continuar. Voc pode abrir o boleto abaixo e, aps simular o pagamento de teste no Stripe CLI, clicar em verificar."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:369,columnNumber:15},void 0),E.map(e=>at.jsxDEV("div",{className:"mt-3 flex items-center justify-between text-sm",children:at.jsxDEV("div",{children:[at.jsxDEV("div",{className:"text-gray-800",children:["Intent: ",e.payment_intent_id]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:373,columnNumber:21},void 0),e.voucher_url&&at.jsxDEV("a",{href:e.voucher_url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Abrir boleto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:375,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:372,columnNumber:19},void 0)},e.payment_intent_id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:371,columnNumber:17},void 0)),at.jsxDEV("div",{className:"mt-3 flex gap-2",children:at.jsxDEV("button",{onClick:async()=>{var e;try{const t={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${si}/api/user/creation-status`,{headers:t}),o=await r.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(e=null==o?void 0:o.data)?void 0:e.isFree))?(a(),n(),s(),l("/criar")):_t.info("Ainda aguardando confirmao. Tente novamente em alguns segundos.")}catch{}},className:"bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700",children:"J paguei, verificar agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:381,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:380,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:367,columnNumber:13},void 0),c&&P&&f?at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between",children:[at.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Finalizar Pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:411,columnNumber:17},void 0),at.jsxDEV("button",{onClick:()=>{m(!1),w(null),_(!1)},className:"text-gray-500 hover:text-gray-700 text-sm",children:" Voltar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:412,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:410,columnNumber:15},void 0),y&&at.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:423,columnNumber:19},void 0),at.jsxDEV("span",{className:"ml-3 text-gray-600",children:"Carregando pagamento..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:424,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:422,columnNumber:17},void 0),!y&&!N&&h&&at.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:at.jsxDEV("p",{className:"text-red-800 text-sm",children:"Ocorreu um erro ao carregar o formulrio. Tente novamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:431,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:430,columnNumber:17},void 0),!y&&N&&at.jsxDEV(Rc,{stripe:f,options:{clientSecret:N,paymentMethodOrder:["pix","card","boleto"],appearance:{theme:"stripe",variables:{colorPrimary:"#7c3aed",colorBackground:"#ffffff",colorText:"#1f2937",colorDanger:"#ef4444",fontFamily:"system-ui, sans-serif",spacingUnit:"4px",borderRadius:"8px"}},locale:"pt-BR"},children:at.jsxDEV(am,{amount:1490,onSuccess:async e=>{var t;_t.success("Pagamento aprovado! Liberando criao...");try{a(),n();try{const t={"Content-Type":"application/json"};i&&(t.Authorization=`Bearer ${i}`),await fetch(`${si}/api/stripe/finalize`,{method:"POST",headers:t,body:JSON.stringify({paymentIntentId:e,deviceId:localStorage.getItem("deviceId")||void 0})})}catch(kp){}const r={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(r.Authorization=`Bearer ${i}`);const s=await fetch(`${si}/api/user/creation-status`,{method:"GET",headers:r}),o=await s.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(t=null==o?void 0:o.data)?void 0:t.isFree))?l("/criar"):setTimeout(async()=>{var e;try{const t=await fetch(`${si}/api/user/creation-status`,{method:"GET",headers:r}),s=await t.json().catch(()=>({}));!0===((null==s?void 0:s.isFree)??(null==(e=null==s?void 0:s.data)?void 0:e.isFree))&&l("/criar")}catch{}},1500)}catch(kp){}finally{s()}},onError:e=>{p(`Erro no pagamento: ${e}`),m(!1)},disabled:d},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:457,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:437,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:409,columnNumber:13},void 0):at.jsxDEV("div",{className:"space-y-3",children:[at.jsxDEV("button",{onClick:async()=>{P&&f?(m(!0),await(async()=>{try{_(!0),p(null);const e={"Content-Type":"application/json"};i&&(e.Authorization=`Bearer ${i}`);const t=await fetch(`${si}/api/stripe/create-payment-intent`,{method:"POST",headers:e,body:JSON.stringify({amount:1490,currency:"brl",metadata:{userId:(null==o?void 0:o.id)||void 0,deviceId:localStorage.getItem("deviceId")||void 0,productType:"music_generation",description:"Gerao de msica premium"}})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Falha ao criar o Payment Intent")}const r=await t.json();w(r.clientSecret)}catch(e){const t=e instanceof Error?e.message:"Erro ao carregar formulrio de pagamento";p(t),_t.error(t)}finally{_(!1)}})()):C()},disabled:d,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[d?"Processando...":"Fazer Upgrade Agora",!P&&at.jsxDEV("span",{className:"text-xs block mt-1 opacity-75",children:"(Modo simulado)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:475,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:468,columnNumber:15},void 0),at.jsxDEV("button",{onClick:t,disabled:d,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Talvez mais tarde"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:480,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:467,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:320,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:298,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:296,columnNumber:5},void 0):null},lm={recipientName:"",occasion:"",relationship:"",senderName:"",hobbies:"",qualities:"",uniqueTraits:"",memories:"",emotionalTone:"",genre:"",mood:"",tempo:"",duration:"",lyrics:"",songTitle:"",emotion:"",vocalPreference:""},cm={formData:lm,currentStep:0,isPreviewLoading:!1,isLoading:!1,error:null,generatedAudioUrl:null,generatedLyrics:null,audioClips:[],currentTaskId:null,isPolling:!1,musicGenerationStatus:"idle",completedClips:0,totalExpected:2,pollingInterval:null,isMvpFlowComplete:!1,isValidationPopupVisible:!1},mm=Qe()(Yo((e,t)=>({...cm,updateFormData:t=>{e(e=>({formData:{...e.formData,...t}}))},setCurrentStep:t=>{e({currentStep:t})},setPreviewLoading:t=>{e({isPreviewLoading:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},nextStep:()=>{e(e=>({currentStep:e.currentStep+1}))},prevStep:()=>{e(e=>({currentStep:Math.max(0,e.currentStep-1)}))},generateLyrics:async()=>{const{formData:r}=t();if(!r.recipientName||!r.occasion||!r.relationship){const t="Por favor, preencha todos os campos obrigatrios da primeira etapa antes de gerar a letra.";return e({error:t}),void _t.error(t)}const s={...r,lyricsOnly:!0};e({isLoading:!0,error:null});try{const t=await di(oi.GENERATE_PREVIEW,{method:"POST",body:s});if(t.success&&t.lyrics&&t.songTitle)e(e=>({formData:{...e.formData,lyrics:t.lyrics,songTitle:t.songTitle},generatedLyrics:t.lyrics})),_t.success("Letra e ttulo gerados com sucesso!");else{const t="Resposta da API no contm letra ou ttulo vlidos";e({error:t}),_t.error(t)}}catch(o){const t=o instanceof Error?o.message:"Erro de conexo. Verifique sua internet e tente novamente.";e({error:t})}finally{e({isLoading:!1})}},generatePreview:async()=>{const{formData:r}=t();if(!(r.songTitle&&r.recipientName&&r.occasion&&r.relationship&&r.emotionalTone&&r.genre&&r.mood&&r.tempo&&r.duration)){const t="Por favor, preencha todos os campos obrigatrios antes de gerar a prvia.";return e({error:t}),void _t.error(t)}const s={...r,lyricsOnly:!1};e({isPreviewLoading:!0,error:null});try{const t=await di(oi.GENERATE_PREVIEW,{method:"POST",body:s});if(t.success&&t.data)e({generatedAudioUrl:t.data.audioUrl,generatedLyrics:t.data.lyrics,formData:{...r,lyrics:t.data.lyrics},isPreviewLoading:!1});else{const r=t.error||"Erro desconhecido ao gerar prvia";e({error:r,isPreviewLoading:!1}),_t.error(r)}}catch(o){const t="Erro de conexo. Verifique sua internet e tente novamente.";e({error:t,isPreviewLoading:!1}),_t.error(t)}},regenerateLyrics:()=>{t().generateLyrics()},generateMusic:async()=>{var r,s;const{formData:o}=t();if(!(o.lyrics&&o.songTitle&&o.genre&&o.emotion&&o.vocalPreference)){const t="Por favor, preencha todos os campos de estilo antes de gerar a msica.";return e({error:t}),void _t.error(t)}const i={...o,lyricsOnly:!1};e({isPreviewLoading:!0,isLoading:!0,error:null,audioClips:[],musicGenerationStatus:"processing",completedClips:0,currentTaskId:null});try{const a=await di(oi.GENERATE_PREVIEW,{method:"POST",body:i});if(a.success&&a.taskId){const r=a.totalExpected||a.expectedClips||2,s=Array(r).fill({status:"processing"});e({currentTaskId:a.taskId,totalExpected:r,audioClips:s,musicGenerationStatus:"processing"}),t().startPolling(),_t.success("Gerao de msica iniciada! Aguarde enquanto processamos...")}else if(a.success&&a.audioClips)e({audioClips:a.audioClips,generatedAudioUrl:null==(r=a.audioClips[0])?void 0:r.audio_url,generatedLyrics:(null==(s=a.data)?void 0:s.lyrics)||o.lyrics,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"completed",completedClips:a.audioClips.length}),_t.success(`${a.audioClips.length} msica(s) gerada(s) com sucesso!`);else{const t=a.error||"Resposta da API invlida";e({error:t,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"failed"}),_t.error(t)}}catch(a){const t=a instanceof Error?a.message:"Erro de conexo. Verifique sua internet e tente novamente.";e({error:t,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"failed"})}},checkMusicStatus:async()=>{const{currentTaskId:r}=t();if(r)try{const s=await di(`${oi.CHECK_MUSIC_STATUS}/${r}`,{method:"GET"});if(!s.success||"object"!=typeof s.data)return;const o=s.data,i=o.completedClips||0,a=o.totalExpected||t().totalExpected||0,n=Array.isArray(o.audioClips)?o.audioClips:[];e({audioClips:n,completedClips:i}),a>0&&i>=a&&(e({isLoading:!1,isPreviewLoading:!1,isPolling:!1,musicGenerationStatus:"completed",currentTaskId:null}),t().stopPolling(),_t.success(" Todas as msicas foram geradas com sucesso!"))}catch(s){t().stopPolling(),e({isPolling:!1,musicGenerationStatus:"error",isLoading:!1}),t().setError(`Erro ao verificar status: ${s instanceof Error?s.message:"Erro desconhecido"}`)}},startPolling:()=>{const{currentTaskId:r}=t();if(t().stopPolling(),!r)return;const s=setInterval(async()=>{await t().checkMusicStatus()},7e3);e({pollingInterval:s})},stopPolling:()=>{const{pollingInterval:r}=t();r&&(clearInterval(r),e({pollingInterval:null}))},setMvpFlowComplete:t=>{e({isMvpFlowComplete:t})},setValidationPopupVisible:t=>{e({isValidationPopupVisible:t})},completeMvpFlow:()=>{e({isMvpFlowComplete:!0,isValidationPopupVisible:!1})},startNewCreationFlow:async(e,t)=>{var r;const s=mm.getState(),o=tc.getState();s.reset();try{const t=await di("/api/user/creation-status",{method:"GET"});!0===(t.isFree||(null==(r=t.data)?void 0:r.isFree))?(o.unblockCreationFlow(),e("/criar")):(o.blockCreationFlow(),o.showPaymentPopup())}catch(i){o.unblockCreationFlow();try{_t.info("No foi possvel verificar seu status agora. Acessando o criador mesmo assim.")}catch{}e("/criar")}},resetForm:()=>{e({formData:lm,currentStep:0,error:null})},resetFlow:()=>{t().stopPolling(),e({formData:lm,currentStep:0,isPreviewLoading:!1,isLoading:!1,error:null,generatedAudioUrl:null,generatedLyrics:null,audioClips:[],currentTaskId:null,isPolling:!1,musicGenerationStatus:"idle",completedClips:0,totalExpected:2,pollingInterval:null,isMvpFlowComplete:!1,isValidationPopupVisible:!1})},reset:()=>{t().stopPolling(),e(cm)}}),{name:"music-generation-storage",partialize:e=>({formData:e.formData,currentStep:e.currentStep,generatedAudioUrl:e.generatedAudioUrl,generatedLyrics:e.generatedLyrics,audioClips:e.audioClips,musicGenerationStatus:e.musicGenerationStatus,completedClips:e.completedClips,totalExpected:e.totalExpected,isMvpFlowComplete:e.isMvpFlowComplete})}));var dm,um,hm,pm,fm,vm,gm={exports:{}};dm=gm,um=gm.exports,vm=c.createjs=c.createjs||{},
/*!
  * CreateJS
  * Visit http://createjs.com/ for documentation, updates and examples.
  *
  * Copyright (c) 2010 gskinner.com, inc.
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */
c.createjs=c.createjs||{},vm.extend=function(e,t){function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r},vm.promote=function(e,t){var r=e.prototype,s=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(s)for(var o in r[(t+="_")+"constructor"]=s.constructor,s)r.hasOwnProperty(o)&&"function"==typeof s[o]&&(r[t+o]=s[o]);return e},vm.indexOf=function(e,t){for(var r=0,s=e.length;r<s;r++)if(t===e[r])return r;return-1},function(){function e(e,t,r){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},vm.Event=e}(),function(){function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,r){var s,o=(s=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[e];return o&&this.removeEventListener(e,t,r),(o=s[e])?o.push(t):s[e]=[t],t},t.on=function(e,t,r,s,o,i){return t.handleEvent&&(r=r||t,t=t.handleEvent),r=r||this,this.addEventListener(e,function(e){t.call(r,e,o),s&&e.remove()},i)},t.removeEventListener=function(e,t,r){var s=r?this._captureListeners:this._listeners;if(s){var o=s[e];if(o)for(var i=0,a=o.length;i<a;i++)if(o[i]==t){1==a?delete s[e]:o.splice(i,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,r){if("string"==typeof e){var s=this._listeners;if(!(t||s&&s[e]))return!0;e=new vm.Event(e,t,r)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(kp){}if(e.bubbles&&this.parent){for(var o=this,i=[o];o.parent;)i.push(o=o.parent);var a,n=i.length;for(a=n-1;a>=0&&!e.propagationStopped;a--)i[a]._dispatchEvent(e,1+(0==a));for(a=1;a<n&&!e.propagationStopped;a++)i[a]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,r=this._captureListeners;return!!(t&&t[e]||r&&r[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var r,s=1==t?this._captureListeners:this._listeners;if(e&&s){var o=s[e.type];if(!o||!(r=o.length))return;try{e.currentTarget=this}catch(kp){}try{e.eventPhase=t}catch(kp){}e.removed=!1,o=o.slice();for(var i=0;i<r&&!e.immediatePropagationStopped;i++){var a=o[i];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}},vm.EventDispatcher=e}(),function(){function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,vm.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(kp){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var r=0,s=e._tickTimes;if(!s||s.length<1)return-1;t=Math.min(s.length,t||0|e.getFPS());for(var o=0;o<t;o++)r+=s[o];return r/t},e.getMeasuredFPS=function(t){var r=e._times;return!r||r.length<2?-1:(t=Math.min(r.length-1,t||0|e.getFPS()),1e3/((r[0]-r[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(r)return e._timerId=r(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,r=e._getTime(),s=r-e._lastTime;if(e._lastTime=r,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=s),e.hasEventListener("tick")){var o=new vm.Event("tick"),i=e.maxDelta;o.delta=i&&s>i?i:s,o.paused=t,o.time=r,o.runTime=r-e._pausedTime,e.dispatchEvent(o)}for(e._tickTimes.unshift(e._getTime()-r);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(r);e._times.length>100;)e._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(t&&t.call(performance)||(new Date).getTime())-e._startTime},vm.Ticker=e}(),function(){function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},vm.UID=e}(),function(){function e(e,t,r,s,o,i,a,n,l,c,m){this.Event_constructor(e,t,r),this.stageX=s,this.stageY=o,this.rawX=null==l?s:l,this.rawY=null==c?o:c,this.nativeEvent=i,this.pointerID=a,this.primary=!!n,this.relatedTarget=m}var t=vm.extend(e,vm.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(kp){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},vm.MouseEvent=vm.promote(e,"Event")}(),function(){function e(e,t,r,s,o,i){this.setValues(e,t,r,s,o,i)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,r,s,o,i){return this.a=null==e?1:e,this.b=t||0,this.c=r||0,this.d=null==s?1:s,this.tx=o||0,this.ty=i||0,this},t.append=function(e,t,r,s,o,i){var a=this.a,n=this.b,l=this.c,c=this.d;return 1==e&&0==t&&0==r&&1==s||(this.a=a*e+l*t,this.b=n*e+c*t,this.c=a*r+l*s,this.d=n*r+c*s),this.tx=a*o+l*i+this.tx,this.ty=n*o+c*i+this.ty,this},t.prepend=function(e,t,r,s,o,i){var a=this.a,n=this.c,l=this.tx;return this.a=e*a+r*this.b,this.b=t*a+s*this.b,this.c=e*n+r*this.d,this.d=t*n+s*this.d,this.tx=e*l+r*this.ty+o,this.ty=t*l+s*this.ty+i,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,r,s,o,i,a,n,l,c){if(i%360)var m=i*e.DEG_TO_RAD,d=Math.cos(m),u=Math.sin(m);else d=1,u=0;return a||n?(a*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,r),this.append(d*s,u*s,-u*o,d*o,0,0)):this.append(d*s,u*s,-u*o,d*o,t,r),(l||c)&&(this.tx-=l*this.a+c*this.c,this.ty-=l*this.b+c*this.d),this},t.prependTransform=function(t,r,s,o,i,a,n,l,c){if(i%360)var m=i*e.DEG_TO_RAD,d=Math.cos(m),u=Math.sin(m);else d=1,u=0;return(l||c)&&(this.tx-=l,this.ty-=c),a||n?(a*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.prepend(d*s,u*s,-u*o,d*o,0,0),this.prepend(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,r)):this.prepend(d*s,u*s,-u*o,d*o,t,r),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var r=Math.cos(t),s=Math.sin(t),o=this.a,i=this.b;return this.a=o*r+this.c*s,this.b=i*r+this.d*s,this.c=-o*s+this.c*r,this.d=-i*s+this.d*r,this},t.skew=function(t,r){return t*=e.DEG_TO_RAD,r*=e.DEG_TO_RAD,this.append(Math.cos(r),Math.sin(r),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,r=this.c,s=this.d,o=this.tx,i=e*s-t*r;return this.a=s/i,this.b=-t/i,this.c=-r/i,this.d=e/i,this.tx=(r*this.ty-s*o)/i,this.ty=-(e*this.ty-t*o)/i,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,r){return(r=r||{}).x=e*this.a+t*this.c+this.tx,r.y=e*this.b+t*this.d+this.ty,r},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var r=Math.atan2(-this.c,this.d),s=Math.atan2(this.b,this.a);return Math.abs(1-r/s)<1e-5?(t.rotation=s/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=r/e.DEG_TO_RAD,t.skewY=s/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,vm.Matrix2D=e}(),function(){function e(e,t,r,s,o){this.setValues(e,t,r,s,o)}var t=e.prototype;t.setValues=function(e,t,r,s,o){return this.visible=null==e||!!e,this.alpha=null==t?1:t,this.shadow=r,this.compositeOperation=s,this.matrix=o||this.matrix&&this.matrix.identity()||new vm.Matrix2D,this},t.append=function(e,t,r,s,o){return this.alpha*=t,this.shadow=r||this.shadow,this.compositeOperation=s||this.compositeOperation,this.visible=this.visible&&e,o&&this.matrix.appendMatrix(o),this},t.prepend=function(e,t,r,s,o){return this.alpha*=t,this.shadow=this.shadow||r,this.compositeOperation=this.compositeOperation||s,this.visible=this.visible&&e,o&&this.matrix.prependMatrix(o),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},vm.DisplayProps=e}(),function(){function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},vm.Point=e}(),function(){function e(e,t,r,s){this.setValues(e,t,r,s)}var t=e.prototype;t.setValues=function(e,t,r,s){return this.x=e||0,this.y=t||0,this.width=r||0,this.height=s||0,this},t.extend=function(e,t,r,s){return s=s||0,e+(r=r||0)>this.x+this.width&&(this.width=e+r-this.x),t+s>this.y+this.height&&(this.height=t+s-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,r,s){return this.x-=t,this.y-=e,this.width+=t+s,this.height+=e+r,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,r,s){return r=r||0,s=s||0,e>=this.x&&e+r<=this.x+this.width&&t>=this.y&&t+s<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var r=t.x,s=t.y,o=r+t.width,i=s+t.height;return this.x>r&&(r=this.x),this.y>s&&(s=this.y),this.x+this.width<o&&(o=this.x+this.width),this.y+this.height<i&&(i=this.y+this.height),o<=r||i<=s?null:new e(r,s,o-r,i-s)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},vm.Rectangle=e}(),function(){function e(e,t,r,s,o,i,a){e.addEventListener&&(this.target=e,this.overLabel=null==r?"over":r,this.outLabel=null==t?"out":t,this.downLabel=null==s?"down":s,this.play=o,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),i&&(a&&(i.actionsEnabled=!1,i.gotoAndStop&&i.gotoAndStop(a)),e.hitArea=i))}var t=e.prototype;t.setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(kp){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,r=this.target,s=e.type;"mousedown"==s?(this._isPressed=!0,t=this.downLabel):"pressup"==s?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==s?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?r.gotoAndPlay&&r.gotoAndPlay(t):r.gotoAndStop&&r.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},vm.ButtonHelper=e}(),function(){function e(e,t,r,s){this.color=e||"black",this.offsetX=t||0,this.offsetY=r||0,this.blur=s||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},vm.Shadow=e}(),function(){function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=vm.extend(e,vm.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(kp){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var r=this.getFrame(e);return r?(t||new vm.Rectangle).setValues(-r.regX,-r.regY,r.rect.width,r.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,r,s,o;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(r=e.images.length)>0)for(o=this._images=[],t=0;t<r;t++){var i=e.images[t];if("string"==typeof i){var a=i;(i=document.createElement("img")).src=a}o.push(i),i.getContext||i.naturalWidth||(this._loadCount++,this.complete=!1,function(e,t){i.onload=function(){e._handleImageLoad(t)}}(this,a),function(e,t){i.onerror=function(){e._handleImageError(t)}}(this,a))}if(null==e.frames);else if(Array.isArray(e.frames))for(this._frames=[],t=0,r=(o=e.frames).length;t<r;t++){var n=o[t];this._frames.push({image:this._images[n[4]?n[4]:0],rect:new vm.Rectangle(n[0],n[1],n[2],n[3]),regX:n[5]||0,regY:n[6]||0})}else s=e.frames,this._frameWidth=s.width,this._frameHeight=s.height,this._regX=s.regX||0,this._regY=s.regY||0,this._spacing=s.spacing||0,this._margin=s.margin||0,this._numFrames=s.count,0==this._loadCount&&this._calculateFrames();var l;if(this._animations=[],null!=(s=e.animations))for(l in this._data={},s){var c={name:l},m=s[l];if("number"==typeof m)o=c.frames=[m];else if(Array.isArray(m))if(1==m.length)c.frames=[m[0]];else for(c.speed=m[3],c.next=m[2],o=c.frames=[],t=m[0];t<=m[1];t++)o.push(t);else{c.speed=m.speed,c.next=m.next;var d=m.frames;o=c.frames="number"==typeof d?[d]:d.slice(0)}!0!==c.next&&void 0!==c.next||(c.next=l),(!1===c.next||o.length<2&&c.next==l)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(l),this._data[l]=c}}},t._handleImageLoad=function(e){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._handleImageError=function(e){var t=new vm.Event("error");t.src=e,this.dispatchEvent(t),0==--this._loadCount&&this.dispatchEvent("complete")},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,r=this._frameWidth,s=this._frameHeight,o=this._spacing,i=this._margin;e:for(var a=0,n=this._images;a<n.length;a++)for(var l=n[a],c=l.width,m=l.height,d=i;d<=m-i-s;){for(var u=i;u<=c-i-r;){if(t>=e)break e;t++,this._frames.push({image:l,rect:new vm.Rectangle(u,d,r,s),regX:this._regX,regY:this._regY}),u+=r+o}d+=s+o}this._numFrames=t}},vm.SpriteSheet=vm.promote(e,"EventDispatcher")}(),function(){function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,r=e;e.getRGB=function(e,t,r,s){return null!=e&&null==r&&(s=t,r=255&e,t=e>>8&255,e=e>>16&255),null==s?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+s+")"},e.getHSL=function(e,t,r,s){return null==s?"hsl("+e%360+","+t+"%,"+r+"%)":"hsla("+e%360+","+t+"%,"+r+"%,"+s+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var s=vm.createCanvas?vm.createCanvas():document.createElement("canvas");s.getContext&&(e._ctx=s.getContext("2d"),s.width=s.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(kp){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var r=this._instructions,s=this._storeIndex,o=r.length;s<o;s++)r[s].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,r=this._instructions,s=this._storeIndex,o=r.length;s<o;s++)!1!==(t=r[s]).path&&t.exec(e)},t.moveTo=function(e,t){return this.append(new r.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new r.LineTo(e,t))},t.arcTo=function(e,t,s,o,i){return this.append(new r.ArcTo(e,t,s,o,i))},t.arc=function(e,t,s,o,i,a){return this.append(new r.Arc(e,t,s,o,i,a))},t.quadraticCurveTo=function(e,t,s,o){return this.append(new r.QuadraticCurveTo(e,t,s,o))},t.bezierCurveTo=function(e,t,s,o,i,a){return this.append(new r.BezierCurveTo(e,t,s,o,i,a))},t.rect=function(e,t,s,o){return this.append(new r.Rect(e,t,s,o))},t.closePath=function(){return this._activeInstructions.length?this.append(new r.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new r.Fill(e):null)},t.beginLinearGradientFill=function(e,t,s,o,i,a){return this._setFill((new r.Fill).linearGradient(e,t,s,o,i,a))},t.beginRadialGradientFill=function(e,t,s,o,i,a,n,l){return this._setFill((new r.Fill).radialGradient(e,t,s,o,i,a,n,l))},t.beginBitmapFill=function(e,t,s){return this._setFill(new r.Fill(null,s).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,s,o,i){return this._updateInstructions(!0),this._strokeStyle=this.command=new r.StrokeStyle(e,t,s,o,i),this._stroke&&(this._stroke.ignoreScale=i),this._strokeIgnoreScale=i,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new r.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new r.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,s,o,i,a){return this._setStroke((new r.Stroke).linearGradient(e,t,s,o,i,a))},t.beginRadialGradientStroke=function(e,t,s,o,i,a,n,l){return this._setStroke((new r.Stroke).radialGradient(e,t,s,o,i,a,n,l))},t.beginBitmapStroke=function(e,t){return this._setStroke((new r.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,r,s,o){return this.drawRoundRectComplex(e,t,r,s,o,o,o,o)},t.drawRoundRectComplex=function(e,t,s,o,i,a,n,l){return this.append(new r.RoundRect(e,t,s,o,i,a,n,l))},t.drawCircle=function(e,t,s){return this.append(new r.Circle(e,t,s))},t.drawEllipse=function(e,t,s,o){return this.append(new r.Ellipse(e,t,s,o))},t.drawPolyStar=function(e,t,s,o,i,a){return this.append(new r.PolyStar(e,t,s,o,i,a))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var r=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],s=[2,2,4,6,0],o=0,i=t.length,a=[],n=0,l=0,c=e.BASE_64;o<i;){var m=t.charAt(o),d=c[m],u=d>>3,h=r[u];if(!h||3&d)throw"bad path data (@"+o+"): "+m;var p=s[u];u||(n=l=0),a.length=0,o++;for(var f=2+(d>>2&1),v=0;v<p;v++){var g=c[t.charAt(o)],b=g>>5?-1:1;g=(31&g)<<6|c[t.charAt(o+1)],3==f&&(g=g<<6|c[t.charAt(o+2)]),g=b*g/10,v%2?n=g+=n:l=g+=l,a[v]=g,o+=f}h.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var r=this._instructions,s=this._activeInstructions,o=this._commitIndex;if(this._dirty&&s.length){r.length=o,r.push(e.beginCmd);var i=s.length,a=r.length;r.length=a+i;for(var n=0;n<i;n++)r[n+a]=s[n];this._fill&&r.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,r.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,r.push(this._strokeStyle)),r.push(this._stroke)),this._dirty=!1}t&&(s.length=0,this._commitIndex=r.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(r.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(r.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(r.ArcTo=function(e,t,r,s,o){this.x1=e,this.y1=t,this.x2=r,this.y2=s,this.radius=o}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(r.Arc=function(e,t,r,s,o,i){this.x=e,this.y=t,this.radius=r,this.startAngle=s,this.endAngle=o,this.anticlockwise=!!i}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(r.QuadraticCurveTo=function(e,t,r,s){this.cpx=e,this.cpy=t,this.x=r,this.y=s}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(r.BezierCurveTo=function(e,t,r,s,o,i){this.cp1x=e,this.cp1y=t,this.cp2x=r,this.cp2y=s,this.x=o,this.y=i}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(r.Rect=function(e,t,r,s){this.x=e,this.y=t,this.w=r,this.h=s}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(r.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(r.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},(t=(r.Fill=function(e,t){this.style=e,this.matrix=t}).prototype).exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,r,s,o,i,a){for(var n=this.style=e._ctx.createLinearGradient(s,o,i,a),l=0,c=t.length;l<c;l++)n.addColorStop(r[l],t[l]);return n.props={colors:t,ratios:r,x0:s,y0:o,x1:i,y1:a,type:"linear"},this},t.radialGradient=function(t,r,s,o,i,a,n,l){for(var c=this.style=e._ctx.createRadialGradient(s,o,i,a,n,l),m=0,d=t.length;m<d;m++)c.addColorStop(r[m],t[m]);return c.props={colors:t,ratios:r,x0:s,y0:o,r0:i,x1:a,y1:n,r1:l,type:"radial"},this},t.bitmap=function(t,r){return(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=e._ctx.createPattern(t,r||"")).props={image:t,repetition:r,type:"bitmap"}),this},t.path=!1,(t=(r.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype).exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=r.Fill.prototype.linearGradient,t.radialGradient=r.Fill.prototype.radialGradient,t.bitmap=r.Fill.prototype.bitmap,t.path=!1,(t=(r.StrokeStyle=function(e,t,r,s,o){this.width=e,this.caps=t,this.joints=r,this.miterLimit=s,this.ignoreScale=o}).prototype).exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit,t.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},t.path=!1,(r.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||r.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},r.StrokeDash.EMPTY_SEGMENTS=[],(r.RoundRect=function(e,t,r,s,o,i,a,n){this.x=e,this.y=t,this.w=r,this.h=s,this.radiusTL=o,this.radiusTR=i,this.radiusBR=a,this.radiusBL=n}).prototype.exec=function(e){var t=(l<c?l:c)/2,r=0,s=0,o=0,i=0,a=this.x,n=this.y,l=this.w,c=this.h,m=this.radiusTL,d=this.radiusTR,u=this.radiusBR,h=this.radiusBL;m<0&&(m*=r=-1),m>t&&(m=t),d<0&&(d*=s=-1),d>t&&(d=t),u<0&&(u*=o=-1),u>t&&(u=t),h<0&&(h*=i=-1),h>t&&(h=t),e.moveTo(a+l-d,n),e.arcTo(a+l+d*s,n-d*s,a+l,n+d,d),e.lineTo(a+l,n+c-u),e.arcTo(a+l+u*o,n+c+u*o,a+l-u,n+c,u),e.lineTo(a+h,n+c),e.arcTo(a-h*i,n+c+h*i,a,n+c-h,h),e.lineTo(a,n+m),e.arcTo(a-m*r,n-m*r,a+m,n,m),e.closePath()},(r.Circle=function(e,t,r){this.x=e,this.y=t,this.radius=r}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(r.Ellipse=function(e,t,r,s){this.x=e,this.y=t,this.w=r,this.h=s}).prototype.exec=function(e){var t=this.x,r=this.y,s=this.w,o=this.h,i=.5522848,a=s/2*i,n=o/2*i,l=t+s,c=r+o,m=t+s/2,d=r+o/2;e.moveTo(t,d),e.bezierCurveTo(t,d-n,m-a,r,m,r),e.bezierCurveTo(m+a,r,l,d-n,l,d),e.bezierCurveTo(l,d+n,m+a,c,m,c),e.bezierCurveTo(m-a,c,t,d+n,t,d)},(r.PolyStar=function(e,t,r,s,o,i){this.x=e,this.y=t,this.radius=r,this.sides=s,this.pointSize=o,this.angle=i}).prototype.exec=function(e){var t=this.x,r=this.y,s=this.radius,o=(this.angle||0)/180*Math.PI,i=this.sides,a=1-(this.pointSize||0),n=Math.PI/i;e.moveTo(t+Math.cos(o)*s,r+Math.sin(o)*s);for(var l=0;l<i;l++)o+=n,1!=a&&e.lineTo(t+Math.cos(o)*s*a,r+Math.sin(o)*s*a),o+=n,e.lineTo(t+Math.cos(o)*s,r+Math.sin(o)*s);e.closePath()},e.beginCmd=new r.BeginPath,vm.Graphics=e}(),function(){function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=vm.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new vm.DisplayProps,this._rectangle=new vm.Rectangle,this._bounds=null}var t=vm.extend(e,vm.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var r=vm.createCanvas?vm.createCanvas():document.createElement("canvas");r.getContext&&(e._hitTestCanvas=r,e._hitTestContext=r.getContext("2d"),r.width=r.height=1),e._nextCacheID=1,t.getStage=function(){for(var e=this,t=vm.Stage;e.parent;)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(kp){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var r=this.cacheCanvas;if(t||!r)return!1;var s=this._cacheScale;return e.drawImage(r,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,r.width/s,r.height/s),!0},t.updateContext=function(t){var r=this,s=r.mask,o=r._props.matrix;s&&s.graphics&&!s.graphics.isEmpty()&&(s.getMatrix(o),t.transform(o.a,o.b,o.c,o.d,o.tx,o.ty),s.graphics.drawAsPath(t),t.clip(),o.invert(),t.transform(o.a,o.b,o.c,o.d,o.tx,o.ty)),this.getMatrix(o);var i=o.tx,a=o.ty;e._snapToPixelEnabled&&r.snapToPixel&&(i=i+(i<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),t.transform(o.a,o.b,o.c,o.d,i,a),t.globalAlpha*=r.alpha,r.compositeOperation&&(t.globalCompositeOperation=r.compositeOperation),r.shadow&&this._applyShadow(t,r.shadow)},t.cache=function(e,t,r,s,o){o=o||1,this.cacheCanvas||(this.cacheCanvas=vm.createCanvas?vm.createCanvas():document.createElement("canvas")),this._cacheWidth=r,this._cacheHeight=s,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=o,this.updateCache()},t.updateCache=function(t){var r=this.cacheCanvas;if(!r)throw"cache() must be called before updateCache()";var s=this._cacheScale,o=this._cacheOffsetX*s,i=this._cacheOffsetY*s,a=this._cacheWidth,n=this._cacheHeight,l=r.getContext("2d"),c=this._getFilterBounds();o+=this._filterOffsetX=c.x,i+=this._filterOffsetY=c.y,a=Math.ceil(a*s)+c.width,n=Math.ceil(n*s)+c.height,a!=r.width||n!=r.height?(r.width=a,r.height=n):t||l.clearRect(0,0,a+1,n+1),l.save(),l.globalCompositeOperation=t,l.setTransform(s,0,0,s,-o,-i),this.draw(l,!0),this._applyFilters(),l.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,r){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,r||new vm.Point)},t.globalToLocal=function(e,t,r){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,r||new vm.Point)},t.localToLocal=function(e,t,r,s){return s=this.localToGlobal(e,t,s),r.globalToLocal(s.x,s.y,s)},t.setTransform=function(e,t,r,s,o,i,a,n,l){return this.x=e||0,this.y=t||0,this.scaleX=null==r?1:r,this.scaleY=null==s?1:s,this.rotation=o||0,this.skewX=i||0,this.skewY=a||0,this.regX=n||0,this.regY=l||0,this},t.getMatrix=function(e){var t=this,r=e&&e.identity()||new vm.Matrix2D;return t.transformMatrix?r.copy(t.transformMatrix):r.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,r=this.getMatrix(e);t=t.parent;)r.prependMatrix(t.getMatrix(t._props.matrix));return r},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new vm.DisplayProps;var t=this,r=t.getMatrix(e.matrix);do{e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&r.prependMatrix(t.getMatrix(t._props.matrix))}while(t=t.parent);return e},t.hitTest=function(t,r){var s=e._hitTestContext;s.setTransform(1,0,0,1,-t,-r),this.draw(s);var o=this._testHit(s);return s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,2,2),o},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,r,s){null==e&&(this._bounds=e),this._bounds=(this._bounds||new vm.Rectangle).setValues(e,t,r,s)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var r=t.getImageData(0,0,1,1).data[3]>1}catch(kp){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return r},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),r=this.cacheCanvas.width,s=this.cacheCanvas.height,o=0;o<e;o++)this.filters[o].applyFilter(t,0,0,r,s)},t._getFilterBounds=function(e){var t,r=this.filters,s=this._rectangle.setValues(0,0,0,0);if(!r||!(t=r.length))return s;for(var o=0;o<t;o++){var i=this.filters[o];i.getBounds&&i.getBounds(s)}return s},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,r){if(!e)return e;var s=e.x,o=e.y,i=e.width,a=e.height,n=this._props.matrix;n=r?n.identity():this.getMatrix(n),(s||o)&&n.appendTransform(0,0,1,1,0,0,0,-s,-o),t&&n.prependMatrix(t);var l=i*n.a,c=i*n.b,m=a*n.c,d=a*n.d,u=n.tx,h=n.ty,p=u,f=u,v=h,g=h;return(s=l+u)<p?p=s:s>f&&(f=s),(s=l+m+u)<p?p=s:s>f&&(f=s),(s=m+u)<p?p=s:s>f&&(f=s),(o=c+h)<v?v=o:o>g&&(g=o),(o=c+d+h)<v?v=o:o>g&&(g=o),(o=d+h)<v?v=o:o>g&&(g=o),e.setValues(p,v,f-p,g-v)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,r=0,s=t.length;r<s;r++)if(this.hasEventListener(t[r]))return!0;return!!this.cursor},vm.DisplayObject=vm.promote(e,"EventDispatcher")}(),function(){function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=vm.extend(e,vm.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(kp){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var r=this.children.slice(),s=0,o=r.length;s<o;s++){var i=r[s];i.isVisible()&&(e.save(),i.updateContext(e),i.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var r=0;r<t;r++)this.addChild(arguments[r]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var r=arguments.length,s=arguments[r-1];if(s<0||s>this.children.length)return arguments[r-2];if(r>2){for(var o=0;o<r-1;o++)this.addChildAt(arguments[o],s+o);return arguments[r-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var r=!0,s=0;s<t;s++)r=r&&this.removeChild(arguments[s]);return r}return this.removeChildAt(vm.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var r=[],s=0;s<t;s++)r[s]=arguments[s];r.sort(function(e,t){return t-e});var o=!0;for(s=0;s<t;s++)o=o&&this.removeChildAt(r[s]);return o}if(e<0||e>this.children.length-1)return!1;var i=this.children[e];return i&&(i.parent=null),this.children.splice(e,1),i.dispatchEvent("removed"),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,r=0,s=t.length;r<s;r++)if(t[r].name==e)return t[r];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return vm.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var r=this.children,s=r[e],o=r[t];s&&o&&(r[e]=o,r[t]=s)},t.swapChildren=function(e,t){for(var r,s,o=this.children,i=0,a=o.length;i<a&&(o[i]==e&&(r=i),o[i]==t&&(s=i),null==r||null==s);i++);i!=a&&(o[r]=t,o[s]=e)},t.setChildIndex=function(e,t){var r=this.children,s=r.length;if(!(e.parent!=this||t<0||t>=s)){for(var o=0;o<s&&r[o]!=e;o++);o!=s&&o!=t&&(r.splice(o,1),r.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,r){var s=[],o=this.localToGlobal(e,t);return this._getObjectsUnderPoint(o.x,o.y,s,r>0,1==r),s},t.getObjectUnderPoint=function(e,t,r){var s=this.localToGlobal(e,t);return this._getObjectsUnderPoint(s.x,s.y,null,r>0,1==r)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var r=this._cloneProps(new e);return t&&this._cloneChildren(r),r},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var r=this.children[t];r.tickEnabled&&r._tick&&r._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,r=0,s=this.children.length;r<s;r++){var o=this.children[r].clone(!0);o.parent=e,t.push(o)}},t._getObjectsUnderPoint=function(t,r,s,o,i,a){if(!(a=a||0)&&!this._testMask(this,t,r))return null;var n,l=vm.DisplayObject._hitTestContext;i=i||o&&this._hasMouseEventListener();for(var c=this.children,m=c.length-1;m>=0;m--){var d=c[m],u=d.hitArea;if(d.visible&&(u||d.isVisible())&&(!o||d.mouseEnabled)&&(u||this._testMask(d,t,r)))if(!u&&d instanceof e){var h=d._getObjectsUnderPoint(t,r,s,o,i,a+1);if(!s&&h)return o&&!this.mouseChildren?this:h}else{if(o&&!i&&!d._hasMouseEventListener())continue;var p=d.getConcatenatedDisplayProps(d._props);if(n=p.matrix,u&&(n.appendMatrix(u.getMatrix(u._props.matrix)),p.alpha=u.alpha),l.globalAlpha=p.alpha,l.setTransform(n.a,n.b,n.c,n.d,n.tx-t,n.ty-r),(u||d).draw(l),!this._testHit(l))continue;if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!s)return o&&!this.mouseChildren?this:d;s.push(d)}}return null},t._testMask=function(e,t,r){var s=e.mask;if(!s||!s.graphics||s.graphics.isEmpty())return!0;var o=this._props.matrix,i=e.parent;o=i?i.getConcatenatedMatrix(o):o.identity(),o=s.getMatrix(s._props.matrix).prependMatrix(o);var a=vm.DisplayObject._hitTestContext;return a.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-r),s.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},t._getBounds=function(e,t){var r=this.DisplayObject_getBounds();if(r)return this._transformBounds(r,e,t);var s=this._props.matrix;s=t?s.identity():this.getMatrix(s),e&&s.prependMatrix(e);for(var o=this.children.length,i=null,a=0;a<o;a++){var n=this.children[a];n.visible&&(r=n._getBounds(s))&&(i?i.extend(r.x,r.y,r.width,r.height):i=r.clone())}return i},vm.Container=vm.promote(e,"DisplayObject")}(),function(){function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=vm.extend(e,vm.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(kp){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),!1!==this.dispatchEvent("drawstart",!1,!0))){vm.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,r=this.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),this.autoClear&&(t?r.clearRect(t.x,t.y,t.width,t.height):r.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),r.save(),this.drawRect&&(r.beginPath(),r.rect(t.x,t.y,t.width,t.height),r.clip()),this.updateContext(r),this.draw(r,!1),r.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var t=new vm.Event("tick");if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){var r,s=this.canvas.getContext("2d"),o=this.canvas.width,i=this.canvas.height;if(e){r=s.getImageData(0,0,o,i);var a=s.globalCompositeOperation;s.globalCompositeOperation="destination-over",s.fillStyle=e,s.fillRect(0,0,o,i)}var n=this.canvas.toDataURL(t||"image/png");return e&&(s.putImageData(r,0,0),s.globalCompositeOperation=a),n},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,r,s=this._eventListeners;if(!e&&s){for(t in s)(r=s[t]).t.removeEventListener(t,r.f,!1);this._eventListeners=null}else if(e&&!s&&this.canvas){var o=window.addEventListener?window:document,i=this;for(t in(s=this._eventListeners={}).mouseup={t:o,f:function(e){i._handleMouseUp(e)}},s.mousemove={t:o,f:function(e){i._handleMouseMove(e)}},s.dblclick={t:this.canvas,f:function(e){i._handleDoubleClick(e)}},s.mousedown={t:this.canvas,f:function(e){i._handleMouseDown(e)}},s)(r=s[t]).t.addEventListener(t,r.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(c){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),s=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),o=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,i=parseInt(o.paddingLeft)+parseInt(o.borderLeftWidth),a=parseInt(o.paddingTop)+parseInt(o.borderTopWidth),n=parseInt(o.paddingRight)+parseInt(o.borderRightWidth),l=parseInt(o.paddingBottom)+parseInt(o.borderBottomWidth);return{left:t.left+r+i,right:t.right+r-n,top:t.top+s+a,bottom:t.bottom+s-l}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,r,s,o){if((!this._prevStage||void 0!==o)&&this.canvas){var i=this._nextStage,a=this._getPointerData(e),n=a.inBounds;this._updatePointerPosition(e,t,r,s),(n||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!n&&this._dispatchMouseEvent(this,n?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),i&&i._handlePointerMove(e,t,r,s,null)}},t._updatePointerPosition=function(e,t,r,s){var o=this._getElementRect(this.canvas);r-=o.left,s-=o.top;var i=this.canvas.width,a=this.canvas.height;r/=(o.right-o.left)/i,s/=(o.bottom-o.top)/a;var n=this._getPointerData(e);(n.inBounds=r>=0&&s>=0&&r<=i-1&&s<=a-1)?(n.x=r,n.y=s):this.mouseMoveOutside&&(n.x=r<0?0:r>i-1?i-1:r,n.y=s<0?0:s>a-1?a-1:s),n.posEvtObj=t,n.rawX=r,n.rawY=s,e!==this._primaryPointerID&&-1!==e||(this.mouseX=n.x,this.mouseY=n.y,this.mouseInBounds=n.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,r,s){var o=this._nextStage,i=this._getPointerData(e);if(!this._prevStage||void 0!==s){var a=null,n=i.target;s||!n&&!o||(a=this._getObjectsUnderPoint(i.x,i.y,null,!0)),i.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,i,t,a),i.down=!1),a==n&&this._dispatchMouseEvent(n,"click",!0,e,i,t),this._dispatchMouseEvent(n,"pressup",!0,e,i,t),r?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):i.target=null,o&&o._handlePointerUp(e,t,r,s||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,r,s,o){this.preventSelection&&t.preventDefault(),null!=this._primaryPointerID&&-1!==e||(this._primaryPointerID=e),null!=s&&this._updatePointerPosition(e,t,r,s);var i=null,a=this._nextStage,n=this._getPointerData(e);o||(i=n.target=this._getObjectsUnderPoint(n.x,n.y,null,!0)),n.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,n,t,i),n.down=!0),this._dispatchMouseEvent(i,"mousedown",!0,e,n,t),a&&a._handlePointerDown(e,t,r,s,o||i&&this)},t._testMouseOver=function(e,t,r){if(!this._prevStage||void 0!==t){var s=this._nextStage;if(this._mouseOverIntervalID){var o=this._getPointerData(-1);if(o&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var i,a,n,l=o.posEvtObj,c=r||l&&l.target==this.canvas,m=null,d=-1,u="";!t&&(e||this.mouseInBounds&&c)&&(m=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var h=this._mouseOverTarget||[],p=h[h.length-1],f=this._mouseOverTarget=[];for(i=m;i;)f.unshift(i),u||(u=i.cursor),i=i.parent;for(this.canvas.style.cursor=u,!t&&r&&(r.canvas.style.cursor=u),a=0,n=f.length;a<n&&f[a]==h[a];a++)d=a;for(p!=m&&this._dispatchMouseEvent(p,"mouseout",!0,-1,o,l,m),a=h.length-1;a>d;a--)this._dispatchMouseEvent(h[a],"rollout",!1,-1,o,l,m);for(a=f.length-1;a>d;a--)this._dispatchMouseEvent(f[a],"rollover",!1,-1,o,l,p);p!=m&&this._dispatchMouseEvent(m,"mouseover",!0,-1,o,l,p),s&&s._testMouseOver(e,t||m&&this,r||c&&this)}}else s&&s._testMouseOver(e,t,r)}},t._handleDoubleClick=function(e,t){var r=null,s=this._nextStage,o=this._getPointerData(-1);t||(r=this._getObjectsUnderPoint(o.x,o.y,null,!0),this._dispatchMouseEvent(r,"dblclick",!0,-1,o,e)),s&&s._handleDoubleClick(e,t||r&&this)},t._dispatchMouseEvent=function(e,t,r,s,o,i,a){if(e&&(r||e.hasEventListener(t))){var n=new vm.MouseEvent(t,r,!1,o.x,o.y,i,s,s===this._primaryPointerID||-1===s,o.rawX,o.rawY,a);e.dispatchEvent(n)}},vm.Stage=vm.promote(e,"Container")}(),function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=vm.extend(e,vm.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var r=this.image,s=this.sourceRect;if(s){var o=s.x,i=s.y,a=o+s.width,n=i+s.height,l=0,c=0,m=r.width,d=r.height;o<0&&(l-=o,o=0),a>m&&(a=m),i<0&&(c-=i,i=0),n>d&&(n=d),e.drawImage(r,o,i,a-o,n-i,l,c,a-o,n-i)}else e.drawImage(r,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,r=this.sourceRect||t;return t&&(t.naturalWidth||t.getContext||t.readyState>=2)?this._rectangle.setValues(0,0,r.width,r.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},vm.Bitmap=vm.promote(e,"DisplayObject")}(),function(){function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=t&&this.gotoAndPlay(t)}var t=vm.extend(e,vm.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var r=this.spriteSheet.getFrame(0|this._currentFrame);if(!r)return!1;var s=r.rect;return s.width&&s.height&&e.drawImage(r.image,s.x,s.y,s.width,s.height,-r.regX,-r.regY,s.width,s.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,r=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(r)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,r=this._animation,s=this.paused,o=this._currentFrame;if(r){var i=r.speed||1,a=this.currentAnimationFrame;if(a+e*i>=(t=r.frames.length)){var n=r.next;if(this._dispatchAnimationEnd(r,o,s,n,t-1))return;if(n)return this._goto(n,e-(t-a)/i);this.paused=!0,a=r.frames.length-1}else a+=e*i;this.currentAnimationFrame=a,this._currentFrame=r.frames[0|a]}else if((o=this._currentFrame+=e)>=(t=this.spriteSheet.getNumFrames())&&t>0&&!this._dispatchAnimationEnd(r,o,s,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();o=0|this._currentFrame,this.currentFrame!=o&&(this.currentFrame=o,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,r,s,o){var i=e?e.name:null;if(this.hasEventListener("animationend")){var a=new vm.Event("animationend");a.name=i,a.next=s,this.dispatchEvent(a)}var n=this._animation!=e||this._currentFrame!=t;return n||r||!this.paused||(this.currentAnimationFrame=o,n=!0),n},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var r=this.spriteSheet.getAnimation(e);r&&(this._animation=r,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},vm.Sprite=vm.promote(e,"DisplayObject")}(),function(){function e(e){this.DisplayObject_constructor(),this.graphics=e||new vm.Graphics}var t=vm.extend(e,vm.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)||this.graphics.draw(e,this),!0},t.clone=function(t){var r=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(r))},t.toString=function(){return"[Shape (name="+this.name+")]"},vm.Shape=vm.promote(e,"DisplayObject")}(),function(){function e(e,t,r){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=r,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=vm.extend(e,vm.DisplayObject),r=vm.createCanvas?vm.createCanvas():document.createElement("canvas");r.getContext&&(e._workingContext=r.getContext("2d"),r.width=r.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var r=this.color||"#000";return this.outline?(e.strokeStyle=r,e.lineWidth=1*this.outline):e.fillStyle=r,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var r=this._drawText(null,{}),s=this.maxWidth&&this.maxWidth<r.width?this.maxWidth:r.width,o=s*e.H_OFFSETS[this.textAlign||"left"],i=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(o,i,s,r.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,r,s){var o=!!t;o||((t=e._workingContext).save(),this._prepContext(t));for(var i=this.lineHeight||this.getMeasuredLineHeight(),a=0,n=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,m=l.length;c<m;c++){var d=l[c],u=null;if(null!=this.lineWidth&&(u=t.measureText(d).width)>this.lineWidth){var h=d.split(/(\s)/);d=h[0],u=t.measureText(d).width;for(var p=1,f=h.length;p<f;p+=2){var v=t.measureText(h[p]+h[p+1]).width;u+v>this.lineWidth?(o&&this._drawTextLine(t,d,n*i),s&&s.push(d),u>a&&(a=u),d=h[p+1],u=t.measureText(d).width,n++):(d+=h[p]+h[p+1],u+=v)}}o&&this._drawTextLine(t,d,n*i),s&&s.push(d),r&&null==u&&(u=t.measureText(d).width),u>a&&(a=u),n++}return r&&(r.width=a,r.height=n*i),o||t.restore(),r},t._drawTextLine=function(e,t,r){this.outline?e.strokeText(t,0,r,this.maxWidth||65535):e.fillText(t,0,r,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var r=e._workingContext;r.save();var s=this._prepContext(r).measureText(t).width;return r.restore(),s},vm.Text=vm.promote(e,"DisplayObject")}(),function(){function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=vm.extend(e,vm.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateText(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var r,s=t.getAnimation(e);return s||(e!=(r=e.toUpperCase())||e!=(r=e.toLowerCase())||(r=null),r&&(s=t.getAnimation(r))),s&&s.frames[0]},t._getFrame=function(e,t){var r=this._getFrameIndex(e,t);return null==r?r:t.getFrame(r)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,r=0,s=0,o=this._oldProps,i=!1,a=this.spaceWidth,n=this.lineHeight,l=this.spriteSheet,c=e._spritePool,m=this.children,d=0,u=m.length;for(var h in o)o[h]!=this[h]&&(o[h]=this[h],i=!0);if(i){var p=!!this._getFrame(" ",l);p||a||(a=this._getSpaceWidth(l)),n||(n=this._getLineHeight(l));for(var f=0,v=this.text.length;f<v;f++){var g=this.text.charAt(f);if(" "!=g||p)if("\n"!=g&&"\r"!=g){var b=this._getFrameIndex(g,l);null!=b&&(d<u?t=m[d]:(m.push(t=c.length?c.pop():new vm.Sprite),t.parent=this,u++),t.spriteSheet=l,t.gotoAndStop(b),t.x=r,t.y=s,d++,r+=t.getBounds().width+this.letterSpacing)}else"\r"==g&&"\n"==this.text.charAt(f+1)&&f++,r=0,s+=n;else r+=a}for(;u>d;)c.push(t=m.pop()),t.parent=null,u--;c.length>e.maxPoolSize&&(c.length=e.maxPoolSize)}},vm.BitmapText=vm.promote(e,"Container")}(),function(){function e(t,r,s,o){this.Container_constructor(),!e.inited&&e.init(),this.mode=t||e.INDEPENDENT,this.startPosition=r||0,this.loop=s,this.currentFrame=0,this.timeline=new vm.Timeline(null,o,{paused:!0,position:r,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}var t=vm.extend(e,vm.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(r.install(),e.inited=!0)},t.getLabels=function(){return this.timeline.getLabels()},t.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},t.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(t,{labels:{get:t.getLabels},currentLabel:{get:t.getCurrentLabel},totalFrames:{get:t.getDuration},duration:{get:t.getDuration}})}catch(kp){}function r(){throw"MovieClipPlugin cannot be instantiated."}t.initialize=e,t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)||(this._updateTimeline(),this.Container_draw(e,t)),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(t){var r=e.INDEPENDENT;if(this.mode==r){for(var s=this,o=s.framerate;(s=s.parent)&&null==o;)s.mode==r&&(o=s._framerate);this._framerate=o;var i=null!=o&&-1!=o&&null!=t?t/(1e3/o)+this._t:1,a=0|i;for(this._t=i-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},t.clone=function(){throw"MovieClip cannot be cloned."},t.toString=function(){return"[MovieClip (name="+this.name+")]"},t._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},t._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())},t._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},t._updateTimeline=function(){var t=this.timeline,r=this.mode!=e.INDEPENDENT;t.loop=null==this.loop||this.loop;var s=r?this.startPosition+(this.mode==e.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,o=r||!this.actionsEnabled?vm.Tween.NONE:null;if(this.currentFrame=t._calcPosition(s),t.setPosition(s,o),this._prevPosition=t._prevPosition,this._prevPos!=t._prevPos){for(var i in this.currentFrame=this._prevPos=t._prevPos,this._managed)this._managed[i]=1;for(var a=t._tweens,n=0,l=a.length;n<l;n++){var c=a[n],m=c._target;if(m!=this&&!c.passive){var d=c._stepPosition;m instanceof vm.DisplayObject?this._addManagedChild(m,d):this._setState(m.state,d)}}var u=this.children;for(n=u.length-1;n>=0;n--){var h=u[n].id;1==this._managed[h]&&(this.removeChildAt(n),delete this._managed[h])}}},t._setState=function(e,t){if(e)for(var r=e.length-1;r>=0;r--){var s=e[r],o=s.t,i=s.p;for(var a in i)o[a]=i[a];this._addManagedChild(o,t)}},t._addManagedChild=function(t,r){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=r,t.mode==e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},t._getBounds=function(e,t){var r=this.DisplayObject_getBounds();return r||(this._updateTimeline(),this.frameBounds&&(r=this._rectangle.copy(this.frameBounds[this.currentFrame]))),r?this._transformBounds(r,e,t):this.Container__getBounds(e,t)},vm.MovieClip=vm.promote(e,"Container"),r.priority=100,r.install=function(){vm.Tween.installPlugin(r,["startPosition"])},r.init=function(e,t,r){return r},r.step=function(){},r.tween=function(t,r,s,o,i,a,n,l){return t.target instanceof e?1==a?i[r]:o[r]:s}}(),function(){function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=vm.createCanvas?vm.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,r,s,o){if(r||s||o){var i=0;r&&e._flip(t,++i,!0,!1),s&&e._flip(t,++i,!1,!0),o&&e._flip(t,++i,!0,!0)}},e.extractFrame=function(t,r){isNaN(r)&&(r=t.getAnimation(r).frames[0]);var s=t.getFrame(r);if(!s)return null;var o=s.rect,i=e._workingCanvas;i.width=o.width,i.height=o.height,e._workingContext.drawImage(s.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height);var a=document.createElement("img");return a.src=i.toDataURL("image/png"),a},e.mergeAlpha=function(e,t,r){r||(r=vm.createCanvas?vm.createCanvas():document.createElement("canvas")),r.width=Math.max(t.width,e.width),r.height=Math.max(t.height,e.height);var s=r.getContext("2d");return s.save(),s.drawImage(e,0,0),s.globalCompositeOperation="destination-in",s.drawImage(t,0,0),s.restore(),r},e._flip=function(t,r,s,o){for(var i=t._images,a=e._workingCanvas,n=e._workingContext,l=i.length/r,c=0;c<l;c++){var m=i[c];m.__tmp=c,n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,a.width+1,a.height+1),a.width=m.width,a.height=m.height,n.setTransform(s?-1:1,0,0,o?-1:1,s?m.width:0,o?m.height:0),n.drawImage(m,0,0);var d=document.createElement("img");d.src=a.toDataURL("image/png"),d.width=m.width,d.height=m.height,i.push(d)}var u=t._frames,h=u.length/r;for(c=0;c<h;c++){var p=(m=u[c]).rect.clone(),f={image:d=i[m.image.__tmp+l*r],rect:p,regX:m.regX,regY:m.regY};s&&(p.x=d.width-p.x-p.width,f.regX=p.width-m.regX),o&&(p.y=d.height-p.y-p.height,f.regY=p.height-m.regY),u.push(f)}var v="_"+(s?"h":"")+(o?"v":""),g=t._animations,b=t._data,x=g.length/r;for(c=0;c<x;c++){var N=g[c],w={name:N+v,speed:(m=b[N]).speed,next:m.next,frames:[]};m.next&&(w.next+=v);for(var y=0,_=(u=m.frames).length;y<_;y++)w.frames.push(u[y]+h*r);b[w.name]=w,g.push(w.name)}},vm.SpriteSheetUtils=e}(),function(){function e(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=vm.extend(e,vm.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,r,s,o,i){if(this._data)throw e.ERR_RUNNING;var a=r||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(s=s||1,this._frames.push({source:t,sourceRect:a,scale:s,funct:o,data:i,index:this._frames.length,height:a.height*s})-1):null},t.addAnimation=function(t,r,s,o){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:r,next:s,speed:o}},t.addMovieClip=function(t,r,s,o,i,a){if(this._data)throw e.ERR_RUNNING;var n=t.frameBounds,l=r||t.bounds||t.nominalBounds;if(!l&&t.getBounds&&(l=t.getBounds()),l||n){var c,m,d=this._frames.length,u=t.timeline.duration;for(c=0;c<u;c++){var h=n&&n[c]?n[c]:l;this.addFrame(t,h,s,this._setupMovieClipFrame,{i:c,f:o,d:i})}var p=t.timeline._labels,f=[];for(var v in p)f.push({index:p[v],label:v});if(f.length)for(f.sort(function(e,t){return e.index-t.index}),c=0,m=f.length;c<m;c++){for(var g=f[c].label,b=d+f[c].index,x=d+(c==m-1?u:f[c+1].index),N=[],w=b;w<x;w++)N.push(w);a&&!(g=a(g,t,b,x))||this.addAnimation(g,N,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var r=this;this._timerID=setTimeout(function(){r._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var r=[];this._data={images:[],frames:r,framerate:this.framerate,animations:this._animations};var s=this._frames.slice();if(s.sort(function(e,t){return e.height<=t.height?-1:1}),s[s.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var o=0,i=0,a=0;s.length;){var n=this._fillRow(s,o,a,r,t);if(n.w>i&&(i=n.w),o+=n.h,!n.h||!s.length){var l=vm.createCanvas?vm.createCanvas():document.createElement("canvas");l.width=this._getSize(i,this.maxWidth),l.height=this._getSize(o,this.maxHeight),this._data.images[a]=l,n.h||(i=o=0,a++)}}},t._setupMovieClipFrame=function(e,t){var r=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=r,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var r=4;Math.pow(2,++r)<e;);return Math.min(t,Math.pow(2,r))},t._fillRow=function(t,r,s,o,i){for(var a=this.maxWidth,n=this.maxHeight-(r+=i),l=i,c=0,m=t.length-1;m>=0;m--){var d=t[m],u=this._scale*d.scale,h=d.sourceRect,p=d.source,f=Math.floor(u*h.x-i),v=Math.floor(u*h.y-i),g=Math.ceil(u*h.height+2*i),b=Math.ceil(u*h.width+2*i);if(b>a)throw e.ERR_DIMENSIONS;g>n||l+b>a||(d.img=s,d.rect=new vm.Rectangle(l,r,b,g),c=c||g,t.splice(m,1),o[d.index]=[l,r,b,g,s,Math.round(-f+u*p.regX-i),Math.round(-v+u*p.regY-i)],l+=b)}return{w:l,h:c}},t._endBuild=function(){this.spriteSheet=new vm.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,r=!1;t>(new Date).getTime();)if(!this._drawNext()){r=!0;break}if(r)this._endBuild();else{var s=this;this._timerID=setTimeout(function(){s._run()},50-e)}var o=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var i=new vm.Event("progress");i.progress=o,this.dispatchEvent(i)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,r=e.rect,s=e.sourceRect,o=this._data.images[e.img].getContext("2d");return e.funct&&e.funct(e.source,e.data),o.save(),o.beginPath(),o.rect(r.x,r.y,r.width,r.height),o.clip(),o.translate(Math.ceil(r.x-s.x*t),Math.ceil(r.y-s.y*t)),o.scale(t,t),e.source.draw(o),o.restore(),++this._index<this._frames.length},vm.SpriteSheetBuilder=vm.promote(e,"EventDispatcher")}(),function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=vm.extend(e,vm.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var r=t.style,s=this.getConcatenatedDisplayProps(this._props),o=s.matrix,i=s.visible?"visible":"hidden";if(i!=r.visibility&&(r.visibility=i),s.visible){var a=this._oldProps,n=a&&a.matrix,l=1e4;if(!n||!n.equals(o)){var c="matrix("+(o.a*l|0)/l+","+(o.b*l|0)/l+","+(o.c*l|0)/l+","+(o.d*l|0)/l+","+(o.tx+.5|0);r.transform=r.WebkitTransform=r.OTransform=r.msTransform=c+","+(o.ty+.5|0)+")",r.MozTransform=c+"px,"+(o.ty+.5|0)+"px)",a||(a=this._oldProps=new vm.DisplayProps(!0,NaN)),a.matrix.copy(o)}a.alpha!=s.alpha&&(r.opacity=""+(s.alpha*l|0)/l,a.alpha=s.alpha)}}},vm.DOMElement=vm.promote(e,"DisplayObject")}(),function(){function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,r,s,o,i,a,n){i=i||e,null==a&&(a=t),null==n&&(n=r);try{var l=e.getImageData(t,r,s,o)}catch(kp){return!1}return!!this._applyFilter(l)&&(i.putImageData(l,a,n),!0)},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},vm.Filter=e}(),function(){function e(e,t,r){(isNaN(e)||e<0)&&(e=0),(isNaN(t)||t<0)&&(t=0),(isNaN(r)||r<1)&&(r=1),this.blurX=0|e,this.blurY=0|t,this.quality=0|r}var t=vm.extend(e,vm.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,r=0|this.blurY;if(t<=0&&r<=0)return e;var s=Math.pow(this.quality,.2);return(e||new vm.Rectangle).pad(t*s+1,r*s+1,t*s+1,r*s+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var r=this.blurX>>1;if(isNaN(r)||r<0)return!1;var s=this.blurY>>1;if(isNaN(s)||s<0)return!1;if(0==r&&0==s)return!1;var o=this.quality;(isNaN(o)||o<1)&&(o=1),(o|=0)>3&&(o=3),o<1&&(o=1);var i=t.data,a=0,n=0,l=0,c=0,m=0,d=0,u=0,h=0,p=0,f=0,v=0,g=0,b=0,x=0,N=0,w=r+r+1|0,y=s+s+1|0,_=0|t.width,E=0|t.height,D=_-1|0,S=E-1|0,j=r+1|0,T=s+1|0,P={r:0,b:0,g:0,a:0},C=P;for(l=1;l<w;l++)C=C.n={r:0,b:0,g:0,a:0};C.n=P;var k={r:0,b:0,g:0,a:0},U=k;for(l=1;l<y;l++)U=U.n={r:0,b:0,g:0,a:0};U.n=k;for(var V=null,A=0|e.MUL_TABLE[r],M=0|e.SHG_TABLE[r],I=0|e.MUL_TABLE[s],L=0|e.SHG_TABLE[s];o-- >0;){u=d=0;var O=A,R=M;for(n=E;--n>-1;){for(h=j*(g=i[0|d]),p=j*(b=i[d+1|0]),f=j*(x=i[d+2|0]),v=j*(N=i[d+3|0]),C=P,l=j;--l>-1;)C.r=g,C.g=b,C.b=x,C.a=N,C=C.n;for(l=1;l<j;l++)c=d+((D<l?D:l)<<2)|0,h+=C.r=i[c],p+=C.g=i[c+1],f+=C.b=i[c+2],v+=C.a=i[c+3],C=C.n;for(V=P,a=0;a<_;a++)i[d++]=h*O>>>R,i[d++]=p*O>>>R,i[d++]=f*O>>>R,i[d++]=v*O>>>R,c=u+((c=a+r+1)<D?c:D)<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n;u+=_}for(O=I,R=L,a=0;a<_;a++){for(h=T*(g=i[d=a<<2])|0,p=T*(b=i[d+1|0])|0,f=T*(x=i[d+2|0])|0,v=T*(N=i[d+3|0])|0,U=k,l=0;l<T;l++)U.r=g,U.g=b,U.b=x,U.a=N,U=U.n;for(m=_,l=1;l<=s;l++)d=m+a<<2,h+=U.r=i[d],p+=U.g=i[d+1],f+=U.b=i[d+2],v+=U.a=i[d+3],U=U.n,l<S&&(m+=_);if(d=a,V=k,o>0)for(n=0;n<E;n++)i[3+(c=d<<2)]=N=v*O>>>R,N>0?(i[c]=h*O>>>R,i[c+1]=p*O>>>R,i[c+2]=f*O>>>R):i[c]=i[c+1]=i[c+2]=0,c=a+((c=n+T)<S?c:S)*_<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n,d+=_;else for(n=0;n<E;n++)i[3+(c=d<<2)]=N=v*O>>>R,N>0?(N=255/N,i[c]=(h*O>>>R)*N,i[c+1]=(p*O>>>R)*N,i[c+2]=(f*O>>>R)*N):i[c]=i[c+1]=i[c+2]=0,c=a+((c=n+T)<S?c:S)*_<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n,d+=_}}return!0},vm.BlurFilter=vm.promote(e,"Filter")}(),function(){function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=vm.extend(e,vm.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,r=this._mapData,s=0,o=t.length;s<o;s+=4)t[s+3]=r[s]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,r=t;t instanceof HTMLCanvasElement?e=r.getContext("2d"):((r=vm.createCanvas?vm.createCanvas():document.createElement("canvas")).width=t.width,r.height=t.height,(e=r.getContext("2d")).drawImage(t,0,0));try{var s=e.getImageData(0,0,t.width,t.height)}catch(kp){return!1}return this._mapData=s.data,!0},vm.AlphaMapFilter=vm.promote(e,"Filter")}(),function(){function e(e){this.mask=e}var t=vm.extend(e,vm.Filter);t.applyFilter=function(e,t,r,s,o,i,a,n){return!this.mask||(null==a&&(a=t),null==n&&(n=r),(i=i||e).save(),e==i&&(i.globalCompositeOperation="destination-in",i.drawImage(this.mask,a,n),i.restore(),!0))},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},vm.AlphaMaskFilter=vm.promote(e,"Filter")}(),function(){function e(e,t,r,s,o,i,a,n){this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=r?r:1,this.alphaMultiplier=null!=s?s:1,this.redOffset=o||0,this.greenOffset=i||0,this.blueOffset=a||0,this.alphaOffset=n||0}var t=vm.extend(e,vm.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,r=t.length,s=0;s<r;s+=4)t[s]=t[s]*this.redMultiplier+this.redOffset,t[s+1]=t[s+1]*this.greenMultiplier+this.greenOffset,t[s+2]=t[s+2]*this.blueMultiplier+this.blueOffset,t[s+3]=t[s+3]*this.alphaMultiplier+this.alphaOffset;return!0},vm.ColorFilter=vm.promote(e,"Filter")}(),function(){function e(e,t,r,s){this.setColor(e,t,r,s)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,r,s){return this.reset().adjustColor(e,t,r,s)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,r,s){return this.adjustHue(s),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(r)},t.adjustBrightness=function(e){return 0==e||isNaN(e)||(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])),this},t.adjustContrast=function(t){return 0==t||isNaN(t)||(r=(t=this._cleanValue(t,100))<0?127+t/100*127:127*(r=0==(r=t%1)?e.DELTA_INDEX[t]:e.DELTA_INDEX[0|t]*(1-r)+e.DELTA_INDEX[1+(0|t)]*r)+127,this._multiplyMatrix([r/127,0,0,0,.5*(127-r),0,r/127,0,0,.5*(127-r),0,0,r/127,0,.5*(127-r),0,0,0,1,0,0,0,0,0,1])),this;var r},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;var t=1+((e=this._cleanValue(e,100))>0?3*e/100:e/100),r=.3086,s=.6094,o=.082;return this._multiplyMatrix([r*(1-t)+t,s*(1-t),o*(1-t),0,0,r*(1-t),s*(1-t)+t,o*(1-t),0,0,r*(1-t),s*(1-t),o*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),r=Math.sin(e),s=.213,o=.715,i=.072;return this._multiplyMatrix([s+.787*t+r*-s,o+t*-o+r*-o,i+t*-i+.928*r,0,0,s+t*-s+.143*r,o+t*(1-o)+.14*r,i+t*-i+-.283*r,0,0,s+t*-s+-.787*r,o+t*-o+r*o,i+.928*t+r*i,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return(t=this._fixMatrix(t)).length!=e.LENGTH||this._multiplyMatrix(t),this},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],r=0,s=e.LENGTH;r<s;r++)t[r]=this[r];return t},t.copy=function(t){for(var r=e.LENGTH,s=0;s<r;s++)this[s]=t[s];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,r,s,o=[];for(t=0;t<5;t++){for(r=0;r<5;r++)o[r]=this[r+5*t];for(r=0;r<5;r++){var i=0;for(s=0;s<5;s++)i+=e[r+5*s]*o[s];this[r+5*t]=i}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},vm.ColorMatrix=e}(),function(){function e(e){this.matrix=e}var t=vm.extend(e,vm.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,r,s,o,i=e.data,a=i.length,n=this.matrix,l=n[0],c=n[1],m=n[2],d=n[3],u=n[4],h=n[5],p=n[6],f=n[7],v=n[8],g=n[9],b=n[10],x=n[11],N=n[12],w=n[13],y=n[14],_=n[15],E=n[16],D=n[17],S=n[18],j=n[19],T=0;T<a;T+=4)t=i[T],r=i[T+1],s=i[T+2],o=i[T+3],i[T]=t*l+r*c+s*m+o*d+u,i[T+1]=t*h+r*p+s*f+o*v+g,i[T+2]=t*b+r*x+s*N+o*w+y,i[T+3]=t*_+r*E+s*D+o*S+j;return!0},vm.ColorMatrixFilter=vm.promote(e,"Filter")}(),function(){function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,r,s){return!!(t&&t.canvas&&e.isSupported())&&(t.__touch||(t.__touch={pointers:{},multitouch:!r,preventDefault:!s,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t)),!0)},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var r=t.canvas,s=t.__touch.f=function(r){e._IOS_handleEvent(t,r)};r.addEventListener("touchstart",s,!1),r.addEventListener("touchmove",s,!1),r.addEventListener("touchend",s,!1),r.addEventListener("touchcancel",s,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var r=e.__touch.f;t.removeEventListener("touchstart",r,!1),t.removeEventListener("touchmove",r,!1),t.removeEventListener("touchend",r,!1),t.removeEventListener("touchcancel",r,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var r=t.changedTouches,s=t.type,o=0,i=r.length;o<i;o++){var a=r[o],n=a.identifier;a.target==e.canvas&&("touchstart"==s?this._handleStart(e,n,t,a.pageX,a.pageY):"touchmove"==s?this._handleMove(e,n,t,a.pageX,a.pageY):"touchend"!=s&&"touchcancel"!=s||this._handleEnd(e,n,t))}}},e._IE_enable=function(t){var r=t.canvas,s=t.__touch.f=function(r){e._IE_handleEvent(t,r)};void 0===window.navigator.pointerEnabled?(r.addEventListener("MSPointerDown",s,!1),window.addEventListener("MSPointerMove",s,!1),window.addEventListener("MSPointerUp",s,!1),window.addEventListener("MSPointerCancel",s,!1),t.__touch.preventDefault&&(r.style.msTouchAction="none")):(r.addEventListener("pointerdown",s,!1),window.addEventListener("pointermove",s,!1),window.addEventListener("pointerup",s,!1),window.addEventListener("pointercancel",s,!1),t.__touch.preventDefault&&(r.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var r=t.type,s=t.pointerId,o=e.__touch.activeIDs;if("MSPointerDown"==r||"pointerdown"==r){if(t.srcElement!=e.canvas)return;o[s]=!0,this._handleStart(e,s,t,t.pageX,t.pageY)}else o[s]&&("MSPointerMove"==r||"pointermove"==r?this._handleMove(e,s,t,t.pageX,t.pageY):"MSPointerUp"!=r&&"MSPointerCancel"!=r&&"pointerup"!=r&&"pointercancel"!=r||(delete o[s],this._handleEnd(e,s,t)))}},e._handleStart=function(e,t,r,s,o){var i=e.__touch;if(i.multitouch||!i.count){var a=i.pointers;a[t]||(a[t]=!0,i.count++,e._handlePointerDown(t,r,s,o))}},e._handleMove=function(e,t,r,s,o){e.__touch.pointers[t]&&e._handlePointerMove(t,r,s,o)},e._handleEnd=function(e,t,r){var s=e.__touch,o=s.pointers;o[t]&&(s.count--,e._handlePointerUp(t,r,!0),delete o[t])},vm.Touch=e}(),(hm=vm.EaselJS=vm.EaselJS||{}).version="0.8.2",hm.buildDate="Thu, 26 Nov 2015 20:44:34 GMT",function(){var e=vm.PreloadJS=vm.PreloadJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),vm.proxy=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(r))}},function(){function e(e,t,r){this.Event_constructor("error"),this.title=e,this.message=t,this.data=r}vm.extend(e,vm.Event).clone=function(){return new vm.ErrorEvent(this.title,this.message,this.data)},vm.ErrorEvent=vm.promote(e,"Event")}(),function(){function e(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}vm.extend(e,vm.Event).clone=function(){return new vm.ProgressEvent(this.loaded,this.total)},vm.ProgressEvent=vm.promote(e,"Event")}(),function(){var e={function:!0,object:!0},t=um&&!um.nodeType&&um,r=e[typeof window]&&window||this,s=t&&e.object&&dm&&!dm.nodeType&&"object"==typeof c&&c;function o(t,s){t||(t=r.Object()),s||(s=r.Object());var i=t.Number||r.Number,a=t.String||r.String,n=t.Object||r.Object,l=t.Date||r.Date,c=t.SyntaxError||r.SyntaxError,m=t.TypeError||r.TypeError,d=t.Math||r.Math,u=t.JSON||r.JSON;"object"==typeof u&&u&&(s.stringify=u.stringify,s.parse=u.parse);var h,p,f,v=n.prototype,g=v.toString,b=new l(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch($){}function x(e){if(x[e]!==f)return x[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=x("json-stringify")&&x("json-parse");else{var r,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var n=s.stringify,c="function"==typeof n&&b;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===n(0)&&"0"===n(new i)&&'""'==n(new a)&&n(g)===f&&n(f)===f&&n()===f&&"1"===n(r)&&"[1]"==n([r])&&"[null]"==n([f])&&"null"==n(null)&&"[null,null,null]"==n([f,g,null])&&n({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===n(null,r)&&"[\n 1,\n 2\n]"==n([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==n(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==n(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==n(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==n(new l(-1))}catch($){c=!1}}t=c}if("json-parse"==e){var m=s.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){var d=5==(r=m(o)).a.length&&1===r.a[0];if(d){try{d=!m('"\t"')}catch($){}if(d)try{d=1!==m("01")}catch($){}if(d)try{d=1!==m("1.")}catch($){}}}}catch($){d=!1}t=d}}return x[e]=!!t}if(!x("json")){var N="[object Function]",w="[object Number]",y="[object String]",_="[object Array]",E=x("bug-string-char-index");if(!b)var D=d.floor,S=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return S[t]+365*(e-1970)+D((e-1969+(t=+(t>1)))/4)-D((e-1901+t)/100)+D((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=g?h=function(e){var t=this.__proto__,r=e in(this.__proto__=null,this);return this.__proto__=t,r}:(t=r.constructor,h=function(e){var r=(this.constructor||t).prototype;return e in this&&!(e in r&&this[e]===r[e])}),r=null,h.call(this,e)}),p=function(t,r){var s,o,i,a=0;for(i in(s=function(){this.valueOf=0}).prototype.valueOf=0,o=new s)h.call(o,i)&&a++;return s=o=null,a?p=2==a?function(e,t){var r,s={},o=g.call(e)==N;for(r in e)o&&"prototype"==r||h.call(s,r)||!(s[r]=1)||!h.call(e,r)||t(r)}:function(e,t){var r,s,o=g.call(e)==N;for(r in e)o&&"prototype"==r||!h.call(e,r)||(s="constructor"===r)||t(r);(s||h.call(e,r="constructor"))&&t(r)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(t,r){var s,i,a=g.call(t)==N,n=!a&&"function"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||h;for(s in t)a&&"prototype"==s||!n.call(t,s)||r(s);for(i=o.length;s=o[--i];n.call(t,s)&&r(s));}),p(t,r)},!x("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},P=function(e,t){return("000000"+(t||0)).slice(-e)},C=function(e){for(var t='"',r=0,s=e.length,o=!E||s>10,i=o&&(E?e.split(""):e);r<s;r++){var a=e.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[a];break;default:if(a<32){t+="\\u00"+P(2,a.toString(16));break}t+=o?i[r]:e.charAt(r)}}return t+'"'},k=function(e,t,r,s,o,i,a){var n,l,c,d,u,v,b,x,N,E,S,T,U,V,A,M;try{n=t[e]}catch($){}if("object"==typeof n&&n)if("[object Date]"!=(l=g.call(n))||h.call(n,"toJSON"))"function"==typeof n.toJSON&&(l!=w&&l!=y&&l!=_||h.call(n,"toJSON"))&&(n=n.toJSON(e));else if(n>-1/0&&n<1/0){if(j){for(u=D(n/864e5),c=D(u/365.2425)+1970-1;j(c+1,0)<=u;c++);for(d=D((u-j(c,0))/30.42);j(c,d+1)<=u;d++);u=1+u-j(c,d),b=D((v=(n%864e5+864e5)%864e5)/36e5)%24,x=D(v/6e4)%60,N=D(v/1e3)%60,E=v%1e3}else c=n.getUTCFullYear(),d=n.getUTCMonth(),u=n.getUTCDate(),b=n.getUTCHours(),x=n.getUTCMinutes(),N=n.getUTCSeconds(),E=n.getUTCMilliseconds();n=(c<=0||c>=1e4?(c<0?"-":"+")+P(6,c<0?-c:c):P(4,c))+"-"+P(2,d+1)+"-"+P(2,u)+"T"+P(2,b)+":"+P(2,x)+":"+P(2,N)+"."+P(3,E)+"Z"}else n=null;if(r&&(n=r.call(t,e,n)),null===n)return"null";if("[object Boolean]"==(l=g.call(n)))return""+n;if(l==w)return n>-1/0&&n<1/0?""+n:"null";if(l==y)return C(""+n);if("object"==typeof n){for(V=a.length;V--;)if(a[V]===n)throw m();if(a.push(n),S=[],A=i,i+=o,l==_){for(U=0,V=n.length;U<V;U++)T=k(U,n,r,s,o,i,a),S.push(T===f?"null":T);M=S.length?o?"[\n"+i+S.join(",\n"+i)+"\n"+A+"]":"["+S.join(",")+"]":"[]"}else p(s||n,function(e){var t=k(e,n,r,s,o,i,a);t!==f&&S.push(C(e)+":"+(o?" ":"")+t)}),M=S.length?o?"{\n"+i+S.join(",\n"+i)+"\n"+A+"}":"{"+S.join(",")+"}":"{}";return a.pop(),M}};s.stringify=function(t,r,s){var o,i,a,n;if(e[typeof r]&&r)if((n=g.call(r))==N)i=r;else if(n==_){a={};for(var l,c=0,m=r.length;c<m;l=r[c++],((n=g.call(l))==y||n==w)&&(a[l]=1));}if(s)if((n=g.call(s))==w){if((s-=s%1)>0)for(o="",s>10&&(s=10);o.length<s;o+=" ");}else n==y&&(o=s.length<=10?s:s.slice(0,10));return k("",((l={})[""]=t,l),i,a,o,"",[])}}if(!x("json-parse")){var U,V,A=a.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw U=V=null,c()},L=function(){for(var e,t,r,s,o,i=V,a=i.length;U<a;)switch(o=i.charCodeAt(U)){case 9:case 10:case 13:case 32:U++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=E?i.charAt(U):i[U],U++,e;case 34:for(e="@",U++;U<a;)if((o=i.charCodeAt(U))<32)I();else if(92==o)switch(o=i.charCodeAt(++U)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[o],U++;break;case 117:for(t=++U,r=U+4;U<r;U++)(o=i.charCodeAt(U))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||I();e+=A("0x"+i.slice(t,U));break;default:I()}else{if(34==o)break;for(o=i.charCodeAt(U),t=U;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++U);e+=i.slice(t,U)}if(34==i.charCodeAt(U))return U++,e;I();default:if(t=U,45==o&&(s=!0,o=i.charCodeAt(++U)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(U+1))>=48&&o<=57&&I(),s=!1;U<a&&(o=i.charCodeAt(U))>=48&&o<=57;U++);if(46==i.charCodeAt(U)){for(r=++U;r<a&&(o=i.charCodeAt(r))>=48&&o<=57;r++);r==U&&I(),U=r}if(101==(o=i.charCodeAt(U))||69==o){for(43!=(o=i.charCodeAt(++U))&&45!=o||U++,r=U;r<a&&(o=i.charCodeAt(r))>=48&&o<=57;r++);r==U&&I(),U=r}return+i.slice(t,U)}if(s&&I(),"true"==i.slice(U,U+4))return U+=4,!0;if("false"==i.slice(U,U+5))return U+=5,!1;if("null"==i.slice(U,U+4))return U+=4,null;I()}return"$"},O=function(e){var t,r;if("$"==e&&I(),"string"==typeof e){if("@"==(E?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=L());r||(r=!0))r&&(","==e?"]"==(e=L())&&I():I()),","==e&&I(),t.push(O(e));return t}if("{"==e){for(t={};"}"!=(e=L());r||(r=!0))r&&(","==e?"}"==(e=L())&&I():I()),","!=e&&"string"==typeof e&&"@"==(E?e.charAt(0):e[0])&&":"==L()||I(),t[e.slice(1)]=O(L());return t}I()}return e},R=function(e,t,r){var s=F(e,t,r);s===f?delete e[t]:e[t]=s},F=function(e,t,r){var s,o=e[t];if("object"==typeof o&&o)if(g.call(o)==_)for(s=o.length;s--;)R(o,s,r);else p(o,function(e){R(o,e,r)});return r.call(e,t,o)};s.parse=function(e,t){var r,s;return U=0,V=""+e,r=O(L()),"$"!=L()&&I(),U=V=null,t&&g.call(t)==N?F(((s={})[""]=r,s),"",t):r}}}return s.runInContext=o,s}if(!s||s.global!==s&&s.window!==s&&s.self!==s||(r=s),t)o(r,t);else{var i=r.JSON,a=r.JSON3,n=!1,l=o(r,r.JSON3={noConflict:function(){return n||(n=!0,r.JSON=i,r.JSON3=a,i=a=null),l}});r.JSON={parse:l.parse,stringify:l.stringify}}}.call(c),function(){var e={appendToHead:function(t){e.getHead().appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};vm.DomUtils=e}(),function(){var e={parseXML:function(e,t){var r=null;try{window.DOMParser&&(r=(new DOMParser).parseFromString(e,t))}catch(kp){}if(!r)try{(r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e)}catch(kp){r=null}return r},parseJSON:function(e){if(null==e)return null;try{return JSON.parse(e)}catch(kp){throw kp}}};vm.DataUtils=e}(),function(){function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=vm.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=r.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},r=e;r.LOAD_TIMEOUT_DEFAULT=8e3,r.create=function(t){if("string"==typeof t){var s=new e;return s.src=t,s}if(t instanceof r)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=r.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},vm.LoadItem=r}(),function(){var e={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(t){var r={absolute:!1,relative:!1};if(null==t)return r;var s,o=t.indexOf("?");return o>-1&&(t=t.substr(0,o)),e.ABSOLUTE_PATT.test(t)?r.absolute=!0:e.RELATIVE_PATT.test(t)&&(r.relative=!0),(s=t.match(e.EXTENSION_PATT))&&(r.extension=s[1].toLowerCase()),r},formatQueryString:function(e,t){if(null==e)throw new Error("You must specify data.");var r=[];for(var s in e)r.push(s+"="+escape(e[s]));return t&&(r=r.concat(t)),r.join("&")},buildPath:function(e,t){if(null==t)return e;var r=[],s=e.indexOf("?");if(-1!=s){var o=e.slice(s+1);r=r.concat(o.split("&"))}return-1!=s?e.slice(0,s)+"?"+this.formatQueryString(t,r):e+"?"+this.formatQueryString(t,r)},isCrossDomain:function(e){var t=document.createElement("a");t.href=e.src;var r=document.createElement("a");return r.href=location.href,""!=t.hostname&&(t.port!=r.port||t.protocol!=r.protocol||t.hostname!=r.hostname)},isLocal:function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},isBinary:function(e){switch(e){case vm.AbstractLoader.IMAGE:case vm.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(e){return e instanceof HTMLImageElement},isAudioTag:function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},isVideoTag:function(e){return!!window.HTMLVideoElement&&e instanceof HTMLVideoElement},isText:function(e){switch(e){case vm.AbstractLoader.TEXT:case vm.AbstractLoader.JSON:case vm.AbstractLoader.MANIFEST:case vm.AbstractLoader.XML:case vm.AbstractLoader.CSS:case vm.AbstractLoader.SVG:case vm.AbstractLoader.JAVASCRIPT:case vm.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(e){if(null==e)return vm.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return vm.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return vm.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return vm.AbstractLoader.VIDEO;case"json":return vm.AbstractLoader.JSON;case"xml":return vm.AbstractLoader.XML;case"css":return vm.AbstractLoader.CSS;case"js":return vm.AbstractLoader.JAVASCRIPT;case"svg":return vm.AbstractLoader.SVG;default:return vm.AbstractLoader.TEXT}}};vm.RequestUtils=e}(),function(){function e(e,t,r){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=r,this.resultFormatter=null,this._item=e?vm.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=vm.extend(e,vm.EventDispatcher),r=e;r.POST="POST",r.GET="GET",r.BINARY="binary",r.CSS="css",r.IMAGE="image",r.JAVASCRIPT="javascript",r.JSON="json",r.JSONP="jsonp",r.MANIFEST="manifest",r.SOUND="sound",r.VIDEO="video",r.SPRITESHEET="spritesheet",r.SVG="svg",r.TEXT="text",r.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new vm.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new vm.XHRRequest(this._item):this._request=new vm.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new vm.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new vm.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new vm.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,vm.proxy(this._resultFormatSuccess,this),vm.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new vm.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"))}},t._resultFormatSuccess=function(e){this._result=e,this._sendComplete()},t._resultFormatFailed=function(e){this._sendError(e)},t.buildPath=function(e,t){return vm.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},vm.AbstractLoader=vm.promote(e,"EventDispatcher")}(),function(){function e(e,t,r){this.AbstractLoader_constructor(e,t,r),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var t=vm.extend(e,vm.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new vm.XHRRequest(this._item):this._request=new vm.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._updateXHR=function(e){e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,r=e.getResult(!0);e.getTag().src=t.createObjectURL(r)}return e.getTag()},vm.AbstractMediaLoader=vm.promote(e,"AbstractLoader")}(),pm=function(e){this._item=e},(fm=vm.extend(pm,vm.EventDispatcher)).load=function(){},fm.destroy=function(){},fm.cancel=function(){},vm.AbstractRequest=vm.promote(pm,"EventDispatcher"),function(){function e(e,t,r){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=r,this._loadedHandler=vm.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=vm.extend(e,vm.AbstractRequest);t.load=function(){this._tag.onload=vm.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=vm.proxy(this._handleReadyStateChange,this),this._tag.onerror=vm.proxy(this._handleError,this);var e=new vm.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(vm.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new vm.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},vm.TagRequest=vm.promote(e,"AbstractRequest")}(),function(){function e(e,t,r){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=r,this._loadedHandler=vm.proxy(this._handleTagComplete,this)}var t=vm.extend(e,vm.TagRequest);t.load=function(){var e=vm.proxy(this._handleStalled,this);this._stalledCallback=e;var t=vm.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new vm.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},vm.MediaTagRequest=vm.promote(e,"TagRequest")}(),function(){function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=vm.proxy(this._handleLoadStart,this),this._handleProgressProxy=vm.proxy(this._handleProgress,this),this._handleAbortProxy=vm.proxy(this._handleAbort,this),this._handleErrorProxy=vm.proxy(this._handleError,this),this._handleTimeoutProxy=vm.proxy(this._handleTimeout,this),this._handleLoadProxy=vm.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=vm.proxy(this._handleReadyStateChange,this),this._createXHR(e)}var t=vm.extend(e,vm.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(vm.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=vm.AbstractLoader.GET?this._item.method==vm.AbstractLoader.POST&&this._request.send(vm.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new vm.ErrorEvent("XHR_SEND",null,e))}}else this._handleError()},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new vm.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new vm.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new vm.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)this._handleError(t);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(kp){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===kp.name&&window.BlobBuilder){var r=new BlobBuilder;r.append(this._response),this._response=r.getBlob()}}this._clean(),this.dispatchEvent(new vm.Event("complete"))}}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new vm.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(kp){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(kp){}return null},t._createXHR=function(e){var t=vm.RequestUtils.isCrossDomain(e),r={},o=null;if(window.XMLHttpRequest)o=new XMLHttpRequest,t&&void 0===o.withCredentials&&window.XDomainRequest&&(o=new XDomainRequest);else{for(var i=0,a=s.ACTIVEX_VERSIONS.length;i<a;i++){var n=s.ACTIVEX_VERSIONS[i];try{o=new ActiveXObject(n);break}catch(kp){}}if(null==o)return!1}null==e.mimeType&&vm.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof o.responseType?2:1;var l=null;if(l=e.method==vm.AbstractLoader.GET?vm.RequestUtils.buildPath(e.src,e.values):e.src,o.open(e.method||vm.AbstractLoader.GET,l,!0),t&&o instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),e.values&&e.method==vm.AbstractLoader.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),t||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var c in e.headers)r[c]=e.headers[c];for(c in r)o.setRequestHeader(c,r[c]);return o instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(o.withCredentials=e.withCredentials),this._request=o,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},vm.XHRRequest=vm.promote(e,"AbstractRequest")}(),function(){function e(e,t,r){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[vm.ImageLoader,vm.JavaScriptLoader,vm.CSSLoader,vm.JSONLoader,vm.JSONPLoader,vm.SoundLoader,vm.ManifestLoader,vm.SpriteSheetLoader,vm.XMLLoader,vm.SVGLoader,vm.BinaryLoader,vm.VideoLoader,vm.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,r)}var t=vm.extend(e,vm.AbstractLoader),r=e;t.init=function(e,t,r){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=r,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},r.loadTimeout=8e3,r.LOAD_TIMEOUT=0,r.BINARY=vm.AbstractLoader.BINARY,r.CSS=vm.AbstractLoader.CSS,r.IMAGE=vm.AbstractLoader.IMAGE,r.JAVASCRIPT=vm.AbstractLoader.JAVASCRIPT,r.JSON=vm.AbstractLoader.JSON,r.JSONP=vm.AbstractLoader.JSONP,r.MANIFEST=vm.AbstractLoader.MANIFEST,r.SOUND=vm.AbstractLoader.SOUND,r.VIDEO=vm.AbstractLoader.VIDEO,r.SVG=vm.AbstractLoader.SVG,r.TEXT=vm.AbstractLoader.TEXT,r.XML=vm.AbstractLoader.XML,r.POST=vm.AbstractLoader.POST,r.GET=vm.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(e&&!Array.isArray(e))t=[e];else if(e)t=e;else if(arguments.length>0)return;var r=!1;if(t){for(;t.length;){var s=t.pop(),o=this.getResult(s);for(i=this._loadQueue.length-1;i>=0;i--)if((a=this._loadQueue[i].getItem()).id==s||a.src==s){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;i>=0;i--)if((a=this._loadQueueBackup[i].getItem()).id==s||a.src==s){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(o)this._disposeItem(this.getItem(s));else for(var i=this._currentLoads.length-1;i>=0;i--){var a=this._currentLoads[i].getItem();if(a.id==s||a.src==s){this._currentLoads.splice(i,1)[0].cancel(),r=!0;break}}}r&&this._loadNext()}else{for(var n in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[n]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){for(var e in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],r=0,s=this._loadQueueBackup.length;r<s;r++)t.push(this._loadQueueBackup[r].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var r=0,s=t.types.length;r<s;r++)this._typeCallbacks[t.types[r]]=t;if(null!=t.extensions)for(r=0,s=t.extensions.length;r<s;r++)this._extensionCallbacks[t.extensions[r]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&this._loadQueue.length>0&&this._loadNext()},t.loadFile=function(e,t,r){if(null!=e)this._addItem(e,null,r),!1!==t?this.setPaused(!1):this.setPaused(!0);else{var s=new vm.ErrorEvent("PRELOAD_NO_FILE");this._sendError(s)}},t.loadManifest=function(e,t,s){var o=null,i=null;if(Array.isArray(e)){if(0==e.length){var a=new vm.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}o=e}else if("string"==typeof e)o=[{src:e,type:r.MANIFEST}];else{if("object"!=typeof e)return a=new vm.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(a);if(void 0!==e.src){if(null==e.type)e.type=r.MANIFEST;else if(e.type!=r.MANIFEST){var a=new vm.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}o=[e]}else void 0!==e.manifest&&(o=e.manifest,i=e.path)}for(var n=0,l=o.length;n<l;n++)this._addItem(o[n],i,s);!1!==t?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var r=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==r)return null;var s=r.id;return t&&this._loadedRawResults[s]?this._loadedRawResults[s]:this._loadedResults[s]},t.getItems=function(e){var t=[];for(var r in this._loadItemsById){var s=this._loadItemsById[r],o=this.getResult(r);!0===e&&null==o||t.push({item:s,result:o,rawResult:this.getResult(r,!0)})}return t},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,r){var s=this._createLoadItem(e,t,r);if(null!=s){var o=this._createLoader(s);null!=o&&("plugins"in o&&(o.plugins=this._plugins),s._loader=o,this._loadQueue.push(o),this._loadQueueBackup.push(o),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&s.type==vm.LoadQueue.JAVASCRIPT||!0===s.maintainOrder)&&(this._scriptOrder.push(s),this._loadedScripts.push(null)))}},t._createLoadItem=function(e,t,r){var s=vm.LoadItem.create(e);if(null==s)return null;var o="",i=r||this._basePath;if(s.src instanceof Object){if(!s.type)return null;if(t){o=t;var a=vm.RequestUtils.parseURI(t);null==i||a.absolute||a.relative||(o=i+o)}else null!=i&&(o=i)}else{var n=vm.RequestUtils.parseURI(s.src);n.extension&&(s.ext=n.extension),null==s.type&&(s.type=vm.RequestUtils.getTypeByExtension(s.ext));var l=s.src;n.absolute||n.relative||(t?(o=t,a=vm.RequestUtils.parseURI(t),l=t+l,null==i||a.absolute||a.relative||(o=i+o)):null!=i&&(o=i)),s.src=o+s.src}s.path=o,void 0!==s.id&&null!==s.id&&""!==s.id||(s.id=l);var c=this._typeCallbacks[s.type]||this._extensionCallbacks[s.ext];if(c){var m=c.callback.call(c.scope,s,this);if(!1===m)return null;!0===m||null!=m&&(s._loader=m),null!=(n=vm.RequestUtils.parseURI(s.src)).extension&&(s.ext=n.extension)}return this._loadItemsById[s.id]=s,this._loadItemsBySrc[s.src]=s,null==s.crossOrigin&&(s.crossOrigin=this._crossOrigin),s},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,r=0;r<this._availableLoaders.length;r++){var s=this._availableLoaders[r];if(s&&s.canLoadItem(e))return new s(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new vm.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var r=new vm.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(r),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,r=t.getItem(),s=t.getResult();this._loadedResults[r.id]=s;var o=t.getResult(!0);null!=o&&o!==s&&(this._loadedRawResults[r.id]=o),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(r,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var r=0;r<t.length;r++){var s=t[r].item;this._loadItemsBySrc[s.src]=s,this._loadItemsById[s.id]=s,this._loadedResults[s.id]=t[r].result,this._loadedRawResults[s.id]=t[r].rawResult}},t._finishOrderedItem=function(e,t){var r=e.getItem();if(this.maintainScriptOrder&&r.type==vm.LoadQueue.JAVASCRIPT||r.maintainOrder){e instanceof vm.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var s=vm.indexOf(this._scriptOrder,r);return-1!=s&&(this._loadedScripts[s]=!0===t||r,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;t<e;t++){var r=this._loadedScripts[t];if(null===r)break;if(!0!==r){var s=this._loadedResults[r.id];r.type==vm.LoadQueue.JAVASCRIPT&&vm.DomUtils.appendToHead(s);var o=r._loader;this._processFinishedLoad(r,o),this._loadedScripts[t]=!0}}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==vm.LoadQueue.JAVASCRIPT){var r=t.getTag();vm.DomUtils.appendToHead(r)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;var t=e.getItem();if(t.type!=vm.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var r=this._scriptOrder.indexOf(t),s=0;s<r;){if(null==this._loadedScripts[s])return!1;s++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,r=0;r<t;r++)if(this._currentLoads[r]==e){this._currentLoads.splice(r,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var r=0,s=0,o=this._currentLoads.length;s<o;s++)r+=this._currentLoads[s].progress;e+=r/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var r=new vm.Event("fileprogress");r.progress=t,r.loaded=t,r.total=1,r.item=e,this.dispatchEvent(r)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var r=new vm.Event("fileload");r.loader=t,r.item=e,r.result=this._loadedResults[e.id],r.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(r),this.hasEventListener("fileload")&&this.dispatchEvent(r)}},t._sendFileStart=function(e){var t=new vm.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},vm.LoadQueue=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.TEXT)}vm.extend(e,vm.AbstractLoader),e.canLoadItem=function(e){return e.type==vm.AbstractLoader.TEXT},vm.TextLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},vm.BinaryLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=t?document.createElement("style"):document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var r=document.createTextNode(e.getResult(!0));t.appendChild(r)}}else t=this._tag;return vm.DomUtils.appendToHead(t),t},vm.CSSLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",vm.RequestUtils.isImageTag(e)?this._tag=e:vm.RequestUtils.isImageTag(e.src)?this._tag=e.src:vm.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||vm.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load()}},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){return this._formatImage},t._formatImage=function(e,t){var r=this._tag,s=window.URL||window.webkitURL;if(this._preferXHR)if(s){var o=s.createObjectURL(this.getResult(!0));r.src=o,r.addEventListener("load",this._cleanUpURL,!1),r.addEventListener("error",this._cleanUpURL,!1)}else r.src=this._item.src;r.complete?e(r):(r.onload=vm.proxy(function(){e(this._tag)},this),r.onerror=vm.proxy(function(){t(_this._tag)},this))},t._cleanUpURL=function(e){(window.URL||window.webkitURL).revokeObjectURL(e.target.src)},vm.ImageLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},vm.JavaScriptLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.JSON},t._formatResult=function(e){var t=null;try{t=vm.DataUtils.parseJSON(e.getResult(!0))}catch(kp){var r=new vm.ErrorEvent("JSON_FORMAT",null,kp);return this._sendError(r),kp}return t},vm.JSONLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!1,vm.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=vm.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(vm.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new vm.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},vm.JSONPLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,null,vm.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=vm.extend(e,vm.AbstractLoader),r=e;r.MANIFEST_PROGRESS=.25,r.canLoadItem=function(e){return e.type==vm.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new vm.JSONPLoader(this._item):new vm.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(r.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=r.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new vm.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var r=0,s=this.plugins.length;r<s;r++)t.installPlugin(this.plugins[r]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(e){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-r.MANIFEST_PROGRESS)+r.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new vm.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},vm.ManifestLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractMediaLoader_constructor(e,t,vm.AbstractLoader.SOUND),vm.RequestUtils.isAudioTag(e)||vm.RequestUtils.isAudioTag(e.src)?this._tag=e:vm.RequestUtils.isAudioTag(e.tag)&&(this._tag=vm.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=vm.extend(e,vm.AbstractMediaLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},vm.SoundLoader=vm.promote(e,"AbstractMediaLoader")}(),function(){function e(e,t){this.AbstractMediaLoader_constructor(e,t,vm.AbstractLoader.VIDEO),vm.RequestUtils.isVideoTag(e)||vm.RequestUtils.isVideoTag(e.src)?(this.setTag(vm.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=e;vm.extend(e,vm.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},t.canLoadItem=function(e){return e.type==vm.AbstractLoader.VIDEO},vm.VideoLoader=vm.promote(e,"AbstractMediaLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=vm.extend(e,vm.AbstractLoader),r=e;r.SPRITESHEET_PROGRESS=.25,r.canLoadItem=function(e){return e.type==vm.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new vm.JSONPLoader(this._item):new vm.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(r.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=r.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new vm.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var r=this.getResult().images,s=r.indexOf(e.item.src);r[s]=t}},t._handleManifestComplete=function(e){this._result=new vm.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-r.SPRITESHEET_PROGRESS)+r.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new vm.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},vm.SpriteSheetLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.SVG},t._formatResult=function(e){var t=vm.DataUtils.parseXML(e.getResult(!0),"text/xml"),r=e.getTag();return!this._preferXHR&&document.body.contains(r)&&document.body.removeChild(r),null!=t.documentElement?(r.appendChild(t.documentElement),r.style.visibility="visible",r):t},vm.SVGLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.XML},t._formatResult=function(e){return vm.DataUtils.parseXML(e.getResult(!0),"text/xml")},vm.XMLLoader=vm.promote(e,"AbstractLoader")}(),function(){var e=vm.SoundJS=vm.SoundJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),vm.indexOf=function(e,t){for(var r=0,s=e.length;r<s;r++)if(t===e[r])return r;return-1},vm.proxy=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(r))}},function(){function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,vm.BrowserDetect=e}(),function(){var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},r=e;r.create=function(e){if(e instanceof r||e instanceof Object){var t=new vm.PlayPropsConfig;return t.set(e),t}throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},vm.PlayPropsConfig=r}(),function(){function e(){throw"Sound cannot be instantiated"}var t=e;function r(e,t){this.init(e,t)}t.INTERRUPT_ANY="any",t.INTERRUPT_EARLY="early",t.INTERRUPT_LATE="late",t.INTERRUPT_NONE="none",t.PLAY_INITED="playInited",t.PLAY_SUCCEEDED="playSucceeded",t.PLAY_INTERRUPTED="playInterrupted",t.PLAY_FINISHED="playFinished",t.PLAY_FAILED="playFailed",t.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],t.EXTENSION_MAP={m4a:"mp4"},t.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,t.defaultInterruptBehavior=t.INTERRUPT_NONE,t.alternateExtensions=[],t.activePlugin=null,t._masterVolume=1,Object.defineProperty(t,"volume",{get:function(){return this._masterVolume},set:function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),t._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var r=this._instances,s=0,o=r.length;s<o;s++)r[s].setMasterVolume(e)}}),t._masterMute=!1,Object.defineProperty(t,"muted",{get:function(){return this._masterMute},set:function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,r=0,s=t.length;r<s;r++)t[r].setMasterMute(e);return!0}}),Object.defineProperty(t,"capabilities",{get:function(){return null==t.activePlugin?null:t.activePlugin._capabilities},set:function(e){return!1}}),t._pluginsRegistered=!1,t._lastID=0,t._instances=[],t._idHash={},t._preloadHash={},t._defaultPlayPropsHash={},t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,vm.EventDispatcher.initialize(t),t.getPreloadHandlers=function(){return{callback:vm.proxy(t.initLoad,t),types:["sound"],extensions:t.SUPPORTED_EXTENSIONS}},t._handleLoadComplete=function(e){var r=e.target.getItem().src;if(t._preloadHash[r])for(var s=0,o=t._preloadHash[r].length;s<o;s++){var i=t._preloadHash[r][s];t._preloadHash[r][s]=!0,t.hasEventListener("fileload")&&((e=new vm.Event("fileload")).src=i.src,e.id=i.id,e.data=i.data,e.sprite=i.sprite,t.dispatchEvent(e))}},t._handleLoadError=function(e){var r=e.target.getItem().src;if(t._preloadHash[r])for(var s=0,o=t._preloadHash[r].length;s<o;s++){var i=t._preloadHash[r][s];t._preloadHash[r][s]=!1,t.hasEventListener("fileerror")&&((e=new vm.Event("fileerror")).src=i.src,e.id=i.id,e.data=i.data,e.sprite=i.sprite,t.dispatchEvent(e))}},t._registerPlugin=function(e){return!!e.isSupported()&&(t.activePlugin=new e,!0)},t.registerPlugins=function(e){t._pluginsRegistered=!0;for(var r=0,s=e.length;r<s;r++)if(t._registerPlugin(e[r]))return!0;return!1},t.initializeDefaultPlugins=function(){return null!=t.activePlugin||!t._pluginsRegistered&&!!t.registerPlugins([vm.WebAudioPlugin,vm.HTMLAudioPlugin])},t.isReady=function(){return null!=t.activePlugin},t.getCapabilities=function(){return null==t.activePlugin?null:t.activePlugin._capabilities},t.getCapability=function(e){return null==t.activePlugin?null:t.activePlugin._capabilities[e]},t.initLoad=function(e){return t._registerSound(e)},t._registerSound=function(e){if(!t.initializeDefaultPlugins())return!1;var s;if(e.src instanceof Object?(s=t._parseSrc(e.src)).src=e.path+s.src:s=t._parsePath(e.src),null==s)return!1;e.src=s.src,e.type="sound";var o=e.data,i=null;if(null!=o&&(isNaN(o.channels)?isNaN(o)||(i=parseInt(o)):i=parseInt(o.channels),o.audioSprite))for(var a,n=o.audioSprite.length;n--;)a=o.audioSprite[n],t._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(t._defaultPlayPropsHash[a.id]=vm.PlayPropsConfig.create(a.defaultPlayProps));null!=e.id&&(t._idHash[e.id]={src:e.src});var l=t.activePlugin.register(e);return r.create(e.src,i),null!=o&&isNaN(o)?e.data.channels=i||r.maxPerChannel():e.data=i||r.maxPerChannel(),l.type&&(e.type=l.type),e.defaultPlayProps&&(t._defaultPlayPropsHash[e.src]=vm.PlayPropsConfig.create(e.defaultPlayProps)),l},t.registerSound=function(e,r,s,o,i){var a={src:e,id:r,data:s,defaultPlayProps:i};e instanceof Object&&e.src&&(o=r,a=e),(a=vm.LoadItem.create(a)).path=o,null==o||a.src instanceof Object||(a.src=o+e);var n=t._registerSound(a);if(!n)return!1;if(t._preloadHash[a.src]||(t._preloadHash[a.src]=[]),t._preloadHash[a.src].push(a),1==t._preloadHash[a.src].length)n.on("complete",vm.proxy(this._handleLoadComplete,this)),n.on("error",vm.proxy(this._handleLoadError,this)),t.activePlugin.preload(n);else if(1==t._preloadHash[a.src][0])return!0;return a},t.registerSounds=function(e,t){var r=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var s=0,o=e.length;s<o;s++)r[s]=vm.Sound.registerSound(e[s].src,e[s].id,e[s].data,t,e[s].defaultPlayProps);return r},t.removeSound=function(e,s){if(null==t.activePlugin)return!1;var o;if(e instanceof Object&&e.src&&(e=e.src),e instanceof Object?o=t._parseSrc(e):(e=t._getSrcById(e).src,o=t._parsePath(e)),null==o)return!1;for(var i in e=o.src,null!=s&&(e=s+e),t._idHash)t._idHash[i].src==e&&delete t._idHash[i];return r.removeSrc(e),delete t._preloadHash[e],t.activePlugin.removeSound(e),!0},t.removeSounds=function(e,t){var r=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var s=0,o=e.length;s<o;s++)r[s]=vm.Sound.removeSound(e[s].src,t);return r},t.removeAllSounds=function(){t._idHash={},t._preloadHash={},r.removeAll(),t.activePlugin&&t.activePlugin.removeAllSounds()},t.loadComplete=function(e){if(!t.isReady())return!1;var r=t._parsePath(e);return e=r?t._getSrcById(r.src).src:t._getSrcById(e).src,null!=t._preloadHash[e]&&1==t._preloadHash[e][0]},t._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var r=e.match(t.FILE_PATTERN);if(null==r)return!1;for(var s=r[4],o=r[5],i=t.capabilities,a=0;!i[o];)if(o=t.alternateExtensions[a++],a>t.alternateExtensions.length)return null;return{name:s,src:e=e.replace("."+r[5],"."+o),extension:o}},t._parseSrc=function(e){var r={name:void 0,src:void 0,extension:void 0},s=t.capabilities;for(var o in e)if(e.hasOwnProperty(o)&&s[o]){r.src=e[o],r.extension=o;break}if(!r.src)return!1;var i=r.src.lastIndexOf("/");return r.name=-1!=i?r.src.slice(i+1):r.src,r},t.play=function(e,r,s,o,i,a,n,l,c){var m;m=r instanceof Object||r instanceof vm.PlayPropsConfig?vm.PlayPropsConfig.create(r):vm.PlayPropsConfig.create({interrupt:r,delay:s,offset:o,loop:i,volume:a,pan:n,startTime:l,duration:c});var d=t.createInstance(e,m.startTime,m.duration);return t._playInstance(d,m)||d._playFailed(),d},t.createInstance=function(e,s,o){if(!t.initializeDefaultPlugins())return new vm.DefaultSoundInstance(e,s,o);var i=t._defaultPlayPropsHash[e];e=t._getSrcById(e);var a=t._parsePath(e.src),n=null;return null!=a&&null!=a.src?(r.create(a.src),null==s&&(s=e.startTime),n=t.activePlugin.create(a.src,s,o||e.duration),(i=i||t._defaultPlayPropsHash[a.src])&&n.applyPlayProps(i)):n=new vm.DefaultSoundInstance(e,s,o),n.uniqueId=t._lastID++,n},t.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},t.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),t._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var r=this._instances,s=0,o=r.length;s<o;s++)r[s].setMasterVolume(e)},t.getVolume=function(){return this._masterVolume},t.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,r=0,s=t.length;r<s;r++)t[r].setMasterMute(e);return!0},t.getMute=function(){return this._masterMute},t.setDefaultPlayProps=function(e,r){e=t._getSrcById(e),t._defaultPlayPropsHash[t._parsePath(e.src).src]=vm.PlayPropsConfig.create(r)},t.getDefaultPlayProps=function(e){return e=t._getSrcById(e),t._defaultPlayPropsHash[t._parsePath(e.src).src]},t._playInstance=function(e,r){var s=t._defaultPlayPropsHash[e.src]||{};if(null==r.interrupt&&(r.interrupt=s.interrupt||t.defaultInterruptBehavior),null==r.delay&&(r.delay=s.delay||0),null==r.offset&&(r.offset=e.getPosition()),null==r.loop&&(r.loop=e.loop),null==r.volume&&(r.volume=e.volume),null==r.pan&&(r.pan=e.pan),0==r.delay){if(!t._beginPlaying(e,r))return!1}else{var o=setTimeout(function(){t._beginPlaying(e,r)},r.delay);e.delayTimeoutId=o}return this._instances.push(e),!0},t._beginPlaying=function(e,t){if(!r.add(e,t.interrupt))return!1;if(!e._beginPlaying(t)){var s=vm.indexOf(this._instances,e);return s>-1&&this._instances.splice(s,1),!1}return!0},t._getSrcById=function(e){return t._idHash[e]||{src:e}},t._playFinished=function(e){r.remove(e);var t=vm.indexOf(this._instances,e);t>-1&&this._instances.splice(t,1)},vm.Sound=e,r.channels={},r.create=function(e,t){return null==r.get(e)&&(r.channels[e]=new r(e,t),!0)},r.removeSrc=function(e){var t=r.get(e);return null!=t&&(t._removeAll(),delete r.channels[e],!0)},r.removeAll=function(){for(var e in r.channels)r.channels[e]._removeAll();r.channels={}},r.add=function(e,t){var s=r.get(e.src);return null!=s&&s._add(e,t)},r.remove=function(e){var t=r.get(e.src);return null!=t&&(t._remove(e),!0)},r.maxPerChannel=function(){return s.maxDefault},r.get=function(e){return r.channels[e]};var s=r.prototype;s.constructor=r,s.src=null,s.max=null,s.maxDefault=100,s.length=0,s.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},s._get=function(e){return this._instances[e]},s._add=function(e,t){return!!this._getSlot(t,e)&&(this._instances.push(e),this.length++,!0)},s._remove=function(e){var t=vm.indexOf(this._instances,e);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},s._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},s._getSlot=function(t,r){var s,o;if(t!=e.INTERRUPT_NONE&&null==(o=this._get(0)))return!0;for(var i=0,a=this.max;i<a;i++){if(null==(s=this._get(i)))return!0;if(s.playState==e.PLAY_FINISHED||s.playState==e.PLAY_INTERRUPTED||s.playState==e.PLAY_FAILED){o=s;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&s.getPosition()<o.getPosition()||t==e.INTERRUPT_LATE&&s.getPosition()>o.getPosition())&&(o=s)}return null!=o&&(o._interrupt(),this._remove(o),!0)},s.toString=function(){return"[Sound SoundChannel]"}}(),function(){var e=function(e,t,r,s){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,r||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==s&&!0!==s&&this.setPlaybackResource(s),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=vm.extend(e,vm.EventDispatcher);t.play=function(e,t,r,s,o,i){var a;return a=e instanceof Object||e instanceof vm.PlayPropsConfig?vm.PlayPropsConfig.create(e):vm.PlayPropsConfig.create({interrupt:e,delay:t,offset:r,loop:s,volume:o,pan:i}),this.playState==vm.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),vm.Sound._playInstance(this,a),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=vm.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this.setPosition(e.offset),null!=e.loop&&this.setLoop(e.loop),null!=e.volume&&this.setVolume(e.volume),null!=e.pan&&this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){if(!(!0!==e&&!1!==e||this._paused==e||1==e&&this.playState!=vm.Sound.PLAY_SUCCEEDED))return this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},t.setVolume=function(e){return e==this._volume||(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume()),this},t.getVolume=function(){return this._volume},t.setMuted=function(e){if(!0===e||!1===e)return this._muted=e,this._updateVolume(),this},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan||(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan()),this},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=vm.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==vm.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getStartTime=function(){return this._startTime},t.setStartTime=function(e){return e==this._startTime||(this._startTime=Math.max(0,e||0),this._updateStartTime()),this},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration||(this._duration=Math.max(0,e||0),this._updateDuration()),this},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new vm.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,vm.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=vm.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this.setPosition(e.offset),this.setLoop(e.loop),this.setVolume(e.volume),this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=vm.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=vm.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(e){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=vm.Sound.PLAY_FINISHED,this._sendEvent("complete")},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(e){},t._addLooping=function(e){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},vm.AbstractSoundInstance=vm.promote(e,"EventDispatcher"),vm.DefaultSoundInstance=vm.AbstractSoundInstance}(),function(){var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],(t=new this._loaderClass(e)).on("complete",this._handlePreloadComplete,this),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",this._handlePreloadError,this),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;)this._soundInstances[e][t].destroy();delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,r){this.isPreloadStarted(e)||this.preload(this.register(e));var s=new this._soundInstanceClass(e,t,r,this._audioSources[e]);return this._soundInstances[e].push(s),s},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(e){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var r=0,s=this._soundInstances[t].length;r<s;r++)this._soundInstances[t][r].setPlaybackResource(this._audioSources[t])},t._handlePreloadError=function(e){},t._updateVolume=function(){},vm.AbstractPlugin=e}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.SOUND)}var t=vm.extend(e,vm.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new vm.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,vm.proxy(this._handleAudioDecoded,this),vm.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},vm.WebAudioLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t,s,o){this.AbstractSoundInstance_constructor(e,t,s,o),this.gainNode=r.context.createGain(),this.panNode=r.context.createPanner(),this.panNode.panningModel=r._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=vm.proxy(this._handleSoundComplete,this)}var t=vm.extend(e,vm.AbstractSoundInstance),r=e;r.context=null,r._scratchBuffer=null,r.destinationNode=null,r._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(e){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(e){this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==vm.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){e.stop(0),e.disconnect(0);try{e.buffer=r._scratchBuffer}catch(kp){}e=null}return e},t._handleSoundReady=function(e){this.gainNode.connect(r.destinationNode);var t=.001*this._duration,s=.001*this._position;s>t&&(s=t),this.sourceNode=this._createAndPlayAudioNode(r.context.currentTime-t,s),this._playbackStartTime=this.sourceNode.startTime-s,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-s)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var s=r.context.createBufferSource();s.buffer=this.playbackResource,s.connect(this.panNode);var o=.001*this._duration;return s.startTime=e+o,s.start(s.startTime,t+.001*this._startTime,o-t),s},t._pause=function(){this._position=1e3*(r.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(r.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},vm.WebAudioSoundInstance=vm.promote(e,"AbstractSoundInstance")}(),function(){function e(){this.AbstractPlugin_constructor(),this._panningModel=r._panningModel,this.context=r.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),vm.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=r._capabilities,this._loaderClass=vm.WebAudioLoader,this._soundInstanceClass=vm.WebAudioSoundInstance,this._addPropsToClasses()}var t=vm.extend(e,vm.AbstractPlugin),r=e;r._capabilities=null,r._panningModel="equalpower",r.context=null,r._scratchBuffer=null,r._unlocked=!1,r.isSupported=function(){var e=vm.BrowserDetect.isIOS||vm.BrowserDetect.isAndroid||vm.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!e&&!this._isFileXHRSupported())&&(r._generateCapabilities(),null!=r.context)},r.playEmptySound=function(){if(null!=r.context){var e=r.context.createBufferSource();e.buffer=r._scratchBuffer,e.connect(r.context.destination),e.start(0,0,0)}},r._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(r){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(r){e=!1}return e},r._generateCapabilities=function(){if(null==r._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==r.context)if(window.AudioContext)r.context=new AudioContext;else{if(!window.webkitAudioContext)return null;r.context=new webkitAudioContext}null==r._scratchBuffer&&(r._scratchBuffer=r.context.createBuffer(1,1,22050)),r._compatibilitySetUp(),"ontouchstart"in window&&"running"!=r.context.state&&(r._unlock(),document.addEventListener("mousedown",r._unlock,!0),document.addEventListener("touchend",r._unlock,!0)),r._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=vm.Sound.SUPPORTED_EXTENSIONS,s=vm.Sound.EXTENSION_MAP,o=0,i=t.length;o<i;o++){var a=t[o],n=s[a]||a;r._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+n)&&""!=e.canPlayType("audio/"+n)}r.context.destination.numberOfChannels<2&&(r._capabilities.panning=!1)}},r._compatibilitySetUp=function(){if(r._panningModel="equalpower",!r.context.createGain){r.context.createGain=r.context.createGainNode;var e=r.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,r._panningModel=0}},r._unlock=function(){r._unlocked||(r.playEmptySound(),"running"==r.context.state&&(document.removeEventListener("mousedown",r._unlock,!0),document.removeEventListener("touchend",r._unlock,!0),r._unlocked=!0))},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=r._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=vm.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},vm.WebAudioPlugin=vm.promote(e,"AbstractPlugin")}(),function(){function e(){throw"HTMLAudioTagPool cannot be instantiated"}var t=e;function r(e){this._tags=[]}t._tags={},t._tagPool=new r,t._tagUsed={},t.get=function(e){var r=t._tags[e];return null==r?(r=t._tags[e]=t._tagPool.get()).src=e:t._tagUsed[e]?(r=t._tagPool.get()).src=e:t._tagUsed[e]=!0,r},t.set=function(e,r){r==t._tags[e]?t._tagUsed[e]=!1:t._tagPool.set(r)},t.remove=function(e){var r=t._tags[e];return null!=r&&(t._tagPool.set(r),delete t._tags[e],delete t._tagUsed[e],!0)},t.getDuration=function(e){var r=t._tags[e];return null!=r&&r.duration?1e3*r.duration:0},vm.HTMLAudioTagPool=e;var s=r.prototype;s.constructor=r,s.get=function(){var e;return null==(e=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(e),e},s.set=function(e){-1==vm.indexOf(this._tags,e)&&(this._tags.src=null,this._tags.push(e))},s.toString=function(){return"[TagPool]"},s._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),function(){function e(e,t,r,s){this.AbstractSoundInstance_constructor(e,t,r,s),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=vm.proxy(this._handleSoundComplete,this),this._readyHandler=vm.proxy(this._handleTagReady,this),this._stalledHandler=vm.proxy(this._playFailed,this),this._audioSpriteEndHandler=vm.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=vm.proxy(this._handleSoundComplete,this),r?this._audioSpriteStopTime=.001*(t+r):this._duration=vm.HTMLAudioTagPool.getDuration(this.src)}var t=vm.extend(e,vm.AbstractSoundInstance);t.setMasterVolume=function(e){this._updateVolume()},t.setMasterMute=function(e){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(kp){}vm.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=vm.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(e){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(vm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(vm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(e){this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||vm.Sound._masterMute?0:this._volume*vm.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(e){null!=this._playbackResource&&(this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(e){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=vm.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},vm.HTMLAudioSoundInstance=vm.promote(e,"AbstractSoundInstance")}(),function(){function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=r._capabilities,this._loaderClass=vm.SoundLoader,this._soundInstanceClass=vm.HTMLAudioSoundInstance}var t=vm.extend(e,vm.AbstractPlugin),r=e;r.MAX_INSTANCES=30,r._AUDIO_READY="canplaythrough",r._AUDIO_ENDED="ended",r._AUDIO_SEEKED="seeked",r._AUDIO_STALLED="stalled",r._TIME_UPDATE="timeupdate",r._capabilities=null,r.isSupported=function(){return r._generateCapabilities(),null!=r._capabilities},r._generateCapabilities=function(){if(null==r._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;r._capabilities={panning:!1,volume:!0,tracks:-1};for(var t=vm.Sound.SUPPORTED_EXTENSIONS,s=vm.Sound.EXTENSION_MAP,o=0,i=t.length;o<i;o++){var a=t[o],n=s[a]||a;r._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+n)&&""!=e.canPlayType("audio/"+n)}}},t.register=function(e){var t=vm.HTMLAudioTagPool.get(e.src),r=this.AbstractPlugin_register(e);return r.setTag(t),r},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),vm.HTMLAudioTagPool.remove(e)},t.create=function(e,t,r){var s=this.AbstractPlugin_create(e,t,r);return s.setPlaybackResource(null),s},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,vm.HTMLAudioPlugin=vm.promote(e,"AbstractPlugin")}(),function(){function e(t,r,s){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=s||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange&&this.addEventListener("change",r.onChange),r.override&&e.removeTweens(t)),r&&r.paused?this._paused=!0:vm.Tween._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,e.NONE)}var t=vm.extend(e,vm.EventDispatcher);e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,r,s,o){return o&&e.removeTweens(t),new e(t,r,s)},e.tick=function(t,r){for(var s=e._tweens.slice(),o=s.length-1;o>=0;o--){var i=s[o];r&&!i.ignoreGlobalPause||i._paused||i.tick(i._useTicks?1:t)}},e.handleEvent=function(e){"tick"==e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var r=e._tweens,s=r.length-1;s>=0;s--){var o=r[s];o._target==t&&(o._paused=!0,r.splice(s,1))}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,r=0,s=t.length;r<s;r++){var o=t[r];o._paused=!0,o.target&&(o.target.tweenjs_count=0)}t.length=0},e.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:e._tweens&&!!e._tweens.length},e.installPlugin=function(t,r){var s=t.priority;null==s&&(t.priority=s=0);for(var o=0,i=r.length,a=e._plugins;o<i;o++){var n=r[o];if(a[n]){for(var l=a[n],c=0,m=l.length;c<m&&!(s<l[c].priority);c++);a[n].splice(c,0,t)}else a[n]=[t]}},e._register=function(t,r){var s=t._target,o=e._tweens;if(r&&!t._registered)s&&(s.tweenjs_count=s.tweenjs_count?s.tweenjs_count+1:1),o.push(t),!e._inited&&vm.Ticker&&(vm.Ticker.addEventListener("tick",e),e._inited=!0);else if(!r&&t._registered){s&&s.tweenjs_count--;for(var i=o.length;i--;)if(o[i]==t){o.splice(i,1);break}}t._registered=r},t.wait=function(e,t){if(null==e||e<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:r,e:this._linearEase,p1:r,v:t})},t.to=function(e,t,r){return(isNaN(t)||t<0)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,r){return this._addAction({f:e,p:t||[this],o:r||this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t||this._target]})},t.play=function(e){return e||(e=this),this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){e<0&&(e=0),null==t&&(t=1);var r=e,s=!1;if(r>=this.duration&&(this.loop?r%=this.duration:(r=this.duration,s=!0)),r==this._prevPos)return s;var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=e,this._target)if(s)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var i=0,a=this._steps.length;i<a&&!(this._steps[i].t>r);i++);var n=this._steps[i-1];this._updateTargetProps(n,(this._stepPosition=r-n.t)/n.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(r,r):1==t&&r<o?(o!=this.duration&&this._runActions(o,this.duration),this._runActions(0,r,!0)):this._runActions(o,r)),s&&this.setPaused(!0),this.dispatchEvent("change"),s},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused===!!t||(this._paused=!!t,e._register(this,!t)),this},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,r){var s,o,i,a,n,l;if(t||1!=r){if(this.passive=!!t.v,this.passive)return;t.e&&(r=t.e(r,0,1,1)),s=t.p0,o=t.p1}else this.passive=!1,s=o=this._curQueueProps;for(var c in this._initQueueProps){null==(a=s[c])&&(s[c]=a=this._initQueueProps[c]),null==(n=o[c])&&(o[c]=n=a),i=a==n||0==r||1==r||"number"!=typeof a?1==r?n:a:a+(n-a)*r;var m=!1;if(l=e._plugins[c])for(var d=0,u=l.length;d<u;d++){var h=l[d].tween(this,c,i,s,o,r,!!t&&s==o,!t);h==e.IGNORE?m=!0:i=h}m||(this._target[c]=i)}},t._runActions=function(e,t,r){var s=e,o=t,i=-1,a=this._actions.length,n=1;for(e>t&&(s=t,o=e,i=a,a=n=-1);(i+=n)!=a;){var l=this._actions[i],c=l.t;(c==o||c>s&&c<o||r&&c==e)&&l.f.apply(l.o,l.p)}},t._appendQueueProps=function(t){var r,s,o,i,a;for(var n in t)if(void 0===this._initQueueProps[n]){if(s=this._target[n],r=e._plugins[n])for(o=0,i=r.length;o<i;o++)s=r[o].init(this,n,s);this._initQueueProps[n]=this._curQueueProps[n]=void 0===s?null:s}else s=this._curQueueProps[n];for(var n in t){if(s=this._curQueueProps[n],r=e._plugins[n])for(a=a||{},o=0,i=r.length;o<i;o++)r[o].step&&r[o].step(this,n,s,t[n],a);this._curQueueProps[n]=t[n]}return a&&this._appendQueueProps(a),this._curQueueProps},t._cloneProps=function(e){var t={};for(var r in e)t[r]=e[r];return t},t._addStep=function(e){return e.d>0&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var r in e)t[r]=e[r]},vm.Tween=vm.promote(e,"EventDispatcher")}(),function(){function e(e,t,r){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,r&&(this._useTicks=r.useTicks,this.loop=r.loop,this.ignoreGlobalPause=r.ignoreGlobalPause,r.onChange&&this.addEventListener("change",r.onChange)),e&&this.addTween.apply(this,e),this.setLabels(t),r&&r.paused?this._paused=!0:vm.Tween._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,vm.Tween.NONE)}var t=vm.extend(e,vm.EventDispatcher);t.addTween=function(e){var t=arguments.length;if(t>1){for(var r=0;r<t;r++)this.addTween(arguments[r]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),this._prevPos>=0&&e.setPosition(this._prevPos,vm.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var r=!0,s=0;s<t;s++)r=r&&this.removeTween(arguments[s]);return r}if(0==t)return!1;var o=this._tweens;for(s=o.length;s--;)if(o[s]==e)return o.splice(s,1),e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.addLabel=function(e,t){this._labels[e]=t;var r=this._labelList;if(r){for(var s=0,o=r.length;s<o&&!(t<r[s].position);s++);r.splice(s,0,{label:e,position:t})}},t.setLabels=function(e){this._labels=e||{}},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var r in t)e.push({label:r,position:t[r]});e.sort(function(e,t){return e.position-t.position})}return e},t.getCurrentLabel=function(){var e=this.getLabels(),t=this.position,r=e.length;if(r){for(var s=0;s<r&&!(t<e[s].position);s++);return 0==s?null:e[s-1].label}return null},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){var r=this._calcPosition(e),s=!this.loop&&e>=this.duration;if(r==this._prevPos)return s;this._prevPosition=e,this.position=this._prevPos=r;for(var o=0,i=this._tweens.length;o<i;o++)if(this._tweens[o].setPosition(r,t),r!=this._prevPos)return!1;return s&&this.setPaused(!0),this.dispatchEvent("change"),s},t.setPaused=function(e){this._paused=!!e,vm.Tween._register(this,!e)},t.updateDuration=function(){this.duration=0;for(var e=0,t=this._tweens.length;e<t;e++){var r=this._tweens[e];r.duration>this.duration&&(this.duration=r.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t)},t._calcPosition=function(e){return e<0?0:e<this.duration?e:this.loop?e%this.duration:this.duration},vm.Timeline=vm.promote(e,"EventDispatcher")}(),function(){function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return e<-1&&(e=-1),e>1&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var r=2*Math.PI;return function(s){if(0==s||1==s)return s;var o=t/r*Math.asin(1/e);return-e*Math.pow(2,10*(s-=1))*Math.sin((s-o)*r/t)}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var r=2*Math.PI;return function(s){if(0==s||1==s)return s;var o=t/r*Math.asin(1/e);return e*Math.pow(2,-10*s)*Math.sin((s-o)*r/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var r=2*Math.PI;return function(s){var o=t/r*Math.asin(1/e);return(s*=2)<1?e*Math.pow(2,10*(s-=1))*Math.sin((s-o)*r/t)*-.5:e*Math.pow(2,-10*(s-=1))*Math.sin((s-o)*r/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),vm.Ease=e}(),function(){function e(){throw"MotionGuidePlugin cannot be instantiated."}e.priority=0,e._rotOffS,e._rotOffE,e._rotNormS,e._rotNormE,e.install=function(){return vm.Tween.installPlugin(e,["guide","x","y","rotation"]),vm.Tween.IGNORE},e.init=function(e,t,r){var s=e.target;return s.hasOwnProperty("x")||(s.x=0),s.hasOwnProperty("y")||(s.y=0),s.hasOwnProperty("rotation")||(s.rotation=0),"rotation"==t&&(e.__needsRot=!0),"guide"==t?null:r},e.step=function(t,r,s,o,i){if("rotation"==r&&(t.__rotGlobalS=s,t.__rotGlobalE=o,e.testRotData(t,i)),"guide"!=r)return o;var a,n=o;n.hasOwnProperty("path")||(n.path=[]);var l=n.path;if(n.hasOwnProperty("end")||(n.end=1),n.hasOwnProperty("start")||(n.start=s&&s.hasOwnProperty("end")&&s.path===l?s.end:0),n.hasOwnProperty("_segments")&&n._length)return o;var c=l.length;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";n._segments=[],n._length=0;for(var m=2;m<c;m+=4){for(var d,u,h=l[m-2],p=l[m-1],f=l[m+0],v=l[m+1],g=l[m+2],b=l[m+3],x=h,N=p,w=0,y=[],_=1;_<=10;_++){var E=_/10,D=1-E;d=D*D*h+2*D*E*f+E*E*g,u=D*D*p+2*D*E*v+E*E*b,w+=y[y.push(Math.sqrt((a=d-x)*a+(a=u-N)*a))-1],x=d,N=u}n._segments.push(w),n._segments.push(y),n._length+=w}a=n.orient,n.orient=!0;var S={};return e.calc(n,n.start,S),t.__rotPathS=Number(S.rotation.toFixed(5)),e.calc(n,n.end,S),t.__rotPathE=Number(S.rotation.toFixed(5)),n.orient=!1,e.calc(n,n.end,i),n.orient=a,n.orient?(t.__guideData=n,e.testRotData(t,i),o):o},e.testRotData=function(e,t){if(void 0===e.__rotGlobalS||void 0===e.__rotGlobalE){if(e.__needsRot)return;void 0!==e._curQueueProps.rotation?e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation:e.__rotGlobalS=e.__rotGlobalE=t.rotation=e.target.rotation||0}if(void 0!==e.__guideData){var r=e.__guideData,s=e.__rotGlobalE-e.__rotGlobalS,o=e.__rotPathE-e.__rotPathS,i=s-o;if("auto"==r.orient)i>180?i-=360:i<-180&&(i+=360);else if("cw"==r.orient){for(;i<0;)i+=360;0==i&&s>0&&180!=s&&(i+=360)}else if("ccw"==r.orient){for(i=s-(o>180?360-o:o);i>0;)i-=360;0==i&&s<0&&-180!=s&&(i-=360)}r.rotDelta=i,r.rotOffS=e.__rotGlobalS-e.__rotPathS,e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=void 0}},e.tween=function(t,r,s,o,i,a,n,l){var c=i.guide;if(null==c||c===o.guide)return s;if(c.lastRatio!=a){var m=(c.end-c.start)*(n?c.end:a)+c.start;switch(e.calc(c,m,t.target),c.orient){case"cw":case"ccw":case"auto":t.target.rotation+=c.rotOffS+c.rotDelta*a;break;default:t.target.rotation+=c.rotOffS}c.lastRatio=a}return"rotation"!=r||c.orient&&"false"!=c.orient?t.target[r]:s},e.calc=function(e,t,r){if(null==e._segments)throw"Missing critical pre-calculated information, please file a bug";null==r&&(r={x:0,y:0,rotation:0});for(var s=e._segments,o=e.path,i=e._length*t,a=s.length-2,n=0;i>s[n]&&n<a;)i-=s[n],n+=2;var l=s[n+1],c=0;for(a=l.length-1;i>l[c]&&c<a;)i-=l[c],c++;var m=c/++a+i/(a*l[c]);n=2*n+2;var d=1-m;return r.x=d*d*o[n-2]+2*d*m*o[n+0]+m*m*o[n+2],r.y=d*d*o[n-1]+2*d*m*o[n+1]+m*m*o[n+3],e.orient&&(r.rotation=57.2957795*Math.atan2((o[n+1]-o[n-1])*d+(o[n+3]-o[n+1])*m,(o[n+0]-o[n-2])*d+(o[n+2]-o[n+0])*m)),r},vm.MotionGuidePlugin=e}(),function(){var e=vm.TweenJS=vm.TweenJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),dm.exports=c.createjs;var bm=gm.exports;const xm=class{static fade(e){return e*e*e*(e*(6*e-15)+10)}static lerp(e,t,r){return(1-r)*e+r*t}static noise(e,t){const r=255&Math.floor(e),s=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);const o=this.fade(e),i=this.fade(t),a=this.perm[r]+s,n=this.perm[a],l=this.perm[a+1],c=this.perm[r+1]+s,m=this.perm[c],d=this.perm[c+1];return this.lerp(this.lerp(this.grad(this.perm[n],e,t),this.grad(this.perm[m],e-1,t),o),this.lerp(this.grad(this.perm[l],e,t-1),this.grad(this.perm[d],e-1,t-1),o),i)}static grad(e,t,r){const s=15&e,o=s<8?t:r,i=s<4?r:12===s||14===s?t:0;return(1&s?-o:o)+(2&s?-i:i)}};t(xm,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),t(xm,"p",[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),t(xm,"perm",[]),t(xm,"gradP",[]),(()=>{for(let e=0;e<512;e++)xm.perm[e]=xm.p[255&e],xm.gradP[e]=xm.grad3[xm.perm[e]%12]})();let Nm=xm;const wm=class e{constructor(){t(this,"x",0),t(this,"y",0),t(this,"vx",0),t(this,"vy",0),t(this,"life",0),t(this,"maxLife",0),t(this,"alpha",1),t(this,"scale",1),t(this,"isDead",!1),t(this,"icon",""),t(this,"color","#6366f1"),t(this,"size",16),this.resetParameters()}resetParameters(){this.life=0,this.maxLife=Math.random()*Math.random()*800+80,this.alpha=1,this.scale=.5+.5*Math.random(),this.isDead=!1,this.icon=e.icons[Math.floor(Math.random()*e.icons.length)];const t=360*Math.random(),r=50+30*Math.random();this.color=`hsl(${t}, 100%, ${r}%)`,this.size=12+8*Math.random()}update(){this.life++,this.vy-=.015,this.vx*=.99,this.vy*=.99,this.x+=this.vx,this.y+=this.vy;const e=this.life/this.maxLife;this.alpha=.3*Math.random()+.7*(1-e),this.scale=1-.5*e,this.life>=this.maxLife&&(this.isDead=!0)}getIsDead(){return this.isDead}};t(wm,"icons",["","","",""]);let ym=wm;class _m{constructor(e,r=100,s=!1){t(this,"stage"),t(this,"canvas"),t(this,"particles",[]),t(this,"particlePool",[]),t(this,"waveContainer"),t(this,"particleContainer"),t(this,"time",0),t(this,"animationId",null),t(this,"isRunning",!1),t(this,"maxParticles"),t(this,"reducedMotion"),t(this,"lastFrameTime",0),t(this,"frameCount",0),t(this,"targetFPS",60),t(this,"animate",(e=0)=>{if(!this.isRunning)return;e-this.lastFrameTime>=1e3/this.targetFPS&&(this.time+=2,this.frameCount++,this.createWaves(),this.emitParticles(),this.updateParticles(),this.stage.update(),this.lastFrameTime=e),this.animationId=requestAnimationFrame(this.animate)}),this.canvas=e,this.maxParticles=r,this.reducedMotion=s,this.stage=new bm.Stage(e),this.waveContainer=new bm.Container,this.particleContainer=new bm.Container,this.stage.addChild(this.waveContainer),this.stage.addChild(this.particleContainer),bm.Ticker.framerate=this.targetFPS,bm.Ticker.timingMode=bm.Ticker.RAF,this.initParticlePool(),this.resize()}initParticlePool(){const e=this.reducedMotion?Math.min(this.maxParticles,50):2*this.maxParticles;for(let t=0;t<e;t++)this.particlePool.push(new ym)}getParticleFromPool(){return this.particlePool.pop()||null}returnParticleToPool(e){e.resetParameters(),this.particlePool.push(e)}createWaves(){this.waveContainer.removeAllChildren();const e=this.canvas.width,t=this.canvas.height,r=e<768?4:6,s=this.time/4e3;for(let o=0;o<r;o++){const r=new bm.Shape,i=r.graphics;i.clear();const a=["rgba(99, 102, 241, 0.8)","rgba(59, 130, 246, 0.7)","rgba(14, 165, 233, 0.6)","rgba(6, 182, 212, 0.5)","rgba(255, 255, 255, 0.4)","rgba(167, 243, 208, 0.3)"],n=a[o%a.length];i.beginStroke(n);const l=(0===o?3:2.5-.3*o)+.5*Math.sin(2*s);i.setStrokeStyle(Math.max(l,.8));const c=[],m=t/2;c.push({x:-200,y:m});const d=15,u=.15+.05*o,h=o*Math.PI/3;for(let p=0;p<=d;p++){const r=(.8*Nm.noise(p*u,s+.15*o)+.4*Math.sin(.3*p+3*s+h))*((.8+.2*o)*t*.2)+m;c.push({x:e*(p/d)|0,y:r})}c.push({x:e+200,y:m});for(let e=0;e<c.length;e++)if(e>=2){const t=c[e],r=c[e-1],s=c[e-2],o=(s.x+r.x)/2,a=(s.y+r.y)/2,n=(t.x+r.x)/2,l=(t.y+r.y)/2;i.moveTo(o,a),i.curveTo(r.x,r.y,n,l)}r.alpha=.7+.3*Math.sin(2*s+o),r.compositeOperation="screen",this.waveContainer.addChild(r)}}emitParticles(){const e=this.reducedMotion?.125:.375,t=this.reducedMotion?Math.min(this.maxParticles,30):this.maxParticles;if(this.particles.length<t&&Math.random()<e){const e=this.getParticleFromPool();e&&(e.x=Math.random()*this.canvas.width,e.y=this.canvas.height/5*(Math.random()-.5)+6*this.canvas.height/10,e.vx=1.25*(Math.random()-.5),e.vy=1.25*(Math.random()-.5),this.particles.push(e))}}updateParticles(){this.particleContainer.removeAllChildren();for(let e=this.particles.length-1;e>=0;e--){const t=this.particles[e];if(t.update(),t.getIsDead())this.returnParticleToPool(t),this.particles.splice(e,1);else{const e=new bm.Text(t.icon,`${t.size}px Arial`,t.color);e.textAlign="center",e.textBaseline="middle",e.x=t.x,e.y=t.y,e.alpha=t.alpha,e.scaleX=e.scaleY=t.scale,e.compositeOperation="lighter",this.particleContainer.addChild(e)}}}start(){this.isRunning||(this.isRunning=!0,this.animate())}stop(){this.isRunning=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}resize(){const e=this.canvas.getBoundingClientRect();this.canvas.width=e.width,this.canvas.height=e.height,this.stage.update()}destroy(){this.stop(),this.stage.removeAllChildren(),this.particles=[],this.particlePool=[]}}const Em=({className:e="",reducedMotion:t,maxParticles:s=100})=>{const o=r.useRef(null),i=r.useRef(null),a=r.useRef(null);return r.useEffect(()=>{if(!o.current)return;const e=t??!1,r=window.innerWidth<768?Math.min(s,50):s;let n;i.current=new _m(o.current,r,e),i.current.start();const l=()=>{clearTimeout(n),n=setTimeout(()=>{i.current&&i.current.resize()},150)},c=()=>{i.current&&(document.hidden?i.current.stop():i.current.start())};let m=null;return a.current&&(m=new IntersectionObserver(e=>{e.forEach(e=>{i.current&&(e.isIntersecting?i.current.start():i.current.stop())})},{threshold:.1}),m.observe(a.current)),window.addEventListener("resize",l),document.addEventListener("visibilitychange",c),()=>{clearTimeout(n),window.removeEventListener("resize",l),document.removeEventListener("visibilitychange",c),m&&m.disconnect(),i.current&&i.current.destroy()}},[t,s]),at.jsxDEV("div",{ref:a,className:`absolute inset-0 w-full h-full pointer-events-none ${e}`,children:at.jsxDEV("canvas",{ref:o,className:"absolute inset-0 w-full h-full pointer-events-none",style:{background:"transparent",zIndex:0,willChange:"transform"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ParticlesAndWaves.tsx",lineNumber:499,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ParticlesAndWaves.tsx",lineNumber:495,columnNumber:5},void 0)},Dm=()=>{const e=qs(),{startNewCreationFlow:t}=mm(),[s,o]=r.useState("");return at.jsxDEV("section",{className:"relative h-screen flex items-center justify-center",children:[at.jsxDEV(Em,{className:"opacity-50"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:26,columnNumber:7},void 0),at.jsxDEV("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[at.jsxDEV("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/8 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:30,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-[#FEC641]/15 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:31,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-[#7B3FE4]/10 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:32,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:29,columnNumber:7},void 0),at.jsxDEV("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-center",children:at.jsxDEV("div",{className:"flex flex-col items-center justify-center text-center w-full",children:[at.jsxDEV("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-heading font-bold text-white leading-tight mb-8",children:["A msica que transforma"," ",at.jsxDEV("span",{className:"text-[#FEC641]",children:"sentimentos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:40,columnNumber:13},void 0)," ","em presente"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:38,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-xl sm:text-2xl text-white/90 leading-relaxed mb-12 max-w-3xl",children:[at.jsxDEV("span",{className:"block sm:inline",children:"Em at 5 minutos, a Memora cria duas verses profissionais"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:46,columnNumber:13},void 0),at.jsxDEV("span",{className:"block sm:inline",children:" e nicas da sua cano para voc escolher e emocionar quem ama."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:47,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:45,columnNumber:11},void 0),at.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-4 justify-center items-center mb-6 w-full max-w-2xl",children:[at.jsxDEV("div",{className:"flex flex-col w-full lg:w-auto",children:[at.jsxDEV("label",{htmlFor:"recipient-name",className:"text-white/90 text-sm font-medium mb-2 text-left",children:"Vamos comear?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:53,columnNumber:15},void 0),at.jsxDEV("input",{id:"recipient-name",type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Digite o nome aqui",className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl px-6 h-[54px] text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#FEC641] focus:border-transparent transition-all duration-300 text-lg w-full lg:w-[212px]","aria-describedby":"recipient-name-description"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:56,columnNumber:15},void 0),at.jsxDEV("span",{id:"recipient-name-description",className:"sr-only",children:"Digite o nome da pessoa para quem voc quer criar a msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:65,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:52,columnNumber:13},void 0),at.jsxDEV(qo,{size:"lg",className:"bg-[#FEC641] hover:bg-[#FEC641]/90 text-[#101010] px-10 h-[54px] rounded-2xl font-semibold text-lg shadow-2xl hover:shadow-[#FEC641]/25 hover:-translate-y-1 transition-all duration-300 border-0 w-full lg:w-auto mt-4 lg:mt-8","data-attr":"hero-cta-primary",onClick:async()=>{const{token:r}=Zl.getState(),o=s.trim()?`?para=${encodeURIComponent(s.trim())}`:"";e(`/criar${o}`),await t(e,r)},children:[at.jsxDEV(xe,{className:"mr-3 h-6 w-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:76,columnNumber:15},void 0),"Crie sua msica"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:70,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:51,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:24,columnNumber:5},void 0)};function Sm({children:e,className:t}){return at.jsxDEV("p",{className:Jr("text-lg sm:text-xl lg:text-[22px] text-white/80 max-w-3xl mx-auto leading-relaxed",t),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/SectionSubtitle.tsx",lineNumber:10,columnNumber:5},this)}const jm=({children:e,className:t})=>at.jsxDEV("h2",{className:Jr("text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-white mb-4",t),children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/SectionTitle.tsx",lineNumber:11,columnNumber:5},void 0),Tm=()=>{const[e,t]=r.useState(0),[s,o]=r.useState(!0),i=[{number:"1",icon:Ne,title:"Conte sua histria",description:"Escreva a ocasio e sentimentos que voc quer transformar em msica.",details:"Nossa IA analisa suas palavras para capturar a essncia emocional da sua histria.",color:"memora-primary"},{number:"2",icon:xe,title:"A IA cria sua msica",description:"Letra e melodia nicas, em menos de 5 minutos.",details:"Algoritmos avanados compem uma cano personalizada baseada na sua narrativa.",color:"memora-secondary"},{number:"3",icon:we,title:"Oua e compartilhe",description:"Receba uma prvia e baixe em MP3.",details:"Sua msica est pronta para emocionar e ser compartilhada com quem voc ama.",color:"memora-coral"}];r.useEffect(()=>{if(!s)return;const e=setInterval(()=>{t(e=>(e+1)%i.length)},4e3);return()=>clearInterval(e)},[s,i.length]);return at.jsxDEV("section",{id:"como-funciona",className:"py-20",children:at.jsxDEV("div",{className:"container mx-auto px-4",children:[at.jsxDEV("div",{className:"text-center mb-16",children:[at.jsxDEV(jm,{children:"Como funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:60,columnNumber:11},void 0),at.jsxDEV(Sm,{children:"Transforme suas memrias em msica em apenas 3 passos simples"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:59,columnNumber:9},void 0),at.jsxDEV("div",{className:"relative",children:[at.jsxDEV("div",{className:"flex justify-center mb-12",children:at.jsxDEV("div",{className:"relative flex items-center space-x-8 md:space-x-16",children:[at.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gradient-to-r from-memora-primary/20 via-memora-secondary/20 to-memora-coral/20 rounded-full transform -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:70,columnNumber:15},void 0),at.jsxDEV("div",{className:"absolute top-1/2 left-0 h-1 bg-gradient-to-r from-memora-primary via-memora-secondary to-memora-coral rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:(e+1)/i.length*100+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:73,columnNumber:15},void 0),i.map((r,s)=>{const i=r.icon,a=s===e,n=s<e;return at.jsxDEV("button",{onClick:()=>(e=>{t(e),o(!1),setTimeout(()=>o(!0),8e3)})(s),className:"relative z-10 w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-memora-primary/30 "+(a?"bg-gradient-to-br from-memora-primary to-memora-secondary shadow-2xl scale-110":n?"bg-memora-primary/80 shadow-lg":"bg-white/10 backdrop-blur-sm border-2 border-white/20 hover:border-memora-primary/50"),children:[at.jsxDEV(i,{className:"w-7 h-7 transition-colors duration-300 "+(a||n?"text-white":"text-memora-primary")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:96,columnNumber:21},void 0),at.jsxDEV("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 "+(a?"bg-white text-memora-primary shadow-lg":n?"bg-memora-primary text-white":"bg-white/20 text-white/60"),children:r.number},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:101,columnNumber:21},void 0)]},r.number,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:85,columnNumber:19},void 0)})]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:68,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:67,columnNumber:11},void 0),at.jsxDEV("div",{className:"max-w-4xl mx-auto",children:at.jsxDEV("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-sm rounded-3xl p-8 md:p-12 border border-white/10 shadow-2xl",children:at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("h3",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-4",children:i[e].title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:122,columnNumber:17},void 0),at.jsxDEV("p",{className:"text-xl text-muted-foreground mb-6 leading-relaxed",children:i[e].description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:126,columnNumber:17},void 0),at.jsxDEV("p",{className:"text-lg text-muted-foreground/80 max-w-2xl mx-auto leading-relaxed",children:i[e].details},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:119,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:118,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:65,columnNumber:9},void 0),at.jsxDEV("div",{className:"text-center mt-16",children:at.jsxDEV("div",{className:"inline-flex items-center space-x-2 surface-1 px-6 py-3 rounded-full shadow-lg",children:[at.jsxDEV(xe,{className:"w-5 h-5 text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:141,columnNumber:13},void 0),at.jsxDEV("span",{className:"text-muted-foreground font-medium",children:"Processo 100% automatizado com IA avanada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:140,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:139,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:57,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:56,columnNumber:5},void 0)},Pm=()=>{const{isFree:e,isLoading:t,error:s}=(()=>{const[e,t]=r.useState(!0),[s,o]=r.useState(0),[i,a]=r.useState(!0),[n,l]=r.useState(null),{token:c,deviceId:m}=Zl(),d=async()=>{try{a(!0),l(null);const e=await di(`${oi.PAYWALL}/creation-status`);t(e.isFree),o(e.freeSongsUsed||0)}catch(e){l(e instanceof Error?e.message:"Erro desconhecido"),t(!1)}finally{a(!1)}};return r.useEffect(()=>{d()},[]),{isFree:e,freeSongsUsed:s,isLoading:i,error:n,refetch:d}})(),o=[{icon:ye,text:"Msica personalizada de at 3 minutos"},{icon:xe,text:"Estilos variados: Nacionais e Internacionais"},{icon:_e,text:"Voz sinttica avanada com qualidade profissional"},{icon:Ee,text:"Entrega rpida em MP3"}];return at.jsxDEV("section",{className:"py-20",children:at.jsxDEV("div",{className:"container mx-auto px-4",children:[at.jsxDEV("div",{className:"text-center mb-16",children:[at.jsxDEV(jm,{children:"Um presente que toca o corao"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:32,columnNumber:11},void 0),at.jsxDEV(Sm,{children:"Crie memrias musicais nicas que ficaro para sempre"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:35,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:31,columnNumber:9},void 0),at.jsxDEV("div",{className:"max-w-2xl mx-auto pt-6",children:at.jsxDEV("div",{className:"relative surface-1 rounded-2xl shadow-2xl",children:[at.jsxDEV("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[60]",children:at.jsxDEV("div",{className:"bg-memora-secondary px-6 py-2 rounded-full shadow-lg border-2 border-white/20",children:at.jsxDEV("span",{className:"text-white font-heading font-bold text-sm",children:" Primeira msica  grtis!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:44,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:43,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:42,columnNumber:13},void 0),at.jsxDEV("div",{className:"pt-12 pb-8 px-8 sm:px-12",children:[at.jsxDEV("div",{className:"text-center mb-8",children:[at.jsxDEV("h3",{className:"text-2xl sm:text-3xl font-heading font-bold text-foreground mb-2",children:"AI Premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:53,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[t?at.jsxDEV("div",{className:"text-4xl sm:text-5xl font-heading font-bold text-muted-foreground animate-pulse",children:"R$ --"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:58,columnNumber:21},void 0):at.jsxDEV("span",{className:"text-4xl sm:text-5xl font-heading font-bold text-primary",children:e?"R$ 0":"R$ 149"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:62,columnNumber:21},void 0),at.jsxDEV("div",{className:"text-left",children:[!t&&e&&at.jsxDEV("div",{className:"text-muted-foreground line-through text-lg",children:"R$ 149"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:68,columnNumber:23},void 0),at.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"por msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:72,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:66,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:56,columnNumber:17},void 0),s&&at.jsxDEV("div",{className:"text-xs text-orange-600 mt-2",children:"Erro ao carregar preo. Usando valor padro."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:78,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:52,columnNumber:15},void 0),at.jsxDEV("div",{className:"space-y-4 mb-8",children:o.map((e,t)=>{const r=e.icon;return at.jsxDEV("div",{className:"flex items-start space-x-3",children:[at.jsxDEV("div",{className:"flex-shrink-0 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center mt-0.5",children:at.jsxDEV(r,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:92,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:91,columnNumber:23},void 0),at.jsxDEV("span",{className:"text-foreground font-medium",children:e.text},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:94,columnNumber:23},void 0)]},t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:90,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:85,columnNumber:15},void 0),at.jsxDEV("div",{className:"text-center mb-6",children:at.jsxDEV("button",{className:"w-full bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300","data-attr":"plan-cta-button",children:at.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[at.jsxDEV(xe,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:109,columnNumber:21},void 0),at.jsxDEV("span",{children:"Crie sua msica agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:110,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:108,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:104,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:103,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex items-center justify-center space-x-2 text-muted-foreground text-sm",children:[at.jsxDEV(De,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:117,columnNumber:17},void 0),at.jsxDEV("span",{children:"Oferta limitada ao perodo de lanamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:118,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:116,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:40,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:39,columnNumber:9},void 0),at.jsxDEV("div",{className:"mt-16 grid sm:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:at.jsxDEV(De,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:130,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:129,columnNumber:13},void 0),at.jsxDEV("h4",{className:"font-heading font-bold text-foreground mb-1",children:"Entrega Rpida"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:132,columnNumber:13},void 0),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Sua msica fica pronta em menos de 5 minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:135,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:128,columnNumber:11},void 0),at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:at.jsxDEV(Se,{className:"w-6 h-6 text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:141,columnNumber:13},void 0),at.jsxDEV("h4",{className:"font-heading font-bold text-foreground mb-1",children:"100% nica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:144,columnNumber:13},void 0),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Cada msica  criada exclusivamente para voc"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:147,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:140,columnNumber:11},void 0),at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("div",{className:"w-12 h-12 bg-accent-coral/10 rounded-full flex items-center justify-center mx-auto mb-3",children:at.jsxDEV(Ee,{className:"w-6 h-6 text-accent-coral"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:154,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:153,columnNumber:13},void 0),at.jsxDEV("h4",{className:"font-heading font-bold text-foreground mb-1",children:"Formato MP3"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:156,columnNumber:13},void 0),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Compatvel com todos os dispositivos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:159,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:152,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:127,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:28,columnNumber:5},void 0)};function Cm(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function km(e,t){void 0===e&&(e={}),void 0===t&&(t={});const r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>r.indexOf(e)<0).forEach(r=>{void 0===e[r]?e[r]=t[r]:Cm(t[r])&&Cm(e[r])&&Object.keys(t[r]).length>0&&km(e[r],t[r])})}const Um={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Vm(){const e="undefined"!=typeof document?document:{};return km(e,Um),e}const Am={document:Um,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Mm(){const e="undefined"!=typeof window?window:{};return km(e,Am),e}function Im(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Lm(){return Date.now()}function Om(e,t){void 0===t&&(t="x");const r=Mm();let s,o,i;const a=function(e){const t=Mm();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(o=a.transform||a.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(e=>e.replace(",",".")).join(", ")),i=new r.WebKitCSSMatrix("none"===o?"":o)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=i.toString().split(",")),"x"===t&&(o=r.WebKitCSSMatrix?i.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===t&&(o=r.WebKitCSSMatrix?i.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),o||0}function Rm(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Fm(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function $m(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const s=r<0||arguments.length<=r?void 0:arguments[r];if(null!=s&&!Fm(s)){const r=Object.keys(Object(s)).filter(e=>t.indexOf(e)<0);for(let t=0,o=r.length;t<o;t+=1){const o=r[t],i=Object.getOwnPropertyDescriptor(s,o);void 0!==i&&i.enumerable&&(Rm(e[o])&&Rm(s[o])?s[o].__swiper__?e[o]=s[o]:$m(e[o],s[o]):!Rm(e[o])&&Rm(s[o])?(e[o]={},s[o].__swiper__?e[o]=s[o]:$m(e[o],s[o])):e[o]=s[o])}}}return e}function Bm(e,t,r){e.style.setProperty(t,r)}function zm(e){let{swiper:t,targetPosition:r,side:s}=e;const o=Mm(),i=-t.translate;let a,n=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const c=r>i?"next":"prev",m=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,d=()=>{a=(new Date).getTime(),null===n&&(n=a);const e=Math.max(Math.min((a-n)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let u=i+c*(r-i);if(m(u,r)&&(u=r),t.wrapperEl.scrollTo({[s]:u}),m(u,r))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:u})}),void o.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=o.requestAnimationFrame(d)};d()}function Gm(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function Hm(e,t){void 0===t&&(t="");const r=Mm(),s=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&s.push(...e.assignedElements()),t?s.filter(e=>e.matches(t)):s}function qm(e){try{return}catch(t){}}function Wm(e,t){void 0===t&&(t=[]);const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter(e=>!!e.trim())}(t)),r}function Xm(e,t){return Mm().getComputedStyle(e,null).getPropertyValue(t)}function Ym(e){let t,r=e;if(r){for(t=0;null!==(r=r.previousSibling);)1===r.nodeType&&(t+=1);return t}}function Jm(e,t){const r=[];let s=e.parentElement;for(;s;)t?s.matches(t)&&r.push(s):r.push(s),s=s.parentElement;return r}function Km(e,t,r){const s=Mm();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function Qm(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function Zm(e,t){void 0===t&&(t=""),"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let ed,td,rd;function sd(){return ed||(ed=function(){const e=Mm(),t=Vm();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),ed}function od(e){return void 0===e&&(e={}),td||(td=function(e){let{userAgent:t}=void 0===e?{}:e;const r=sd(),s=Mm(),o=s.navigator.platform,i=t||s.navigator.userAgent,a={ios:!1,android:!1},n=s.screen.width,l=s.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let m=i.match(/(iPad).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),u=!m&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===o;let p="MacIntel"===o;return!m&&p&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${n}x${l}`)>=0&&(m=i.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),p=!1),c&&!h&&(a.os="android",a.android=!0),(m||u||d)&&(a.os="ios",a.ios=!0),a}(e)),td}function id(){return rd||(rd=function(){const e=Mm(),t=od();let r=!1;function s(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(s()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,s]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));r=e<16||16===e&&s<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=s();return{isSafari:r||i,needPerspectiveFix:r,need3dFix:i||o&&t.ios,isWebView:o}}()),rd}const ad=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};const nd=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};const ld=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(r){let t=r.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(r.shadowRoot?t=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(t=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},cd=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},md=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const s="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),o=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const r=o,i=[r-t];return i.push(...Array.from({length:t}).map((e,t)=>r+s+t)),void e.slides.forEach((t,r)=>{i.includes(t.column)&&cd(e,r)})}const i=o+s-1;if(e.params.rewind||e.params.loop)for(let a=o-t;a<=i+t;a+=1){const t=(a%r+r)%r;(t<o||t>i)&&cd(e,t)}else for(let a=Math.max(o-t,0);a<=Math.min(i+t,r-1);a+=1)a!==o&&(a>i||a<o)&&cd(e,a)};var dd={updateSize:function(){const e=this;let t,r;const s=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:s.clientWidth,r=void 0!==e.params.height&&null!==e.params.height?e.params.height:s.clientHeight,0===t&&e.isHorizontal()||0===r&&e.isVertical()||(t=t-parseInt(Xm(s,"padding-left")||0,10)-parseInt(Xm(s,"padding-right")||0,10),r=r-parseInt(Xm(s,"padding-top")||0,10)-parseInt(Xm(s,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))},updateSlides:function(){const e=this;function t(t,r){return parseFloat(t.getPropertyValue(e.getDirectionLabel(r))||0)}const r=e.params,{wrapperEl:s,slidesEl:o,size:i,rtlTranslate:a,wrongRTL:n}=e,l=e.virtual&&r.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,m=Hm(o,`.${e.params.slideClass}, swiper-slide`),d=l?e.virtual.slides.length:m.length;let u=[];const h=[],p=[];let f=r.slidesOffsetBefore;"function"==typeof f&&(f=r.slidesOffsetBefore.call(e));let v=r.slidesOffsetAfter;"function"==typeof v&&(v=r.slidesOffsetAfter.call(e));const g=e.snapGrid.length,b=e.slidesGrid.length;let x=r.spaceBetween,N=-f,w=0,y=0;if(void 0===i)return;"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*i:"string"==typeof x&&(x=parseFloat(x)),e.virtualSize=-x,m.forEach(e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Bm(s,"--swiper-centered-offset-before",""),Bm(s,"--swiper-centered-offset-after",""));const _=r.grid&&r.grid.rows>1&&e.grid;let E;_?e.grid.initSlides(m):e.grid&&e.grid.unsetSlides();const D="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(e=>void 0!==r.breakpoints[e].slidesPerView).length>0;for(let S=0;S<d;S+=1){let s;if(E=0,m[S]&&(s=m[S]),_&&e.grid.updateSlide(S,s,m),!m[S]||"none"!==Xm(s,"display")){if("auto"===r.slidesPerView){D&&(m[S].style[e.getDirectionLabel("width")]="");const o=getComputedStyle(s),i=s.style.transform,a=s.style.webkitTransform;if(i&&(s.style.transform="none"),a&&(s.style.webkitTransform="none"),r.roundLengths)E=e.isHorizontal()?Km(s,"width"):Km(s,"height");else{const e=t(o,"width"),r=t(o,"padding-left"),i=t(o,"padding-right"),a=t(o,"margin-left"),n=t(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)E=e+a+n;else{const{clientWidth:t,offsetWidth:o}=s;E=e+r+i+a+n+(o-t)}}i&&(s.style.transform=i),a&&(s.style.webkitTransform=a),r.roundLengths&&(E=Math.floor(E))}else E=(i-(r.slidesPerView-1)*x)/r.slidesPerView,r.roundLengths&&(E=Math.floor(E)),m[S]&&(m[S].style[e.getDirectionLabel("width")]=`${E}px`);m[S]&&(m[S].swiperSlideSize=E),p.push(E),r.centeredSlides?(N=N+E/2+w/2+x,0===w&&0!==S&&(N=N-i/2-x),0===S&&(N=N-i/2-x),Math.abs(N)<.001&&(N=0),r.roundLengths&&(N=Math.floor(N)),y%r.slidesPerGroup===0&&u.push(N),h.push(N)):(r.roundLengths&&(N=Math.floor(N)),(y-Math.min(e.params.slidesPerGroupSkip,y))%e.params.slidesPerGroup===0&&u.push(N),h.push(N),N=N+E+x),e.virtualSize+=E+x,w=E,y+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+v,a&&n&&("slide"===r.effect||"coverflow"===r.effect)&&(s.style.width=`${e.virtualSize+x}px`),r.setWrapperSize&&(s.style[e.getDirectionLabel("width")]=`${e.virtualSize+x}px`),_&&e.grid.updateWrapperSize(E,u),!r.centeredSlides){const t=[];for(let s=0;s<u.length;s+=1){let o=u[s];r.roundLengths&&(o=Math.floor(o)),u[s]<=e.virtualSize-i&&t.push(o)}u=t,Math.floor(e.virtualSize-i)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-i)}if(l&&r.loop){const t=p[0]+x;if(r.slidesPerGroup>1){const s=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),o=t*r.slidesPerGroup;for(let e=0;e<s;e+=1)u.push(u[u.length-1]+o)}for(let s=0;s<e.virtual.slidesBefore+e.virtual.slidesAfter;s+=1)1===r.slidesPerGroup&&u.push(u[u.length-1]+t),h.push(h[h.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==x){const t=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");m.filter((e,t)=>!(r.cssMode&&!r.loop)||t!==m.length-1).forEach(e=>{e.style[t]=`${x}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;p.forEach(t=>{e+=t+(x||0)}),e-=x;const t=e>i?e-i:0;u=u.map(e=>e<=0?-f:e>t?t+v:e)}if(r.centerInsufficientSlides){let e=0;p.forEach(t=>{e+=t+(x||0)}),e-=x;const t=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(e+t<i){const r=(i-e-t)/2;u.forEach((e,t)=>{u[t]=e-r}),h.forEach((e,t)=>{h[t]=e+r})}}if(Object.assign(e,{slides:m,snapGrid:u,slidesGrid:h,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Bm(s,"--swiper-centered-offset-before",-u[0]+"px"),Bm(s,"--swiper-centered-offset-after",e.size/2-p[p.length-1]/2+"px");const t=-e.snapGrid[0],r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+r)}if(d!==c&&e.emit("slidesLengthChange"),u.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const t=`${r.containerModifierClass}backface-hidden`,s=e.el.classList.contains(t);d<=r.maxBackfaceHiddenSlides?s||e.el.classList.add(t):s&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,r=[],s=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>s?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{r.push(e)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!s)break;r.push(a(e))}else r.push(a(t.activeIndex));for(o=0;o<r.length;o+=1)if(void 0!==r[o]){const e=r[o].offsetHeight;i=e>i?e:i}(i||0===i)&&(t.wrapperEl.style.height=`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=(e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop)-r-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,r=t.params,{slides:s,rtlTranslate:o,snapGrid:i}=t;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;o&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let n=r.spaceBetween;"string"==typeof n&&n.indexOf("%")>=0?n=parseFloat(n.replace("%",""))/100*t.size:"string"==typeof n&&(n=parseFloat(n));for(let l=0;l<s.length;l+=1){const e=s[l];let c=e.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=s[0].swiperSlideOffset);const m=(a+(r.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n),d=(a-i[0]+(r.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n),u=-(a-c),h=u+t.slidesSizesGrid[l],p=u>=0&&u<=t.size-t.slidesSizesGrid[l],f=u>=0&&u<t.size-1||h>1&&h<=t.size||u<=0&&h>=t.size;f&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),ad(e,f,r.slideVisibleClass),ad(e,p,r.slideFullyVisibleClass),e.progress=o?-m:m,e.originalProgress=o?-d:d}},updateProgress:function(e){const t=this;if(void 0===e){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params,s=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:a,progressLoop:n}=t;const l=i,c=a;if(0===s)o=0,i=!0,a=!0;else{o=(e-t.minTranslate())/s;const r=Math.abs(e-t.minTranslate())<1,n=Math.abs(e-t.maxTranslate())<1;i=r||o<=0,a=n||o>=1,r&&(o=0),n&&(o=1)}if(r.loop){const r=t.getSlideIndexByData(0),s=t.getSlideIndexByData(t.slides.length-1),o=t.slidesGrid[r],i=t.slidesGrid[s],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);n=l>=o?(l-o)/a:(l+a-i)/a,n>1&&(n-=1)}Object.assign(t,{progress:o,progressLoop:n,isBeginning:i,isEnd:a}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!a)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:r,slidesEl:s,activeIndex:o}=e,i=e.virtual&&r.virtual.enabled,a=e.grid&&r.grid&&r.grid.rows>1,n=e=>Hm(s,`.${r.slideClass}${e}, swiper-slide${e}`)[0];let l,c,m;if(i)if(r.loop){let t=o-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=n(`[data-swiper-slide-index="${t}"]`)}else l=n(`[data-swiper-slide-index="${o}"]`);else a?(l=t.find(e=>e.column===o),m=t.find(e=>e.column===o+1),c=t.find(e=>e.column===o-1)):l=t[o];l&&(a||(m=function(e,t){const r=[];for(;e.nextElementSibling;){const s=e.nextElementSibling;t?s.matches(t)&&r.push(s):r.push(s),e=s}return r}(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!m&&(m=t[0]),c=function(e,t){const r=[];for(;e.previousElementSibling;){const s=e.previousElementSibling;t?s.matches(t)&&r.push(s):r.push(s),e=s}return r}(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{nd(e,e===l,r.slideActiveClass),nd(e,e===m,r.slideNextClass),nd(e,e===c,r.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:s,params:o,activeIndex:i,realIndex:a,snapIndex:n}=t;let l,c=e;const m=e=>{let r=e-t.virtual.slidesBefore;return r<0&&(r=t.virtual.slides.length+r),r>=t.virtual.slides.length&&(r-=t.virtual.slides.length),r};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:r}=e,s=e.rtlTranslate?e.translate:-e.translate;let o;for(let i=0;i<t.length;i+=1)void 0!==t[i+1]?s>=t[i]&&s<t[i+1]-(t[i+1]-t[i])/2?o=i:s>=t[i]&&s<t[i+1]&&(o=i+1):s>=t[i]&&(o=i);return r.normalizeSlideIndex&&(o<0||void 0===o)&&(o=0),o}(t)),s.indexOf(r)>=0)l=s.indexOf(r);else{const e=Math.min(o.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/o.slidesPerGroup)}if(l>=s.length&&(l=s.length-1),c===i&&!t.params.loop)return void(l!==n&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=m(c));const d=t.grid&&o.grid&&o.grid.rows>1;let u;if(t.virtual&&o.virtual.enabled&&o.loop)u=m(c);else if(d){const e=t.slides.find(e=>e.column===c);let r=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(r)&&(r=Math.max(t.slides.indexOf(e),0)),u=Math.floor(r/o.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");u=e?parseInt(e,10):c}else u=c;Object.assign(t,{previousSnapIndex:n,snapIndex:l,previousRealIndex:a,realIndex:u,previousIndex:i,activeIndex:c}),t.initialized&&md(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==u&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const r=this,s=r.params;let o=e.closest(`.${s.slideClass}, swiper-slide`);!o&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!o&&e.matches&&e.matches(`.${s.slideClass}, swiper-slide`)&&(o=e)});let i,a=!1;if(o)for(let n=0;n<r.slides.length;n+=1)if(r.slides[n]===o){a=!0,i=n;break}if(!o||!a)return r.clickedSlide=void 0,void(r.clickedIndex=void 0);r.clickedSlide=o,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=i,s.slideToClickedSlide&&void 0!==r.clickedIndex&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}};function ud(e){let{swiper:t,runCallbacks:r,direction:s,step:o}=e;const{activeIndex:i,previousIndex:a}=t;let n=s;n||(n=i>a?"next":i<a?"prev":"reset"),t.emit(`transition${o}`),r&&"reset"===n?t.emit(`slideResetTransition${o}`):r&&i!==a&&(t.emit(`slideChangeTransition${o}`),"next"===n?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`))}var hd={slideTo:function(e,t,r,s,o){void 0===e&&(e=0),void 0===r&&(r=!0),"string"==typeof e&&(e=parseInt(e,10));const i=this;let a=e;a<0&&(a=0);const{params:n,snapGrid:l,slidesGrid:c,previousIndex:m,activeIndex:d,rtlTranslate:u,wrapperEl:h,enabled:p}=i;if(!p&&!s&&!o||i.destroyed||i.animating&&n.preventInteractionOnTransition)return!1;void 0===t&&(t=i.params.speed);const f=Math.min(i.params.slidesPerGroupSkip,a);let v=f+Math.floor((a-f)/i.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const g=-l[v];if(n.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*g),t=Math.floor(100*c[w]),r=Math.floor(100*c[w+1]);void 0!==c[w+1]?e>=t&&e<r-(r-t)/2?a=w:e>=t&&e<r&&(a=w+1):e>=t&&(a=w)}if(i.initialized&&a!==d){if(!i.allowSlideNext&&(u?g>i.translate&&g>i.minTranslate():g<i.translate&&g<i.minTranslate()))return!1;if(!i.allowSlidePrev&&g>i.translate&&g>i.maxTranslate()&&(d||0)!==a)return!1}let b;a!==(m||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(g),b=a>d?"next":a<d?"prev":"reset";const x=i.virtual&&i.params.virtual.enabled;if(!(x&&o)&&(u&&-g===i.translate||!u&&g===i.translate))return i.updateActiveIndex(a),n.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==n.effect&&i.setTranslate(g),"reset"!==b&&(i.transitionStart(r,b),i.transitionEnd(r,b)),!1;if(n.cssMode){const e=i.isHorizontal(),r=u?g:-g;if(0===t)x&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),x&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[e?"scrollLeft":"scrollTop"]=r})):h[e?"scrollLeft":"scrollTop"]=r,x&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return zm({swiper:i,targetPosition:r,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}const N=id().isSafari;return x&&!o&&N&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(t),i.setTranslate(g),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,s),i.transitionStart(r,b),0===t?i.transitionEnd(r,b):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,b))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,r,s){if(void 0===e&&(e=0),void 0===r&&(r=!0),"string"==typeof e){e=parseInt(e,10)}const o=this;if(o.destroyed)return;void 0===t&&(t=o.params.speed);const i=o.grid&&o.params.grid&&o.params.grid.rows>1;let a=e;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)a+=o.virtual.slidesBefore;else{let e;if(i){const t=a*o.params.grid.rows;e=o.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=o.getSlideIndexByData(a);const t=i?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:r}=o.params;let n=o.params.slidesPerView;"auto"===n?n=o.slidesPerViewDynamic():(n=Math.ceil(parseFloat(o.params.slidesPerView,10)),r&&n%2==0&&(n+=1));let l=t-e<n;if(r&&(l=l||e<Math.ceil(n/2)),s&&r&&"auto"!==o.params.slidesPerView&&!i&&(l=!1),l){const s=r?e<o.activeIndex?"prev":"next":e-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:s,slideTo:!0,activeSlideIndex:"next"===s?e+1:e-t+1,slideRealIndex:"next"===s?o.realIndex:void 0})}if(i){const e=a*o.params.grid.rows;a=o.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else a=o.getSlideIndexByData(a)}return requestAnimationFrame(()=>{o.slideTo(a,t,r,s)}),o},slideNext:function(e,t,r){void 0===t&&(t=!0);const s=this,{enabled:o,params:i,animating:a}=s;if(!o||s.destroyed)return s;void 0===e&&(e=s.params.speed);let n=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(n=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<i.slidesPerGroupSkip?1:n,c=s.virtual&&i.virtual.enabled;if(i.loop){if(a&&!c&&i.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+l,e,t,r)}),!0}return i.rewind&&s.isEnd?s.slideTo(0,e,t,r):s.slideTo(s.activeIndex+l,e,t,r)},slidePrev:function(e,t,r){void 0===t&&(t=!0);const s=this,{params:o,snapGrid:i,slidesGrid:a,rtlTranslate:n,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;void 0===e&&(e=s.params.speed);const m=s.virtual&&o.virtual.enabled;if(o.loop){if(c&&!m&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=d(n?s.translate:-s.translate),h=i.map(e=>d(e)),p=o.freeMode&&o.freeMode.enabled;let f=i[h.indexOf(u)-1];if(void 0===f&&(o.cssMode||p)){let e;i.forEach((t,r)=>{u>=t&&(e=r)}),void 0!==e&&(f=p?i[e]:i[e>0?e-1:e])}let v=0;if(void 0!==f&&(v=a.indexOf(f),v<0&&(v=s.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(v=v-s.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),o.rewind&&s.isBeginning){const o=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(o,e,t,r)}return o.loop&&0===s.activeIndex&&o.cssMode?(requestAnimationFrame(()=>{s.slideTo(v,e,t,r)}),!0):s.slideTo(v,e,t,r)},slideReset:function(e,t,r){void 0===t&&(t=!0);const s=this;if(!s.destroyed)return void 0===e&&(e=s.params.speed),s.slideTo(s.activeIndex,e,t,r)},slideToClosest:function(e,t,r,s){void 0===t&&(t=!0),void 0===s&&(s=.5);const o=this;if(o.destroyed)return;void 0===e&&(e=o.params.speed);let i=o.activeIndex;const a=Math.min(o.params.slidesPerGroupSkip,i),n=a+Math.floor((i-a)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[n]){const e=o.snapGrid[n];l-e>(o.snapGrid[n+1]-e)*s&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[n-1];l-e<=(o.snapGrid[n]-e)*s&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,r)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,s="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.getSlideIndexWhenGrid(e.clickedIndex);const a=e.isElement?"swiper-slide":`.${t.slideClass}`,n=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;o=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(o):i>(n?(e.slides.length-s)/2-(e.params.grid.rows-1):e.slides.length-s)?(e.loopFix(),i=e.getSlideIndex(Hm(r,`${a}[data-swiper-slide-index="${o}"]`)[0]),Im(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}};var pd={loopCreate:function(e,t){const r=this,{params:s,slidesEl:o}=r;if(!s.loop||r.virtual&&r.params.virtual.enabled)return;const i=()=>{Hm(o,`.${s.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},a=r.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||a)&&(()=>{const e=Hm(o,`.${s.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(r.recalcSlides(),r.updateSlides())})();const n=s.slidesPerGroup*(a?s.grid.rows:1),l=r.slides.length%n!==0,c=a&&r.slides.length%s.grid.rows!==0,m=e=>{for(let t=0;t<e;t+=1){const e=r.isElement?Wm("swiper-slide",[s.slideBlankClass]):Wm("div",[s.slideClass,s.slideBlankClass]);r.slidesEl.append(e)}};if(l){if(s.loopAddBlankSlides){m(n-r.slides.length%n),r.recalcSlides(),r.updateSlides()}else qm();i()}else if(c){if(s.loopAddBlankSlides){m(s.grid.rows-r.slides.length%s.grid.rows),r.recalcSlides(),r.updateSlides()}else qm();i()}else i();r.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next",initial:t})},loopFix:function(e){let{slideRealIndex:t,slideTo:r=!0,direction:s,setTranslate:o,activeSlideIndex:i,initial:a,byController:n,byMousewheel:l}=void 0===e?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:m,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=c,{centeredSlides:f,initialSlide:v}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled)return r&&(p.centeredSlides||0!==c.snapIndex?p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=u,void c.emit("loopFix");let g=p.slidesPerView;"auto"===g?g=c.slidesPerViewDynamic():(g=Math.ceil(parseFloat(p.slidesPerView,10)),f&&g%2==0&&(g+=1));const b=p.slidesPerGroupAuto?g:p.slidesPerGroup;let x=f?Math.max(b,Math.ceil(g/2)):b;x%b!==0&&(x+=b-x%b),x+=p.loopAdditionalSlides,c.loopedSlides=x;const N=c.grid&&p.grid&&p.grid.rows>1;(m.length<g+x||"cards"===c.params.effect&&m.length<g+2*x||N&&"row"===p.grid.fill)&&qm();const w=[],y=[],_=N?Math.ceil(m.length/p.grid.rows):m.length,E=a&&_-v<g&&!f;let D=E?v:c.activeIndex;void 0===i?i=c.getSlideIndex(m.find(e=>e.classList.contains(p.slideActiveClass))):D=i;const S="next"===s||!s,j="prev"===s||!s;let T=0,P=0;const C=(N?m[i].column:i)+(f&&void 0===o?-g/2+.5:0);if(C<x){T=Math.max(x-C,b);for(let e=0;e<x-C;e+=1){const t=e-Math.floor(e/_)*_;if(N){const e=_-t-1;for(let t=m.length-1;t>=0;t-=1)m[t].column===e&&w.push(t)}else w.push(_-t-1)}}else if(C+g>_-x){P=Math.max(C-(_-2*x),b),E&&(P=Math.max(P,g-_+v+1));for(let e=0;e<P;e+=1){const t=e-Math.floor(e/_)*_;N?m.forEach((e,r)=>{e.column===t&&y.push(r)}):y.push(t)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),"cards"===c.params.effect&&m.length<g+2*x&&(y.includes(i)&&y.splice(y.indexOf(i),1),w.includes(i)&&w.splice(w.indexOf(i),1)),j&&w.forEach(e=>{m[e].swiperLoopMoveDOM=!0,h.prepend(m[e]),m[e].swiperLoopMoveDOM=!1}),S&&y.forEach(e=>{m[e].swiperLoopMoveDOM=!0,h.append(m[e]),m[e].swiperLoopMoveDOM=!1}),c.recalcSlides(),"auto"===p.slidesPerView?c.updateSlides():N&&(w.length>0&&j||y.length>0&&S)&&c.slides.forEach((e,t)=>{c.grid.updateSlide(t,e,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),r)if(w.length>0&&j){if(void 0===t){const e=c.slidesGrid[D],t=c.slidesGrid[D+T]-e;l?c.setTranslate(c.translate-t):(c.slideTo(D+Math.ceil(T),0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else if(o){const e=N?w.length/p.grid.rows:w.length;c.slideTo(c.activeIndex+e,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(y.length>0&&S)if(void 0===t){const e=c.slidesGrid[D],t=c.slidesGrid[D-P]-e;l?c.setTranslate(c.translate-t):(c.slideTo(D-P,0,!1,!0),o&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else{const e=N?y.length/p.grid.rows:y.length;c.slideTo(c.activeIndex-e,0,!1,!0)}if(c.allowSlidePrev=d,c.allowSlideNext=u,c.controller&&c.controller.control&&!n){const e={slideRealIndex:t,direction:s,setTranslate:o,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&r})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...e,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView&&r})}c.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const s=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;s[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),s.forEach(e=>{r.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function fd(e,t,r){const s=Mm(),{params:o}=e,i=o.edgeSwipeDetection,a=o.edgeSwipeThreshold;return!i||!(r<=a||r>=s.innerWidth-a)||"prevent"===i&&(t.preventDefault(),!0)}function vd(e){const t=this,r=Vm();let s=e;s.originalEvent&&(s=s.originalEvent);const o=t.touchEventsData;if("pointerdown"===s.type){if(null!==o.pointerId&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else"touchstart"===s.type&&1===s.targetTouches.length&&(o.touchId=s.targetTouches[0].identifier);if("touchstart"===s.type)return void fd(t,s,s.targetTouches[0].pageX);const{params:i,touches:a,enabled:n}=t;if(!n)return;if(!i.simulateTouch&&"mouse"===s.pointerType)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=s.target;if("wrapper"===i.touchEventsTarget&&!function(e,t){const r=Mm();let s=t.contains(e);!s&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(s=[...t.assignedElements()].includes(e),s||(s=function(e,t){const r=[t];for(;r.length>0;){const t=r.shift();if(e===t)return!0;r.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return s}(l,t.wrapperEl))return;if("which"in s&&3===s.which)return;if("button"in s&&s.button>0)return;if(o.isTouched&&o.isMoved)return;const c=!!i.noSwipingClass&&""!==i.noSwipingClass,m=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&m&&(l=m[0]);const d=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,u=!(!s.target||!s.target.shadowRoot);if(i.noSwiping&&(u?function(e,t){return void 0===t&&(t=this),function t(r){if(!r||r===Vm()||r===Mm())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(e);return s||r.getRootNode?s||t(r.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(i.swipeHandler&&!l.closest(i.swipeHandler))return;a.currentX=s.pageX,a.currentY=s.pageY;const h=a.currentX,p=a.currentY;if(!fd(t,s,h))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=h,a.startY=p,o.touchStartTime=Lm(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1);let f=!0;l.matches(o.focusableElements)&&(f=!1,"SELECT"===l.nodeName&&(o.isTouched=!1)),r.activeElement&&r.activeElement.matches(o.focusableElements)&&r.activeElement!==l&&("mouse"===s.pointerType||"mouse"!==s.pointerType&&!l.matches(o.focusableElements))&&r.activeElement.blur();const v=f&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!v||l.isContentEditable||s.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}function gd(e){const t=Vm(),r=this,s=r.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:n}=r;if(!n)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==s.touchId)return;if(c.pointerId!==s.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===s.touchId),!l||l.identifier!==s.touchId)return}else l=c;if(!s.isTouched)return void(s.startMoving&&s.isScrolling&&r.emit("touchMoveOpposite",c));const m=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper)return i.startX=m,void(i.startY=d);if(!r.allowTouchMove)return c.target.matches(s.focusableElements)||(r.allowClick=!1),void(s.isTouched&&(Object.assign(i,{startX:m,startY:d,currentX:m,currentY:d}),s.touchStartTime=Lm()));if(o.touchReleaseOnEdges&&!o.loop)if(r.isVertical()){if(d<i.startY&&r.translate<=r.maxTranslate()||d>i.startY&&r.translate>=r.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else{if(a&&(m>i.startX&&-r.translate<=r.maxTranslate()||m<i.startX&&-r.translate>=r.minTranslate()))return;if(!a&&(m<i.startX&&r.translate<=r.maxTranslate()||m>i.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(s.focusableElements))return s.isMoved=!0,void(r.allowClick=!1);s.allowTouchCallbacks&&r.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=m,i.currentY=d;const u=i.currentX-i.startX,h=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(u**2+h**2)<r.params.threshold)return;if(void 0===s.isScrolling){let e;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?s.isScrolling=!1:u*u+h*h>=25&&(e=180*Math.atan2(Math.abs(h),Math.abs(u))/Math.PI,s.isScrolling=r.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(s.isScrolling&&r.emit("touchMoveOpposite",c),void 0===s.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(s.startMoving=!0)),s.isScrolling||"touchmove"===c.type&&s.preventTouchMoveFromPointerMove)return void(s.isTouched=!1);if(!s.startMoving)return;r.allowClick=!1,!o.cssMode&&c.cancelable&&c.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&c.stopPropagation();let p=r.isHorizontal()?u:h,f=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;o.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),f=Math.abs(f)*(a?1:-1)),i.diff=p,p*=o.touchRatio,a&&(p=-p,f=-f);const v=r.touchesDirection;r.swipeDirection=p>0?"prev":"next",r.touchesDirection=f>0?"prev":"next";const g=r.params.loop&&!o.cssMode,b="next"===r.touchesDirection&&r.allowSlideNext||"prev"===r.touchesDirection&&r.allowSlidePrev;if(!s.isMoved){if(g&&b&&r.loopFix({direction:r.swipeDirection}),s.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(e)}s.allowMomentumBounce=!1,!o.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==o._loopSwapReset&&s.isMoved&&s.allowThresholdMove&&v!==r.touchesDirection&&g&&b&&Math.abs(p)>=1)return Object.assign(i,{startX:m,startY:d,currentX:m,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,void(s.startTranslate=s.currentTranslate);r.emit("sliderMove",c),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let x=!0,N=o.resistanceRatio;if(o.touchReleaseOnEdges&&(N=0),p>0?(g&&b&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-("auto"!==o.slidesPerView&&r.slides.length-o.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>r.minTranslate()&&(x=!1,o.resistance&&(s.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+s.startTranslate+p)**N))):p<0&&(g&&b&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+("auto"!==o.slidesPerView&&r.slides.length-o.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-("auto"===o.slidesPerView?r.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<r.maxTranslate()&&(x=!1,o.resistance&&(s.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-s.startTranslate-p)**N))),x&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),r.allowSlidePrev||r.allowSlideNext||(s.currentTranslate=s.startTranslate),o.threshold>0){if(!(Math.abs(p)>o.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,s.currentTranslate=s.startTranslate,void(i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&r.freeMode||o.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(s.currentTranslate),r.setTranslate(s.currentTranslate))}function bd(e){const t=this,r=t.touchEventsData;let s,o=e;o.originalEvent&&(o=o.originalEvent);if("touchend"===o.type||"touchcancel"===o.type){if(s=[...o.changedTouches].find(e=>e.identifier===r.touchId),!s||s.identifier!==r.touchId)return}else{if(null!==r.touchId)return;if(o.pointerId!==r.pointerId)return;s=o}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(o.type)){if(!(["pointercancel","contextmenu"].includes(o.type)&&(t.browser.isSafari||t.browser.isWebView)))return}r.pointerId=null,r.touchId=null;const{params:i,touches:a,rtlTranslate:n,slidesGrid:l,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===o.pointerType)return;if(r.allowTouchCallbacks&&t.emit("touchEnd",o),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&i.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);i.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const m=Lm(),d=m-r.touchStartTime;if(t.allowClick){const e=o.path||o.composedPath&&o.composedPath();t.updateClickedSlide(e&&e[0]||o.target,e),t.emit("tap click",o),d<300&&m-r.lastClickTime<300&&t.emit("doubleTap doubleClick",o)}if(r.lastClickTime=Lm(),Im(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||0===a.diff&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let u;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,u=i.followFinger?n?t.translate:-t.translate:-r.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:u});const h=u>=-t.maxTranslate()&&!t.params.loop;let p=0,f=t.slidesSizesGrid[0];for(let N=0;N<l.length;N+=N<i.slidesPerGroupSkip?1:i.slidesPerGroup){const e=N<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==l[N+e]?(h||u>=l[N]&&u<l[N+e])&&(p=N,f=l[N+e]-l[N]):(h||u>=l[N])&&(p=N,f=l[l.length-1]-l[l.length-2])}let v=null,g=null;i.rewind&&(t.isBeginning?g=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const b=(u-l[p])/f,x=p<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?v:p+x):t.slideTo(p)),"prev"===t.swipeDirection&&(b>1-i.longSwipesRatio?t.slideTo(p+x):null!==g&&b<0&&Math.abs(b)>i.longSwipesRatio?t.slideTo(g):t.slideTo(p))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(o.target===t.navigation.nextEl||o.target===t.navigation.prevEl)?o.target===t.navigation.nextEl?t.slideTo(p+x):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==v?v:p+x),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:p))}}function xd(){const e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:i}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const n=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||n?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=o,e.allowSlideNext=s,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function Nd(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function wd(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:s}=e;if(!s)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function yd(e){const t=this;ld(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function _d(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const Ed=(e,t)=>{const r=Vm(),{params:s,el:o,wrapperEl:i,device:a}=e,n=!!s.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;o&&"string"!=typeof o&&(r[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:n}),o[l]("touchstart",e.onTouchStart,{passive:!1}),o[l]("pointerdown",e.onTouchStart,{passive:!1}),r[l]("touchmove",e.onTouchMove,{passive:!1,capture:n}),r[l]("pointermove",e.onTouchMove,{passive:!1,capture:n}),r[l]("touchend",e.onTouchEnd,{passive:!0}),r[l]("pointerup",e.onTouchEnd,{passive:!0}),r[l]("pointercancel",e.onTouchEnd,{passive:!0}),r[l]("touchcancel",e.onTouchEnd,{passive:!0}),r[l]("pointerout",e.onTouchEnd,{passive:!0}),r[l]("pointerleave",e.onTouchEnd,{passive:!0}),r[l]("contextmenu",e.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[l]("click",e.onClick,!0),s.cssMode&&i[l]("scroll",e.onScroll),s.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",xd,!0):e[c]("observerUpdate",xd,!0),o[l]("load",e.onLoad,{capture:!0}))};const Dd=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Sd={setBreakpoint:function(){const e=this,{realIndex:t,initialized:r,params:s,el:o}=e,i=s.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const a=Vm(),n="window"!==s.breakpointsBase&&s.breakpointsBase?"container":s.breakpointsBase,l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?e.el:a.querySelector(s.breakpointsBase),c=e.getBreakpoint(i,n,l);if(!c||e.currentBreakpoint===c)return;const m=(c in i?i[c]:void 0)||e.originalParams,d=Dd(e,s),u=Dd(e,m),h=e.params.grabCursor,p=m.grabCursor,f=s.enabled;d&&!u?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&u&&(o.classList.add(`${s.containerModifierClass}grid`),(m.grid.fill&&"column"===m.grid.fill||!m.grid.fill&&"column"===s.grid.fill)&&o.classList.add(`${s.containerModifierClass}grid-column`),e.emitContainerClasses()),h&&!p?e.unsetGrabCursor():!h&&p&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===m[t])return;const r=s[t]&&s[t].enabled,o=m[t]&&m[t].enabled;r&&!o&&e[t].disable(),!r&&o&&e[t].enable()});const v=m.direction&&m.direction!==s.direction,g=s.loop&&(m.slidesPerView!==s.slidesPerView||v),b=s.loop;v&&r&&e.changeDirection(),$m(e.params,m);const x=e.params.enabled,N=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!x?e.disable():!f&&x&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",m),r&&(g?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&N?(e.loopCreate(t),e.updateSlides()):b&&!N&&e.loopDestroy()),e.emit("breakpoint",m)},getBreakpoint:function(e,t,r){if(void 0===t&&(t="window"),!e||"container"===t&&!r)return;let s=!1;const o=Mm(),i="window"===t?o.innerHeight:r.clientHeight,a=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}});a.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let n=0;n<a.length;n+=1){const{point:e,value:i}=a[n];"window"===t?o.matchMedia(`(min-width: ${i}px)`).matches&&(s=e):i<=r.clientWidth&&(s=e)}return s||"max"}};var jd={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Td(e,t){return function(r){void 0===r&&(r={});const s=Object.keys(r)[0],o=r[s];"object"==typeof o&&null!==o?(!0===e[s]&&(e[s]={enabled:!0}),"navigation"===s&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),s in e&&"enabled"in o?("object"!=typeof e[s]||"enabled"in e[s]||(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),$m(t,r)):$m(t,r)):$m(t,r)}}const Pd={eventsEmitter:{on(e,t,r){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;const o=r?"unshift":"push";return e.split(" ").forEach(e=>{s.eventsListeners[e]||(s.eventsListeners[e]=[]),s.eventsListeners[e][o](t)}),s},once(e,t,r){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;function o(){s.off(e,o),o.__emitterProxy&&delete o.__emitterProxy;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.apply(s,i)}return o.__emitterProxy=t,s.on(e,o,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const s=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[s](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed?r:r.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach((s,o)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&r.eventsListeners[e].splice(o,1)})}),r):r},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,r,s;for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];"string"==typeof i[0]||Array.isArray(i[0])?(t=i[0],r=i.slice(1,i.length),s=e):(t=i[0].events,r=i[0].data,s=i[0].context||e),r.unshift(s);return(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(s,[t,...r])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(s,r)})}),e}},update:dd,translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=this;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let i=Om(o,e);return i+=this.cssOverflowAdjustment(),r&&(i=-i),i||0},setTranslate:function(e,t){const r=this,{rtlTranslate:s,params:o,wrapperEl:i,progress:a}=r;let n,l=0,c=0;r.isHorizontal()?l=s?-e:e:c=e,o.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c,o.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:o.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():c-=r.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const m=r.maxTranslate()-r.minTranslate();n=0===m?0:(e-r.minTranslate())/m,n!==a&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,r,s,o){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===r&&(r=!0),void 0===s&&(s=!0);const i=this,{params:a,wrapperEl:n}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let m;if(m=s&&e>l?l:s&&e<c?c:e,i.updateProgress(m),a.cssMode){const e=i.isHorizontal();if(0===t)n[e?"scrollLeft":"scrollTop"]=-m;else{if(!i.support.smoothScroll)return zm({swiper:i,targetPosition:-m,side:e?"left":"top"}),!0;n.scrollTo({[e?"left":"top"]:-m,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(m),r&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(m),r&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=0===e?"0ms":""),r.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const r=this,{params:s}=r;s.cssMode||(s.autoHeight&&r.updateAutoHeight(),ud({swiper:r,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const r=this,{params:s}=r;r.animating=!1,s.cssMode||(r.setTransition(0),ud({swiper:r,runCallbacks:e,direction:t,step:"End"}))}},slide:hd,loop:pd,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=vd.bind(e),e.onTouchMove=gd.bind(e),e.onTouchEnd=bd.bind(e),e.onDocumentTouchStart=_d.bind(e),t.cssMode&&(e.onScroll=wd.bind(e)),e.onClick=Nd.bind(e),e.onLoad=yd.bind(e),Ed(e,"on")},detachEvents:function(){Ed(this,"off")}},breakpoints:Sd,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:s}=r;if(s){const t=e.slides.length-1,r=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*s;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:r,rtl:s,el:o,device:i}=e,a=function(e,t){const r=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(s=>{e[s]&&r.push(t+s)}):"string"==typeof e&&r.push(t+e)}),r}(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:s},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...a),o.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Cd={};let kd=class e{constructor(){let t,r;for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];1===o.length&&o[0].constructor&&"Object"===Object.prototype.toString.call(o[0]).slice(8,-1)?r=o[0]:[t,r]=o,r||(r={}),r=$m({},r),t&&!r.el&&(r.el=t);const a=Vm();if(r.el&&"string"==typeof r.el&&a.querySelectorAll(r.el).length>1){const t=[];return a.querySelectorAll(r.el).forEach(s=>{const o=$m({},r,{el:s});t.push(new e(o))}),t}const n=this;n.__swiper__=!0,n.support=sd(),n.device=od({userAgent:r.userAgent}),n.browser=id(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],r.modules&&Array.isArray(r.modules)&&n.modules.push(...r.modules);const l={};n.modules.forEach(e=>{e({params:r,swiper:n,extendParams:Td(r,l),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});const c=$m({},jd,l);return n.params=$m({},c,Cd,r),n.originalParams=$m({},n.params),n.passedParams=$m({},r),n.params&&n.params.on&&Object.keys(n.params.on).forEach(e=>{n.on(e,n.params.on[e])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===n.params.direction,isVertical:()=>"vertical"===n.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=Ym(Hm(t,`.${r.slideClass}, swiper-slide`)[0]);return Ym(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Hm(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,void 0===t?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:r,slides:s,slidesGrid:o,slidesSizesGrid:i,size:a,activeIndex:n}=this;let l=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let e,t=s[n]?Math.ceil(s[n].swiperSlideSize):0;for(let r=n+1;r<s.length;r+=1)s[r]&&!e&&(t+=Math.ceil(s[r].swiperSlideSize),l+=1,t>a&&(e=!0));for(let r=n-1;r>=0;r-=1)s[r]&&!e&&(t+=s[r].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let c=n+1;c<s.length;c+=1){(t?o[c]+i[c]-o[n]<a:o[c]-o[n]<a)&&(l+=1)}else for(let c=n-1;c>=0;c-=1){o[n]-o[c]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function s(){const t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&ld(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if(("auto"===r.slidesPerView||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const t=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(t.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const r=this,s=r.params.direction;return e||(e="horizontal"===s?"vertical":"horizontal"),e===s||"horizontal"!==e&&"vertical"!==e||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if("string"==typeof r&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(r&&r.shadowRoot&&r.shadowRoot.querySelector){return r.shadowRoot.querySelector(s())}return Hm(r,s())[0]})();return!o&&t.params.createElements&&(o=Wm("div",t.params.wrapperClass),r.append(o),Hm(r,`.${t.params.slideClass}`).forEach(e=>{o.append(e)})),Object.assign(t,{el:r,wrapperEl:o,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:"rtl"===r.dir.toLowerCase()||"rtl"===Xm(r,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===Xm(r,"direction")),wrongRTL:"-webkit-box"===Xm(o,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(e=>{e.complete?ld(t,e):e.addEventListener("load",e=>{ld(t,e.target)})}),md(t),t.initialized=!0,md(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const r=this,{params:s,el:o,wrapperEl:i,slides:a}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&"string"!=typeof o&&o.removeAttribute("style"),i&&i.removeAttribute("style"),a&&a.length&&a.forEach(e=>{e.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(e=>{r.off(e)}),!1!==e&&(r.el&&"string"!=typeof r.el&&(r.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(kp){}try{delete t[e]}catch(kp){}})}(r)),r.destroyed=!0),null}static extendDefaults(e){$m(Cd,e)}static get extendedDefaults(){return Cd}static get defaults(){return jd}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const r=e.prototype.__modules__;"function"==typeof t&&r.indexOf(t)<0&&r.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(Pd).forEach(e=>{Object.keys(Pd[e]).forEach(t=>{kd.prototype[t]=Pd[e][t]})}),kd.use([function(e){let{swiper:t,on:r,emit:s}=e;const o=Mm();let i=null,a=null;const n=()=>{t&&!t.destroyed&&t.initialized&&(s("beforeResize"),s("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&s("orientationchange")};r("init",()=>{t.params.resizeObserver&&void 0!==o.ResizeObserver?t&&!t.destroyed&&t.initialized&&(i=new ResizeObserver(e=>{a=o.requestAnimationFrame(()=>{const{width:r,height:s}=t;let o=r,i=s;e.forEach(e=>{let{contentBoxSize:r,contentRect:s,target:a}=e;a&&a!==t.el||(o=s?s.width:(r[0]||r).inlineSize,i=s?s.height:(r[0]||r).blockSize)}),o===r&&i===s||n()})}),i.observe(t.el)):(o.addEventListener("resize",n),o.addEventListener("orientationchange",l))}),r("destroy",()=>{a&&o.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),o.removeEventListener("resize",n),o.removeEventListener("orientationchange",l)})},function(e){let{swiper:t,extendParams:r,on:s,emit:o}=e;const i=[],a=Mm(),n=function(e,r){void 0===r&&(r={});const s=new(a.MutationObserver||a.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void o("observerUpdate",e[0]);const r=function(){o("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(r):a.setTimeout(r,0)});s.observe(e,{attributes:void 0===r.attributes||r.attributes,childList:t.isElement||(void 0===r.childList||r).childList,characterData:void 0===r.characterData||r.characterData}),i.push(s)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=Jm(t.hostEl);for(let t=0;t<e.length;t+=1)n(e[t])}n(t.hostEl,{childList:t.params.observeSlideChildren}),n(t.wrapperEl,{attributes:!1})}}),s("destroy",()=>{i.forEach(e=>{e.disconnect()}),i.splice(0,i.length)})}]);const Ud=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vd(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function Ad(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>r.indexOf(e)<0).forEach(r=>{void 0===e[r]?e[r]=t[r]:Vd(t[r])&&Vd(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:Ad(e[r],t[r]):e[r]=t[r]})}function Md(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function Id(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function Ld(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function Od(e){void 0===e&&(e="");const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),r=[];return t.forEach(e=>{r.indexOf(e)<0&&r.push(e)}),r.join(" ")}function Rd(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fd.apply(this,arguments)}function $d(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Bd(e){const t=[];return i.Children.toArray(e).forEach(e=>{$d(e)?t.push(e):e.props&&e.props.children&&Bd(e.props.children).forEach(e=>t.push(e))}),t}function zd(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return i.Children.toArray(e).forEach(e=>{if($d(e))t.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){const s=Bd(e.props.children);s.length>0?s.forEach(e=>t.push(e)):r["container-end"].push(e)}else r["container-end"].push(e)}),{slides:t,slots:r}}function Gd(e,t){return"undefined"==typeof window?r.useEffect(e,t):r.useLayoutEffect(e,t)}const Hd=r.createContext(null),qd=r.createContext(null),Wd=r.forwardRef(function(e,t){let{className:s,tag:o="div",wrapperTag:a="div",children:n,onSwiper:l,...c}=void 0===e?{}:e,m=!1;const[d,u]=r.useState("swiper"),[h,p]=r.useState(null),[f,v]=r.useState(!1),g=r.useRef(!1),b=r.useRef(null),x=r.useRef(null),N=r.useRef(null),w=r.useRef(null),y=r.useRef(null),_=r.useRef(null),E=r.useRef(null),D=r.useRef(null),{params:S,passedParams:j,rest:T,events:P}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const r={on:{}},s={},o={};Ad(r,jd),r._emitClasses=!0,r.init=!1;const i={},a=Ud.map(e=>e.replace(/_/,"")),n=Object.assign({},e);return Object.keys(n).forEach(n=>{void 0!==e[n]&&(a.indexOf(n)>=0?Vd(e[n])?(r[n]={},o[n]={},Ad(r[n],e[n]),Ad(o[n],e[n])):(r[n]=e[n],o[n]=e[n]):0===n.search(/on[A-Z]/)&&"function"==typeof e[n]?t?s[`${n[2].toLowerCase()}${n.substr(3)}`]=e[n]:r.on[`${n[2].toLowerCase()}${n.substr(3)}`]=e[n]:i[n]=e[n])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===r[e]&&(r[e]={}),!1===r[e]&&delete r[e]}),{params:r,passedParams:o,rest:i,events:s}}(c),{slides:C,slots:k}=zd(n),U=()=>{v(!f)};Object.assign(S.on,{_containerClasses(e,t){u(t)}});const V=()=>{Object.assign(S.on,P),m=!0;const e={...S};if(delete e.wrapperClass,x.current=new kd(e),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=C;const e={cache:!1,slides:C,renderExternal:p,renderExternalUpdate:!1};Ad(x.current.params.virtual,e),Ad(x.current.originalParams.virtual,e)}};b.current||V(),x.current&&x.current.on("_beforeBreakpoint",U);return r.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",U)}),r.useEffect(()=>{!g.current&&x.current&&(x.current.emitSlidesClasses(),g.current=!0)}),Gd(()=>{if(t&&(t.current=b.current),b.current)return x.current.destroyed&&V(),function(e,t){let{el:r,nextEl:s,prevEl:o,paginationEl:i,scrollbarEl:a,swiper:n}=e;Md(t)&&s&&o&&(n.params.navigation.nextEl=s,n.originalParams.navigation.nextEl=s,n.params.navigation.prevEl=o,n.originalParams.navigation.prevEl=o),Id(t)&&i&&(n.params.pagination.el=i,n.originalParams.pagination.el=i),Ld(t)&&a&&(n.params.scrollbar.el=a,n.originalParams.scrollbar.el=a),n.init(r)}({el:b.current,nextEl:y.current,prevEl:_.current,paginationEl:E.current,scrollbarEl:D.current,swiper:x.current},S),l&&!x.current.destroyed&&l(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),Gd(()=>{!m&&P&&x.current&&Object.keys(P).forEach(e=>{x.current.on(e,P[e])});const e=function(e,t,r,s,o){const i=[];if(!t)return i;const a=e=>{i.indexOf(e)<0&&i.push(e)};if(r&&s){const e=s.map(o),t=r.map(o);e.join("")!==t.join("")&&a("children"),s.length!==r.length&&a("children")}return Ud.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(r=>{if(r in e&&r in t)if(Vd(e[r])&&Vd(t[r])){const s=Object.keys(e[r]),o=Object.keys(t[r]);s.length!==o.length?a(r):(s.forEach(s=>{e[r][s]!==t[r][s]&&a(r)}),o.forEach(s=>{e[r][s]!==t[r][s]&&a(r)}))}else e[r]!==t[r]&&a(r)}),i}(j,N.current,C,w.current,e=>e.key);return N.current=j,w.current=C,e.length&&x.current&&!x.current.destroyed&&function(e){let{swiper:t,slides:r,passedParams:s,changedParams:o,nextEl:i,prevEl:a,scrollbarEl:n,paginationEl:l}=e;const c=o.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:m,pagination:d,navigation:u,scrollbar:h,virtual:p,thumbs:f}=t;let v,g,b,x,N,w,y,_;o.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&!s.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(v=!0),o.includes("controller")&&s.controller&&s.controller.control&&m.controller&&!m.controller.control&&(g=!0),o.includes("pagination")&&s.pagination&&(s.pagination.el||l)&&(m.pagination||!1===m.pagination)&&d&&!d.el&&(b=!0),o.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||n)&&(m.scrollbar||!1===m.scrollbar)&&h&&!h.el&&(x=!0),o.includes("navigation")&&s.navigation&&(s.navigation.prevEl||a)&&(s.navigation.nextEl||i)&&(m.navigation||!1===m.navigation)&&u&&!u.prevEl&&!u.nextEl&&(N=!0);const E=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),m[e].prevEl=void 0,m[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),m[e].el=void 0,t[e].el=void 0))};o.includes("loop")&&t.isElement&&(m.loop&&!s.loop?w=!0:!m.loop&&s.loop?y=!0:_=!0),c.forEach(e=>{if(Vd(m[e])&&Vd(s[e]))Object.assign(m[e],s[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in s[e])||s[e].enabled||E(e);else{const t=s[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?m[e]=s[e]:!1===t&&E(e)}}),c.includes("controller")&&!g&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),o.includes("children")&&r&&p&&m.virtual.enabled?(p.slides=r,p.update(!0)):o.includes("virtual")&&p&&m.virtual.enabled&&(r&&(p.slides=r),p.update(!0)),o.includes("children")&&r&&m.loop&&(_=!0),v&&f.init()&&f.update(!0);g&&(t.controller.control=m.controller.control),b&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(m.pagination.el=l),d.init(),d.render(),d.update()),x&&(!t.isElement||n&&"string"!=typeof n||(n=document.createElement("div"),n.classList.add("swiper-scrollbar"),n.part.add("scrollbar"),t.el.appendChild(n)),n&&(m.scrollbar.el=n),h.init(),h.updateSize(),h.setTranslate()),N&&(t.isElement&&(i&&"string"!=typeof i||(i=document.createElement("div"),i.classList.add("swiper-button-next"),Zm(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-prev"),Zm(a,t.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),t.el.appendChild(a))),i&&(m.navigation.nextEl=i),a&&(m.navigation.prevEl=a),u.init(),u.update()),o.includes("allowSlideNext")&&(t.allowSlideNext=s.allowSlideNext),o.includes("allowSlidePrev")&&(t.allowSlidePrev=s.allowSlidePrev),o.includes("direction")&&t.changeDirection(s.direction,!1),(w||_)&&t.loopDestroy(),(y||_)&&t.loopCreate(),t.update()}({swiper:x.current,slides:C,passedParams:j,changedParams:e,nextEl:y.current,prevEl:_.current,scrollbarEl:D.current,paginationEl:E.current}),()=>{P&&x.current&&Object.keys(P).forEach(e=>{x.current.off(e,P[e])})}}),Gd(()=>{var e;!(e=x.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[h]),i.createElement(o,Fd({ref:b,className:Od(`${d}${s?` ${s}`:""}`)},T),i.createElement(qd.Provider,{value:x.current},k["container-start"],i.createElement(a,{className:Rd(S.wrapperClass)},k["wrapper-start"],S.virtual?function(e,t,r){if(!r)return null;const s=e=>{let r=e;return e<0?r=t.length+e:r>=t.length&&(r-=t.length),r},o=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:n}=r,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,m=[];for(let i=l;i<c;i+=1)i>=a&&i<=n&&m.push(t[s(i)]);return m.map((t,r)=>i.cloneElement(t,{swiper:e,style:o,key:t.props.virtualIndex||t.key||`slide-${r}`}))}(x.current,C,h):C.map((e,t)=>i.cloneElement(e,{swiper:x.current,swiperSlideIndex:t})),k["wrapper-end"]),Md(S)&&i.createElement(i.Fragment,null,i.createElement("div",{ref:_,className:"swiper-button-prev"}),i.createElement("div",{ref:y,className:"swiper-button-next"})),Ld(S)&&i.createElement("div",{ref:D,className:"swiper-scrollbar"}),Id(S)&&i.createElement("div",{ref:E,className:"swiper-pagination"}),k["container-end"]))});Wd.displayName="Swiper";const Xd=r.forwardRef(function(e,t){let{tag:s="div",children:o,className:a="",swiper:n,zoom:l,lazy:c,virtualIndex:m,swiperSlideIndex:d,...u}=void 0===e?{}:e;const h=r.useRef(null),[p,f]=r.useState("swiper-slide"),[v,g]=r.useState(!1);function b(e,t,r){t===h.current&&f(r)}Gd(()=>{if(void 0!==d&&(h.current.swiperSlideIndex=d),t&&(t.current=h.current),h.current&&n){if(!n.destroyed)return n.on("_slideClass",b),()=>{n&&n.off("_slideClass",b)};"swiper-slide"!==p&&f("swiper-slide")}}),Gd(()=>{n&&h.current&&!n.destroyed&&f(n.getSlideClasses(h.current))},[n]);const x={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},N=()=>"function"==typeof o?o(x):o;return i.createElement(s,Fd({ref:h,className:Od(`${p}${a?` ${a}`:""}`),"data-swiper-slide-index":m,onLoad:()=>{g(!0)}},u),l&&i.createElement(Hd.Provider,{value:x},i.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof l?l:void 0},N(),c&&!v&&i.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&i.createElement(Hd.Provider,{value:x},N(),c&&!v&&i.createElement("div",{className:"swiper-lazy-preloader"})))});function Yd(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Jd(e){let{swiper:t,extendParams:r,on:s,emit:o}=e;const i="swiper-pagination";let a;r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let n=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,r){const{bulletActiveClass:s}=t.params.pagination;e&&(e=e[("prev"===r?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${s}-${r}`),(e=e[("prev"===r?"previous":"next")+"ElementSibling"])&&e.classList.add(`${s}-${r}-${r}`))}function m(e){const r=e.target.closest(Yd(t.params.pagination.bulletClass));if(!r)return;e.preventDefault();const s=Ym(r)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===s)return;const e=(o=t.realIndex,i=s,a=t.slides.length,(i%=a)===1+(o%=a)?"next":i===o-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(s)}else t.slideTo(s);var o,i,a}function d(){const e=t.rtl,r=t.params.pagination;if(l())return;let s,i,m=t.pagination.el;m=Qm(m);const d=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,u=t.params.loop?Math.ceil(d/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(i=t.previousRealIndex||0,s=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(s=t.snapIndex,i=t.previousSnapIndex):(i=t.previousIndex||0,s=t.activeIndex||0),"bullets"===r.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const o=t.pagination.bullets;let l,d,u;if(r.dynamicBullets&&(a=Km(o[0],t.isHorizontal()?"width":"height"),m.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]=a*(r.dynamicMainBullets+4)+"px"}),r.dynamicMainBullets>1&&void 0!==i&&(n+=s-(i||0),n>r.dynamicMainBullets-1?n=r.dynamicMainBullets-1:n<0&&(n=0)),l=Math.max(s-n,0),d=l+(Math.min(o.length,r.dynamicMainBullets)-1),u=(d+l)/2),o.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${r.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),m.length>1)o.forEach(e=>{const o=Ym(e);o===s?e.classList.add(...r.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),r.dynamicBullets&&(o>=l&&o<=d&&e.classList.add(...`${r.bulletActiveClass}-main`.split(" ")),o===l&&c(e,"prev"),o===d&&c(e,"next"))});else{const e=o[s];if(e&&e.classList.add(...r.bulletActiveClass.split(" ")),t.isElement&&o.forEach((e,t)=>{e.setAttribute("part",t===s?"bullet-active":"bullet")}),r.dynamicBullets){const e=o[l],t=o[d];for(let s=l;s<=d;s+=1)o[s]&&o[s].classList.add(...`${r.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(r.dynamicBullets){const s=Math.min(o.length,r.dynamicMainBullets+4),i=(a*s-a)/2-u*a,n=e?"right":"left";o.forEach(e=>{e.style[t.isHorizontal()?n:"top"]=`${i}px`})}}m.forEach((e,i)=>{if("fraction"===r.type&&(e.querySelectorAll(Yd(r.currentClass)).forEach(e=>{e.textContent=r.formatFractionCurrent(s+1)}),e.querySelectorAll(Yd(r.totalClass)).forEach(e=>{e.textContent=r.formatFractionTotal(u)})),"progressbar"===r.type){let o;o=r.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const i=(s+1)/u;let a=1,n=1;"horizontal"===o?a=i:n=i,e.querySelectorAll(Yd(r.progressbarFillClass)).forEach(e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${n})`,e.style.transitionDuration=`${t.params.speed}ms`})}"custom"===r.type&&r.renderCustom?(Zm(e,r.renderCustom(t,s+1,u)),0===i&&o("paginationRender",e)):(0===i&&o("paginationRender",e),o("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass)})}function u(){const e=t.params.pagination;if(l())return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let s=t.pagination.el;s=Qm(s);let i="";if("bullets"===e.type){let s=t.params.loop?Math.ceil(r/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&s>r&&(s=r);for(let r=0;r<s;r+=1)e.renderBullet?i+=e.renderBullet.call(t,r,e.bulletClass):i+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],s.forEach(r=>{"custom"!==e.type&&Zm(r,i||""),"bullets"===e.type&&t.pagination.bullets.push(...r.querySelectorAll(Yd(e.bulletClass)))}),"custom"!==e.type&&o("paginationRender",s[0])}function h(){t.params.pagination=function(e,t,r,s){return e.params.createElements&&Object.keys(s).forEach(o=>{if(!r[o]&&!0===r.auto){let i=Hm(e.el,`.${s[o]}`)[0];i||(i=Wm("div",s[o]),i.className=s[o],e.el.append(i)),r[o]=i,t[o]=i}}),r}(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let r;"string"==typeof e.el&&t.isElement&&(r=t.el.querySelector(e.el)),r||"string"!=typeof e.el||(r=[...document.querySelectorAll(e.el)]),r||(r=e.el),r&&0!==r.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(r)&&r.length>1&&(r=[...t.el.querySelectorAll(e.el)],r.length>1&&(r=r.find(e=>Jm(e,".swiper")[0]===t.el))),Array.isArray(r)&&1===r.length&&(r=r[0]),Object.assign(t.pagination,{el:r}),r=Qm(r),r.forEach(r=>{"bullets"===e.type&&e.clickable&&r.classList.add(...(e.clickableClass||"").split(" ")),r.classList.add(e.modifierClass+e.type),r.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(r.classList.add(`${e.modifierClass}${e.type}-dynamic`),n=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&r.classList.add(e.progressbarOppositeClass),e.clickable&&r.addEventListener("click",m),t.enabled||r.classList.add(e.lockClass)}))}function p(){const e=t.params.pagination;if(l())return;let r=t.pagination.el;r&&(r=Qm(r),r.forEach(r=>{r.classList.remove(e.hiddenClass),r.classList.remove(e.modifierClass+e.type),r.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(r.classList.remove(...(e.clickableClass||"").split(" ")),r.removeEventListener("click",m))})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:r}=t.pagination;r=Qm(r),r.forEach(r=>{r.classList.remove(e.horizontalClass,e.verticalClass),r.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),s("init",()=>{!1===t.params.pagination.enabled?f():(h(),u(),d())}),s("activeIndexChange",()=>{void 0===t.snapIndex&&d()}),s("snapIndexChange",()=>{d()}),s("snapGridLengthChange",()=>{u(),d()}),s("destroy",()=>{p()}),s("enable disable",()=>{let{el:e}=t.pagination;e&&(e=Qm(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),s("lock unlock",()=>{d()}),s("click",(e,r)=>{const s=r.target,i=Qm(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&i&&i.length>0&&!s.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&s===t.navigation.nextEl||t.navigation.prevEl&&s===t.navigation.prevEl))return;const e=i[0].classList.contains(t.params.pagination.hiddenClass);o(!0===e?"paginationShow":"paginationHide"),i.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const f=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=Qm(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),p()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=Qm(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),h(),u(),d()},disable:f,render:u,update:d,init:h,destroy:p})}function Kd(e){let t,r,{swiper:s,extendParams:o,on:i,emit:a,params:n}=e;s.autoplay={running:!1,paused:!1,timeLeft:0},o({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,m,d,u,h,p,f,v=n&&n.autoplay?n.autoplay.delay:3e3,g=n&&n.autoplay?n.autoplay.delay:3e3,b=(new Date).getTime();function x(e){s&&!s.destroyed&&s.wrapperEl&&e.target===s.wrapperEl&&(s.wrapperEl.removeEventListener("transitionend",x),f||e.detail&&e.detail.bySwiperTouchMove||D())}const N=()=>{if(s.destroyed||!s.autoplay.running)return;s.autoplay.paused?c=!0:c&&(g=l,c=!1);const e=s.autoplay.paused?l:b+g-(new Date).getTime();s.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/v),r=requestAnimationFrame(()=>{N()})},w=e=>{if(s.destroyed||!s.autoplay.running)return;cancelAnimationFrame(r),N();let o=void 0===e?s.params.autoplay.delay:e;v=s.params.autoplay.delay,g=s.params.autoplay.delay;const i=(()=>{let e;if(e=s.virtual&&s.params.virtual.enabled?s.slides.find(e=>e.classList.contains("swiper-slide-active")):s.slides[s.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(i)&&i>0&&void 0===e&&(o=i,v=i,g=i),l=o;const n=s.params.speed,c=()=>{s&&!s.destroyed&&(s.params.autoplay.reverseDirection?!s.isBeginning||s.params.loop||s.params.rewind?(s.slidePrev(n,!0,!0),a("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(s.slides.length-1,n,!0,!0),a("autoplay")):!s.isEnd||s.params.loop||s.params.rewind?(s.slideNext(n,!0,!0),a("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(0,n,!0,!0),a("autoplay")),s.params.cssMode&&(b=(new Date).getTime(),requestAnimationFrame(()=>{w()})))};return o>0?(clearTimeout(t),t=setTimeout(()=>{c()},o)):requestAnimationFrame(()=>{c()}),o},y=()=>{b=(new Date).getTime(),s.autoplay.running=!0,w(),a("autoplayStart")},_=()=>{s.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(r),a("autoplayStop")},E=(e,r)=>{if(s.destroyed||!s.autoplay.running)return;clearTimeout(t),e||(p=!0);const o=()=>{a("autoplayPause"),s.params.autoplay.waitForTransition?s.wrapperEl.addEventListener("transitionend",x):D()};if(s.autoplay.paused=!0,r)return h&&(l=s.params.autoplay.delay),h=!1,void o();const i=l||s.params.autoplay.delay;l=i-((new Date).getTime()-b),s.isEnd&&l<0&&!s.params.loop||(l<0&&(l=0),o())},D=()=>{s.isEnd&&l<0&&!s.params.loop||s.destroyed||!s.autoplay.running||(b=(new Date).getTime(),p?(p=!1,w(l)):w(),s.autoplay.paused=!1,a("autoplayResume"))},S=()=>{if(s.destroyed||!s.autoplay.running)return;const e=Vm();"hidden"===e.visibilityState&&(p=!0,E(!0)),"visible"===e.visibilityState&&D()},j=e=>{"mouse"===e.pointerType&&(p=!0,f=!0,s.animating||s.autoplay.paused||E(!0))},T=e=>{"mouse"===e.pointerType&&(f=!1,s.autoplay.paused&&D())};i("init",()=>{s.params.autoplay.enabled&&(s.params.autoplay.pauseOnMouseEnter&&(s.el.addEventListener("pointerenter",j),s.el.addEventListener("pointerleave",T)),Vm().addEventListener("visibilitychange",S),y())}),i("destroy",()=>{s.el&&"string"!=typeof s.el&&(s.el.removeEventListener("pointerenter",j),s.el.removeEventListener("pointerleave",T)),Vm().removeEventListener("visibilitychange",S),s.autoplay.running&&_()}),i("_freeModeStaticRelease",()=>{(d||p)&&D()}),i("_freeModeNoMomentumRelease",()=>{s.params.autoplay.disableOnInteraction?_():E(!0,!0)}),i("beforeTransitionStart",(e,t,r)=>{!s.destroyed&&s.autoplay.running&&(r||!s.params.autoplay.disableOnInteraction?E(!0,!0):_())}),i("sliderFirstMove",()=>{!s.destroyed&&s.autoplay.running&&(s.params.autoplay.disableOnInteraction?_():(m=!0,d=!1,p=!1,u=setTimeout(()=>{p=!0,d=!0,E(!0)},200)))}),i("touchEnd",()=>{if(!s.destroyed&&s.autoplay.running&&m){if(clearTimeout(u),clearTimeout(t),s.params.autoplay.disableOnInteraction)return d=!1,void(m=!1);d&&s.params.cssMode&&D(),d=!1,m=!1}}),i("slideChange",()=>{!s.destroyed&&s.autoplay.running&&(h=!0)}),Object.assign(s.autoplay,{start:y,stop:_,pause:E,resume:D})}function Qd(e,t){const r=Gm(t);return r!==t&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function Zd(e,t,r){const s=`swiper-slide-shadow${r?`-${r}`:""} swiper-slide-shadow-${e}`,o=Gm(t);let i=o.querySelector(`.${s.split(" ").join(".")}`);return i||(i=Wm("div",s.split(" ")),o.append(i)),i}function eu(e){let{swiper:t,extendParams:r,on:s}=e;r({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}});!function(e){const{effect:t,swiper:r,on:s,setTranslate:o,setTransition:i,overwriteParams:a,perspective:n,recreateShadows:l,getEffectParams:c}=e;let m;s("beforeInit",()=>{if(r.params.effect!==t)return;r.classNames.push(`${r.params.containerModifierClass}${t}`),n&&n()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(r.params,e),Object.assign(r.originalParams,e)}),s("setTranslate _virtualUpdated",()=>{r.params.effect===t&&o()}),s("setTransition",(e,s)=>{r.params.effect===t&&i(s)}),s("transitionEnd",()=>{if(r.params.effect===t&&l){if(!c||!c().slideShadows)return;r.slides.forEach(e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>e.remove())}),l()}}),s("virtualUpdate",()=>{r.params.effect===t&&(r.slides.length||(m=!0),requestAnimationFrame(()=>{m&&r.slides&&r.slides.length&&(o(),m=!1)}))})}({effect:"coverflow",swiper:t,on:s,setTranslate:()=>{const{width:e,height:r,slides:s,slidesSizesGrid:o}=t,i=t.params.coverflowEffect,a=t.isHorizontal(),n=t.translate,l=a?e/2-n:r/2-n,c=a?i.rotate:-i.rotate,m=i.depth,d=function(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}(t);for(let t=0,u=s.length;t<u;t+=1){const e=s[t],r=o[t],n=(l-e.swiperSlideOffset-r/2)/r,u="function"==typeof i.modifier?i.modifier(n):n*i.modifier;let h=a?c*u:0,p=a?0:c*u,f=-m*Math.abs(u),v=i.stretch;"string"==typeof v&&-1!==v.indexOf("%")&&(v=parseFloat(i.stretch)/100*r);let g=a?0:v*u,b=a?v*u:0,x=1-(1-i.scale)*Math.abs(u);Math.abs(b)<.001&&(b=0),Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(x)<.001&&(x=0);const N=`translate3d(${b}px,${g}px,${f}px)  rotateX(${d(p)}deg) rotateY(${d(h)}deg) scale(${x})`;if(Qd(0,e).style.transform=N,e.style.zIndex=1-Math.abs(Math.round(u)),i.slideShadows){let t=a?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),r=a?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");t||(t=Zd("coverflow",e,a?"left":"top")),r||(r=Zd("coverflow",e,a?"right":"bottom")),t&&(t.style.opacity=u>0?u:0),r&&(r.style.opacity=-u>0?-u:0)}}},setTransition:e=>{t.slides.map(e=>Gm(e)).forEach(t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(t=>{t.style.transitionDuration=`${e}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}Xd.displayName="SwiperSlide";const tu=new Map;async function ru(e){if(!e)return null;const t=tu.get(e);if(t&&Date.now()-t.fetchedAt<3e5)return t.data;const r=await mi(e);if(!(null==r?void 0:r.success)||!r.data)return null;const s={streamUrl:r.data.stream_audio_url||r.data.audio_url||null,audioUrl:r.data.audio_url||r.data.stream_audio_url||null,status:r.data.status};return tu.set(e,{data:s,fetchedAt:Date.now()}),s}const su=()=>{const[e,t]=r.useState(null),[s,o]=r.useState({}),i={aniversario:["aniversrio","birthday","bday"],casamento:["casamento","wedding","nupcial"],amor:["amor","love","romance","cano de amor"],"aniversario-casamento":["aniversrio de casamento","wedding anniversary","bodas"],"so-porque":["s porque","just because","surpresa"],proposta:["proposta","pedido de casamento","proposal"],graduacao:["graduao","formatura","graduation"],"melhores-amigos":["melhores amigos","best friends","amizade","friend"],noivado:["noivado","engagement"],"dia-pais":["dia dos pais","father","pai"],"dia-maes":["dia das mes","mother","me"],natal:["natal","christmas","noel"]},a=e=>{const t=[e.audioUrlOption1,e.audioUrlOption2,e.audioUrl].filter(Boolean),r=t.find(e=>/^https?:\/\//.test(e)&&/\.(mp3|wav|m4a|aac)(\?|$)/i.test(e));if(r)return r;return t.find(e=>/^https?:\/\//.test(e))||null},n=e=>Boolean(a(e)),l=e=>Boolean(e.imageUrl),c=(e,t)=>{const r=[e.title,e.genre,e.mood,e.prompt].map(e=>(e=>(e||"").toLowerCase())(e)).join(" | ");return t.some(e=>r.includes(e.toLowerCase()))};r.useEffect(()=>{let e=!0;return(async()=>{var t,r;try{const d=await ai(80);let u=(null==(t=null==d?void 0:d.data)?void 0:t.songs)||(null==d?void 0:d.songs)||[];if(u=u.filter(e=>l(e)&&n(e)),u.length<24)try{const e=await ai(160),t=(null==(r=null==e?void 0:e.data)?void 0:r.songs)||(null==e?void 0:e.songs)||[];u=[...u,...t].filter((e,t,r)=>l(e)&&n(e)&&r.findIndex(t=>t.id===e.id)===t)}catch(s){}const h=new Set,p=new Set,f={},v=e=>{for(const t of e){const e=a(t);if(e&&(!h.has(t.id)&&!p.has(e)))return h.add(t.id),p.add(e),t}return null};for(const e of m){const t=i[e.id]||[],r=u.filter(e=>c(e,t));let s=v(r);s||(s=v(u)),f[e.id]=s}e&&o(f)}catch(kp){}})(),()=>{e=!1}},[]);const m=[{id:"aniversario",title:"Aniversrio",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=birthday%20celebration%20brazilian%20diverse%20family%20colorful%20balloons%20cake%20warm%20lighting%20joyful%20atmosphere%20mixed%20ethnicity&image_size=square",icon:je,color:"memora-primary"},{id:"casamento",title:"Casamento",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=elegant%20wedding%20ceremony%20brazilian%20couple%20diverse%20ethnicity%20flowers%20rings%20romantic%20atmosphere%20soft%20lighting%20cultural%20diversity&image_size=square",icon:se,color:"memora-coral"},{id:"amor",title:"Cano de Amor",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=romantic%20brazilian%20couple%20mixed%20ethnicity%20holding%20hands%20walking%20together%20sunset%20golden%20hour%20love%20intimate%20moment%20cultural%20diversity&image_size=square",icon:se,color:"memora-coral"},{id:"aniversario-casamento",title:"Aniversrio de Casamento",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=wedding%20anniversary%20celebration%20mature%20couple%20diverse%20ethnicity%20golden%20rings%20flowers%20elegant%20romantic%20dinner%20candlelight%20intimate%20setting&image_size=square",icon:Te,color:"memora-secondary"},{id:"so-porque",title:"S porque",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=spontaneous%20gesture%20love%20couple%20diverse%20ethnicity%20surprise%20gift%20warm%20colors%20heartfelt%20moment%20romantic%20atmosphere&image_size=square",icon:se,color:"memora-turquoise"},{id:"proposta",title:"Proposta",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=romantic%20marriage%20proposal%20scene%20in%20cozy%20living%20room%20with%20warm%20lighting%20man%20kneeling%20with%20ring%20woman%20surprised%20elegant%20home%20decor%20soft%20romantic%20atmosphere%20beautiful%20couple%20intimate%20moment%20television%20showing%20memories%20photos%20on%20wall%20rose%20petals%20on%20floor&image_size=square",icon:je,color:"memora-accent"},{id:"graduacao",title:"Graduao",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=graduation%20ceremony%20happy%20student%20cap%20gown%20university%20celebration%20diploma%20academic%20achievement%20diverse%20ethnicity%20joyful%20moment%20campus%20background%20festive%20atmosphere&image_size=square",icon:Pe,color:"memora-secondary"},{id:"melhores-amigos",title:"Melhores Amigos",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=group%20friends%20diverse%20ethnicities%20laughing%20together%20outdoor%20picnic%20friendship%20celebration%20joyful%20bonding%20sunset%20park%20casual%20clothes&image_size=square",icon:Pe,color:"memora-turquoise"},{id:"noivado",title:"Noivado",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=engagement%20celebration%20happy%20couple%20mixed%20ethnicity%20champagne%20rings%20joyful%20atmosphere%20romantic%20dinner&image_size=square",icon:Pe,color:"memora-primary"},{id:"dia-pais",title:"Dia dos Pais",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=brazilian%20father%20diverse%20ethnicity%20playing%20with%20child%20outdoor%20park%20paternal%20bond%20family%20joy%20father%20day%20celebration%20cultural%20diversity&image_size=square",icon:se,color:"memora-primary"},{id:"dia-maes",title:"Dia das Mes",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=mother%20diverse%20ethnicity%20hugging%20child%20garden%20flowers%20maternal%20love%20mother%20day%20warm%20sunlight%20tender%20moment&image_size=square",icon:se,color:"memora-coral"},{id:"natal",title:"Natal",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=christmas%20celebration%20family%20diverse%20ethnicities%20decorated%20tree%20lights%20gifts%20cozy%20living%20room%20festive%20warm%20atmosphere%20holiday%20gathering&image_size=square",icon:je,color:"memora-secondary"}];return at.jsxDEV("section",{id:"exemplos",className:"py-20",children:at.jsxDEV("div",{className:"container mx-auto px-4",children:[at.jsxDEV("div",{className:"text-center mb-16",children:[at.jsxDEV(jm,{children:"Momentos que viram cano"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:223,columnNumber:11},void 0),at.jsxDEV(Sm,{children:"H algo especial no poder das msicas de unir as pessoas e tornar momentos ainda mais significativos."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:226,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:222,columnNumber:9},void 0),at.jsxDEV(ou,{examples:m,playingId:e,onTogglePlay:r=>{e===r?t(null):(t(r),setTimeout(()=>{t(null)},15e3))},linked:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:230,columnNumber:9},void 0),at.jsxDEV("div",{className:"text-center mt-16",children:at.jsxDEV("div",{className:"inline-flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[at.jsxDEV("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[at.jsxDEV(ye,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:241,columnNumber:15},void 0),at.jsxDEV("span",{className:"font-medium",children:"Prvias de 45 segundos  Msicas completas de at 5 minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:242,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:240,columnNumber:13},void 0),at.jsxDEV("button",{className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:scale-95 transition-all duration-300","data-attr":"examples-cta-button",children:"Criar minha msica agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:246,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:239,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:238,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:220,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:219,columnNumber:5},void 0)};function ou({examples:e,playingId:t,onTogglePlay:s,linked:o}){const{play:i,pause:a,currentId:n,isPlaying:l}=gc(),[c,m]=r.useState(null),d=r.useRef(new Map),u=async(e,t)=>{if(!t)return void s(e);const r=t.id;if(n===r&&l)a();else try{m(r);const o=await(async e=>{const t=d.current.get(e.id);if(t)return t;const r=chooseAudioUrl(e),s=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(s){const t=await ru(s);if(null==t?void 0:t.streamUrl){const s={playbackUrl:t.streamUrl,downloadUrl:t.audioUrl||r||null};return d.current.set(e.id,s),s}}if(r){const t={playbackUrl:r,downloadUrl:r};return d.current.set(e.id,t),t}return null})(t);if(!(null==o?void 0:o.playbackUrl))return _t.error("No foi possvel carregar a prvia desta msica."),void s(e);i(r,o.playbackUrl,{title:t.title})}catch(o){_t.error("Falha ao reproduzir esta prvia."),s(e)}finally{m(e=>e===r?null:e)}};return at.jsxDEV("div",{className:"relative",children:at.jsxDEV(Wd,{modules:[eu,Kd],effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",grabCursor:!0,loop:!0,spaceBetween:32,coverflowEffect:{rotate:15,stretch:0,depth:140,modifier:1.1,slideShadows:!1},autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},className:"px-10",children:e.map(e=>{const r=e.icon,s=t===e.id,i=o[e.id]||null,a=(null==i?void 0:i.id)||null,m=a&&n===a&&l,d=!!a&&c===a;return at.jsxDEV(Xd,{className:"!w-[92%] sm:!w-[78%] md:!w-[66%] lg:!w-[58%] xl:!w-[52%]",children:at.jsxDEV("div",{className:"relative rounded-[22px] overflow-hidden shadow-2xl ring-1 ring-white/20",children:at.jsxDEV("div",{className:"relative aspect-[1.62/1] sm:aspect-[1.85/1] overflow-hidden",children:[at.jsxDEV("img",{src:e.image,alt:`Exemplo de msica para ${e.title}`,className:"w-full h-full object-cover object-center"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:374,columnNumber:19},this),at.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/20 to-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:381,columnNumber:19},this),at.jsxDEV("div",{className:"absolute inset-0 flex flex-col justify-center pl-6 sm:pl-10 pr-6",children:[at.jsxDEV("h3",{className:"font-heading text-white font-semibold drop-shadow-sm text-xl sm:text-2xl md:text-3xl lg:text-4xl max-w-[75%]",children:e.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:385,columnNumber:21},this),at.jsxDEV("div",{className:"mt-4",children:at.jsxDEV("button",{onClick:()=>{u(e.id,i)},disabled:d,className:`inline-flex items-center gap-2 rounded-2xl px-5 py-2.5 text-sm sm:text-base font-semibold transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60 shadow-[inset_0_1px_0_rgba(255,255,255,0.3)] ${m||s?"bg-white text-neutral-900":"bg-white/20 hover:bg-white/30 text-white border border-white/40 backdrop-blur"} ${d?"opacity-70 cursor-wait":""}`,"aria-label":`${d?"Carregando":m||s?"Pausar":"Reproduzir"} exemplo de ${e.title}`,children:[at.jsxDEV("span",{className:"tracking-wide",children:d?"Carregando...":"Oua agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:401,columnNumber:23},this),at.jsxDEV("span",{className:"ml-1 inline-flex h-5 w-5 items-center justify-center rounded-full "+(m||s?"bg-neutral-900 text-white":"bg-white/80 text-neutral-900"),children:d?at.jsxDEV("div",{className:"h-3.5 w-3.5 border-2 border-current/40 border-t-current rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:406,columnNumber:27},this):at.jsxDEV(ue,{className:"h-3.5 w-3.5 translate-x-[1px]"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:408,columnNumber:27},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:402,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:389,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:388,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:384,columnNumber:19},this),at.jsxDEV("div",{className:`absolute top-4 right-4 w-9 h-9 rounded-full flex items-center justify-center bg-${e.color}/90`,children:at.jsxDEV(r,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:417,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:416,columnNumber:19},this),(m||s||d)&&at.jsxDEV("div",{className:"absolute bottom-3 left-3 flex items-center space-x-1",children:[at.jsxDEV("div",{className:"flex space-x-1",children:[...Array(3)].map((e,t)=>at.jsxDEV("div",{className:"w-1 h-4 bg-white rounded-full animate-pulse",style:{animationDelay:.2*t+"s",animationDuration:"1s"}},t,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:425,columnNumber:27},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:423,columnNumber:23},this),at.jsxDEV(ye,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:435,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:422,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:373,columnNumber:17},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:372,columnNumber:15},this)},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:371,columnNumber:13},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:348,columnNumber:7},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:345,columnNumber:5},this)}const iu=["Pop","R&B","Soul","Hip hop","Latin Pop","Ballad","Cinematic","Opera","Soul/Funk","Pop/EDM"],au=e=>Boolean(e.audioUrlOption1||e.audioUrlOption2||e.audioUrl),nu=e=>Boolean(e.imageUrl),lu=()=>{const[e,t]=r.useState([]),[s,o]=r.useState(null),[i,a]=r.useState(null),n=r.useRef(new Map),{currentId:l,isPlaying:c,play:m,pause:d}=gc();r.useEffect(()=>{let e=!0;return(async()=>{var r;try{const s=await ai(24),o=(null==(r=null==s?void 0:s.data)?void 0:r.songs)||(null==s?void 0:s.songs)||[],i=(o.filter(e=>nu(e)),o.filter(e=>au(e)),o.filter(e=>nu(e)&&au(e)).slice(0,12));if(i.forEach((e,t)=>{}),!e)return;t(i)}catch(kp){e&&t([])}})(),()=>{e=!1}},[]);const u=async e=>{if(l===e.id&&c)d();else try{a(e.id);const t=await(async e=>{const t=n.current.get(e.id);if(t)return t;const r=(e=>e.audioUrlOption1||e.audioUrlOption2||e.audioUrl||null)(e),s=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(s){const t=await ru(s);if(null==t?void 0:t.streamUrl){const s={playbackUrl:t.streamUrl,downloadUrl:t.audioUrl||r||null};return n.current.set(e.id,s),s}}if(r){const t={playbackUrl:r,downloadUrl:r};return n.current.set(e.id,t),t}return null})(e);if(!(null==t?void 0:t.playbackUrl))return void _t.error("No foi possvel carregar o udio desta msica.");o(e.imageUrl||null),m(e.id,t.playbackUrl,{title:e.title,versionLabel:e.audioUrlOption2&&!e.audioUrlOption1?"B":"A"})}catch(t){_t.error("Erro ao tocar a msica. Tente novamente em instantes.")}finally{a(t=>t===e.id?null:t)}},h=r.useMemo(()=>s?{backgroundImage:`url(${s})`}:void 0,[s]);return at.jsxDEV("section",{id:"artistas",className:"py-20 relative overflow-hidden",children:[at.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-lg transition-[background-image] duration-500",style:h,"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:173,columnNumber:7},void 0),at.jsxDEV("div",{className:"relative container mx-auto px-4",children:[at.jsxDEV("div",{className:"text-center mb-6",children:[at.jsxDEV(jm,{className:"text-white drop-shadow",children:"Artistas que do voz s suas memrias"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:182,columnNumber:11},void 0),at.jsxDEV(Sm,{className:"mt-3 text-white/90 max-w-3xl mx-auto",children:"Descubra vozes nicas e estilos variados para dar vida s suas memrias. Clique para ouvir e deixe a capa do lbum iluminar o momento."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:185,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:181,columnNumber:9},void 0),at.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-5 lg:gap-6",children:e.slice(0,12).map((e,t)=>{const r=e.imageUrl||"",s=(e=>{if(!e)return"";const t=[" - ","  ","  ",": ","/"];let r=e;for(const s of t)r.includes(s)&&(r=r.split(s).pop().trim());return r})(e.genre)||iu[t%iu.length],o=l===e.id&&c,a=i===e.id;return at.jsxDEV("button",{onClick:()=>u(e),disabled:a,className:"group relative aspect-square rounded-2xl overflow-hidden shadow-[0_10px_20px_rgba(0,0,0,0.25)] bg-black/30 ring-1 ring-white/10 hover:ring-white/30 transition spotlight "+(a?"opacity-80 cursor-wait":""),"aria-label":`Reproduzir ${e.title}`,children:[at.jsxDEV("img",{src:r,alt:e.title,className:"absolute inset-0 w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:206,columnNumber:17},void 0),at.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 via-black/10 to-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:208,columnNumber:17},void 0),at.jsxDEV("div",{className:"absolute top-2 left-2 px-2.5 py-1 rounded-md text-[11px] font-semibold text-white bg-black/60 backdrop-blur text-left",children:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:210,columnNumber:17},void 0),at.jsxDEV("div",{className:"absolute bottom-2 right-2",children:at.jsxDEV("div",{className:"w-11 h-11 rounded-full bg-white/70 group-hover:bg-white/90 flex items-center justify-center shadow-md",children:a?at.jsxDEV("div",{className:"w-4 h-4 border-2 border-black/40 border-t-black rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:217,columnNumber:23},void 0):o?at.jsxDEV(de,{className:"w-5 h-5 text-black"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:219,columnNumber:23},void 0):at.jsxDEV(ue,{className:"w-5 h-5 text-black ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:221,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:215,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:214,columnNumber:17},void 0)]},e.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:198,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:191,columnNumber:9},void 0),at.jsxDEV("div",{className:"relative mt-10 text-center",children:at.jsxDEV("div",{className:"inline-flex flex-col items-center gap-3 bg-black/20 backdrop-blur-sm border border-white/10 rounded-2xl px-6 py-5",children:[at.jsxDEV("span",{className:"text-white/90 text-sm sm:text-base",children:"Gostou do que ouviu? Crie sua prpria msica personalizada agora mesmo."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:233,columnNumber:13},void 0),at.jsxDEV(cu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:236,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:232,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:231,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:179,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:170,columnNumber:5},void 0)},cu=()=>{const e=qs(),{token:t}=Zl(),{startNewCreationFlow:r}=mm();return at.jsxDEV("button",{onClick:async()=>{try{await r(e,t||null)}catch(kp){e("/criar")}},className:"inline-flex items-center justify-center px-5 py-3 rounded-full bg-white text-black font-semibold shadow hover:shadow-md transition",children:"Crie sua msica grtis"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:262,columnNumber:5},void 0)},mu=[{id:1,name:"Despedida",video:"/Videos/Despedida.mp4"},{id:2,name:"Dia dos Pais",video:"/Videos/DiaPais.mp4"},{id:3,name:"Saudade de Amor",video:"/Videos/SaudadeAmor.mp4"},{id:4,name:"Aniversrio de Casamento",video:"/Videos/aniversarioCasamento.mp4"},{id:5,name:"Aniversrio do Pai",video:"/Videos/aniversarioPai.mp4"},{id:6,name:"Dia das Mes",video:"/Videos/diamaes.mp4"},{id:7,name:"Honrar Memorial",video:"/Videos/honrarMemorial.mp4"},{id:8,name:"Melhores Amigas",video:"/Videos/melhoresAmigas.mp4"},{id:9,name:"Para Vov",video:"/Videos/paraVovo.mp4"},{id:10,name:"Pedido de Casamento",video:"/Videos/pedidoCasamento.mp4"}];function du(){const e=r.useRef(null),[t,s]=r.useState(0),[o,i]=r.useState(!0),[a,n]=r.useState(!1),l=r.useRef([]),[c,m]=r.useState(new Array(mu.length).fill(!0)),[d,u]=r.useState(!0),[h,p]=r.useState(new Array(mu.length).fill(!1)),f=(e,t)=>{t&&t.stopPropagation();const r=!d;u(r),m(Array(mu.length).fill(r)),l.current.forEach(e=>{e&&(e.muted=r)})};return r.useEffect(()=>{mu.length>0&&(async()=>{if(!a)return;if(t<0||t>=mu.length)return;l.current.forEach((e,r)=>{e&&r!==t&&e.pause()}),await new Promise(e=>setTimeout(e,150));const e=l.current[t];if(e)try{e.currentTime=0,await e.play()}catch(r){}})()},[t,mu,a]),r.useEffect(()=>{0!==t&&s(0)},[]),at.jsxDEV("div",{className:"user-slider-container w-full py-12",children:[at.jsxDEV("style",{children:"\n        .user-slider-container {\n          max-width: 1320px;\n          margin: 0 auto;\n          padding: 0 1rem;\n        }\n        \n        .user-slider .swiper {\n          width: 100%;\n          padding: 50px 0;\n        }\n\n        .user-slider .swiper-slide {\n          position: relative;\n          width: 200px;\n          height: 360px;\n          border-radius: 18px;\n          overflow: hidden;\n          transition: all 0.6s ease;\n          user-select: none;\n          cursor: pointer;\n          box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);\n          border: 1px solid rgba(255,255,255,0.06);\n        }\n\n        .user-slider .swiper-slide::after {\n          content: '';\n          position: absolute;\n          inset: 0;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(180deg, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.0) 55%, rgba(0,0,0,0.55) 100%);\n          z-index: 1;\n          transition: all 0.6s ease;\n        }\n\n        /* Red tint overlay to match mock */\n        .user-slider .swiper-slide::before {\n          content: '';\n          position: absolute;\n          inset: 0;\n          background: rgba(120, 0, 0, 0.25);\n          z-index: 0;\n          transition: opacity 0.6s ease;\n          opacity: 1;\n        }\n\n        .user-slider .swiper-slide video {\n          position: absolute;\n          left: 0;\n          top: -46px; /* shift up so the cropped area fica fora do carto */\n          width: 100%;\n          height: calc(100% + 92px); /* estende 46px acima e 46px abaixo para permitir o recorte */\n          object-fit: cover;\n          object-position: center top;\n          /* Recorta 46px no topo e 46px na base mantendo a rea visvel igual ao carto */\n          clip-path: inset(46px 0 46px 0);\n          -webkit-clip-path: inset(46px 0 46px 0);\n          transition: all 0.6s ease;\n        }\n\n        .user-slider .swiper-slide p {\n          position: absolute;\n          left: 14px;\n          bottom: 12px;\n          right: auto;\n          color: #fff;\n          font-size: 0.9rem;\n          font-weight: 700;\n          font-style: italic;\n          letter-spacing: 0.5px;\n          z-index: 2;\n          opacity: 0;\n          transform: translateY(10px);\n          transition: all 0.4s ease;\n          text-shadow: 0 2px 6px rgba(0, 0, 0, 0.9);\n          text-align: left;\n        }\n\n        .user-slider .mute-button {\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 36px;\n          height: 36px;\n          background: rgba(0, 0, 0, 0.6);\n          border: none;\n          border-radius: 50%;\n          color: #fff;\n          cursor: pointer;\n          z-index: 3;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 14px;\n          transition: all 0.3s ease;\n          backdrop-filter: blur(4px);\n          opacity: 0;\n          transform: scale(0.8);\n        }\n\n        .user-slider .mute-button svg {\n          width: 18px;\n          height: 18px;\n          display: block;\n        }\n\n        .user-slider .mute-button:hover {\n          background: rgba(0, 0, 0, 0.8);\n          transform: scale(1.1);\n        }\n\n        .user-slider .swiper-slide-active .mute-button {\n          opacity: 1;\n          transform: scale(1);\n        }\n\n        .user-slider .video-container {\n          position: relative;\n          width: 100%;\n          height: 100%;\n          cursor: pointer;\n        }\n\n        .user-slider .video-container:hover .mute-button {\n          opacity: 1;\n          transform: scale(1);\n        }\n\n        .user-slider .swiper-slide-active {\n          width: 320px !important;\n          height: 520px !important;\n          transition: all 0.6s ease;\n          box-shadow: 0 14px 60px rgba(0, 0, 0, 0.35);\n          border-color: rgba(255,255,255,0.12);\n        }\n\n        .user-slider .swiper-slide-active::after {\n          background: linear-gradient(180deg, rgba(0,0,0,0.0) 0%, rgba(0,0,0,0.0) 60%, rgba(0,0,0,0.6) 100%);\n        }\n\n        .user-slider .swiper-slide-active::before {\n          opacity: 0.1;\n        }\n\n        .user-slider .swiper-slide-active video {\n          transform: scale(1.05);\n        }\n\n        .user-slider .swiper-slide-active p {\n          transform: translateY(0);\n          opacity: 1;\n        }\n\n        .user-slider .swiper-pagination {\n          position: relative;\n          margin-top: 30px;\n        }\n\n        .user-slider .swiper-pagination-bullet {\n          width: 8px;\n          height: 8px;\n          background-color: rgba(255, 255, 255, 0.35);\n          border-radius: 50%;\n          transition: all 0.3s ease;\n          opacity: 1;\n          margin: 0 4px;\n        }\n\n        .user-slider .swiper-pagination-bullet-active {\n          width: 22px;\n          height: 8px;\n          background: #e23b3b;\n          border-radius: 9999px;\n          transform: none;\n          box-shadow: 0 0 8px rgba(226, 59, 59, 0.5);\n        }\n\n        /* Responsividade */\n        @media (max-width: 1400px) {\n          .user-slider .swiper-slide {\n            width: 180px;\n            height: 320px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 280px !important;\n            height: 480px !important;\n          }\n        }\n\n        @media (max-width: 1024px) {\n          .user-slider-container {\n            max-width: 100%;\n            padding: 0 0.5rem;\n          }\n          \n          .user-slider .swiper-slide {\n            width: 160px;\n            height: 280px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 240px !important;\n            height: 420px !important;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .user-slider .swiper {\n            padding: 30px 0;\n          }\n          \n          .user-slider .swiper-slide {\n            width: 130px;\n            height: 210px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 190px !important;\n            height: 300px !important;\n          }\n          \n          .user-slider .swiper-slide p {\n            font-size: 0.75rem;\n            left: 8px;\n            right: 8px;\n            bottom: 8px;\n          }\n          \n          .user-slider .mute-button {\n            width: 32px;\n            height: 32px;\n            top: 8px;\n            right: 8px;\n            font-size: 12px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .user-slider .swiper {\n            padding: 20px 0;\n          }\n          \n          .user-slider .swiper-slide {\n            width: 120px;\n            height: 180px;\n          }\n          \n          .user-slider .swiper-slide-active {\n            width: 160px !important;\n            height: 240px !important;\n          }\n          \n          .user-slider .swiper-slide p {\n            font-size: 0.7rem;\n            left: 6px;\n            right: 6px;\n            bottom: 6px;\n          }\n          \n          .user-slider .swiper-pagination-bullet {\n            width: 6px;\n            height: 6px;\n          }\n          \n          .user-slider .mute-button {\n            width: 28px;\n            height: 28px;\n            top: 6px;\n            right: 6px;\n            font-size: 10px;\n          }\n        }\n      "},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:182,columnNumber:7},this),at.jsxDEV("div",{className:"user-slider",children:at.jsxDEV(Wd,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",loop:!1,coverflowEffect:{rotate:15,stretch:0,depth:140,modifier:1,slideShadows:!1},pagination:{clickable:!0,dynamicBullets:!0},modules:[eu,Jd],onSlideChange:e=>{s(e.realIndex),n(!0),setTimeout(()=>{const t=e.realIndex;l.current.forEach((e,r)=>{e&&r!==t&&e.pause()});const r=l.current[t];r&&(r.currentTime=0,r.play().catch(e=>{}))},100)},onSwiper:t=>{e.current=t,s(t.realIndex)},onClick:e=>{const r=e.clickedIndex;void 0!==r&&r!==t&&s(r)},className:"w-full h-full",children:[mu.map((e,r)=>at.jsxDEV(Xd,{children:at.jsxDEV("div",{className:"video-container",children:[at.jsxDEV("video",{ref:e=>{l.current[r]=e},src:e.video,muted:c[r],loop:!0,playsInline:!0,preload:"auto",onError:e=>{},onClick:e=>((e,r)=>{r.stopPropagation(),e===t&&f()})(r,e)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:518,columnNumber:17},this),at.jsxDEV("button",{className:"mute-button",onClick:e=>f(0,e),"aria-label":d?"Ativar som":"Desativar som",children:d?at.jsxDEV(Ce,{className:"w-[18px] h-[18px] text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:544,columnNumber:21},this):at.jsxDEV(he,{className:"w-[18px] h-[18px] text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:546,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:538,columnNumber:17},this),at.jsxDEV("p",{children:e.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:549,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:517,columnNumber:15},this)},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:516,columnNumber:13},this)),at.jsxDEV("div",{className:"swiper-pagination"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:553,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:460,columnNumber:9},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:458,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/UserSlider.tsx",lineNumber:180,columnNumber:5},this)}const uu=()=>{const[e,t]=r.useState(0),s=[{id:1,text:"Recebi uma msica da minha filha no meu aniversrio e foi o presente mais emocionante que j ganhei.",author:"Maria",age:42,location:"So Paulo",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=middle%20aged%20woman%20smiling%20warmly%20portrait%20happy%20mother%20professional%20photo&image_size=square",rating:5},{id:2,text:"Criei uma msica para o meu marido no nosso aniversrio de casamento. Ele chorou de emoo quando ouviu.",author:"Ana",age:35,location:"Rio de Janeiro",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young%20woman%20smiling%20portrait%20happy%20wife%20professional%20photo%20warm%20lighting&image_size=square",rating:5},{id:3,text:"Nunca imaginei que seria to fcil criar uma msica personalizada. O resultado superou todas as minhas expectativas.",author:"Carlos",age:28,location:"Belo Horizonte",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young%20man%20smiling%20portrait%20happy%20professional%20photo%20confident%20expression&image_size=square",rating:5}],o=s[e];return at.jsxDEV("section",{className:"py-20 relative overflow-hidden",children:[at.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:[at.jsxDEV("div",{className:"absolute top-10 left-10 w-32 h-32 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:55,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute bottom-20 right-20 w-24 h-24 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:56,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:54,columnNumber:7},void 0),at.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[at.jsxDEV("div",{className:"text-center mb-16",children:[at.jsxDEV(jm,{children:"O que nossos usurios dizem"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:63,columnNumber:11},void 0),at.jsxDEV(Sm,{className:"max-w-3xl mx-auto",children:"Histrias reais de pessoas que transformaram suas memrias em msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:66,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:62,columnNumber:9},void 0),at.jsxDEV(du,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:72,columnNumber:9},void 0),at.jsxDEV("div",{className:"relative",children:[at.jsxDEV("div",{className:"surface-2 rounded-3xl p-8 lg:p-12",children:[at.jsxDEV("div",{className:"flex justify-center mb-8",children:at.jsxDEV("div",{className:"w-16 h-16 bg-secondary rounded-full flex items-center justify-center",children:at.jsxDEV(ke,{className:"w-8 h-8 text-neutral-dark"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:80,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:79,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:78,columnNumber:13},void 0),at.jsxDEV("div",{className:"text-center mb-8",children:[at.jsxDEV("blockquote",{className:"text-2xl lg:text-3xl font-heading text-foreground leading-relaxed mb-8",children:['"',o.text,'"']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:86,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex justify-center mb-6",children:[...Array(o.rating)].map((e,t)=>at.jsxDEV(ge,{className:"w-6 h-6 text-secondary fill-current"},t,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:93,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:91,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex items-center justify-center space-x-4",children:[at.jsxDEV("div",{className:"w-16 h-16 rounded-full overflow-hidden ring-4 ring-black/10",children:at.jsxDEV("img",{src:o.avatar,alt:`Foto de ${o.author}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:100,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:99,columnNumber:17},void 0),at.jsxDEV("div",{className:"text-left",children:[at.jsxDEV("div",{className:"text-foreground font-heading font-bold text-lg",children:[o.author,", ",o.age," anos"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:107,columnNumber:19},void 0),at.jsxDEV("div",{className:"text-muted-foreground",children:o.location},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:110,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:98,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:85,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:76,columnNumber:11},void 0),s.length>1&&at.jsxDEV(at.Fragment,{children:[at.jsxDEV(qo,{onClick:()=>{t(e=>(e-1+s.length)%s.length)},variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-black/10 hover:bg-black/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 group p-0","aria-label":"Depoimento anterior",children:at.jsxDEV(Ue,{className:"w-6 h-6 text-neutral-dark group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:128,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:121,columnNumber:15},void 0),at.jsxDEV(qo,{onClick:()=>{t(e=>(e+1)%s.length)},variant:"ghost",size:"sm",className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-black/10 hover:bg-black/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 group p-0","aria-label":"Prximo depoimento",children:at.jsxDEV(Ve,{className:"w-6 h-6 text-neutral-dark group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:138,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:75,columnNumber:9},void 0),s.length>1&&at.jsxDEV("div",{className:"flex justify-center mt-8 space-x-3",children:s.map((r,s)=>at.jsxDEV(qo,{onClick:()=>t(s),variant:"ghost",size:"sm",className:"w-3 h-3 rounded-full transition-all duration-300 p-0 h-3 min-w-0 "+(s===e?"bg-memora-secondary scale-125":"bg-black/20 hover:bg-black/30"),"aria-label":`Ir para depoimento ${s+1}`},s,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:148,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:146,columnNumber:11},void 0),at.jsxDEV("div",{className:"mt-16 grid sm:grid-cols-3 gap-8 text-center",children:[at.jsxDEV("div",{children:[at.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-secondary mb-2",children:"500+"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:167,columnNumber:13},void 0),at.jsxDEV("div",{className:"text-muted-foreground",children:"Msicas criadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:166,columnNumber:11},void 0),at.jsxDEV("div",{children:[at.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-secondary mb-2",children:"4.9"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:176,columnNumber:13},void 0),at.jsxDEV("div",{className:"text-muted-foreground",children:"Avaliao mdia"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:179,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:175,columnNumber:11},void 0),at.jsxDEV("div",{children:[at.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-secondary mb-2",children:"98%"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:185,columnNumber:13},void 0),at.jsxDEV("div",{className:"text-muted-foreground",children:"Satisfao dos usurios"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:188,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:184,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:165,columnNumber:9},void 0),at.jsxDEV("div",{className:"text-center mt-12",children:at.jsxDEV(qo,{className:"bg-secondary hover:bg-secondary/90 text-neutral-dark font-heading font-bold py-4 px-8 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl","data-attr":"testimonial-cta-create-music",size:"lg",children:"Criar minha msica agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:196,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:195,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:60,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:52,columnNumber:5},void 0)},hu=()=>{const[e,t]=r.useState(0);return at.jsxDEV("section",{className:"py-20",children:at.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:at.jsxDEV("div",{className:"mb-20",children:[at.jsxDEV("div",{className:"text-center mb-12",children:[at.jsxDEV(jm,{children:"Perguntas Frequentes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:36,columnNumber:13},void 0),at.jsxDEV(Sm,{children:"Tire suas dvidas sobre como criar sua msica personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:39,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:35,columnNumber:11},void 0),at.jsxDEV("div",{className:"space-y-4",children:[{question:"Como a msica  criada?",answer:"A IA transforma sua histria em letra e melodia exclusivas. Voc conta sua histria, descreve a ocasio e os sentimentos, e nossa inteligncia artificial cria uma msica nica em menos de 5 minutos."},{question:"Posso escolher o estilo musical?",answer:"Sim, voc escolhe entre vrios estilos populares como pop, romntico, infantil, sertanejo, rock, MPB e muitos outros. Cada estilo  adaptado para criar a atmosfera perfeita para sua ocasio especial."},{question:"Quanto tempo demora?",answer:"Menos de 5 minutos na maioria dos casos. Aps voc fornecer as informaes sobre sua histria, nossa IA processa e gera sua msica personalizada rapidamente, para que voc possa ouvir e compartilhar no mesmo dia."}].map((r,s)=>at.jsxDEV("div",{className:"rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-lg bg-white/70 border border-black/5",children:[at.jsxDEV("button",{onClick:()=>(r=>{t(e===r?null:r)})(s),className:"w-full px-6 py-6 text-left flex items-center justify-between hover:bg-black/5 transition-colors duration-200","aria-expanded":e===s,children:[at.jsxDEV("h3",{className:"text-lg font-heading font-bold text-foreground pr-4",children:r.question},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:53,columnNumber:19},void 0),e===s?at.jsxDEV(Ae,{className:"w-6 h-6 text-memora-primary flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:57,columnNumber:21},void 0):at.jsxDEV(Me,{className:"w-6 h-6 text-memora-primary flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:59,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:48,columnNumber:17},void 0),e===s&&at.jsxDEV("div",{className:"px-6 pb-6",children:at.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:r.answer},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:65,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:64,columnNumber:19},void 0)]},s,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:44,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:42,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:34,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:31,columnNumber:5},void 0)},pu=({onOpenAuth:e})=>at.jsxDEV("section",{className:"py-20 lg:py-32 bg-gradient-to-br from-memora-primary via-memora-primary/95 to-memora-primary/90 relative overflow-hidden",children:[at.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:[at.jsxDEV("div",{className:"absolute top-10 left-10 w-32 h-32 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:15,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute top-32 right-20 w-24 h-24 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:16,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:17,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute bottom-32 right-10 w-28 h-28 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:18,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute top-20 right-1/4",children:at.jsxDEV(ye,{className:"w-8 h-8 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:22,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:21,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute bottom-40 left-20",children:at.jsxDEV(ye,{className:"w-6 h-6 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:25,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:24,columnNumber:9},void 0),at.jsxDEV("div",{className:"absolute top-1/2 right-16",children:at.jsxDEV(ye,{className:"w-10 h-10 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:28,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:14,columnNumber:7},void 0),at.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[at.jsxDEV("div",{className:"mb-12",children:[at.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-6xl font-heading font-bold text-white mb-6 leading-tight",children:"Surpreenda quem voc ama com uma msica feita s para ele ou ela"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:35,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-xl lg:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:" grtis no lanamento. Crie agora e descubra o poder de transformar sentimentos em melodia."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:38,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:34,columnNumber:9},void 0),at.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[at.jsxDEV("button",{onClick:e,className:"group bg-memora-secondary hover:bg-memora-secondary/90 text-memora-black font-heading font-bold py-5 px-10 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl flex items-center space-x-3 text-lg","data-attr":"final-cta-create-music",children:[at.jsxDEV(ye,{className:"w-6 h-6 group-hover:rotate-12 transition-transform duration-300"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:51,columnNumber:13},void 0),at.jsxDEV("span",{children:"Criar minha msica grtis agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:46,columnNumber:11},void 0),at.jsxDEV("button",{onClick:()=>{const e=document.getElementById("examples");e&&e.scrollIntoView({behavior:"smooth"})},className:"group border-2 border-white text-white hover:bg-white hover:text-memora-primary font-heading font-bold py-5 px-10 rounded-2xl transition-all duration-300 hover:scale-105 flex items-center space-x-3 text-lg","data-attr":"final-cta-listen-examples",children:[at.jsxDEV(ue,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:61,columnNumber:13},void 0),at.jsxDEV("span",{children:"Ouvir exemplos de msicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:62,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:56,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:44,columnNumber:9},void 0),at.jsxDEV("div",{className:"mt-12 pt-8 border-t border-white/20",children:at.jsxDEV("div",{className:"grid sm:grid-cols-3 gap-8 text-center",children:[at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:at.jsxDEV(ye,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:71,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:70,columnNumber:15},void 0),at.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"100% Personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:73,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-white/80 text-sm",children:"Cada msica  nica e criada especialmente para voc"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:76,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:69,columnNumber:13},void 0),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:at.jsxDEV("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:at.jsxDEV("span",{className:"text-memora-primary text-xs font-bold",children:"IA"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:84,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:83,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:82,columnNumber:15},void 0),at.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"Tecnologia Avanada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:87,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-white/80 text-sm",children:"Inteligncia artificial de ltima gerao para criar sua msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:90,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:81,columnNumber:13},void 0),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:at.jsxDEV("div",{className:"w-6 h-6 text-white font-bold text-lg",children:""},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:97,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:96,columnNumber:15},void 0),at.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"Qualidade Profissional"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:101,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-white/80 text-sm",children:"udio em alta qualidade, pronto para compartilhar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:68,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:67,columnNumber:9},void 0),at.jsxDEV("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-white/60 text-sm",children:[at.jsxDEV("div",{className:"flex items-center space-x-2",children:[at.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:114,columnNumber:13},void 0),at.jsxDEV("span",{children:"Grtis no lanamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:113,columnNumber:11},void 0),at.jsxDEV("div",{className:"flex items-center space-x-2",children:[at.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:118,columnNumber:13},void 0),at.jsxDEV("span",{children:"Sem compromisso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:119,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:117,columnNumber:11},void 0),at.jsxDEV("div",{className:"flex items-center space-x-2",children:[at.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:122,columnNumber:13},void 0),at.jsxDEV("span",{children:"Resultado em minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:112,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:32,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:12,columnNumber:5},void 0),fu=()=>{const[e,t]=r.useState(!1),[s,o]=r.useState(!1),[i,a]=r.useState({necessary:!0,analytics:!1,marketing:!1});r.useEffect(()=>{const e=localStorage.getItem("memora-cookie-consent");if(!e){const e=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(e)}try{const t=JSON.parse(e);a(t)}catch(r){}},[]);const n=e=>{localStorage.setItem("memora-cookie-consent",JSON.stringify(e)),a(e),t(!1),o(!1),e.analytics,e.marketing},l=e=>{"necessary"!==e&&a(t=>({...t,[e]:!t[e]}))};return e?at.jsxDEV(at.Fragment,{children:[at.jsxDEV("div",{className:"fixed bottom-0 left-0 right-0 surface-1 shadow-2xl z-50 transform transition-transform duration-500",children:at.jsxDEV("div",{className:"container mx-auto px-4 py-4",children:at.jsxDEV("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[at.jsxDEV("div",{className:"flex-1",children:at.jsxDEV("div",{className:"flex items-start space-x-3",children:[at.jsxDEV("div",{className:"flex-shrink-0 mt-1",children:at.jsxDEV(Ie,{className:"w-5 h-5 text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:99,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:98,columnNumber:17},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h3",{className:"font-heading font-bold text-foreground text-sm mb-1",children:"Cookies e Privacidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:102,columnNumber:19},void 0),at.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Usamos cookies para melhorar sua experincia, analisar o trfego e personalizar contedo. Voc pode escolher quais cookies aceitar."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:105,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:101,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:97,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:96,columnNumber:13},void 0),at.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[at.jsxDEV("button",{onClick:()=>{n({necessary:!0,analytics:!0,marketing:!0})},className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm","data-attr":"cookie-accept-all",children:"Aceitar todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:114,columnNumber:15},void 0),at.jsxDEV("button",{onClick:()=>{n({necessary:!0,analytics:!1,marketing:!1})},className:"border border-white/20 hover:border-memora-primary text-muted-foreground hover:text-memora-primary font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm","data-attr":"cookie-reject-all",children:"Rejeitar todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:121,columnNumber:15},void 0),at.jsxDEV("button",{onClick:()=>{o(!0)},className:"border border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm flex items-center space-x-2","data-attr":"cookie-customize",children:[at.jsxDEV(Le,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:133,columnNumber:17},void 0),at.jsxDEV("span",{children:"Personalizar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:94,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:93,columnNumber:7},void 0),s&&at.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:at.jsxDEV("div",{className:"surface-2 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[at.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[at.jsxDEV("h2",{className:"text-2xl font-heading font-bold text-foreground",children:"Preferncias de Cookies"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:147,columnNumber:15},void 0),at.jsxDEV("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors duration-200","aria-label":"Fechar modal",children:at.jsxDEV(Z,{className:"w-6 h-6 text-muted-foreground"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:155,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:146,columnNumber:13},void 0),at.jsxDEV("div",{className:"p-6 space-y-6",children:[at.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:"Personalize suas preferncias de cookies. Voc pode alterar essas configuraes a qualquer momento."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:161,columnNumber:15},void 0),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[at.jsxDEV("div",{className:"flex items-center space-x-3",children:[at.jsxDEV(Ie,{className:"w-5 h-5 text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:171,columnNumber:23},void 0),at.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies Necessrios"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:172,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:170,columnNumber:21},void 0),at.jsxDEV("div",{className:"bg-memora-primary text-white text-xs px-2 py-1 rounded-full font-bold",children:"SEMPRE ATIVO"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:176,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:169,columnNumber:19},void 0),at.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies so essenciais para o funcionamento do site e no podem ser desativados. Eles so geralmente definidos em resposta a aes suas, como fazer login ou preencher formulrios."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:168,columnNumber:17},void 0),at.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[at.jsxDEV("div",{className:"flex items-center space-x-3",children:[at.jsxDEV(Oe,{className:"w-5 h-5 text-memora-turquoise"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:190,columnNumber:23},void 0),at.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies de Analytics"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:191,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:189,columnNumber:21},void 0),at.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[at.jsxDEV("input",{type:"checkbox",checked:i.analytics,onChange:()=>l("analytics"),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:196,columnNumber:23},void 0),at.jsxDEV("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(i.analytics?"bg-memora-primary":"bg-memora-gray/30"),children:at.jsxDEV("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i.analytics?"translate-x-5":"translate-x-0.5"} mt-0.5`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:205,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:202,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:195,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:188,columnNumber:19},void 0),at.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies nos ajudam a entender como os visitantes interagem com o site, coletando informaes de forma annima para melhorar a experincia do usurio."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:211,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:187,columnNumber:17},void 0),at.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[at.jsxDEV("div",{className:"flex items-center space-x-3",children:[at.jsxDEV(Re,{className:"w-5 h-5 text-memora-coral"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:221,columnNumber:23},void 0),at.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies de Marketing"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:222,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:220,columnNumber:21},void 0),at.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[at.jsxDEV("input",{type:"checkbox",checked:i.marketing,onChange:()=>l("marketing"),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:227,columnNumber:23},void 0),at.jsxDEV("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(i.marketing?"bg-memora-primary":"bg-memora-gray/30"),children:at.jsxDEV("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i.marketing?"translate-x-5":"translate-x-0.5"} mt-0.5`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:236,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:233,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:226,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:219,columnNumber:19},void 0),at.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies so usados para exibir anncios relevantes e medir a eficcia de nossas campanhas publicitrias em diferentes plataformas."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:218,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:160,columnNumber:13},void 0),at.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-white/10",children:[at.jsxDEV("button",{onClick:()=>o(!1),className:"flex-1 border border-white/20 hover:border-memora-primary text-muted-foreground hover:text-memora-primary font-heading font-bold py-3 px-6 rounded-2xl transition-colors duration-200",children:"Cancelar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:252,columnNumber:15},void 0),at.jsxDEV("button",{onClick:()=>{n(i)},className:"flex-1 bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-2xl transition-colors duration-200","data-attr":"cookie-save-preferences",children:"Salvar Preferncias"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:258,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:91,columnNumber:5},void 0):null},vu=()=>{const[e,t]=r.useState(!1),{showPaymentPopup:s}=tc();return at.jsxDEV("div",{className:"min-h-screen font-body",children:[at.jsxDEV("main",{children:[at.jsxDEV(Dm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:24,columnNumber:9},void 0),at.jsxDEV(Tm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:25,columnNumber:9},void 0),at.jsxDEV(su,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:26,columnNumber:9},void 0),at.jsxDEV(lu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:27,columnNumber:9},void 0),at.jsxDEV(uu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:28,columnNumber:9},void 0),at.jsxDEV(Pm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:29,columnNumber:9},void 0),at.jsxDEV(hu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:30,columnNumber:9},void 0),at.jsxDEV(pu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:23,columnNumber:7},void 0),at.jsxDEV(fu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:34,columnNumber:7},void 0),at.jsxDEV(pc,{isOpen:e,onClose:()=>t(!1)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:22,columnNumber:5},void 0)};function gu({steps:e,currentStep:t}){return at.jsxDEV("div",{className:"w-full max-w-md mx-auto mb-8",children:[at.jsxDEV("div",{className:"flex items-center",children:e.map((r,s)=>at.jsxDEV("div",{className:"flex items-center flex-1",children:[at.jsxDEV("div",{className:Jr("w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-smooth border-2",s<t?"bg-primary text-primary-foreground border-primary":s===t?"bg-primary text-primary-foreground border-primary shadow-primary":"bg-background text-muted-foreground border-border"),children:s<t?at.jsxDEV(Se,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:27,columnNumber:17},this):s+1},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:16,columnNumber:13},this),s<e.length-1&&at.jsxDEV("div",{className:Jr("h-0.5 flex-1 mx-2 transition-smooth",s<t?"bg-primary":"bg-border")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:35,columnNumber:15},this)]},s,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:14,columnNumber:11},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:12,columnNumber:7},this),at.jsxDEV("div",{className:"flex mt-2",children:e.map((r,s)=>at.jsxDEV("div",{className:"flex items-center flex-1",children:[at.jsxDEV("div",{className:"w-10 flex justify-center",children:at.jsxDEV("p",{className:Jr("text-xs font-medium transition-smooth text-center",s<=t?"text-primary":"text-muted-foreground"),children:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:51,columnNumber:15},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:50,columnNumber:13},this),s<e.length-1&&at.jsxDEV("div",{className:"flex-1 mx-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:62,columnNumber:15},this)]},s,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:49,columnNumber:11},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:47,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:11,columnNumber:5},this)}const bu=(e,t)=>{const r=document.createElement("a");r.href=e,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)},xu=({clips:e})=>{const t=r.useRef(null),s=r.useRef(null),o=r.useRef(null),i=r.useRef(null),[a,n]=r.useState(0),[l,c]=r.useState(!1),[m,d]=r.useState(0),[u,h]=r.useState(0),[p,f]=r.useState(1),[v,g]=r.useState(!1),{isMvpFlowComplete:b,setValidationPopupVisible:x}=mm(),{isLoggedIn:N}=Zl(),{showAuthPopup:w}=tc(),y=e[a],_=()=>{const e=t.current;e&&(d(e.currentTime),h(e.duration||0))},E=t=>{var r;t>=0&&t<e.length&&(null==(r=e[t])?void 0:r.audio_url)&&(n(t),c(!1),d(0))},D=()=>{const t=(a+1)%e.length;E(t)},S=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;r.useEffect(()=>{b&&t.current&&(t.current.volume=p,s.current&&(clearInterval(s.current),s.current=null))},[b,p]),r.useEffect(()=>()=>{s.current&&(clearInterval(s.current),s.current=null)},[]);const j=e.filter(e=>e.audio_url);return 0===j.length?at.jsxDEV("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-8 text-center",children:at.jsxDEV("div",{className:"text-slate-400",children:[at.jsxDEV("div",{className:"flex items-center justify-center gap-2 mb-2",children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:190,columnNumber:13},void 0),"Aguardando msicas..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:189,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-sm",children:"Suas msicas aparecero aqui quando estiverem prontas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:193,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:188,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:187,columnNumber:7},void 0):at.jsxDEV("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl overflow-hidden shadow-2xl",children:[at.jsxDEV("audio",{ref:t,src:null==y?void 0:y.audio_url,onTimeUpdate:()=>{_(),(()=>{const e=t.current;if(!e||b||N)return;const r=e.currentTime;r>=40&&!s.current&&(s.current=setInterval(()=>{e.volume>.1?e.volume=Math.max(0,e.volume-.1):e.volume=0},500)),r>=45&&(e.pause(),c(!1),s.current&&(clearInterval(s.current),s.current=null),N||x(!0))})()},onLoadedMetadata:_,onWaiting:()=>g(!0),onCanPlay:()=>g(!1),onEnded:D,preload:"metadata"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:202,columnNumber:7},void 0),at.jsxDEV("div",{className:"p-6",children:[at.jsxDEV("div",{className:"text-center mb-6",children:[at.jsxDEV("h3",{className:"text-xl font-bold text-white mb-1",children:(null==y?void 0:y.title)||`Opo ${a+1}`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:220,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-slate-400 text-sm",children:["Faixa ",a+1," de ",j.length]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:223,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:219,columnNumber:9},void 0),at.jsxDEV("div",{className:"mb-6",children:[at.jsxDEV("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-2",children:[at.jsxDEV("span",{children:S(m)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:231,columnNumber:13},void 0),at.jsxDEV("span",{children:S(u)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:232,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:230,columnNumber:11},void 0),at.jsxDEV("input",{ref:o,type:"range",min:"0",max:"100",value:u?m/u*100:0,onChange:e=>{const r=t.current;if(r){const t=parseFloat(e.target.value)/100*u;r.currentTime=t,d(t)}},className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:234,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:229,columnNumber:9},void 0),at.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-6",children:[at.jsxDEV("button",{onClick:()=>{const t=0===a?e.length-1:a-1;E(t)},disabled:j.length<=1,className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:at.jsxDEV(Fe,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:247,columnNumber:11},void 0),at.jsxDEV("button",{onClick:()=>{const e=t.current;e&&(null==y?void 0:y.audio_url)&&(l?(e.pause(),c(!1)):(e.play(),c(!0)))},disabled:!(null==y?void 0:y.audio_url)||v,className:"p-4 rounded-full bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?at.jsxDEV("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:261,columnNumber:15},void 0):l?at.jsxDEV(de,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:263,columnNumber:15},void 0):at.jsxDEV(ue,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:265,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:255,columnNumber:11},void 0),at.jsxDEV("button",{onClick:D,disabled:j.length<=1,className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:at.jsxDEV($e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:269,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:246,columnNumber:9},void 0),at.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[at.jsxDEV(he,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:280,columnNumber:11},void 0),at.jsxDEV("input",{ref:i,type:"range",min:"0",max:"100",value:100*p,onChange:e=>{const r=parseFloat(e.target.value)/100;f(r),t.current&&(t.current.volume=r)},className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:281,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:279,columnNumber:9},void 0),j.length>1&&at.jsxDEV("div",{className:"mb-6",children:[at.jsxDEV("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Escolha uma opo:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:295,columnNumber:13},void 0),at.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:j.map((e,t)=>at.jsxDEV("button",{onClick:()=>E(t),className:"p-3 rounded-lg text-left transition-colors "+(t===a?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"),children:[at.jsxDEV("div",{className:"font-medium text-sm",children:["Opo ",t+1]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:307,columnNumber:19},void 0),at.jsxDEV("div",{className:"text-xs opacity-75",children:e.title||"Msica personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:310,columnNumber:19},void 0)]},e.id||t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:298,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:296,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:294,columnNumber:11},void 0),(b||N)&&y&&at.jsxDEV("button",{onClick:()=>(e=>{const t=()=>{if(e.audio_url){const t=e.title||"Musica_Personalizada.mp3",r=`${si}/api/download?url=${encodeURIComponent(e.audio_url)}&filename=${encodeURIComponent(t)}`;bu(r,t)}};N?t():w(t)})(y),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[at.jsxDEV(Ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:325,columnNumber:13},void 0),"Baixar Opo ",a+1]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:321,columnNumber:11},void 0),!b&&!N&&at.jsxDEV("div",{className:"text-center text-slate-400 text-sm italic mt-4",children:"Oua a prvia completa para desbloquear o download"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:332,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:217,columnNumber:7},void 0),at.jsxDEV("style",{children:"\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #1e293b;\n        }\n        \n        .slider::-moz-range-thumb {\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #1e293b;\n        }\n      "},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:338,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:200,columnNumber:5},void 0)},Nu=()=>{const{completeMvpFlow:e}=mm(),[t,s]=r.useState({difficulty:5,recommendation:"",price:"",customPrice:""}),[o,i]=r.useState(!1),a=()=>""!==t.recommendation&&""!==t.price&&("outro"!==t.price||""!==t.customPrice.trim());return at.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:at.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:at.jsxDEV("div",{className:"p-6",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:at.jsxDEV("h2",{className:"text-xl font-heading font-bold text-gray-800",children:"Ajude-nos a melhorar!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:113,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:112,columnNumber:11},void 0),at.jsxDEV("form",{onSubmit:async r=>{if(r.preventDefault(),a()){i(!0);try{let r="";if("outro"===t.price)r=t.customPrice;else{r={99:"99",149:"149",219:"219"}[t.price]||t.price}const s={difficulty:t.difficulty,wouldRecommend:"sim"===t.recommendation,priceWillingness:r};await di("/api/save-feedback",{method:"POST",body:JSON.stringify(s)});e()}catch(s){alert("Erro ao enviar feedback. Tente novamente.")}finally{i(!1)}}},className:"space-y-6",children:[at.jsxDEV("div",{children:[at.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Como voc avalia a dificuldade de usar nossa plataforma?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:122,columnNumber:15},void 0),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV("input",{type:"range",min:"1",max:"5",value:t.difficulty,onChange:e=>{return t=parseInt(e.target.value),void s(e=>({...e,difficulty:t}));var t},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:126,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500",children:[at.jsxDEV("span",{children:"1 (Muito fcil)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:135,columnNumber:19},void 0),at.jsxDEV("span",{className:"font-medium text-blue-600",children:t.difficulty},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:136,columnNumber:19},void 0),at.jsxDEV("span",{children:"5 (Muito difcil)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:137,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:121,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Voc indicaria nossa plataforma para um amigo?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:144,columnNumber:15},void 0),at.jsxDEV("div",{className:"space-y-2",children:[{value:"sim",label:"Sim, com certeza!"},{value:"talvez",label:"Talvez, precisa melhorar"},{value:"nao",label:"No, no recomendaria"}].map(e=>at.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[at.jsxDEV("input",{type:"radio",name:"recommendation",value:e.value,checked:t.recommendation===e.value,onChange:()=>{return t=e.value,void s(e=>({...e,recommendation:t}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:154,columnNumber:21},void 0),at.jsxDEV("span",{className:"text-sm text-gray-700",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:162,columnNumber:21},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:153,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:143,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quanto voc pagaria por este servio?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:170,columnNumber:15},void 0),at.jsxDEV("div",{className:"space-y-2",children:[{value:"99",label:"R$ 99,00"},{value:"149",label:"R$ 149,00"},{value:"219",label:"R$ 219,00"},{value:"outro",label:"Outro valor"}].map(e=>at.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[at.jsxDEV("input",{type:"radio",name:"price",value:e.value,checked:t.price===e.value,onChange:()=>{return t=e.value,void s(e=>({...e,price:t,customPrice:"outro"!==t?"":e.customPrice}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:181,columnNumber:21},void 0),at.jsxDEV("span",{className:"text-sm text-gray-700",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:189,columnNumber:21},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:180,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:173,columnNumber:15},void 0),"outro"===t.price&&at.jsxDEV("div",{className:"mt-3",children:at.jsxDEV("input",{type:"text",placeholder:"Digite o valor (ex: R$ 299,00)",value:t.customPrice,onChange:e=>{return t=e.target.value,void s(e=>({...e,customPrice:t}));var t},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:197,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:196,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:169,columnNumber:13},void 0),at.jsxDEV("div",{className:"pt-4",children:at.jsxDEV(qo,{type:"submit",disabled:!a()||o,className:"w-full",size:"lg",children:o?at.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:218,columnNumber:21},void 0),"Enviando..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:217,columnNumber:19},void 0):"Enviar Feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:210,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:119,columnNumber:11},void 0),at.jsxDEV("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Suas respostas nos ajudam a melhorar a experincia para todos os usurios."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:228,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:111,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:109,columnNumber:5},void 0)};const wu=({value:e,onChange:t,highlightQuery:s,className:o="",rows:i=12})=>{const a=r.useRef(null),n=r.useRef(null),l=r.useMemo(()=>function(e,t){const r=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),s=(t||"").trim();if(!s)return r;const o=s.split(/\s+/).filter(Boolean).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(!o.length)return r;const i=new RegExp(`(${o.join("|")})`,"gi");return r.replace(i,'<mark class="bg-yellow-200 text-inherit rounded-sm">$1</mark>')}(e,s),[e,s]);return r.useEffect(()=>{const e=a.current,t=n.current;if(!e||!t)return;const r=()=>{t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft};return e.addEventListener("scroll",r),r(),()=>e.removeEventListener("scroll",r)},[e,s]),at.jsxDEV("div",{className:`relative ${o}`,children:[at.jsxDEV("div",{ref:n,className:"absolute inset-0 overflow-auto pointer-events-none select-none whitespace-pre-wrap break-words rounded-md border p-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:l},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:62,columnNumber:7},void 0),at.jsxDEV("textarea",{ref:a,value:e,onChange:e=>t(e.target.value),rows:i,className:"relative w-full rounded-md border p-3 text-sm leading-relaxed bg-transparent caret-blue-600",style:{position:"relative"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:69,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:60,columnNumber:5},void 0)},yu=r.forwardRef(({className:e,...t},r)=>at.jsxDEV("div",{ref:r,className:Jr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));yu.displayName="Card";const _u=r.forwardRef(({className:e,...t},r)=>at.jsxDEV("div",{ref:r,className:Jr("flex flex-col space-y-1.5 p-6",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));_u.displayName="CardHeader";const Eu=r.forwardRef(({className:e,...t},r)=>at.jsxDEV("h3",{ref:r,className:Jr("text-2xl font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));Eu.displayName="CardTitle";r.forwardRef(({className:e,...t},r)=>at.jsxDEV("p",{ref:r,className:Jr("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0)).displayName="CardDescription";const Du=r.forwardRef(({className:e,...t},r)=>at.jsxDEV("div",{ref:r,className:Jr("p-6 pt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));Du.displayName="CardContent";r.forwardRef(({className:e,...t},r)=>at.jsxDEV("div",{ref:r,className:Jr("flex items-center p-6 pt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0)).displayName="CardFooter";const Su=Go("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ju({className:e,variant:t,...r}){return at.jsxDEV("div",{className:Jr(Su({variant:t}),e),...r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}var Tu="ScrollArea",[Pu,Cu]=m(Tu),[ku,Uu]=Pu(Tu),Vu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:o="hover",dir:i,scrollHideDelay:a=600,...n}=e,[l,c]=r.useState(null),[m,u]=r.useState(null),[h,p]=r.useState(null),[f,v]=r.useState(null),[g,x]=r.useState(null),[w,y]=r.useState(0),[_,D]=r.useState(0),[S,j]=r.useState(!1),[T,P]=r.useState(!1),C=b(t,e=>c(e)),k=E(i);return d.jsx(ku,{scope:s,type:o,dir:k,scrollHideDelay:a,scrollArea:l,viewport:m,onViewportChange:u,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:D,children:d.jsx(N.div,{dir:k,...n,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Vu.displayName=Tu;var Au="ScrollAreaViewport",Mu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:o,nonce:i,...a}=e,n=Uu(Au,s),l=r.useRef(null),c=b(t,l,n.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(N.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:n.scrollbarXEnabled?"scroll":"hidden",overflowY:n.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:n.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});Mu.displayName=Au;var Iu="ScrollAreaScrollbar",Lu=r.forwardRef((e,t)=>{const{forceMount:s,...o}=e,i=Uu(Iu,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:n}=i,l="horizontal"===e.orientation;return r.useEffect(()=>(l?a(!0):n(!0),()=>{l?a(!1):n(!1)}),[l,a,n]),"hover"===i.type?d.jsx(Ou,{...o,ref:t,forceMount:s}):"scroll"===i.type?d.jsx(Ru,{...o,ref:t,forceMount:s}):"auto"===i.type?d.jsx(Fu,{...o,ref:t,forceMount:s}):"always"===i.type?d.jsx($u,{...o,ref:t}):null});Lu.displayName=Iu;var Ou=r.forwardRef((e,t)=>{const{forceMount:s,...o}=e,i=Uu(Iu,e.__scopeScrollArea),[a,n]=r.useState(!1);return r.useEffect(()=>{const e=i.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),n(!0)},s=()=>{t=window.setTimeout(()=>n(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(u,{present:s||a,children:d.jsx(Fu,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Ru=r.forwardRef((e,t)=>{const{forceMount:s,...o}=e,i=Uu(Iu,e.__scopeScrollArea),a="horizontal"===e.orientation,n=ah(()=>c("SCROLL_END"),100),[l,c]=(m="hidden",h={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>h[e][t]??e,m));var m,h;return r.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,i.scrollHideDelay,c]),r.useEffect(()=>{const e=i.viewport,t=a?"scrollLeft":"scrollTop";if(e){let r=e[t];const s=()=>{const s=e[t];r!==s&&(c("SCROLL"),n()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[i.viewport,a,c,n]),d.jsx(u,{present:s||"hidden"!==l,children:d.jsx($u,{"data-state":"hidden"===l?"hidden":"visible",...o,ref:t,onPointerEnter:w(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:w(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Fu=r.forwardRef((e,t)=>{const s=Uu(Iu,e.__scopeScrollArea),{forceMount:o,...i}=e,[a,n]=r.useState(!1),l="horizontal"===e.orientation,c=ah(()=>{if(s.viewport){const e=s.viewport.offsetWidth<s.viewport.scrollWidth,t=s.viewport.offsetHeight<s.viewport.scrollHeight;n(l?e:t)}},10);return nh(s.viewport,c),nh(s.content,c),d.jsx(u,{present:o||a,children:d.jsx($u,{"data-state":a?"visible":"hidden",...i,ref:t})})}),$u=r.forwardRef((e,t)=>{const{orientation:s="vertical",...o}=e,i=Uu(Iu,e.__scopeScrollArea),a=r.useRef(null),n=r.useRef(0),[l,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=eh(l.viewport,l.content),u={...o,sizes:l,onSizesChange:c,hasThumb:Boolean(m>0&&m<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>n.current=0,onThumbPointerDown:e=>n.current=e};function h(e,t){return function(e,t,r,s="ltr"){const o=th(r),i=o/2,a=t||i,n=o-a,l=r.scrollbar.paddingStart+a,c=r.scrollbar.size-r.scrollbar.paddingEnd-n,m=r.content-r.viewport,d="ltr"===s?[0,m]:[-1*m,0];return sh([l,c],d)(e)}(e,n.current,l,t)}return"horizontal"===s?d.jsx(Bu,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=rh(i.viewport.scrollLeft,l,i.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=h(e,i.dir))}}):"vertical"===s?d.jsx(zu,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=rh(i.viewport.scrollTop,l);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=h(e))}}):null}),Bu=r.forwardRef((e,t)=>{const{sizes:s,onSizesChange:o,...i}=e,a=Uu(Iu,e.__scopeScrollArea),[n,l]=r.useState(),c=r.useRef(null),m=b(t,c,a.onScrollbarXChange);return r.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.jsx(qu,{"data-orientation":"horizontal",...i,ref:m,sizes:s,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":th(s)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(a.viewport){const s=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(s),oh(s,r)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&n&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zu(n.paddingLeft),paddingEnd:Zu(n.paddingRight)}})}})}),zu=r.forwardRef((e,t)=>{const{sizes:s,onSizesChange:o,...i}=e,a=Uu(Iu,e.__scopeScrollArea),[n,l]=r.useState(),c=r.useRef(null),m=b(t,c,a.onScrollbarYChange);return r.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.jsx(qu,{"data-orientation":"vertical",...i,ref:m,sizes:s,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":th(s)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(a.viewport){const s=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(s),oh(s,r)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&n&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zu(n.paddingTop),paddingEnd:Zu(n.paddingBottom)}})}})}),[Gu,Hu]=Pu(Iu),qu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:o,hasThumb:i,onThumbChange:a,onThumbPointerUp:n,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:m,onWheelScroll:u,onResize:h,...p}=e,f=Uu(Iu,s),[v,g]=r.useState(null),x=b(t,e=>g(e)),y=r.useRef(null),_=r.useRef(""),E=f.viewport,S=o.content-o.viewport,j=D(u),T=D(c),P=ah(h,10);function C(e){if(y.current){const t=e.clientX-y.current.left,r=e.clientY-y.current.top;m({x:t,y:r})}}return r.useEffect(()=>{const e=e=>{const t=e.target;(null==v?void 0:v.contains(t))&&j(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[E,v,S,j]),r.useEffect(T,[o,T]),nh(v,P),nh(f.content,P),d.jsx(Gu,{scope:s,scrollbar:v,hasThumb:i,onThumbChange:D(a),onThumbPointerUp:D(n),onThumbPositionChange:T,onThumbPointerDown:D(l),children:d.jsx(N.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:w(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(e)}}),onPointerMove:w(e.onPointerMove,C),onPointerUp:w(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=_.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),Wu="ScrollAreaThumb",Xu=r.forwardRef((e,t)=>{const{forceMount:r,...s}=e,o=Hu(Wu,e.__scopeScrollArea);return d.jsx(u,{present:r||o.hasThumb,children:d.jsx(Yu,{ref:t,...s})})}),Yu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:o,...i}=e,a=Uu(Wu,s),n=Hu(Wu,s),{onThumbPositionChange:l}=n,c=b(t,e=>n.onThumbChange(e)),m=r.useRef(void 0),u=ah(()=>{m.current&&(m.current(),m.current=void 0)},100);return r.useEffect(()=>{const e=a.viewport;if(e){const t=()=>{if(u(),!m.current){const t=ih(e,l);m.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[a.viewport,u,l]),d.jsx(N.div,{"data-state":n.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:w(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;n.onThumbPointerDown({x:r,y:s})}),onPointerUp:w(e.onPointerUp,n.onThumbPointerUp)})});Xu.displayName=Wu;var Ju="ScrollAreaCorner",Ku=r.forwardRef((e,t)=>{const r=Uu(Ju,e.__scopeScrollArea),s=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&s?d.jsx(Qu,{...e,ref:t}):null});Ku.displayName=Ju;var Qu=r.forwardRef((e,t)=>{const{__scopeScrollArea:s,...o}=e,i=Uu(Ju,s),[a,n]=r.useState(0),[l,c]=r.useState(0),m=Boolean(a&&l);return nh(i.scrollbarX,()=>{var e;const t=(null==(e=i.scrollbarX)?void 0:e.offsetHeight)||0;i.onCornerHeightChange(t),c(t)}),nh(i.scrollbarY,()=>{var e;const t=(null==(e=i.scrollbarY)?void 0:e.offsetWidth)||0;i.onCornerWidthChange(t),n(t)}),m?d.jsx(N.div,{...o,ref:t,style:{width:a,height:l,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function Zu(e){return e?parseInt(e,10):0}function eh(e,t){const r=e/t;return isNaN(r)?0:r}function th(e){const t=eh(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function rh(e,t,r="ltr"){const s=th(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,n=i-s,l=j(e,"ltr"===r?[0,a]:[-1*a,0]);return sh([0,a],[0,n])(l)}function sh(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function oh(e,t){return e>0&&e<t}var ih=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,n=r.top!==i.top;(a||n)&&t(),r=i,s=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(s)};function ah(e,t){const s=D(e),o=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),r.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(s,t)},[s,t])}function nh(e,t){const r=D(t);S(()=>{let t=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}var lh=Vu,ch=Mu,mh=Ku;const dh=r.forwardRef(({className:e,children:t,...r},s)=>at.jsxDEV(lh,{ref:s,className:Jr("relative overflow-hidden",e),...r,children:[at.jsxDEV(ch,{className:"h-full w-full rounded-[inherit]",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),at.jsxDEV(uh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),at.jsxDEV(mh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));dh.displayName=lh.displayName;const uh=r.forwardRef(({className:e,orientation:t="vertical",...r},s)=>at.jsxDEV(Lu,{ref:s,orientation:t,className:Jr("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:at.jsxDEV(Xu,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));uh.displayName=Lu.displayName;const hh=[{id:"rock",name:"Rock",description:"Energtico e poderoso",subGenres:[{id:"rock-alternativo",name:"Rock Alternativo",description:"Moderno e experimental"},{id:"rock-classico",name:"Rock Clssico",description:"Atemporal e icnico"},{id:"hard-rock",name:"Hard Rock",description:"Pesado e vibrante"},{id:"punk-rock",name:"Punk Rock",description:"Rpido e contestador"}]},{id:"pop",name:"Pop",description:"Cativante e universal",subGenres:[{id:"dance-pop",name:"Dance-pop",description:"Danante e envolvente"},{id:"electropop",name:"Electropop",description:"Eletrnico e moderno"},{id:"indie-pop",name:"Indie Pop",description:"Independente e criativo"},{id:"synth-pop",name:"Synth-pop",description:"Sinttico e nostlgico"},{id:"k-pop",name:"K-pop",description:"Colorido e dinmico"}]},{id:"hip-hop",name:"Hip Hop",description:"Urbano e expressivo",subGenres:[{id:"hip-hop-alternativo",name:"Hip Hop Alternativo",description:"Inovador e consciente"},{id:"gangsta-rap",name:"Gangsta Rap",description:"Intenso e direto"},{id:"trap",name:"Trap",description:"Pesado e hipntico"},{id:"drill",name:"Drill",description:"Sombrio e agressivo"}]},{id:"jazz",name:"Jazz",description:"Sofisticado e improvisado",subGenres:[{id:"bebop",name:"Bebop",description:"Rpido e complexo"},{id:"big-band",name:"Big Band",description:"Grandioso e swing"},{id:"cool-jazz",name:"Cool Jazz",description:"Suave e relaxante"},{id:"jazz-fusion",name:"Jazz Fusion",description:"Moderno e eltrico"}]},{id:"blues",name:"Blues",description:"Emotivo e autntico",subGenres:[{id:"chicago-blues",name:"Chicago Blues",description:"Urbano e eltrico"},{id:"delta-blues",name:"Delta Blues",description:"Tradicional e acstico"},{id:"blues-eletrico",name:"Blues Eltrico",description:"Amplificado e potente"},{id:"gospel-blues",name:"Gospel Blues",description:"Espiritual e tocante"}]},{id:"country",name:"Country",description:"Narrativo e rural",subGenres:[{id:"bluegrass",name:"Bluegrass",description:"Acstico e virtuoso"},{id:"country-pop",name:"Country Pop",description:"Comercial e acessvel"},{id:"country-rock",name:"Country Rock",description:"Energtico e hbrido"}]},{id:"eletronica",name:"Eletrnica",description:"Digital e futurista",subGenres:[{id:"ambient",name:"Ambient",description:"Atmosfrico e contemplativo"},{id:"breakbeat",name:"Breakbeat",description:"Fragmentado e rtmico"},{id:"disco",name:"Disco",description:"Danante e festivo"},{id:"drum-and-bass",name:"Drum and Bass",description:"Rpido e intenso"},{id:"house",name:"House",description:"Repetitivo e hipntico"},{id:"techno",name:"Techno",description:"Industrial e mecnico"},{id:"trance",name:"Trance",description:"Elevado e transcendente"}]},{id:"folk",name:"Folk",description:"Tradicional e storytelling",subGenres:[{id:"americana",name:"Americana",description:"Razes e contemporneo"},{id:"celta",name:"Celta",description:"Mstico e ancestral"},{id:"indie-folk",name:"Indie Folk",description:"Moderno e intimista"}]},{id:"rnb-soul",name:"R&B & Soul",description:"Sensual e emotivo",subGenres:[{id:"funk",name:"Funk",description:"Groove e danante"},{id:"gospel",name:"Gospel",description:"Espiritual e poderoso"},{id:"neo-soul",name:"Neo Soul",description:"Contemporneo e sofisticado"}]},{id:"metal",name:"Metal",description:"Pesado e intenso",subGenres:[{id:"black-metal",name:"Black Metal",description:"Sombrio e extremo"},{id:"death-metal",name:"Death Metal",description:"Brutal e tcnico"},{id:"heavy-metal",name:"Heavy Metal",description:"Clssico e poderoso"}]},{id:"punk",name:"Punk",description:"Rebelde e direto",subGenres:[{id:"punk-anarquista",name:"Punk Anarquista",description:"Poltico e revolucionrio"},{id:"hardcore",name:"Hardcore",description:"Extremo e agressivo"},{id:"pop-punk",name:"Pop Punk",description:"Meldico e acessvel"}]},{id:"easy-listening",name:"Easy Listening",description:"Relaxante e suave",subGenres:[{id:"musica-ambiente",name:"Msica Ambiente",description:"Sutil e envolvente"},{id:"lounge",name:"Lounge",description:"Elegante e sofisticado"},{id:"soft-rock",name:"Soft Rock",description:"Meldico e gentil"}]},{id:"avant-garde",name:"Avant-garde & Experimental",description:"Inovador e vanguardista",subGenres:[{id:"experimental",name:"Experimental",description:"Ousado e nico"},{id:"avant-garde",name:"Avant-garde",description:"Artstico e conceitual"}]},{id:"mpb",name:"MPB",description:"Brasileira e sofisticada",subGenres:[{id:"mpb-classica",name:"MPB Clssica",description:"Tradicional e potica"},{id:"mpb-contemporanea",name:"MPB Contempornea",description:"Moderna e inovadora"}]},{id:"samba",name:"Samba",description:"Alegre e brasileiro",subGenres:[{id:"samba-de-raiz",name:"Samba de Raiz",description:"Autntico e tradicional"},{id:"pagode",name:"Pagode",description:"Festivo e popular"}]},{id:"bossa-nova",name:"Bossa Nova",description:"Elegante e intimista",subGenres:[{id:"bossa-nova-classica",name:"Bossa Nova Clssica",description:"Suave e refinada"},{id:"bossa-nova-moderna",name:"Bossa Nova Moderna",description:"Contempornea e estilizada"}]},{id:"forro",name:"Forr",description:"Danante e nordestino",subGenres:[{id:"forro-pe-de-serra",name:"Forr P-de-Serra",description:"Tradicional e sanfona"},{id:"forro-universitario",name:"Forr Universitrio",description:"Moderno e romntico"}]},{id:"sertanejo",name:"Sertanejo",description:"Popular e emotivo",subGenres:[{id:"sertanejo-raiz",name:"Sertanejo Raiz",description:"Tradicional e rural"},{id:"sertanejo-universitario",name:"Sertanejo Universitrio",description:"Comercial e romntico"}]},{id:"axe",name:"Ax",description:"Festivo e baiano",subGenres:[{id:"axe-classico",name:"Ax Clssico",description:"Carnavalesco e energtico"},{id:"axe-pop",name:"Ax Pop",description:"Comercial e danante"}]},{id:"funk-carioca",name:"Funk Carioca",description:"Urbano e carioca",subGenres:[{id:"funk-melody",name:"Funk Melody",description:"Meldico e romntico"},{id:"funk-ostentacao",name:"Funk Ostentao",description:"Luxuoso e aspiracional"}]},{id:"tropicalia",name:"Tropiclia",description:"Revolucionria e antropofgica",subGenres:[{id:"tropicalia-classica",name:"Tropiclia Clssica",description:"Experimental e cultural"},{id:"neo-tropicalia",name:"Neo-Tropiclia",description:"Contempornea e conceitual"}]},{id:"choro",name:"Choro",description:"Virtuoso e instrumental",subGenres:[{id:"choro-tradicional",name:"Choro Tradicional",description:"Clssico e tcnico"},{id:"choro-moderno",name:"Choro Moderno",description:"Inovador e fusion"}]}],ph=({onGenreSelect:e,selectedGenre:t,selectedSubGenre:s,className:o=""})=>{const{updateFormData:i}=mm(),[a,n]=r.useState(""),[l,c]=r.useState(null),[m,d]=r.useState("genres"),u=r.useMemo(()=>a.trim()?(e=>{const t=e.toLowerCase();return hh.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.subGenres.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))})(a):hh,[a]),{brazilianGenres:h,internationalGenres:p}=r.useMemo(()=>({brazilianGenres:u.filter(e=>["mpb","samba","bossa-nova","forro","sertanejo","axe","frevo","baiao","choro","tropicalia","funk-carioca"].includes(e.id)),internationalGenres:u.filter(e=>!["mpb","samba","bossa-nova","forro","sertanejo","axe","frevo","baiao","choro","tropicalia","funk-carioca"].includes(e.id))}),[u,a,m]),f=()=>{n("")},v=({genre:t,isSelected:r})=>at.jsxDEV(yu,{className:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] "+(r?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>(t=>{t.subGenres.length>0?(c(t),d("subgenres")):(i({genre:t.name}),null==e||e(t.id))})(t),children:at.jsxDEV(Du,{className:"p-4",children:at.jsxDEV("div",{className:"flex items-center justify-between",children:[at.jsxDEV("div",{className:"flex items-center space-x-3",children:[at.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg",children:at.jsxDEV(ye,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:92,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:91,columnNumber:13},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h3",{className:"font-heading font-semibold text-gray-900",children:t.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:95,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-sm text-gray-600",children:t.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:96,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:94,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:90,columnNumber:11},void 0),t.subGenres.length>0&&at.jsxDEV("div",{className:"flex items-center space-x-2",children:[at.jsxDEV(ju,{variant:"secondary",className:"text-xs",children:[t.subGenres.length," estilos"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:101,columnNumber:15},void 0),at.jsxDEV(Ve,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:89,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:88,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:82,columnNumber:5},void 0),g=({subGenre:t,isSelected:r})=>at.jsxDEV(yu,{className:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] "+(r?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>(t=>{if(l){const r=`${l.name} - ${t.name}`;i({genre:r}),null==e||e(l.id,t.id)}})(t),children:at.jsxDEV(Du,{className:"p-4",children:at.jsxDEV("div",{className:"flex items-center space-x-3",children:[at.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg",children:at.jsxDEV(ye,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:121,columnNumber:11},void 0),at.jsxDEV("div",{children:[at.jsxDEV("h4",{className:"font-heading font-medium text-gray-900",children:t.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:125,columnNumber:13},void 0),at.jsxDEV("p",{className:"text-sm text-gray-600",children:t.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:120,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:119,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:113,columnNumber:5},void 0),b=({title:e,genres:r,icon:s})=>0===r.length?null:at.jsxDEV("div",{className:"space-y-3",children:[at.jsxDEV("div",{className:"flex items-center space-x-2",children:[at.jsxDEV("span",{className:"text-2xl",children:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:139,columnNumber:11},void 0),at.jsxDEV("h3",{className:"text-lg font-heading font-semibold text-gray-800",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:140,columnNumber:11},void 0),at.jsxDEV(ju,{variant:"outline",children:r.length},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:141,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:138,columnNumber:9},void 0),at.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:r.map(e=>at.jsxDEV(v,{genre:e,isSelected:t===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:145,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:137,columnNumber:7},void 0);return at.jsxDEV("div",{className:`w-full max-w-4xl mx-auto ${o}`,children:at.jsxDEV(yu,{className:"shadow-lg",children:[at.jsxDEV(_u,{className:"pb-4",children:[at.jsxDEV("div",{className:"flex items-center justify-between",children:[at.jsxDEV(Eu,{className:"flex items-center space-x-2",children:["subgenres"===m&&at.jsxDEV(qo,{variant:"ghost",size:"sm",onClick:()=>{d("genres"),c(null)},className:"mr-2",children:at.jsxDEV(Ue,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:163,columnNumber:17},void 0),at.jsxDEV(ye,{className:"h-6 w-6 text-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:172,columnNumber:15},void 0),at.jsxDEV("span",{children:"genres"===m?"Escolha o Estilo Musical":`${null==l?void 0:l.name} - Subgneros`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:161,columnNumber:13},void 0),"genres"===m&&at.jsxDEV(ju,{variant:"secondary",children:[u.length," gneros disponveis"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:181,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:160,columnNumber:11},void 0),"genres"===m&&at.jsxDEV("div",{className:"relative",children:[at.jsxDEV(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:189,columnNumber:15},void 0),at.jsxDEV(ac,{placeholder:"Buscar por gnero ou estilo...",value:a,onChange:e=>n(e.target.value),className:"pl-10 pr-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:190,columnNumber:15},void 0),a&&at.jsxDEV(qo,{variant:"ghost",size:"sm",onClick:f,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:""},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:188,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:159,columnNumber:9},void 0),at.jsxDEV(Du,{children:at.jsxDEV(dh,{className:"h-[600px] pr-4",children:"genres"===m?at.jsxDEV("div",{className:"space-y-8",children:[a?at.jsxDEV("div",{className:"space-y-3",children:[at.jsxDEV("h3",{className:"text-lg font-heading font-semibold text-gray-800",children:["Resultados da busca (",u.length,")"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:217,columnNumber:21},void 0),at.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:u.map(e=>at.jsxDEV(v,{genre:e,isSelected:t===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:222,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:220,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:216,columnNumber:19},void 0):at.jsxDEV(at.Fragment,{children:[at.jsxDEV(b,{title:"Gneros Brasileiros",genres:h,icon:""},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:233,columnNumber:21},void 0),at.jsxDEV(b,{title:"Gneros Internacionais",genres:p,icon:""},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:238,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:232,columnNumber:19},void 0),0===u.length&&at.jsxDEV("div",{className:"text-center py-12",children:[at.jsxDEV(ye,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:248,columnNumber:21},void 0),at.jsxDEV("p",{className:"text-gray-500",children:['Nenhum gnero encontrado para "',a,'"']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:249,columnNumber:21},void 0),at.jsxDEV(qo,{variant:"outline",onClick:f,className:"mt-2",children:"Limpar busca"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:250,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:213,columnNumber:15},void 0):at.jsxDEV("div",{className:"space-y-4",children:l&&at.jsxDEV(at.Fragment,{children:[at.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border",children:[at.jsxDEV("h3",{className:"font-heading font-semibold text-gray-900",children:l.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:262,columnNumber:23},void 0),at.jsxDEV("p",{className:"text-sm text-gray-600",children:l.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:263,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:261,columnNumber:21},void 0),at.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2",children:l.subGenres.map(e=>at.jsxDEV(g,{subGenre:e,isSelected:s===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:268,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:266,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:260,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:258,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:211,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:210,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:158,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:157,columnNumber:5},void 0)},fh=r.forwardRef(({className:e,...t},r)=>at.jsxDEV("textarea",{className:Jr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/textarea.tsx",lineNumber:8,columnNumber:7},void 0));fh.displayName="Textarea";const vh=F,gh=$,bh=r.forwardRef(({className:e,children:t,...r},s)=>at.jsxDEV(T,{ref:s,className:Jr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,at.jsxDEV(P,{asChild:!0,children:at.jsxDEV(Me,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));bh.displayName=T.displayName;const xh=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(C,{ref:r,className:Jr("flex cursor-default items-center justify-center py-1",e),...t,children:at.jsxDEV(Ae,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:45,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));xh.displayName=C.displayName;const Nh=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(k,{ref:r,className:Jr("flex cursor-default items-center justify-center py-1",e),...t,children:at.jsxDEV(Me,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:54,columnNumber:3},void 0));Nh.displayName=k.displayName;const wh=r.forwardRef(({className:e,children:t,position:r="popper",...s},o)=>at.jsxDEV(U,{children:at.jsxDEV(V,{ref:o,className:Jr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[at.jsxDEV(xh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:84,columnNumber:7},void 0),at.jsxDEV(A,{className:Jr("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:85,columnNumber:7},void 0),at.jsxDEV(Nh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:72,columnNumber:3},void 0));wh.displayName=V.displayName;r.forwardRef(({className:e,...t},r)=>at.jsxDEV(M,{ref:r,className:Jr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0)).displayName=M.displayName;const yh=r.forwardRef(({className:e,children:t,...r},s)=>at.jsxDEV(I,{ref:s,className:Jr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[at.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:at.jsxDEV(L,{children:at.jsxDEV(Se,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:124,columnNumber:5},void 0),at.jsxDEV(O,{children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:130,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:116,columnNumber:3},void 0));yh.displayName=I.displayName;r.forwardRef(({className:e,...t},r)=>at.jsxDEV(R,{ref:r,className:Jr("-mx-1 my-1 h-px bg-muted",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:139,columnNumber:3},void 0)).displayName=R.displayName;const _h=({onComplete:e,className:t=""})=>{const[s,o]=r.useState(3e5);r.useEffect(()=>{if(s<=0)return void(null==e||e());const t=setInterval(()=>{o(t=>t<=100?(null==e||e(),0):t-100)},100);return()=>clearInterval(t)},[s,e]);return at.jsxDEV("div",{className:`flex items-center justify-center ${t}`,children:[at.jsxDEV("div",{className:"w-16 h-16 bg-accent-turquoise/20 rounded-full flex items-center justify-center mx-auto",children:at.jsxDEV(De,{className:"w-8 h-8 text-accent-turquoise"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:45,columnNumber:7},void 0),at.jsxDEV("div",{className:"ml-4",children:[at.jsxDEV("div",{className:"text-2xl font-mono font-bold text-accent-turquoise",children:(e=>{const t=Math.floor(e/1e3),r=Math.floor(t/60),s=t%60,o=Math.floor(e%1e3/10);return`${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`})(s)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:49,columnNumber:9},void 0),at.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Tempo estimado restante"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/CountdownTimer.tsx",lineNumber:44,columnNumber:5},void 0)},Eh=Ze({occasion:et({required_error:"Por favor, selecione uma ocasio especial."}).min(1,"A ocasio  obrigatria."),recipientName:et({required_error:"Por favor, informe o nome da pessoa."}).min(1,"O nome da pessoa  obrigatrio.").max(50,"O nome deve ter no mximo 50 caracteres."),relationship:et({required_error:"Por favor, selecione o tipo de relao."}).min(1,"A relao  obrigatria."),senderName:et().max(50,"O nome deve ter no mximo 50 caracteres.").optional(),hobbies:et().max(500,"Os hobbies devem ter no mximo 500 caracteres.").optional(),qualities:et().max(500,"As qualidades devem ter no mximo 500 caracteres.").optional(),uniqueTraits:et().max(500,"Os traos nicos devem ter no mximo 500 caracteres.").optional(),memories:et().max(1e3,"As memrias devem ter no mximo 1000 caracteres.").optional()}),Dh=Ze({lyrics:et({required_error:"A letra da msica  obrigatria."}).min(10,"A letra deve ter pelo menos 10 caracteres.").max(2e3,"A letra deve ter no mximo 2000 caracteres.")}),Sh=Ze({genre:et({required_error:"Por favor, selecione um gnero musical."}).min(1,"O gnero musical  obrigatrio."),emotion:et({required_error:"Por favor, selecione uma emoo."}).min(1,"A emoo  obrigatria."),vocalPreference:et({required_error:"Por favor, selecione uma preferncia vocal."}).min(1,"A preferncia vocal  obrigatria.")}),jh=Eh.merge(Dh).merge(Sh);const Th=["Briefing","Letra","Estilo","Prvia"],Ph=[{category:"Amor",items:["Cano de amor","Aniversrio de namoro","Aniversrio de casamento","Proposta","Noivado","Casamento","Desculpa","S porque"]},{category:"Famlia",items:["Aniversrio","Dia dos Pais","Dia das Mes","Nascimento de criana","Ch de beb","Batizado","Natal"]},{category:"Amizade",items:["Melhores amigos","Agradecimento","Despedida","Saudade"]},{category:"Conquistas",items:["Graduao","Formatura","Reconhecimento"]},{category:"Memria",items:["Memorial","Homenagem a quem partiu"]}],Ch=[{category:"Famlia",items:["Pai ou Me","Filho(a)","Irmo ou Irm","Av ou Av","Neto(a)","Tio ou Tia","Sobrinho(a)","Padrasto ou Madrasta","Enteado(a)"]},{category:"Amor",items:["Namorado(a)","Esposo(a) / Esposa","Noivo(a)","Companheiro(a)"]},{category:"Amigos & Outros",items:["Amigo(a)","Melhores amigos","Colega de trabalho","Professor(a) / Mentor(a)","Chefe / Equipe","Cliente especial"]}],kh=["Feliz e animado","Emocional e profundo","Romntico e terno","Divertido e brincalho","Nostlgico e reflexivo","Inspirador e motivador","Cmico e peculiar"],Uh=["Feminino","Masculino","Ambos","Indiferente"];function Vh(){const e=mm(),{formData:t,currentStep:s,isLoading:o,isPreviewLoading:a,error:n,updateFormData:l,setCurrentStep:c,nextStep:m,prevStep:d,generateLyrics:u,generateMusic:h,regenerateLyrics:p,resetForm:f,reset:v,setError:g,clearError:b,currentTaskId:x,isPolling:N,musicGenerationStatus:w,completedClips:y,totalExpected:_,isValidationPopupVisible:E,startNewCreationFlow:D,generatedLyrics:S}=e,j=qs(),T=zs(),{isCreationFlowBlocked:P}=tc(),[C,k]=r.useState({}),[U,V]=r.useState(!1),[A,M]=r.useState(""),[I,L]=r.useState("idle"),[O,R]=r.useState(""),[F,$]=r.useState(""),B=i.useRef(null),[z,G]=r.useState(()=>{const t=Ph.find(t=>t.items.includes(e.formData.occasion||""));return t?t.category:Ph[0].category}),[H,q]=r.useState(()=>{const t=e.formData.relationship||"",r=Ch.find(e=>e.items.includes(t));return r?r.category:Ch[0].category});r.useEffect(()=>{const e=new URLSearchParams(T.search).get("para");e&&e.trim()&&!t.recipientName&&l({recipientName:e.trim()})},[T.search,t.recipientName,l]),r.useEffect(()=>{n&&(_t.error(n,{description:"Tente novamente em alguns instantes."}),b())},[n,b]),r.useEffect(()=>{},[s]),r.useEffect(()=>{1===s&&t.lyrics&&M(t.lyrics)},[s,t.lyrics]);const W=e=>{L("saving"),B.current&&window.clearTimeout(B.current),B.current=window.setTimeout(()=>{l({lyrics:e}),L("saved"),window.setTimeout(()=>L("idle"),1500)},600)},X=(e,t)=>{const r=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");const s=(t||"").trim();if(!s)return r;const o=s.split(/\s+/).filter(e=>e.length>0).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(0===o.length)return r;const i=new RegExp(`(${o.join("|")})`,"gi");return r.replace(i,"<mark>$1</mark>")},Y=(e,t)=>{if(l({[e]:t}),C[e]){const t={...C};delete t[e],k(t)}};return at.jsxDEV("div",{className:"min-h-screen flex flex-col",children:[at.jsxDEV("main",{className:"flex-1 pt-20 pb-12",children:at.jsxDEV("div",{className:"container mx-auto px-4",children:at.jsxDEV("div",{className:"max-w-2xl mx-auto",children:[at.jsxDEV("div",{className:"text-center mb-8",children:[at.jsxDEV("h1",{className:"text-3xl md:text-4xl font-bold font-heading mb-4",children:["Criar sua ",at.jsxDEV("span",{className:"bg-gradient-music bg-clip-text text-transparent",children:"msica personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1008,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1007,columnNumber:15},this),at.jsxDEV("p",{className:"text-muted-foreground",children:"Siga os passos abaixo para criar sua cano nica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1010,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1006,columnNumber:13},this),at.jsxDEV(gu,{steps:Th,currentStep:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1015,columnNumber:13},this),at.jsxDEV("div",{className:"space-y-6",children:[((r,s,o)=>{switch(r){case 0:return at.jsxDEV(yu,{children:[at.jsxDEV(_u,{children:at.jsxDEV(Eu,{children:"Conte sua histria"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:335,columnNumber:15},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:334,columnNumber:13},this),at.jsxDEV(Du,{className:"space-y-8",children:[n&&at.jsxDEV("div",{className:"bg-accent-coral/10 border border-accent-coral/20 rounded-lg p-4",children:at.jsxDEV("p",{className:"text-accent-coral text-sm font-medium",children:n},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:341,columnNumber:19},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:340,columnNumber:17},this),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"A Ocasio"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:347,columnNumber:17},this),at.jsxDEV("div",{className:"space-y-3",children:[at.jsxDEV(mc,{children:"Qual a ocasio especial? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:349,columnNumber:19},this),at.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Ph.map(({category:e})=>{const t=z===e;return at.jsxDEV("button",{type:"button",onClick:()=>G(e),className:"px-3 py-1.5 rounded-full text-sm border transition-colors "+(t?"bg-memora-primary text-white border-memora-primary":"bg-white/50 border-black/10 hover:border-memora-primary/40 text-neutral-gray"),"aria-pressed":t,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:355,columnNumber:25},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:351,columnNumber:19},this),at.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 mt-2",children:Ph.find(e=>e.category===z).items.map(e=>{const r=t.occasion===e;return at.jsxDEV("button",{type:"button",onClick:()=>Y("occasion",e),className:"text-sm px-3 py-2 rounded-xl border transition-colors text-left "+(r?"bg-memora-primary text-white border-memora-primary":"bg-white/60 border-black/10 hover:border-memora-primary/40 text-neutral-gray"),children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:379,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:373,columnNumber:19},this),C.occasion&&at.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.occasion},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:396,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:348,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:346,columnNumber:15},this),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"Sobre a(s) Pessoa(s)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:403,columnNumber:17},this),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"recipientName",children:"Qual o nome da pessoa para quem est a criar esta msica? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:406,columnNumber:21},this),at.jsxDEV(ac,{id:"recipientName",placeholder:"Ex: Maria",value:t.recipientName,onChange:e=>Y("recipientName",e.target.value),className:C.recipientName?"border-accent-coral focus:ring-accent-coral":""},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:407,columnNumber:21},this),C.recipientName&&at.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.recipientName},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:415,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:405,columnNumber:19},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{children:"Qual a vossa relao? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:420,columnNumber:21},this),at.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Ch.map(({category:e})=>{const t=H===e;return at.jsxDEV("button",{type:"button",onClick:()=>q(e),className:"px-3 py-1.5 rounded-full text-sm border transition-colors "+(t?"bg-memora-primary text-white border-memora-primary":"bg-white/50 border-black/10 hover:border-memora-primary/40 text-neutral-gray"),"aria-pressed":t,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:426,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:422,columnNumber:21},this),at.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 mt-2",children:Ch.find(e=>e.category===H).items.map(e=>{const r=t.relationship===e;return at.jsxDEV("button",{type:"button",onClick:()=>Y("relationship",e),className:"text-sm px-3 py-2 rounded-xl border transition-colors text-left "+(r?"bg-memora-primary text-white border-memora-primary":"bg-white/60 border-black/10 hover:border-memora-primary/40 text-neutral-gray"),children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:450,columnNumber:29},this)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:444,columnNumber:21},this),C.relationship&&at.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.relationship},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:467,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:419,columnNumber:19},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"senderName",children:"Qual o seu nome?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:472,columnNumber:21},this),at.jsxDEV(ac,{id:"senderName",placeholder:"Ex: Joo",value:t.senderName,onChange:e=>Y("senderName",e.target.value)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:473,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:471,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:404,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:402,columnNumber:15},this),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"Detalhes e Personalidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:485,columnNumber:17},this),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"hobbies",children:"Fale-nos sobre os seus hobbies e interesses!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:488,columnNumber:21},this),at.jsxDEV(fh,{id:"hobbies",placeholder:"Ex: Adora cozinhar, fazer caminhadas na natureza, ler livros de fico...",value:t.hobbies,onChange:e=>Y("hobbies",e.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:489,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:487,columnNumber:19},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"qualities",children:"Quais as qualidades que voc mais admira nessa pessoa?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:500,columnNumber:21},this),at.jsxDEV(fh,{id:"qualities",placeholder:"Ex:  muito generosa, sempre disposta a ajudar, tem um sorriso contagiante...",value:t.qualities,onChange:e=>Y("qualities",e.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:501,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:499,columnNumber:19},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"uniqueTraits",children:"O que a torna nica ou especial? Tem algum hbito engraado ou interessante?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:512,columnNumber:21},this),at.jsxDEV(fh,{id:"uniqueTraits",placeholder:"Ex: Sempre canta no chuveiro, coleciona postais de viagens, faz as melhores panquecas...",value:t.uniqueTraits,onChange:e=>Y("uniqueTraits",e.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:513,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:511,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:486,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:484,columnNumber:15},this),at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"Memrias e Histrias"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:527,columnNumber:17},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"memories",children:"Partilhe as vossas histrias ou memrias favoritas que gostaria de incluir na msica."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:529,columnNumber:19},this),at.jsxDEV(fh,{id:"memories",placeholder:"Uma  suficiente. Mais  melhor.",value:t.memories,onChange:e=>Y("memories",e.target.value),rows:4,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:530,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:528,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:526,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:333,columnNumber:11},this);case 1:return at.jsxDEV(yu,{children:[at.jsxDEV(_u,{children:at.jsxDEV(Eu,{children:"Letra da sua msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:548,columnNumber:15},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:547,columnNumber:13},this),at.jsxDEV(Du,{className:"space-y-6",children:[!t.lyrics&&!s&&at.jsxDEV("div",{className:"text-center space-y-4",children:[at.jsxDEV("p",{className:"text-muted-foreground",children:"Vamos gerar a letra da sua msica baseada na histria que voc contou."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:553,columnNumber:19},this),at.jsxDEV(qo,{onClick:u,variant:"default",size:"lg",disabled:s||!t.occasion||!t.recipientName||!t.relationship,children:s?at.jsxDEV(at.Fragment,{children:[at.jsxDEV(He,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:564,columnNumber:25},this),"Gerando letra..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:563,columnNumber:23},this):at.jsxDEV(at.Fragment,{children:[at.jsxDEV(xe,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:569,columnNumber:25},this),"Gerar Letra da Msica"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:568,columnNumber:23},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:556,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:552,columnNumber:17},this),s&&at.jsxDEV("div",{className:"text-center space-y-4 py-8",children:[at.jsxDEV("div",{className:"pulse-music",children:at.jsxDEV(ye,{className:"w-12 h-12 text-primary mx-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:580,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:579,columnNumber:19},this),at.jsxDEV("div",{children:[at.jsxDEV("p",{className:"font-medium",children:"Criando sua letra personalizada..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:583,columnNumber:21},this),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Nossa IA est analisando sua histria e criando versos nicos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:584,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:582,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:578,columnNumber:17},this),t.lyrics&&!s&&at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"bg-muted p-4 sm:p-6 rounded-lg",children:[at.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[at.jsxDEV("h3",{className:"font-heading font-semibold flex items-center gap-2",children:[at.jsxDEV(ye,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:596,columnNumber:25},this),"Sua Letra Personalizada"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:595,columnNumber:23},this),at.jsxDEV("button",{type:"button",onClick:()=>V(e=>!e),className:"inline-flex items-center gap-2 text-sm px-3 py-1.5 rounded-md bg-white/70 hover:bg-white shadow","aria-label":U?"Fechar edio":"Editar letra",children:[U?at.jsxDEV(Z,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:605,columnNumber:44},this):at.jsxDEV(qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:605,columnNumber:72},this),U?"Fechar":"Editar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:599,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:594,columnNumber:21},this),U?at.jsxDEV("div",{className:"space-y-3",children:[at.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 bg-white/60 rounded-md p-3",children:[at.jsxDEV("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-2",children:at.jsxDEV("div",{className:"sm:col-span-3",children:[at.jsxDEV("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[at.jsxDEV(Be,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:618,columnNumber:116},this)," Localizar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:618,columnNumber:31},this),at.jsxDEV("div",{className:"relative",children:[at.jsxDEV("input",{value:O,onChange:e=>R(e.target.value),placeholder:"Texto a localizar",className:"w-full pr-9 pl-3 py-2 rounded border"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:620,columnNumber:33},this),O&&at.jsxDEV("button",{type:"button","aria-label":"Limpar busca",onClick:()=>R(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-black/5",children:at.jsxDEV(Z,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:633,columnNumber:37},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:627,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:619,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:617,columnNumber:29},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:616,columnNumber:27},this),at.jsxDEV("div",{className:"text-xs text-muted-foreground flex items-center gap-3",children:[at.jsxDEV("button",{type:"button",className:"px-2.5 py-1 rounded-md bg-white hover:bg-white/90 border text-xs font-medium",onClick:()=>{const e=S||t.lyrics||"";M(e),W(e)},children:[at.jsxDEV(We,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:649,columnNumber:31},this),"Restaurar original"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:640,columnNumber:29},this),"saving"===I&&at.jsxDEV(He,{className:"w-3 h-3 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:652,columnNumber:55},this),"saved"===I&&at.jsxDEV(Se,{className:"w-3 h-3 text-green-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:653,columnNumber:54},this),"saving"===I?"Salvando":"saved"===I?"Alteraes salvas":"Autosalvamento ativado"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:639,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:615,columnNumber:25},this),at.jsxDEV(wu,{value:A,onChange:e=>{M(e),W(e)},rows:14,highlightQuery:O,className:"w-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:658,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:613,columnNumber:23},this):at.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm leading-relaxed font-medium",dangerouslySetInnerHTML:{__html:X(t.lyrics||"",O)}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:611,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:593,columnNumber:19},this),at.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3",children:[at.jsxDEV(qo,{variant:"outline",onClick:p,className:"flex-1",disabled:s,children:[s?at.jsxDEV(He,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:677,columnNumber:25},this):at.jsxDEV(We,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:679,columnNumber:25},this),"Gerar Nova Letra"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:670,columnNumber:21},this),at.jsxDEV(qo,{variant:"default",onClick:()=>{A&&A!==t.lyrics&&l({lyrics:A}),m()},className:"flex-1",disabled:U,children:[at.jsxDEV(Ge,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:695,columnNumber:23},this),"Aprovar e Continuar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:683,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:669,columnNumber:19},this),at.jsxDEV("p",{className:"text-xs text-muted-foreground text-center",children:" Dica: Voc pode gerar quantas verses quiser at ficar satisfeito"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:700,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:592,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:550,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:546,columnNumber:11},this);case 2:return at.jsxDEV("div",{className:"space-y-6",children:[at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("h2",{className:"text-2xl font-bold font-heading mb-2",children:"Escolha o estilo musical"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:713,columnNumber:15},this),at.jsxDEV("p",{className:"text-muted-foreground",children:"Selecione o gnero musical e as preferncias para sua msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:714,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:712,columnNumber:13},this),at.jsxDEV("div",{className:"space-y-6",children:[at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV(mc,{className:"text-base font-semibold",children:"Estilo Musical *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:721,columnNumber:17},this),at.jsxDEV(ph,{onGenreSelect:(e,t)=>{const r=hh.find(t=>t.id===e);if(r)if(t){const e=r.subGenres.find(e=>e.id===t);e&&Y("genre",`${r.name} - ${e.name}`)}else Y("genre",r.name)},className:"w-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:722,columnNumber:17},this),C.genre&&at.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:740,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:720,columnNumber:15},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"emotion",className:"text-base font-semibold",children:"Que emoo voc quer transmitir? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:745,columnNumber:17},this),at.jsxDEV(vh,{value:t.emotion,onValueChange:e=>Y("emotion",e),children:[at.jsxDEV(bh,{className:"h-12",children:at.jsxDEV(gh,{placeholder:"Selecione a emoo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:748,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:747,columnNumber:19},this),at.jsxDEV(wh,{children:kh.map(e=>at.jsxDEV(yh,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:752,columnNumber:23},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:750,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:746,columnNumber:17},this),C.emotion&&at.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.emotion},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:759,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:744,columnNumber:15},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV(mc,{htmlFor:"vocalPreference",className:"text-base font-semibold",children:"Prefere vocais masculinos ou femininos? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:764,columnNumber:17},this),at.jsxDEV(vh,{value:t.vocalPreference,onValueChange:e=>Y("vocalPreference",e),children:[at.jsxDEV(bh,{className:"h-12",children:at.jsxDEV(gh,{placeholder:"Selecione a preferncia vocal"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:767,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:766,columnNumber:19},this),at.jsxDEV(wh,{children:Uh.map(e=>at.jsxDEV(yh,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:771,columnNumber:23},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:769,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:765,columnNumber:17},this),C.vocalPreference&&at.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:C.vocalPreference},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:778,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:763,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:719,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:711,columnNumber:11},this);case 3:return at.jsxDEV("div",{className:"space-y-6",children:[at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("h2",{className:"text-2xl font-bold font-heading mb-2",children:"Oua a sua criao"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:789,columnNumber:15},this),at.jsxDEV("p",{className:"text-muted-foreground",children:"Sua msica est pronta! Oua uma prvia e escolha o que fazer a seguir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:790,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:788,columnNumber:13},this),!a&&!N||e.audioClips&&0!==e.audioClips.length?at.jsxDEV(yu,{children:[at.jsxDEV(_u,{children:[at.jsxDEV(Eu,{className:"flex items-center gap-2",children:[at.jsxDEV(ye,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:863,columnNumber:21},this),"Msica para ",t.recipientName||"Pessoa Especial"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:862,columnNumber:19},this),at.jsxDEV("div",{className:"space-y-2",children:[at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Estilo: ",t.genre?t.genre.charAt(0).toUpperCase()+t.genre.slice(1):"Pop","  Emoo: ",t.emotion||"Feliz e animado","  Vocal: ",t.vocalPreference||"Feminino"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:867,columnNumber:21},this),(N||a)&&_>0&&at.jsxDEV("div",{className:"space-y-1",children:[at.jsxDEV("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[at.jsxDEV("span",{children:"Progresso da gerao"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:876,columnNumber:27},this),at.jsxDEV("span",{children:[y||0,"/",_]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:877,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:875,columnNumber:25},this),at.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:at.jsxDEV("div",{className:"bg-primary h-2 rounded-full transition-all duration-500 ease-out",style:{width:(_>0?(y||0)/_*100:0)+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:880,columnNumber:27},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:879,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:874,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:866,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:861,columnNumber:17},this),at.jsxDEV(Du,{className:"space-y-6",children:[at.jsxDEV("div",{className:"space-y-4",children:[o&&o.length>0&&at.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border",children:[at.jsxDEV("div",{className:"mb-4",children:[at.jsxDEV("h3",{className:"font-semibold font-heading text-lg flex items-center gap-2 mb-2",children:["Suas Msicas Personalizadas",at.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[" ",o.filter(e=>e.audio_url).length," Pronta",1!==o.filter(e=>e.audio_url).length?"s":""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:898,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:896,columnNumber:27},this),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Use os controles abaixo para ouvir e baixar suas opes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:902,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:895,columnNumber:25},this),at.jsxDEV(xu,{clips:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:906,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:894,columnNumber:23},this),N&&_>0&&Array.from({length:Math.max(0,_-((null==o?void 0:o.length)||0))}).map((e,t)=>{const r=((null==o?void 0:o.length)||0)+t+1;return at.jsxDEV("div",{className:"bg-gradient-to-r from-muted/50 to-muted/30 p-6 rounded-lg border border-dashed",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[at.jsxDEV("div",{children:[at.jsxDEV("h3",{className:"font-semibold font-heading text-lg flex items-center gap-2",children:["Opo ",r,at.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[at.jsxDEV(He,{className:"w-3 h-3 mr-1 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:920,columnNumber:35},this),"Gerando..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:919,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:917,columnNumber:31},this),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Aguarde, sua msica est sendo criada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:924,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:916,columnNumber:29},this),at.jsxDEV("div",{className:"text-right",children:[at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Durao"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:927,columnNumber:31},this),at.jsxDEV("p",{className:"font-mono text-lg text-muted-foreground",children:"--:--"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:928,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:926,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:915,columnNumber:27},this),at.jsxDEV("div",{className:"flex items-center gap-4 mb-4",children:[at.jsxDEV("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:at.jsxDEV(ye,{className:"w-8 h-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:935,columnNumber:31},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:934,columnNumber:29},this),at.jsxDEV("div",{className:"flex-1 h-12 bg-muted rounded-md flex items-center justify-center",children:at.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Player ser exibido quando a msica estiver pronta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:939,columnNumber:31},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:938,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:932,columnNumber:27},this),at.jsxDEV("div",{className:"flex justify-center",children:at.jsxDEV(qo,{size:"sm",variant:"outline",className:"w-full",disabled:!0,children:[at.jsxDEV(Ee,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:946,columnNumber:31},this),"Aguardando gerao..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:945,columnNumber:29},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:944,columnNumber:27},this)]},`placeholder-${r}`,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:914,columnNumber:25},this)}),(!o||0===o.length)&&!N&&at.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border",children:at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("h3",{className:"font-heading font-semibold text-lg mb-2",children:"Nenhuma prvia disponvel"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:958,columnNumber:27},this),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Tente gerar a msica novamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:959,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:957,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:956,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:891,columnNumber:19},this),at.jsxDEV("div",{className:"space-y-3",children:at.jsxDEV("div",{className:"grid md:grid-cols-2 gap-3",children:[at.jsxDEV(qo,{variant:"outline",size:"lg",onClick:()=>c(2),className:"w-full",children:[at.jsxDEV(ze,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:974,columnNumber:25},this),"Alterar Estilo"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:968,columnNumber:23},this),at.jsxDEV(qo,{variant:"link",size:"lg",onClick:()=>c(0),className:"w-full",children:[at.jsxDEV(qe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:983,columnNumber:25},this),"Editar Briefing"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:977,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:967,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:966,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:889,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:860,columnNumber:15},this):at.jsxDEV("div",{className:"text-center space-y-6 py-12",children:[x?at.jsxDEV(_h,{className:"mb-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:804,columnNumber:19},this):at.jsxDEV("div",{className:"flex flex-col items-center space-y-4",children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:800,columnNumber:21},this),at.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Conectando com a Suno API..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:801,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:799,columnNumber:19},this),at.jsxDEV("div",{children:[at.jsxDEV("h3",{className:"text-xl font-bold font-heading mb-2",children:x?"processing"===w?"Criando sua msica...":"Processando...":"Iniciando gerao..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:808,columnNumber:19},this),at.jsxDEV("p",{className:"text-muted-foreground",children:x?_>0?`Gerando ${_} verses da sua msica personalizada.`:"Estamos finalizando os ltimos detalhes da sua msica personalizada.":"Conectando com a API da Suno e iniciando o processo de gerao..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:812,columnNumber:19},this),_>0&&at.jsxDEV("div",{className:"mt-4",children:[at.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:at.jsxDEV("span",{children:["Progresso: ",y,"/",_," msicas prontas"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:824,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:823,columnNumber:23},this),at.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:at.jsxDEV("div",{className:"bg-accent-turquoise h-2 rounded-full transition-all duration-500",style:{width:(_>0?y/_*100:0)+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:827,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:826,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:822,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:807,columnNumber:17},this),at.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-6 space-y-4",children:[at.jsxDEV("h4",{className:"font-semibold font-heading text-lg",children:"Resumo da sua msica:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:836,columnNumber:19},this),at.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[at.jsxDEV("div",{children:[at.jsxDEV("span",{className:"font-medium",children:"Ocasio:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:839,columnNumber:23},this)," ",t.occasion]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:838,columnNumber:21},this),at.jsxDEV("div",{children:[at.jsxDEV("span",{className:"font-medium",children:"Para:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:842,columnNumber:23},this)," ",t.recipientName]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:841,columnNumber:21},this),at.jsxDEV("div",{children:[at.jsxDEV("span",{className:"font-medium",children:"Relao:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:845,columnNumber:23},this)," ",t.relationship]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:844,columnNumber:21},this),at.jsxDEV("div",{children:[at.jsxDEV("span",{className:"font-medium",children:"Gnero:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:848,columnNumber:23},this)," ",t.genre]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:847,columnNumber:21},this),at.jsxDEV("div",{children:[at.jsxDEV("span",{className:"font-medium",children:"Emoo:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:851,columnNumber:23},this)," ",t.emotion]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:850,columnNumber:21},this),at.jsxDEV("div",{children:[at.jsxDEV("span",{className:"font-medium",children:"Vocal:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:854,columnNumber:23},this)," ",t.vocalPreference]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:853,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:837,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:835,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:796,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:787,columnNumber:11},this);default:return null}})(s,o,e.audioClips||[]),at.jsxDEV("div",{className:"flex justify-between",children:[at.jsxDEV(qo,{variant:"outline",onClick:()=>{k({}),g(null),d()},disabled:0===s,children:[at.jsxDEV(ze,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1027,columnNumber:19},this),"Anterior"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1022,columnNumber:17},this),s<Th.length-1?1===s?t.lyrics&&!o?null:at.jsxDEV("div",{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1035,columnNumber:23},this):at.jsxDEV(qo,{onClick:async()=>{var e;const{showPaymentPopup:r}=tc.getState();if(P)return void r();const o=((e,t)=>{switch(e){case 0:return Eh.safeParse(t);case 1:return Dh.safeParse(t);case 2:return Sh.safeParse(t);case 3:return jh.safeParse(t);default:return{success:!1,error:{issues:[{message:`Passo invlido: ${e}`}]}}}})(s,t);if(!o.success){null==(e=o.error.issues)||e.map(e=>e.message).join("\n");if(o.error&&"errors"in o.error){const e=function(e){const t={};return e.errors.forEach(e=>{e.path&&e.path.length>0&&(t[e.path[0]]=e.message)}),t}(o.error);k(e)}return}k({}),2===s?(m(),await h()):m()},children:["Prximo",at.jsxDEV(Ge,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1040,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1038,columnNumber:21},this):at.jsxDEV(qo,{variant:"secondary",onClick:()=>{const e=mm.getState(),{token:t}=Zl.getState();e.startNewCreationFlow(j,t)},children:"Criar Nova Msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1044,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1021,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1017,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1005,columnNumber:11},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1004,columnNumber:9},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1003,columnNumber:7},this),E&&at.jsxDEV(Nu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1062,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:1002,columnNumber:5},this)}const Ah=({song:e,isPlaying:t=!1,isLoading:r=!1,onPlay:s,onPause:o,className:i="",onDownloadVersion:a,playingVersionLabel:n})=>{const{currentTime:l,duration:c}=gc(),m=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return at.jsxDEV("div",{className:`relative overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ${i}`,children:[e.imageUrl&&at.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${e.imageUrl})`},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:56,columnNumber:9},void 0),at.jsxDEV("div",{className:"relative p-4 bg-white/90",children:[at.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[at.jsxDEV("div",{className:"flex-1 min-w-0",children:[at.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 truncate mb-1",children:e.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:66,columnNumber:11},void 0),e.artist&&at.jsxDEV("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[at.jsxDEV(Xe,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:71,columnNumber:15},void 0),at.jsxDEV("span",{className:"truncate",children:e.artist},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:70,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:65,columnNumber:9},void 0),at.jsxDEV("button",{onClick:()=>{r||(t?null==o||o():null==s||s(e,e.audioUrlOption1||e.audioUrl,"A"))},disabled:r,className:"flex-shrink-0 ml-3 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full flex items-center justify-center transition-colors duration-200","aria-label":r?"Carregando msica":t?"Pausar msica":"Reproduzir msica",children:r?at.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:84,columnNumber:13},void 0):t?at.jsxDEV(de,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:86,columnNumber:13},void 0):at.jsxDEV(ue,{className:"w-5 h-5 ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:88,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:77,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:64,columnNumber:7},void 0),at.jsxDEV("div",{className:"space-y-2",children:[e.genre&&at.jsxDEV("div",{className:"flex items-center text-sm text-gray-600",children:[at.jsxDEV(ye,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:97,columnNumber:13},void 0),at.jsxDEV("span",{children:e.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:98,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:96,columnNumber:11},void 0),e.duration&&at.jsxDEV("div",{className:"flex items-center text-sm text-gray-600",children:[at.jsxDEV(De,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:104,columnNumber:13},void 0),at.jsxDEV("span",{children:m(e.duration)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:105,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:103,columnNumber:11},void 0),(e.audioUrlOption1||e.audioUrlOption2)&&at.jsxDEV("div",{className:"mt-2 space-y-2",children:[e.audioUrlOption1&&at.jsxDEV("div",{className:"flex items-center justify-between",children:[at.jsxDEV("div",{className:"text-sm text-gray-700 font-medium flex items-center gap-2",children:["Verso A",t&&"A"===n&&at.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:"Tocando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:117,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:114,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("button",{onClick:()=>null==s?void 0:s(e,e.audioUrlOption1,"A"),disabled:r,className:`px-2 py-1 text-xs rounded-md ${t&&"A"===n?"bg-blue-700 text-white":"bg-blue-600 text-white hover:bg-blue-700"} ${r?"opacity-70 cursor-not-allowed":""}`,"aria-label":"Reproduzir verso A",children:[at.jsxDEV(ue,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:127,columnNumber:21},void 0)," Reproduzir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:121,columnNumber:19},void 0),a&&at.jsxDEV("button",{onClick:()=>a("A",e.audioUrlOption1),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":"Baixar verso A",children:[at.jsxDEV(Ee,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:135,columnNumber:23},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:130,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:120,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:113,columnNumber:15},void 0),e.audioUrlOption2&&at.jsxDEV("div",{className:"flex items-center justify-between",children:[at.jsxDEV("div",{className:"text-sm text-gray-700 font-medium flex items-center gap-2",children:["Verso B",t&&"B"===n&&at.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:"Tocando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:146,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:143,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("button",{onClick:()=>null==s?void 0:s(e,e.audioUrlOption2,"B"),disabled:r,className:`px-2 py-1 text-xs rounded-md ${t&&"B"===n?"bg-blue-700 text-white":"bg-blue-600 text-white hover:bg-blue-700"} ${r?"opacity-70 cursor-not-allowed":""}`,"aria-label":"Reproduzir verso B",children:[at.jsxDEV(ue,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:156,columnNumber:21},void 0)," Reproduzir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:150,columnNumber:19},void 0),a&&at.jsxDEV("button",{onClick:()=>a("B",e.audioUrlOption2),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":"Baixar verso B",children:[at.jsxDEV(Ee,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:164,columnNumber:23},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:159,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:149,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:111,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:94,columnNumber:7},void 0),at.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-100",children:at.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[at.jsxDEV("span",{children:["Criada em ",(d=e.createdAt,new Date(d).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:177,columnNumber:11},void 0),e.status&&at.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===e.status?"bg-green-100 text-green-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Concluda":"processing"===e.status?"Processando":"failed"===e.status?"Falhou":e.status},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:179,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:176,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:175,columnNumber:7},void 0),t&&at.jsxDEV("div",{className:"mt-3",children:[at.jsxDEV("div",{className:"flex items-center justify-between text-xs text-blue-700 mb-1",children:[at.jsxDEV("span",{className:"font-medium",children:["Reproduzindo",n?`  Verso ${n}`:""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:198,columnNumber:13},void 0),at.jsxDEV("span",{children:[m(Math.floor(l||0))," / ",m(Math.floor(c||0))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:197,columnNumber:11},void 0),at.jsxDEV("div",{className:"w-full h-2 bg-blue-100 rounded-full overflow-hidden",children:at.jsxDEV("div",{className:"h-full bg-blue-600 transition-[width] duration-200",style:{width:`${Math.min(100,Math.max(0,l&&c?l/Math.max(1,c)*100:0))}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:204,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:203,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:196,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:62,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:54,columnNumber:5},void 0);var d};var Mh="AlertDialog",[Ih,Lh]=m(Mh,[B]),Oh=B(),Rh=e=>{const{__scopeAlertDialog:t,...r}=e,s=Oh(t);return d.jsx(J,{...s,...r,modal:!0})};Rh.displayName=Mh;r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=Oh(r);return d.jsx(K,{...o,...s,ref:t})}).displayName="AlertDialogTrigger";var Fh=e=>{const{__scopeAlertDialog:t,...r}=e,s=Oh(t);return d.jsx(G,{...s,...r})};Fh.displayName="AlertDialogPortal";var $h=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=Oh(r);return d.jsx(z,{...o,...s,ref:t})});$h.displayName="AlertDialogOverlay";var Bh="AlertDialogContent",[zh,Gh]=Ih(Bh),Hh=v("AlertDialogContent"),qh=r.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:o,...i}=e,a=Oh(s),n=r.useRef(null),l=b(t,n),c=r.useRef(null);return d.jsx(H,{contentName:Bh,titleName:Wh,docsSlug:"alert-dialog",children:d.jsx(zh,{scope:s,cancelRef:c,children:d.jsxs(q,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:w(i.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=c.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[d.jsx(Hh,{children:o}),d.jsx(ep,{contentRef:n})]})})})});qh.displayName=Bh;var Wh="AlertDialogTitle",Xh=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=Oh(r);return d.jsx(W,{...o,...s,ref:t})});Xh.displayName=Wh;var Yh="AlertDialogDescription",Jh=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=Oh(r);return d.jsx(X,{...o,...s,ref:t})});Jh.displayName=Yh;var Kh=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,o=Oh(r);return d.jsx(Y,{...o,...s,ref:t})});Kh.displayName="AlertDialogAction";var Qh="AlertDialogCancel",Zh=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:o}=Gh(Qh,r),i=Oh(r),a=b(t,o);return d.jsx(Y,{...i,...s,ref:a})});Zh.displayName=Qh;var ep=({contentRef:e})=>{const t=`\`${Bh}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${Bh}\` by passing a \`${Yh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))},[t,e]),null},tp=$h,rp=qh,sp=Kh,op=Zh,ip=Xh,ap=Jh;const np=Rh,lp=Fh,cp=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(tp,{className:Jr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));cp.displayName=tp.displayName;const mp=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(lp,{children:[at.jsxDEV(cp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),at.jsxDEV(rp,{ref:r,className:Jr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));mp.displayName=rp.displayName;const dp=({className:e,...t})=>at.jsxDEV("div",{className:Jr("flex flex-col space-y-2 text-center sm:text-left",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);dp.displayName="AlertDialogHeader";const up=({className:e,...t})=>at.jsxDEV("div",{className:Jr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);up.displayName="AlertDialogFooter";const hp=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(ip,{ref:r,className:Jr("text-lg font-semibold",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));hp.displayName=ip.displayName;const pp=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(ap,{ref:r,className:Jr("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));pp.displayName=ap.displayName;const fp=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(sp,{ref:r,className:Jr(Ho(),e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));fp.displayName=sp.displayName;const vp=r.forwardRef(({className:e,...t},r)=>at.jsxDEV(op,{ref:r,className:Jr(Ho({variant:"outline"}),"mt-2 sm:mt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));vp.displayName=op.displayName;const gp=()=>{const e=qs(),{reset:t,startNewCreationFlow:s}=mm(),[o,i]=r.useState([]),[a,n]=r.useState(!0),[l,c]=r.useState(null),[m,d]=r.useState(null),{currentId:u,isPlaying:h,play:p,pause:f,currentVersionLabel:v}=gc(),g=r.useRef(new Map),[b,x]=r.useState(""),[N,w]=r.useState("recent"),[y,_]=r.useState("all"),[E,D]=r.useState(!1),[S,j]=r.useState(null),T=async()=>{const{token:t}=Zl.getState();await s(e,t)};r.useEffect(()=>{(async()=>{var e;try{n(!0),c(null);const t=await ii(),r=((null==(e=null==t?void 0:t.data)?void 0:e.songs)||(null==t?void 0:t.songs)||t||[]).map(e=>{const t=e.audioUrlOption1||e.audio_url_option1||e.audioUrl||e.audio_url||"",r=e.audioUrlOption2||e.audio_url_option2||"";return{id:e.id,title:e.title||"Sem ttulo",lyrics:e.lyrics||void 0,audioUrlOption1:t||void 0,audioUrlOption2:r||void 0,audioUrl:t||r||void 0,imageUrl:e.imageUrl||e.image_url||void 0,createdAt:"string"==typeof e.createdAt?e.createdAt:e.created_at||(new Date).toISOString(),userId:e.userId||e.user_id,guestId:e.guestId||e.guest_id,status:e.status||e.generationStatus||e.generation_status||"completed",sunoTaskId:e.sunoTaskId||e.suno_task_id||e.taskId||e.task_id||null}});r.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i(r)}catch(t){c("Erro ao carregar suas msicas. Tente novamente.")}finally{n(!1)}})()},[]);const P=async e=>{const t=g.current.get(e.id);if(t)return t;const r=e.audioUrlOption1||e.audioUrl||null,s=e.audioUrlOption2||null,o=e.sunoTaskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(o){const t=await ru(o);if(null==t?void 0:t.streamUrl){const o={playbackUrl:t.streamUrl,downloadUrl:t.audioUrl||r||s||null};return g.current.set(e.id,o),o}}if(r||s){const t={playbackUrl:r||s,downloadUrl:r||s||null};return g.current.set(e.id,t),t}return null},C=()=>{f()},k=async(e,t,r)=>{let s=t||null;if(!s){const t=await P(e);s=(null==t?void 0:t.downloadUrl)||(null==t?void 0:t.playbackUrl)||null}if(!s)return void _t.error("No foi possvel localizar o arquivo para download.");const o=`${e.title||"minha-musica"}${r?`_${r}`:""}.mp3`;try{const e=`${si}/api/download?url=${encodeURIComponent(s)}&filename=${encodeURIComponent(o)}`;await bu(e,o)}catch(kp){await bu(s,o)}};return a?at.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV(He,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:235,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-white text-lg",children:"Carregando suas msicas..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:236,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:234,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:233,columnNumber:7},void 0):l?at.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:at.jsxDEV("div",{className:"text-center",children:at.jsxDEV("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-6 max-w-md",children:[at.jsxDEV("p",{className:"text-red-200 mb-4",children:l},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:247,columnNumber:13},void 0),at.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Tentar Novamente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:246,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:245,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:244,columnNumber:7},void 0):at.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[at.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[at.jsxDEV("div",{className:"text-center mb-8",children:[at.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-4 flex items-center justify-center gap-3",children:[at.jsxDEV(ye,{className:"h-10 w-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:265,columnNumber:13},void 0),"Minhas Msicas"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:264,columnNumber:11},void 0),at.jsxDEV("div",{className:"flex items-center justify-center gap-4",children:[at.jsxDEV("p",{className:"text-blue-200 text-lg",children:"Suas criaes musicais personalizadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:269,columnNumber:13},void 0),at.jsxDEV("button",{onClick:T,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Criar Nova Msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:270,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:268,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:263,columnNumber:9},void 0),o.length>0&&at.jsxDEV("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-3",children:[at.jsxDEV("div",{className:"md:col-span-1",children:at.jsxDEV("div",{className:"relative",children:[at.jsxDEV(Be,{className:"w-4 h-4 text-blue-200 absolute left-3 top-1/2 -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:284,columnNumber:17},void 0),at.jsxDEV(ac,{placeholder:"Buscar por ttulo...",value:b,onChange:e=>x(e.target.value),className:"pl-9 bg-white/10 border-white/20 text-white placeholder:text-blue-200/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:283,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:282,columnNumber:13},void 0),at.jsxDEV("div",{className:"flex items-center gap-3",children:[at.jsxDEV(vh,{value:N,onValueChange:e=>w(e),children:[at.jsxDEV(bh,{className:"bg-white/10 border-white/20 text-white",children:at.jsxDEV(gh,{placeholder:"Ordenar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:296,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:295,columnNumber:17},void 0),at.jsxDEV(wh,{children:[at.jsxDEV(yh,{value:"recent",children:"Mais recentes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:299,columnNumber:19},void 0),at.jsxDEV(yh,{value:"oldest",children:"Mais antigas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:300,columnNumber:19},void 0),at.jsxDEV(yh,{value:"title",children:"Ttulo A-Z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:301,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:298,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:294,columnNumber:15},void 0),at.jsxDEV(vh,{value:y,onValueChange:e=>_(e),children:[at.jsxDEV(bh,{className:"bg-white/10 border-white/20 text-white",children:at.jsxDEV(gh,{placeholder:"Status"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:306,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:305,columnNumber:17},void 0),at.jsxDEV(wh,{children:[at.jsxDEV(yh,{value:"all",children:"Todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:309,columnNumber:19},void 0),at.jsxDEV(yh,{value:"completed",children:"Concludas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:310,columnNumber:19},void 0),at.jsxDEV(yh,{value:"processing",children:"Processando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:311,columnNumber:19},void 0),at.jsxDEV(yh,{value:"failed",children:"Falhas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:312,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:308,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:304,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:293,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:281,columnNumber:11},void 0),0===o.length?at.jsxDEV("div",{className:"text-center",children:at.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 max-w-md mx-auto",children:[at.jsxDEV(ye,{className:"h-16 w-16 text-white/50 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:322,columnNumber:15},void 0),at.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma msica encontrada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:323,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-blue-200 mb-4",children:"Voc ainda no criou nenhuma msica. Que tal comear agora?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:326,columnNumber:15},void 0),at.jsxDEV("button",{onClick:T,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Criar Primeira Msica"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:329,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:321,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:320,columnNumber:11},void 0):at.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.filter(e=>"all"===y||(e.status||"completed").toLowerCase()===y).filter(e=>e.title.toLowerCase().includes(b.toLowerCase())).sort((e,t)=>"recent"===N?new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():"oldest"===N?new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime():e.title.localeCompare(t.title)).map(t=>at.jsxDEV("div",{className:"space-y-3",children:[at.jsxDEV(Ah,{song:{id:t.id,title:t.title,audioUrl:t.audioUrl||"",imageUrl:t.imageUrl,lyrics:t.lyrics,genre:void 0,mood:void 0,userId:t.userId,guestId:t.guestId,createdAt:t.createdAt,audioUrlOption1:t.audioUrlOption1,audioUrlOption2:t.audioUrlOption2,status:t.status,sunoTaskId:t.sunoTaskId},isPlaying:u===t.id&&h,isLoading:m===t.id,onPlay:(e,r,s)=>(async(e,t,r)=>{try{d(e.id);let s=t||null;if(!s){const t=await P(e);s=(null==t?void 0:t.playbackUrl)||null}if(!s)return void _t.error("No foi possvel carregar o udio desta msica.");p(e.id,s,{title:e.title,versionLabel:r})}catch(s){_t.error("Falha ao iniciar a reproduo. Tente novamente.")}finally{d(t=>t===e.id?null:t)}})(t,r,s),onPause:C,onDownloadVersion:(e,r)=>k(t,r,e),playingVersionLabel:u===t.id?v:void 0},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:349,columnNumber:17},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("button",{onClick:()=>(async t=>{try{const{updateFormData:r}=mm.getState();r({songTitle:t.title,lyrics:t.lyrics||""}),e("/criar")}catch(kp){}})(t),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(Ye,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:378,columnNumber:21},void 0)," Editar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:374,columnNumber:19},void 0),at.jsxDEV("button",{onClick:()=>k(t),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(Ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:384,columnNumber:21},void 0)," Download"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:380,columnNumber:19},void 0),at.jsxDEV("button",{onClick:()=>{const e=`${window.location.origin}/musica/${t.id}`;navigator.clipboard.writeText(e).then(()=>{}).catch(()=>{})},className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(Je,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:395,columnNumber:21},void 0)," Copiar Link"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:386,columnNumber:19},void 0),at.jsxDEV("button",{onClick:()=>(async e=>{const t=`${window.location.origin}/musica/${e.id}`,r={title:e.title,text:"Oua minha msica no Memora Music",url:t};try{navigator.share?await navigator.share(r):(await navigator.clipboard.writeText(t),_t.success("Link copiado para a rea de transferncia"))}catch{}})(t),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(we,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:401,columnNumber:21},void 0)," Compartilhar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:397,columnNumber:19},void 0),at.jsxDEV("button",{onClick:()=>(async e=>{j(e),D(!0)})(t),className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-100 rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(Ke,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:407,columnNumber:21},void 0)," Excluir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:403,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:373,columnNumber:17},void 0)]},t.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:348,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:338,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:262,columnNumber:7},void 0),at.jsxDEV(np,{open:E,onOpenChange:D,children:at.jsxDEV(mp,{className:"bg-white",children:[at.jsxDEV(dp,{children:[at.jsxDEV(hp,{children:"Excluir msica?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:420,columnNumber:13},void 0),at.jsxDEV(pp,{children:['Esta ao no pode ser desfeita. A msica "',null==S?void 0:S.title,'" ser removida permanentemente.']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:421,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:419,columnNumber:11},void 0),at.jsxDEV(up,{children:[at.jsxDEV(vp,{children:"Cancelar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:426,columnNumber:13},void 0),at.jsxDEV(fp,{onClick:async()=>{const e=S;if(e)try{await li(e.id),i(t=>t.filter(t=>t.id!==e.id))}catch(kp){alert("No foi possvel excluir a msica.")}finally{D(!1),j(null)}},className:"bg-red-600 hover:bg-red-700",children:"Excluir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:427,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:425,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:418,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:417,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:261,columnNumber:5},void 0)};class bp{constructor(e,t){this.path=e,this.options=t,this.times=[],this.lyrics=[],this.lyricsCounts=[],this.metadata={},this.gCurrentLyric,this.lastPlayedLyric,this.contaScroll=!0,this.validateInputs()}validateInputs(){this.validateOptions(),this.validatePath(),this.validateSelectors(),this.validateAnimation(),this.init()}validatePath(){if("string"!=typeof this.path||""===this.path&&!this.isRaw)throw new Error("File's path is required and should be a string.");if(!this.path.endsWith(".lrc")&&!this.isRaw)throw new Error("File's path should have a valid '.lrc' format.")}validateOptions(){if(!this.options)throw new Error("Options object is required.");const e=["sync","print","extract"];if(!this.options.type||!e.includes(this.options.type))throw new Error(`"${this.options.type}" is not a valid type.\n- (Valid types: "${e.join('", "')}")`);const t=this.getRequiredOptionsByType().filter(e=>!this.options[e]);if(t.length>0)throw new Error(`Required attributes are missing: "${t.join('", "')}"`);this.karaoke=this.options.isKaraoke??!1,this.actKaraoke=this.options.actKaraoke??this.karaoke,this.isRaw=this.options.isRaw??!1,this.auto_start=this.options.autoStart??!0}getRequiredOptionsByType(){switch(this.options.type){case"extract":return[];case"print":return["container_selector"];default:return["audio_selector","container_selector"]}}validateSelectors(){this.getRequiredOptionsByType().forEach(e=>{const t=this.options[e];if(t&&!["#","."].includes(t.charAt(0)))throw new Error(`Element selector for "${e}" must start with "#" or ".".`);if(null===document.querySelector(t))throw new Error(`${t} is not a valid selector.`)})}validateAnimation(){const e=["normal","slide"];if(this.options.animations&&!e.includes(this.options.animations.animation_type))throw new Error(`"${this.options.animations.animation_type}" is not a valid animation type.\n- (Valid animations: "${e.join('", "')}")`)}static async load(e,t){const r=new bp(e,t);return await r.init(),r}async init(){if(this.isRaw)this.extractLrc(this.path);else try{const e=await fetch(this.path);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.text();this.extractLrc(t)}catch(e){}}extractLrc(e){var t;this.times=[],this.lyrics=[],this.metadata={};let r=[];e.split(/\r?\n|\r|\n/g).forEach(e=>{const t=this.extractTimeAndText(e);if(t[0]){const{times:e,text:s,counter:o}=t[1];if(this.karaoke&&this.actKaraoke){const t=e.pop();for(const e of t){const t=this.timeToMilliseconds(e);isNaN(t)||r.push({time:t})}}for(const t of e){const e=this.timeToMilliseconds(t);isNaN(e)||r.push({time:e,lyric:s,counter:o})}}}),r.sort((e,t)=>e.time-t.time),this.times=r.map(e=>e.time),this.lyrics=r.filter(e=>void 0!==e.lyric).map(e=>e.lyric),this.lyricsCounts=r.filter(e=>void 0!==e.counter&&null!==e.counter).map(e=>e.counter),this.offset=this.options.offset??(Number(null==(t=this.metadata)?void 0:t.offset)||0);let s=0;const o=this.lyricsCounts.length;for(let i=0;i<o;i++)this.lyricsCounts[i]=[this.lyricsCounts[i],s],s+=this.lyricsCounts[i][0];this.typesHandler()}typesHandler(){var e,t,r;const s=this.options.type;if(0!==this.times.length)if("extract"===s);else if("sync"===s){if(this.container=document.querySelector(this.options.container_selector),this.audio=document.querySelector(this.options.audio_selector),this.options.animations&&"slide"===this.options.animations.animation_type){let s,o;this.container.scrollTo({top:0});const i=(null==(e=this.options.animations)?void 0:e.wheel_scroll)??!0,a=(null==(t=this.options.animations)?void 0:t.touch_scroll)??!0,n=(null==(r=this.options.animations)?void 0:r.change_onclick)??!0;if(i&&this.container.addEventListener("wheel",()=>{clearTimeout(s),clearTimeout(o),this.contaScroll&&(this.contaScroll=!1),s=setTimeout(()=>{o=setTimeout(()=>{var e;const t=(null==(e=this.gCurrentLyric)?void 0:e[2])||0,r=this.container.offsetHeight,s=this.container.querySelector(`.lyric:nth-child(${t+2})`),o=s.offsetHeight,i=s.offsetTop-(r/2.19-o/2);this.container.scrollTo({top:i,behavior:"smooth"}),this.contaScroll=!0},2e3)},150)}),a&&(this.container.addEventListener("touchstart",()=>{clearTimeout(o),this.contaScroll&&(this.contaScroll=!1)}),this.container.addEventListener("touchend",()=>{o=setTimeout(()=>{var e;const t=(null==(e=this.gCurrentLyric)?void 0:e[2])||0,r=this.container.offsetHeight,s=this.container.querySelector(`.lyric:nth-child(${t+2})`),o=s.offsetHeight,i=s.offsetTop-(r/2.19-o/2);this.container.scrollTo({top:i,behavior:"smooth"}),this.contaScroll=!0},2e3)})),n&&this.container.addEventListener("click",e=>{const t=e.target.closest(".lyric");if(null!==t){let e=t.getAttribute("data-time");this.audio.currentTime=Number(e)/1e3+.2}}),this.renderLyrics(),this.options.animations&&this.options.animations.auto_scroll){this.container.querySelectorAll(".segap").forEach(e=>{e.style.height="55.5%",e.style.width="100%"})}}this.syncLyrics()}else"sync"===s?(this.container=document.querySelector(this.options.container_selector),this.syncLyrics()):"print"===s&&this.renderLyrics()}extractTimeAndText(e){const t=/\[(\d+):(\d{2})\.(\d{1,5})\]/g,r=/\[([a-zA-Z0-9]+):\s*([^\]]+)\]/,s=/<(\d{2}):(\d{2})\.(\d{2,3})>([^<]*)/g,o=[],i=[];let a,n,l,c=!1;for(;null!==(a=t.exec(e));){c=!0;const[e,t,r,s]=a;o.push([t,r,s])}if(c){const r=[...e.matchAll(t)].pop();if(n=!!r&&e.slice(r.index+r[0].length),!1!==n&&this.karaoke){const t=e.replace(/\[[a-zA-Z0-9_]+:.*?\]/g,"");let r;const a=[];for(;null!==(r=s.exec(t));){const[e,t,s,o]=r;a.push([t,s,o]),i.push(r[4])}this.actKaraoke&&o.push(a),l=i.length+1}}else if(""!==e){const t=r.exec(e);t&&(this.metadata[t[1]]=t[2])}const m=this.karaoke?this.actKaraoke?i.length>0?i:[n]:String(i.join("")):n,d=this.karaoke&&this.actKaraoke?l:null;return[c,c?{times:o,text:m,counter:d}:null]}timeToMilliseconds([e,t,r]){const s=r.padEnd(3,"0").slice(0,3);return 60*parseInt(e)*1e3+1e3*parseInt(t)+parseInt(s)}renderLyrics(){const{times:e,lyrics:t,lyricsCounts:r,offset:s}=this,o=document.querySelector(this.options.container_selector),i=this.options.animations&&this.options.animations.auto_scroll,a=document.createDocumentFragment();if(i){const e=document.createElement("span");e.classList.add("segap"),a.appendChild(e)}if(this.karaoke)for(let n=0;n<t.length;n++){const o=this.actKaraoke?"div":"p",i=document.createElement(o);this.actKaraoke?(t[n].forEach(e=>{const t=document.createElement("p");t.textContent=e,i.appendChild(t)}),i.setAttribute("data-time",e[r[n][1]]-s)):(i.textContent=t[n],i.setAttribute("data-time",e[n]-s)),i.classList.add("lyric"),i.setAttribute("index",n),a.appendChild(i)}else for(let n=0;n<t.length;n++){const r=document.createElement("p");r.textContent=t[n],r.classList.add("lyric"),r.setAttribute("data-time",e[n]-s),a.appendChild(r)}if(i){const e=document.createElement("span");e.classList.add("segap"),a.appendChild(e)}o.appendChild(a)}syncLyrics(){var e,t;const{times:r,lyrics:s,audio:o,offset:i,karaoke:a,actKaraoke:n,auto_start:l}=this,c=(null==(t=null==(e=this.options)?void 0:e.animations)?void 0:t.animation_type)||"normal",m=a&&n;let d,u=[0,0];0==r[0]&&(this.gCurrentLyric=[s[0],r[0],0]);const h=()=>{let e=1e3*o.currentTime;for(let t=0;t<r.length;t++)if(r[t+1]-i>=e||t===r.length-1){this.sendLyric(c,[s[t],t],"",m,!0),u=[u[0],e],u[0]=t;break}},p=()=>{clearInterval(d),h(),d=setInterval(()=>{let e=1e3*o.currentTime;Math.abs(e-u[1])<70?r[u[0]]-i<=e?(this.sendLyric(c,[s[u[0]],u[0]],e,m,!1),u=[u[0]+1,e]):u=[u[0],e]:h()},10)},f=()=>{clearInterval(d),d=null};this.start=()=>p(),this.pause=()=>f(),l&&(o.addEventListener("play",p),o.addEventListener("pause",f)),o.addEventListener("seeked",h)}sendLyric(e,t,r,s,o){const{lyrics:i,times:a,container:n}=this,l=()=>{var e,r,s,o;const i=n.querySelector(".lyric");i&&i.remove();const a=document.createElement("p");a.classList.add("lyric"),a.textContent=t[0],n.appendChild(a),a.style.animation=`${(null==(r=null==(e=this.options)?void 0:e.animations)?void 0:r.keyframe_id)||"LyricaLyricIn"} ${(null==(o=null==(s=this.options)?void 0:s.animations)?void 0:o.animation_parameters)||"ease-out 0.2s"}`,clearTimeout()},c=e=>{var r,s;n.querySelectorAll(".active").forEach(e=>{e.classList.add("passed"),e.classList.remove("active")});const i=e?m[0]:t[1];if(o){const e=n.children;n.querySelectorAll(".passed").forEach(e=>{e.classList.remove("passed")});for(let t=(null==(r=this.options.animations)?void 0:r.auto_scroll)?1:0;t<=i;t++)e[t].classList.add("passed")}const a=(null==(s=this.options.animations)?void 0:s.auto_scroll)?i+2:i+1;if(n.querySelector(`.lyric:nth-child(${a})`).classList.add("active"),this.options.animations.auto_scroll&&this.contaScroll){const e=n.offsetHeight,t=n.querySelector(`.lyric:nth-child(${i+2})`).offsetHeight,r=n.querySelector(`.lyric:nth-child(${i+2})`).offsetTop-(e/2.19-t/2);n.scrollTo({top:r,behavior:"smooth"})}},m=!!s&&this.karaokeMatchIndex(t[1]);switch(s?(-1==m[1]&&(this.lastPlayedLyric=this.gCurrentLyric),this.gCurrentLyric=[i[m[0]],a[t[1]],m[0]]):(this.lastPlayedLyric=this.gCurrentLyric,this.gCurrentLyric=[i[t[1]],a[t[1]],t[1]]),e){case"normal":s?(()=>{const e=n.querySelector(".lyric");let t;if(t=e?e.getAttribute("index"):null,-1==m[1]||Number(t)!==m[0]){const e=n.querySelector(".lyric");e&&e.remove();const t=document.createElement("div");t.classList.add("lyric"),t.setAttribute("index",m[0]),i[m[0]].forEach(e=>{const r=document.createElement("p");r.textContent=e,t.appendChild(r)}),n.appendChild(t)}else for(let r=0;r<=m[1];r++)n.querySelector(`.lyric p:nth-child(${r+1})`).classList.add("active")})():l();break;case"slide":s?function(){const e=n.querySelector("div.active");let t;if(t=e?e.getAttribute("index"):null,-1==m[1]||Number(t)!==m[0])c(!0);else for(let r=0;r<=m[1];r++)n.querySelector(`.active p:nth-child(${r+1})`).classList.add("active")}():c(!1)}}karaokeMatchIndex(e){const{times:t,lyricsCounts:r}=this;let s=0,o=0;for(;s+r[o][0]<=e;)s+=r[o][0],o+=1;return[o,e-s-1]}searchLyric(e,t,r){const{times:s,lyrics:o,lyricsCounts:i,karaoke:a,actKaraoke:n}=this;const l=/(\d+):(\d{2})\.(\d{2})/.exec(e);let c;if(l){const[e,t,r,s]=l;c=this.timeToMilliseconds([t,r,s])}else c=e;return t?function(e,t){const r=s.indexOf(e),l=a&&n?i[r][1]:r,c=r>0&&o[l];return t?[c,l]:[c]}(c,r):function(e,t){for(let r=0;r<o.length;r++){const l=a&&n?i[r][1]:r;if(s[l]>e){const e=a&&n?String(o[r-1].join("")):o[r-1];return t?[e,r-1]:[e]}}}(c,r)}searchTime(e,t){const{times:r,lyrics:s,lyricsCounts:o,karaoke:i,actKaraoke:a}=this;let n=[],l=[];for(let c=0;c<s.length;c++){const t=i&&a?o[c][1]:c;(i&&a?String(s[c].join("")):s[c])===e&&(n.push(r[t]),l.push(t))}return t?[n,l]:[n]}getCurrent(){if("sync"===this.options.type)return this.gCurrentLyric}next(e){var t;if("sync"===this.options.type){const{times:r,lyrics:s,lyricsCounts:o,audio:i,karaoke:a,actKaraoke:n,offset:l}=this,c=(null==(t=this.gCurrentLyric)?void 0:t[2])||0,m=e||1;if(c<s.length-m){const e=a&&n?o[c+m][1]:c+m;i.currentTime=(r[e]-l)/1e3+.2;return[a&&n?String(s[c+m].join("")):s[c+m],r[e]-l,c+m]}return}}previous(e){var t;if("sync"===this.options.type){const{times:r,lyrics:s,lyricsCounts:o,audio:i,karaoke:a,actKaraoke:n,offset:l}=this,c=(null==(t=this.gCurrentLyric)?void 0:t[2])||0,m=e||1;if(c>=m){const e=a&&n?o[c-m][1]:c-m;i.currentTime=(r[e]-l)/1e3+.2;return[a&&n?String(s[c+m].join("")):s[c+m],r[e]-l,c+m]}return}}last(){if("sync"===this.options.type)return void 0===this.lastPlayedLyric||null===this.lastPlayedLyric?void 0:(this.audio.currentTime=this.lastPlayedLyric[1]/1e3+.2,this.lastPlayedLyric)}goTo(e){if("sync"===this.options.type){const{times:t,lyrics:r,lyricsCounts:s,audio:o,karaoke:i,actKaraoke:a,offset:n}=this;if(e.time){if(""!==e.time){const r=this.searchLyric(e.time,!1,!0),l=i&&a?s[r[1]][1]:r[1];return o.currentTime=(t[l]-n)/1e3+.2,[r[0],t[l]-n,r[1]]}return}if(e.lyric){let r,s;Array.isArray(e.lyric)?(r=String(e.lyric[0]),s=e.lyric[1]??0):(r=String(e.lyric),s=0);const i=this.searchTime(r,!0);return i[1].length>=0&&void 0!==i[1][s]?(o.currentTime=(t[i[1][s]]-n)/1e3+.2,[r,t[i[1][s]]-n,this.karaokeMatchIndex(i[1][s])[0]]):void 0}if(e.index){if(""===e.index||isNaN(e.index))return;{const l=i&&a?s[Number(e.index)][1]:Number(e.index);o.currentTime=(t[l]-n)/1e3+.2;return[i&&a?String(r[e.index].join("")):r[e.index],t[l]-n,e.index]}}}}getData(){return{lyrics:this.lyrics,lyricsCounter:this.lyricsCounts,times:this.times,metadata:this.metadata}}}function xp(e){const t=e.split(/\r?\n/),r=[],s=/\[(\d{1,2}):(\d{2})(?:\.(\d{1,3}))?\]\s*(.*)$/;for(const o of t){const e=o.match(s);if(e){const t=60*parseInt(e[1],10)+parseInt(e[2],10)+(e[3]?parseInt(e[3].padEnd(3,"0"),10):0)/1e3,s=e[4]||"";r.push({t:t,text:s})}}return r.length>0?r.sort((e,t)=>e.t-t.t):null}const Np=({lyrics:e,className:t="",wordTimings:s})=>{const{currentTime:o,duration:i,getMediaElement:a}=gc(),[n,l]=r.useState(void 0);r.useEffect(()=>{let t=!1;return(async()=>{try{if(!e)return void l(void 0);const r=new bp(e,{type:"extract",isRaw:!0,isKaraoke:!0,actKaraoke:!0,offset:0}),s=(null==r?void 0:r.lyrics)||(null==r?void 0:r.data)||(null==r?void 0:r.result)||[];if(Array.isArray(s)&&s.length>0){const e=s.map(e=>{const t=Number(e.t??e.time??e.start??0),r=(Array.isArray(e.words)?e.words:Array.isArray(e.karaoke)?e.karaoke:[]).map(e=>({t:Number(e.t??e.time??e.start??0),d:e.d??e.duration,text:String(e.text??e.word??"")})),s="string"==typeof e.text?e.text:r.length?r.map(e=>e.text).join(" "):"";return{t:t,words:r,text:s}});t||l(e)}else t||l(void 0)}catch(kp){t||l(void 0)}})(),()=>{t=!0}},[e]);const c=r.useMemo(()=>{if(!e)return[{t:0,text:""}];const t=s&&s.length>0?s:n;if(t&&t.length>0)return t.map(e=>({t:e.t,text:e.text??e.words.map(e=>e.text).join(" ")})).sort((e,t)=>e.t-t.t);const r=xp(e);if(r)return r;const o=Number.isFinite(i)&&i>0?i:180;return function(e,t){const r=e.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);if(0===r.length)return[{t:0,text:""}];const s=r.map(e=>Math.max(1,e.split(/\s+/).length)),o=s.reduce((e,t)=>e+t,0),i=t/Math.max(1,o),a=[];let n=0;for(let l=0;l<r.length;l++)a.push({t:n,text:r[l]}),n+=s[l]*i;return a}(e,o)},[e,i,s,n]),m=r.useMemo(()=>function(e){const t=e.match(/\[offset\s*:\s*([+-]?\d+)\s*\]/i);if(!t)return 0;const r=parseInt(t[1],10);return Number.isFinite(r)?r/1e3:0}(e||""),[e]),[d,u]=r.useState(0),h=r.useRef(null);r.useEffect(()=>{const e=null==a?void 0:a();if(!e)return;return(async()=>{var t;try{const r=h.current||(h.current={}),s=e.currentSrc||e.src;if(r.lastSrc===s&&r.ctx)return;r.raf&&cancelAnimationFrame(r.raf);try{null==(t=r.ctx)||t.close()}catch{}const o=new(window.AudioContext||window.webkitAudioContext),i=o.createMediaElementSource(e),a=o.createBiquadFilter();a.type="highpass",a.frequency.value=180;const n=o.createBiquadFilter();n.type="lowpass",n.frequency.value=4e3;const l=o.createAnalyser();l.fftSize=1024,l.smoothingTimeConstant=.85,i.connect(a),a.connect(n),n.connect(l),l.connect(o.destination),r.ctx=o,r.src=i,r.analyser=l,r.hp=a,r.lp=n,r.lastSrc=s;const c=new Uint8Array(l.frequencyBinCount);let m=0,d=0,p=0,f=!1;const v=()=>e.currentTime,g=()=>{if(r.raf=requestAnimationFrame(g),e.paused)return;l.getByteFrequencyData(c);let t=0,s=0;for(let e=5;e<.65*c.length;e++)t+=c[e],s++;if(t=s?t/s:0,d++,d<20)return void(m=m?.9*m+.1*t:t);m=.995*m+.005*t;f||((m>1?t/m:0)>1.8?p++:p=Math.max(0,p-1),p>6&&(f=!0,u(v())))};r.raf=requestAnimationFrame(g)}catch{}})(),()=>{const e=h.current;e&&e.raf&&cancelAnimationFrame(e.raf)}},[a]);const p=r.useMemo(()=>!(n&&n.length>0||!!xp(e||""))&&d>.05,[n,e,d]),f=r.useMemo(()=>{const e=o+m-(p?d:0);return Math.max(0,e)},[o,m,p,d]),{activeIndex:v,nextTime:g,lineProgress:b}=r.useMemo(()=>{var e;if(!c||0===c.length)return{activeIndex:0,nextTime:0,lineProgress:0};let t=0;for(let a=0;a<c.length;a++){const e=c[a].t,r=a<c.length-1?c[a+1].t:i||e+3;if(f>=e&&f<r){t=a;break}f>=r&&(t=a)}const r=(null==(e=c[t])?void 0:e.t)||0,s=t<c.length-1?c[t+1].t:i||r+3,o=Math.max(.3,s-r);return{activeIndex:t,nextTime:s,lineProgress:Math.min(1,Math.max(0,(f-r)/o))}},[c,f,i]),x=r.useRef(null),N=r.useRef([]);r.useEffect(()=>{const e=N.current[v],t=x.current;if(e&&t){const r=e.offsetTop-t.offsetTop,s=e.clientHeight,o=t.clientHeight,i=Math.max(0,r-o/2+s/2);t.scrollTo({top:i,behavior:"smooth"})}},[v]);const w=r.useMemo(()=>{const e=(s&&s.length>0?s:n)||[];if(0===e.length||!c||0===c.length)return null;const t=e.find(e=>{var t;return Math.abs(e.t-((null==(t=c[v])?void 0:t.t)||0))<.05});if(!t)return null;const r=t.words||[];let o=-1;for(let s=0;s<r.length;s++){const e=t.t+(r[s].t||0),i=e+(r[s].d||.2);if(f>=e&&f<i){o=s;break}f>=i&&(o=s)}return{line:t,activeWordIndex:Math.max(0,o)}},[s,n,c,v,f]);return at.jsxDEV("div",{className:`rounded-lg bg-white/5 border border-white/10 p-4 max-h-80 overflow-y-auto ${t}`,ref:x,children:c.map((e,t)=>{const r=t===v,s=e.text||"";return at.jsxDEV("div",{ref:e=>N.current[t]=e,className:"my-1 px-2 py-1 rounded transition-colors "+(r?"bg-blue-600/10":"bg-transparent"),children:(()=>{if(r&&w&&Math.abs(w.line.t-e.t)<.05){const e=w.line.words;return at.jsxDEV("span",{className:"relative inline-block text-white/90",children:e.map((t,r)=>{const s=w.line.t+(t.t||0),i=s+(t.d||.2),a=o>=i,n=o>=s&&o<i;return at.jsxDEV("span",{children:[at.jsxDEV("span",{className:"transition-colors "+(a?"text-white":n?"text-white/90":"text-white/50"),style:{transitionDuration:"120ms"},children:t.text},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:281,columnNumber:23},void 0),r<e.length-1?" ":""]},`${s}-${r}`,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:280,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:273,columnNumber:15},void 0)}return at.jsxDEV("span",{className:"relative inline-block text-white/90",style:{backgroundImage:r?`linear-gradient(90deg, rgba(255,255,255,0.95) ${Math.round(100*b)}%, rgba(255,255,255,0.25) ${Math.round(100*b)}%)`:"none",WebkitBackgroundClip:r?"text":"initial",backgroundClip:r?"text":"initial",color:r?"transparent":void 0,transition:"background 120ms linear"},children:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:296,columnNumber:13},void 0)})()},`${e.t}-${t}`,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:313,columnNumber:11},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:264,columnNumber:5},void 0)},wp=()=>{const{id:e}=function(){let{matches:e}=r.useContext(Fs),t=e[e.length-1];return t?t.params:{}}(),t=qs(),[s,o]=r.useState(null),[i,a]=r.useState(!0),[n,l]=r.useState(null),[c,m]=r.useState(null),[d,u]=r.useState(!1),h=r.useRef(new Map),{currentId:p,isPlaying:f,play:v,pause:g}=gc(),b=async e=>{if(!e)return null;const t=e.id,r=h.current.get(t);if(r)return r;const s=e.audioUrlOption1||e.audioUrlOption2||null,o=e.sunoTaskId||e.taskId||("string"==typeof e.id&&e.id.startsWith("suno_")?e.id.replace("suno_",""):null);if(o){const e=await ru(o);if(null==e?void 0:e.streamUrl){const r={playbackUrl:e.streamUrl,downloadUrl:e.audioUrl||s||null};return h.current.set(t,r),r}}if(s){const e={playbackUrl:s,downloadUrl:s};return h.current.set(t,e),e}return null};r.useEffect(()=>{(async()=>{try{if(a(!0),l(null),!e)return;const t=await ni(e),r=(null==t?void 0:t.data)||t,s={...r,sunoTaskId:r.sunoTaskId||r.suno_task_id||r.taskId||r.task_id||null,taskId:r.taskId||r.task_id||null};o(s);const i=await b(s),n=(null==i?void 0:i.playbackUrl)||s.audioUrlOption1||s.audioUrlOption2||null;m(n)}catch(kp){l((null==kp?void 0:kp.message)||"No foi possvel carregar a msica.")}finally{a(!1)}})()},[e]);const x=r.useMemo(()=>p===(null==s?void 0:s.id)&&f,[p,null==s?void 0:s.id,f]),N=r.useMemo(()=>s&&c?s.audioUrlOption2&&c===s.audioUrlOption2?"Verso B":s.audioUrlOption1&&c===s.audioUrlOption1?"Verso A":"Verso Suno":"Verso A",[s,c]),w=async(e,t)=>{if(s)try{u(!0);let r=e||c;if(!r){const e=await b(s);r=(null==e?void 0:e.playbackUrl)||null,(null==e?void 0:e.playbackUrl)&&m(e.playbackUrl)}if(!r)return void _t.error("No foi possvel carregar o udio desta msica.");v(s.id,r,{title:s.title,versionLabel:t})}catch(r){_t.error("Falha ao reproduzir esta msica. Tente novamente.")}finally{u(!1)}},y=e=>{if(!s)return;const t="A"===e?s.audioUrlOption1||null:s.audioUrlOption2||null;m(t),t&&w(t,e)},_=async e=>{if(!s)return;let t="A"===e?s.audioUrlOption1:"B"===e?s.audioUrlOption2:c;if(!t){const e=await b(s);t=(null==e?void 0:e.downloadUrl)||(null==e?void 0:e.playbackUrl)||null}if(!t)return void _t.error("No foi possvel localizar o arquivo para download.");const r=`${s.title}${e?`_${e}`:""}.mp3`;try{const e=`${si}/api/download?url=${encodeURIComponent(t)}&filename=${encodeURIComponent(r)}`;await bu(e,r)}catch(kp){await bu(t,r)}};return i?at.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV(He,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:180,columnNumber:11},void 0),at.jsxDEV("p",{className:"text-white text-lg",children:"Carregando msica..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:181,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:179,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:178,columnNumber:7},void 0):n||!s?at.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:at.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 max-w-md text-center text-white",children:[at.jsxDEV("p",{className:"mb-4",children:n||"Msica no encontrada."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:191,columnNumber:11},void 0),at.jsxDEV("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20",children:"Voltar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:190,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:189,columnNumber:7},void 0):at.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:at.jsxDEV("div",{className:"relative",children:[s.imageUrl&&at.jsxDEV("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url(${s.imageUrl})`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:202,columnNumber:11},void 0),at.jsxDEV("div",{className:"relative container mx-auto px-4 pt-24 pb-12",children:[at.jsxDEV("button",{onClick:()=>t(-1),className:"text-white/80 hover:text-white mb-6 inline-flex items-center gap-2",children:[at.jsxDEV(ze,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:206,columnNumber:13},void 0)," Voltar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:205,columnNumber:11},void 0),at.jsxDEV("div",{className:"max-w-3xl mx-auto bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",children:[at.jsxDEV("div",{className:"flex items-start gap-4",children:[at.jsxDEV("div",{className:"w-24 h-24 rounded-lg bg-white/10 flex items-center justify-center overflow-hidden flex-shrink-0",children:s.imageUrl?at.jsxDEV("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:212,columnNumber:19},void 0):at.jsxDEV(ye,{className:"w-10 h-10 text-white/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:214,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:210,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex-1 min-w-0",children:[at.jsxDEV("h1",{className:"text-2xl font-bold text-white mb-1 truncate",children:s.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:218,columnNumber:17},void 0),at.jsxDEV("p",{className:"text-blue-200 text-sm",children:["Criada em ",new Date(s.createdAt).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:217,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("button",{onClick:async()=>{const e=window.location.href;try{navigator.share?await navigator.share({title:(null==s?void 0:s.title)||"Minha msica",url:e}):(await navigator.clipboard.writeText(e),alert("Link copiado para a rea de transferncia"))}catch{}},className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(we,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:223,columnNumber:19},void 0)," Compartilhar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:222,columnNumber:17},void 0),at.jsxDEV("button",{onClick:()=>_(),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[at.jsxDEV(Ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:226,columnNumber:19},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:225,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:221,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:209,columnNumber:13},void 0),at.jsxDEV("div",{className:"mt-6 space-y-4",children:[at.jsxDEV("div",{className:"flex items-center gap-2 text-white/90",children:[x?at.jsxDEV("button",{onClick:()=>{g()},className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:at.jsxDEV(de,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:235,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:234,columnNumber:19},void 0):at.jsxDEV("button",{onClick:()=>{const e=c===s.audioUrlOption2?"B":c===s.audioUrlOption1?"A":void 0;w(void 0,e)},disabled:d,className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:d?at.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:247,columnNumber:23},void 0):at.jsxDEV(ue,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:249,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:238,columnNumber:19},void 0),at.jsxDEV("div",{className:"text-sm",children:[at.jsxDEV("div",{className:"font-medium",children:["Reproduzindo ",N]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:254,columnNumber:19},void 0),at.jsxDEV("div",{className:"text-white/70",children:"Selecione outra verso abaixo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:255,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:253,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:232,columnNumber:15},void 0),at.jsxDEV("div",{className:"grid sm:grid-cols-2 gap-3",children:[at.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[at.jsxDEV("div",{className:"font-medium",children:"Verso A"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:262,columnNumber:21},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("button",{onClick:()=>y("A"),disabled:d,className:"px-2 py-1 text-xs rounded-md bg-blue-600 hover:bg-blue-700 "+(d?"opacity-70 cursor-not-allowed":""),children:"Reproduzir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:264,columnNumber:23},void 0),at.jsxDEV("button",{onClick:()=>_("A"),className:"px-2 py-1 text-xs rounded-md bg-white/10 hover:bg-white/20",children:"Baixar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:271,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:263,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:261,columnNumber:19},void 0),!s.audioUrlOption1&&at.jsxDEV("div",{className:"text-white/60 text-sm",children:"Indisponvel"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:274,columnNumber:45},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:260,columnNumber:17},void 0),at.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white",children:[at.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[at.jsxDEV("div",{className:"font-medium",children:"Verso B"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:278,columnNumber:21},void 0),at.jsxDEV("div",{className:"flex items-center gap-2",children:[at.jsxDEV("button",{onClick:()=>y("B"),disabled:d,className:"px-2 py-1 text-xs rounded-md bg-blue-600 hover:bg-blue-700 "+(d?"opacity-70 cursor-not-allowed":""),children:"Reproduzir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:280,columnNumber:23},void 0),at.jsxDEV("button",{onClick:()=>_("B"),className:"px-2 py-1 text-xs rounded-md bg-white/10 hover:bg-white/20",children:"Baixar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:287,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:279,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:277,columnNumber:19},void 0),!s.audioUrlOption2&&at.jsxDEV("div",{className:"text-white/60 text-sm",children:"Indisponvel"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:290,columnNumber:45},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:276,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:259,columnNumber:15},void 0),p===s.id&&at.jsxDEV(yp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:296,columnNumber:17},void 0),s.lyrics&&at.jsxDEV("div",{className:"mt-4 text-white/90",children:[at.jsxDEV("div",{className:"text-sm font-semibold mb-2",children:"Letra"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:301,columnNumber:19},void 0),at.jsxDEV(Np,{lyrics:s.lyrics},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:302,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:300,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:208,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:204,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:200,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:199,columnNumber:5},void 0)},yp=()=>{const{currentTime:e,duration:t}=gc(),r=Math.min(100,Math.max(0,t?e/Math.max(1,t)*100:0)),s=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return at.jsxDEV("div",{className:"mt-3",children:[at.jsxDEV("div",{className:"flex items-center justify-between text-xs text-white/80 mb-1",children:[at.jsxDEV("span",{className:"font-medium",children:"Progresso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:327,columnNumber:9},void 0),at.jsxDEV("span",{children:[s(e)," / ",s(t||0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:328,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:326,columnNumber:7},void 0),at.jsxDEV("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:at.jsxDEV("div",{className:"h-full bg-blue-500 transition-[width] duration-200",style:{width:`${r}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:331,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:330,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:325,columnNumber:5},void 0)},_p=()=>{const e=qs(),{user:t,isLoggedIn:s}=Zl(),[o,i]=r.useState("loading"),[a,n]=r.useState(""),[l,c]=r.useState(3),m=async()=>{try{const t=await Kl();if(!t)throw new Error("Falha ao inicializar cliente Supabase");const{data:r,error:s}=await t.auth.getSession();if(s)throw s;if(r.session){const{syncSession:t}=Zl.getState();if(!(await t()))throw new Error("Falha ao sincronizar sesso com o sistema");i("success");let r=3;const s=setInterval(()=>{r-=1,c(r),r<=0&&(clearInterval(s),e("/minhas-musicas",{replace:!0}))},1e3);return()=>clearInterval(s)}{const e=new URLSearchParams(window.location.search),t=e.get("error"),r=e.get("error_description");if(t)throw new Error(r||t);throw new Error("Nenhuma sesso encontrada. Verifique seu email e tente novamente.")}}catch(t){i("error");let e="Erro desconhecido";t instanceof Error&&(e=t.message),e.includes("Email not confirmed")?e="Email ainda no foi confirmado. Verifique sua caixa de entrada.":e.includes("Invalid login credentials")&&(e="Credenciais invlidas. Tente fazer login novamente."),n(e)}};r.useEffect(()=>{m()},[e]),r.useEffect(()=>{s&&e("/minhas-musicas",{replace:!0})},[s,e]);return at.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:at.jsxDEV("div",{className:"max-w-md w-full space-y-8 p-8",children:at.jsxDEV("div",{className:"text-center",children:["loading"===o&&at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:117,columnNumber:15},void 0),at.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:"Verificando email..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:118,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-gray-600",children:"Processando sua confirmao de email..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:119,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:116,columnNumber:13},void 0),"success"===o&&at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"rounded-full h-12 w-12 bg-green-100 mx-auto flex items-center justify-center",children:at.jsxDEV("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:at.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:127,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:126,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:125,columnNumber:15},void 0),at.jsxDEV("h2",{className:"text-xl font-semibold text-green-900",children:"Email verificado com sucesso!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:130,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-green-700",children:["Redirecionando em ",l," segundos..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:131,columnNumber:15},void 0),at.jsxDEV("button",{onClick:()=>e("/minhas-musicas",{replace:!0}),className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Ir para Minhas Msicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:132,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:124,columnNumber:13},void 0),"error"===o&&at.jsxDEV("div",{className:"space-y-4",children:[at.jsxDEV("div",{className:"rounded-full h-12 w-12 bg-red-100 mx-auto flex items-center justify-center",children:at.jsxDEV("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:at.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:145,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:144,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:143,columnNumber:15},void 0),at.jsxDEV("h2",{className:"text-xl font-semibold text-red-900",children:"Erro na verificao"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:148,columnNumber:15},void 0),at.jsxDEV("p",{className:"text-red-700 mb-4",children:a},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:149,columnNumber:15},void 0),at.jsxDEV("div",{className:"flex flex-col space-y-2",children:[at.jsxDEV("button",{onClick:()=>{i("loading"),n(""),m()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tentar novamente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:151,columnNumber:17},void 0),at.jsxDEV("button",{onClick:()=>{e("/?auth=login",{replace:!0})},className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fazer login"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:157,columnNumber:17},void 0),at.jsxDEV("button",{onClick:()=>{e("/",{replace:!0})},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Voltar ao incio"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:163,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:114,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:113,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/AuthCallback.tsx",lineNumber:112,columnNumber:5},void 0)},Ep=()=>{const e=zs();return r.useEffect(()=>{},[e.pathname]),at.jsxDEV("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-gray-100",children:at.jsxDEV("div",{className:"text-center",children:[at.jsxDEV("h1",{className:"text-4xl font-bold font-heading mb-4",children:"404"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:17,columnNumber:9},void 0),at.jsxDEV("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Pgina no encontrada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:18,columnNumber:9},void 0),at.jsxDEV(Po,{to:"/",className:"bg-memora-primary text-white px-6 py-2 rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:"Voltar ao Incio"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:16,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:15,columnNumber:5},void 0)},Dp=({children:e,redirectTo:t="/"})=>{const{isLoggedIn:s,isLoading:o}=Zl(),{showAuthPopup:i}=tc(),a=qs();return r.useEffect(()=>{o||s||(a(t,{replace:!0}),i(()=>{a(window.location.pathname)}))},[s,o,a,t,i]),o?at.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:at.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/auth/ProtectedRoute.tsx",lineNumber:44,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/auth/ProtectedRoute.tsx",lineNumber:43,columnNumber:7},void 0):s?at.jsxDEV(at.Fragment,{children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/auth/ProtectedRoute.tsx",lineNumber:56,columnNumber:10},void 0):null};let Sp=localStorage.getItem("deviceId");Sp||(Sp=$o(),localStorage.setItem("deviceId",Sp));const jp=new tt,Tp=()=>{const e=Zl();return i.useEffect(()=>{e.isLoading&&Zl.persist.rehydrate()},[e.isLoading]),null},Pp=()=>{(()=>{const e=zs();r.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e.pathname])})();const{isPaymentPopupVisible:e,hidePaymentPopup:t,handleUpgrade:s}=tc();return at.jsxDEV(Nc,{children:[at.jsxDEV(Tp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:65,columnNumber:7},void 0),at.jsxDEV(rc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:66,columnNumber:7},void 0),at.jsxDEV(co,{children:[at.jsxDEV(no,{path:"/",element:at.jsxDEV(vu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:68,columnNumber:34},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:68,columnNumber:9},void 0),at.jsxDEV(no,{path:"/criar",element:at.jsxDEV(Vh,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:69,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:69,columnNumber:9},void 0),at.jsxDEV(no,{path:"/minhas-musicas",element:at.jsxDEV(Dp,{children:at.jsxDEV(gp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:74,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:73,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:70,columnNumber:9},void 0),at.jsxDEV(no,{path:"/musica/:id",element:at.jsxDEV(wp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:78,columnNumber:44},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:78,columnNumber:9},void 0),at.jsxDEV(no,{path:"/auth/callback",element:at.jsxDEV(_p,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:79,columnNumber:47},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:79,columnNumber:9},void 0),at.jsxDEV(no,{path:"*",element:at.jsxDEV(Ep,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:81,columnNumber:34},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:67,columnNumber:7},void 0),at.jsxDEV(oc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:83,columnNumber:7},void 0),at.jsxDEV(nm,{isOpen:e,onClose:t,onConfirm:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:86,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:64,columnNumber:5},void 0)},Cp=()=>at.jsxDEV(rt,{client:jp,children:at.jsxDEV(Kr,{children:[at.jsxDEV(Ut,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:98,columnNumber:7},void 0),at.jsxDEV(So,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:at.jsxDEV(Pp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:105,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:99,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:97,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:96,columnNumber:3},void 0);it(document.getElementById("root")).render(at.jsxDEV(at.Fragment,{children:at.jsxDEV(Cp,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/main.tsx",lineNumber:7,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/main.tsx",lineNumber:6,columnNumber:3},void 0));

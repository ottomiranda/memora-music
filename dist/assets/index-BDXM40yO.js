var e=Object.defineProperty,t=(t,r,o)=>((t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o)(t,"symbol"!=typeof r?r+"":r,o);import{r,a as o,c as i,b as a,R as n,d as l,e as c}from"./react-vendor-CouUomew.js";import{c as m,j as u,P as d,a as h,D as p,C as f,b as v,R as b,u as g,A as x,d as N,e as w,f as y,S as _,g as D,h as E,i as S,k as j,T as P,I as C,l as U,m as T,n as k,o as V,V as A,L as M,p as R,q as I,r as L,s as O,t as F,v as B,w as $,O as H,x as q,W as G,y as z,z as W,B as X,E as Y,F as J,G as K}from"./radix-vendor-CuDUQtA7.js";import{c as Q,S as Z,M as ee,X as te,a as re,H as oe,o as se,r as ie,b as ae,u as ne,d as le,E as ce,e as me,P as ue,f as de,V as he,g as pe,C as fe,h as ve,i as be,j as ge,Z as xe,k as Ne,l as we,m as ye,n as _e,p as De,D as Ee,q as Se,s as je,G as Pe,t as Ce,U as Ue,Q as Te,v as ke,w as Ve,x as Ae,y as Me,z as Re,A as Ie,B as Le,F as Oe,T as Fe,I as Be,J as $e,K as He,L as qe,N as Ge,O as ze,R as We,W as Xe,Y as Ye,_ as Je,$ as Ke,a0 as Qe}from"./ui-vendor-B8imJrlm.js";import{c as Ze,o as et,s as tt,Q as rt,a as ot}from"./utils-vendor-Br_zJQ6K.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var st={exports:{}},it={};!function(){var e=r,t=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),f=Symbol.iterator;var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];!function(e,t,r){var o=v.ReactDebugCurrentFrame.getStackAddendum();""!==o&&(t+="%s",r=r.concat([o]));var s=r.map(function(e){return String(e)});s.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,s)}("error",e,r)}var g;function x(e){return e.displayName||"Context"}function N(e){if(null==e)return null;if("number"==typeof e.tag&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case o:return"Portal";case a:return"Profiler";case i:return"StrictMode";case m:return"Suspense";case u:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return x(e)+".Consumer";case n:return x(e._context)+".Provider";case c:return function(e,t,r){var o=e.displayName;if(o)return o;var s=t.displayName||t.name||"";return""!==s?r+"("+s+")":r}(e,e.render,"ForwardRef");case d:var t=e.displayName||null;return null!==t?t:N(e.type)||"Memo";case h:var r=e,p=r._payload,f=r._init;try{return N(f(p))}catch(v){return null}}return null}g=Symbol.for("react.module.reference");var w,y,_,D,E,S,j,P=Object.assign,C=0;function U(){}U.__reactDisabledLog=!0;var T,k=v.ReactCurrentDispatcher;function V(e,t,r){if(void 0===T)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);T=o&&o[1]||""}return"\n"+T+e}var A,M=!1,R="function"==typeof WeakMap?WeakMap:Map;function I(e,t){if(!e||M)return"";var r,o=A.get(e);if(void 0!==o)return o;M=!0;var s,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,s=k.current,k.current=null,function(){if(0===C){w=console.log,y=console.info,_=console.warn,D=console.error,E=console.group,S=console.groupCollapsed,j=console.groupEnd;var e={configurable:!0,enumerable:!0,value:U,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}C++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(p){r=p}Reflect.construct(e,[],a)}else{try{a.call()}catch(p){r=p}e.call(a.prototype)}}else{try{throw Error()}catch(p){r=p}e()}}catch(f){if(f&&r&&"string"==typeof f.stack){for(var n=f.stack.split("\n"),l=r.stack.split("\n"),c=n.length-1,m=l.length-1;c>=1&&m>=0&&n[c]!==l[m];)m--;for(;c>=1&&m>=0;c--,m--)if(n[c]!==l[m]){if(1!==c||1!==m)do{if(c--,--m<0||n[c]!==l[m]){var u="\n"+n[c].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),"function"==typeof e&&A.set(e,u),u}}while(c>=1&&m>=0);break}}}finally{M=!1,k.current=s,function(){if(0===--C){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:P({},e,{value:w}),info:P({},e,{value:y}),warn:P({},e,{value:_}),error:P({},e,{value:D}),group:P({},e,{value:E}),groupCollapsed:P({},e,{value:S}),groupEnd:P({},e,{value:j})})}C<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var d=e?e.displayName||e.name:"",h=d?V(d):"";return"function"==typeof e&&A.set(e,h),h}function L(e,t,r){if(null==e)return"";if("function"==typeof e)return I(e,!(!(o=e.prototype)||!o.isReactComponent));var o;if("string"==typeof e)return V(e);switch(e){case m:return V("Suspense");case u:return V("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case c:return I(e.render,!1);case d:return L(e.type,t,r);case h:var s=e,i=s._payload,a=s._init;try{return L(a(i),t,r)}catch(n){}}return""}A=new R;var O=Object.prototype.hasOwnProperty,F={},B=v.ReactDebugCurrentFrame;function $(e){if(e){var t=e._owner,r=L(e.type,e._source,t?t.type:null);B.setExtraStackFrame(r)}else B.setExtraStackFrame(null)}var H=Array.isArray;function q(e){return H(e)}function G(e){return""+e}function z(e){if(function(e){try{return G(e),!1}catch(t){return!0}}(e))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),G(e)}var W,X,Y,J=v.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};Y={};function Q(e,r,o,s,i){var a,n={},l=null,c=null;for(a in void 0!==o&&(z(o),l=""+o),function(e){if(O.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(r)&&(z(r.key),l=""+r.key),function(e){if(O.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(r)&&(c=r.ref,function(e,t){if("string"==typeof e.ref&&J.current&&t&&J.current.stateNode!==t){var r=N(J.current.type);Y[r]||(b('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N(J.current.type),e.ref),Y[r]=!0)}}(r,i)),r)O.call(r,a)&&!K.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps){var m=e.defaultProps;for(a in m)void 0===n[a]&&(n[a]=m[a])}if(l||c){var u="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var r=function(){W||(W=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(n,u),c&&function(e,t){var r=function(){X||(X=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(n,u)}return function(e,r,o,s,i,a,n){var l={$$typeof:t,type:e,key:r,ref:o,props:n,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,i,s,J.current,n)}var Z,ee=v.ReactCurrentOwner,te=v.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,r=L(e.type,e._source,t?t.type:null);te.setExtraStackFrame(r)}else te.setExtraStackFrame(null)}function oe(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function se(){if(ee.current){var e=N(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Z=!1;var ie={};function ae(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=se();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t="\n\nCheck the top-level render call using <"+r+">.")}return t}(t);if(!ie[r]){ie[r]=!0;var o="";e&&e._owner&&e._owner!==ee.current&&(o=" It was passed a child from "+N(e._owner.type)+"."),re(e),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,o),re(null)}}}function ne(e,t){if("object"==typeof e)if(q(e))for(var r=0;r<e.length;r++){var o=e[r];oe(o)&&ae(o,t)}else if(oe(e))e._store&&(e._store.validated=!0);else if(e){var s=function(e){if(null===e||"object"!=typeof e)return null;var t=f&&e[f]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof s&&s!==e.entries)for(var i,a=s.call(e);!(i=a.next()).done;)oe(i.value)&&ae(i.value,t)}}function le(e){var t,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)t=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==c&&r.$$typeof!==d)return;t=r.propTypes}if(t){var o=N(r);!function(e,t,r,o,s){var i=Function.call.bind(O);for(var a in e)if(i(e,a)){var n=void 0;try{if("function"!=typeof e[a]){var l=Error((o||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}n=e[a](t,a,o,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(c){n=c}!n||n instanceof Error||($(s),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",r,a,typeof n),$(null)),n instanceof Error&&!(n.message in F)&&(F[n.message]=!0,$(s),b("Failed %s type: %s",r,n.message),$(null))}}(t,e.props,"prop",o,e)}else if(void 0!==r.PropTypes&&!Z){Z=!0,b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",N(r)||"Unknown")}"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ce={};var me=function(e,r,o,f,v,x){var w=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===a||e===i||e===m||e===u||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===d||e.$$typeof===n||e.$$typeof===l||e.$$typeof===c||e.$$typeof===g||void 0!==e.getModuleId)}(e);if(!w){var y="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(y+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var _,D=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(v);y+=D||se(),null===e?_="null":q(e)?_="array":void 0!==e&&e.$$typeof===t?(_="<"+(N(e.type)||"Unknown")+" />",y=" Did you accidentally export a JSX literal instead of a component?"):_=typeof e,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_,y)}var E=Q(e,r,o,v,x);if(null==E)return E;if(w){var S=r.children;if(void 0!==S)if(f)if(q(S)){for(var j=0;j<S.length;j++)ne(S[j],e);Object.freeze&&Object.freeze(S)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ne(S,e)}if(O.call(r,"key")){var P=N(e),C=Object.keys(r).filter(function(e){return"key"!==e}),U=C.length>0?"{key: someKey, "+C.join(": ..., ")+": ...}":"{key: someKey}";if(!ce[P+U])b('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',U,P,C.length>0?"{"+C.join(": ..., ")+": ...}":"{}",P),ce[P+U]=!0}return e===s?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var o=t[r];if("children"!==o&&"key"!==o){re(e),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",o),re(null);break}}null!==e.ref&&(re(e),b("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(E):le(E),E};it.Fragment=s,it.jsxDEV=me}(),st.exports=it;var at,nt=st.exports,lt=o,ct=lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;at=function(e,t){ct.usingClientEntryPoint=!0;try{return lt.createRoot(e,t)}finally{ct.usingClientEntryPoint=!1}};var mt=["light","dark"],ut=r.createContext(void 0),dt={setTheme:e=>{},themes:[]};r.memo(({forcedTheme:e,storageKey:t,attribute:o,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:n,attrs:l,nonce:c})=>{let m="system"===a,u="class"===o?`var d=document.documentElement,c=d.classList;c.remove(${l.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${o}',s='setAttribute';`,d=i?mt.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{let s=n?n[e]:e,a=t?e+"|| ''":`'${s}'`,l="";return i&&r&&!t&&mt.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===o?l+=t||s?`c.add(${a})`:"null":s&&(l+=`d[s](n,${a})`),l},p=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${n?`var x=${JSON.stringify(n)};`:""}${h(n?"x[e]":"e",!0)}}${m?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${n?`var x=${JSON.stringify(n)};`:""}${h(n?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return r.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var ht=Array(12).fill(0),pt=({visible:e,className:t})=>i.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},i.createElement("div",{className:"sonner-spinner"},ht.map((e,t)=>i.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),ft=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},i.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xt=i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Nt=1,wt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...o}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Nt++,i=this.toasts.find(e=>e.id===s),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:r}),{...t,...e,id:s,dismissible:a,title:r}):t):this.addToast({title:r,...o,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let o,s=e instanceof Promise?e:e(),a=void 0!==r,n=s.then(async e=>{if(o=["resolve",e],i.isValidElement(e))a=!1,this.create({id:r,type:"default",message:e});else if(yt(e)&&!e.ok){a=!1;let o="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:r,type:"error",message:o,description:s})}else if(void 0!==t.success){a=!1;let o="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"success",message:o,description:s})}}).catch(async e=>{if(o=["reject",e],void 0!==t.error){a=!1;let o="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"error",message:o,description:s})}}).finally(()=>{var e;a&&(this.dismiss(r),r=void 0),null==(e=t.finally)||e.call(t)}),l=()=>new Promise((e,t)=>n.then(()=>"reject"===o[0]?t(o[1]):e(o[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||Nt++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,_t=(e,t)=>{let r=(null==t?void 0:t.id)||Nt++;return wt.addToast({title:e,...t,id:r}),r},Dt=Object.assign(_t,{success:wt.success,info:wt.info,warning:wt.warning,error:wt.error,custom:wt.custom,message:wt.message,promise:wt.promise,dismiss:wt.dismiss,loading:wt.loading},{getHistory:()=>wt.toasts,getToasts:()=>wt.getActiveToasts()});function Et(e){return void 0!==e.label}!function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var St=3,jt=14;function Pt(...e){return e.filter(Boolean).join(" ")}var Ct=e=>{var t,o,s,a,n,l,c,m,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:b,setHeights:g,visibleToasts:x,heights:N,index:w,toasts:y,expanded:_,removeToast:D,defaultRichColors:E,closeButton:S,style:j,cancelButtonStyle:P,actionButtonStyle:C,className:U="",descriptionClassName:T="",duration:k,position:V,gap:A,loadingIcon:M,expandByDefault:R,classNames:I,icons:L,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:F}=e,[B,$]=i.useState(null),[H,q]=i.useState(null),[G,z]=i.useState(!1),[W,X]=i.useState(!1),[Y,J]=i.useState(!1),[K,Q]=i.useState(!1),[Z,ee]=i.useState(!1),[te,re]=i.useState(0),[oe,se]=i.useState(0),ie=i.useRef(f.duration||k||4e3),ae=i.useRef(null),ne=i.useRef(null),le=0===w,ce=w+1<=x,me=f.type,ue=!1!==f.dismissible,de=f.className||"",he=f.descriptionClassName||"",pe=i.useMemo(()=>N.findIndex(e=>e.toastId===f.id)||0,[N,f.id]),fe=i.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:S},[f.closeButton,S]),ve=i.useMemo(()=>f.duration||k||4e3,[f.duration,k]),be=i.useRef(0),ge=i.useRef(0),xe=i.useRef(0),Ne=i.useRef(null),[we,ye]=V.split("-"),_e=i.useMemo(()=>N.reduce((e,t,r)=>r>=pe?e:e+t.height,0),[N,pe]),De=(()=>{let[e,t]=i.useState(document.hidden);return i.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),Ee=f.invert||p,Se="loading"===me;ge.current=i.useMemo(()=>pe*A+_e,[pe,_e]),i.useEffect(()=>{ie.current=ve},[ve]),i.useEffect(()=>{z(!0)},[]),i.useEffect(()=>{let e=ne.current;if(e){let t=e.getBoundingClientRect().height;return se(t),g(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==f.id))}},[g,f.id]),i.useLayoutEffect(()=>{if(!G)return;let e=ne.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,se(r),g(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:r}:e):[{toastId:f.id,height:r,position:f.position},...e])},[G,f.title,f.description,g,f.id]);let je=i.useCallback(()=>{X(!0),re(ge.current),g(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{D(f)},200)},[f,D,g,ge]);return i.useEffect(()=>{if(f.promise&&"loading"===me||f.duration===1/0||"loading"===f.type)return;let e;return _||b||F&&De?(()=>{if(xe.current<be.current){let e=(new Date).getTime()-be.current;ie.current=ie.current-e}xe.current=(new Date).getTime()})():ie.current!==1/0&&(be.current=(new Date).getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),je()},ie.current)),()=>clearTimeout(e)},[_,b,f,me,F,De,je]),i.useEffect(()=>{f.delete&&je()},[je,f.delete]),i.createElement("li",{tabIndex:0,ref:ne,className:Pt(U,de,null==I?void 0:I.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==I?void 0:I.default,null==I?void 0:I[me],null==(o=null==f?void 0:f.classNames)?void 0:o[me]),"data-sonner-toast":"","data-rich-colors":null!=(s=f.richColors)?s:E,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":G,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":W,"data-visible":ce,"data-y-position":we,"data-x-position":ye,"data-index":w,"data-front":le,"data-swiping":Y,"data-dismissible":ue,"data-type":me,"data-invert":Ee,"data-swipe-out":K,"data-swipe-direction":H,"data-expanded":!!(_||R&&G),style:{"--index":w,"--toasts-before":w,"--z-index":y.length-w,"--offset":`${W?te:ge.current}px`,"--initial-height":R?"auto":`${oe}px`,...j,...f.style},onDragEnd:()=>{J(!1),$(null),Ne.current=null},onPointerDown:e=>{Se||!ue||(ae.current=new Date,re(ge.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(J(!0),Ne.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,o;if(K||!ue)return;Ne.current=null;let s=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(r=ae.current)?void 0:r.getTime()),n="x"===B?s:i,l=Math.abs(n)/a;if(Math.abs(n)>=20||l>.11)return re(ge.current),null==(o=f.onDismiss)||o.call(f,f),q("x"===B?s>0?"right":"left":i>0?"down":"up"),je(),Q(!0),void ee(!1);J(!1),$(null)},onPointerMove:t=>{var r,o,s,i;if(!Ne.current||!ue||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let a=t.clientY-Ne.current.y,n=t.clientX-Ne.current.x,l=null!=(o=e.swipeDirections)?o:function(e){let[t,r]=e.split("-"),o=[];return t&&o.push(t),r&&o.push(r),o}(V);!B&&(Math.abs(n)>1||Math.abs(a)>1)&&$(Math.abs(n)>Math.abs(a)?"x":"y");let c={x:0,y:0};"y"===B?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&a<0||l.includes("bottom")&&a>0)&&(c.y=a):"x"===B&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&n<0||l.includes("right")&&n>0)&&(c.x=n),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ee(!0),null==(s=ne.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(i=ne.current)||i.style.setProperty("--swipe-amount-y",`${c.y}px`)}},fe&&!f.jsx?i.createElement("button",{"aria-label":O,"data-disabled":Se,"data-close-button":!0,onClick:Se||!ue?()=>{}:()=>{var e;je(),null==(e=f.onDismiss)||e.call(f,f)},className:Pt(null==I?void 0:I.closeButton,null==(a=null==f?void 0:f.classNames)?void 0:a.closeButton)},null!=(n=null==L?void 0:L.close)?n:xt):null,f.jsx||r.isValidElement(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:i.createElement(i.Fragment,null,me||f.icon||f.promise?i.createElement("div",{"data-icon":"",className:Pt(null==I?void 0:I.icon,null==(l=null==f?void 0:f.classNames)?void 0:l.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||(null!=L&&L.loading?i.createElement("div",{className:Pt(null==I?void 0:I.loader,null==(Pe=null==f?void 0:f.classNames)?void 0:Pe.loader,"sonner-loader"),"data-visible":"loading"===me},L.loading):M?i.createElement("div",{className:Pt(null==I?void 0:I.loader,null==(Ce=null==f?void 0:f.classNames)?void 0:Ce.loader,"sonner-loader"),"data-visible":"loading"===me},M):i.createElement(pt,{className:Pt(null==I?void 0:I.loader,null==(Ue=null==f?void 0:f.classNames)?void 0:Ue.loader),visible:"loading"===me})):null,"loading"!==f.type?f.icon||(null==L?void 0:L[me])||(e=>{switch(e){case"success":return ft;case"info":return bt;case"warning":return vt;case"error":return gt;default:return null}})(me):null):null,i.createElement("div",{"data-content":"",className:Pt(null==I?void 0:I.content,null==(c=null==f?void 0:f.classNames)?void 0:c.content)},i.createElement("div",{"data-title":"",className:Pt(null==I?void 0:I.title,null==(m=null==f?void 0:f.classNames)?void 0:m.title)},"function"==typeof f.title?f.title():f.title),f.description?i.createElement("div",{"data-description":"",className:Pt(T,he,null==I?void 0:I.description,null==(u=null==f?void 0:f.classNames)?void 0:u.description)},"function"==typeof f.description?f.description():f.description):null),r.isValidElement(f.cancel)?f.cancel:f.cancel&&Et(f.cancel)?i.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:e=>{var t,r;Et(f.cancel)&&ue&&(null==(r=(t=f.cancel).onClick)||r.call(t,e),je())},className:Pt(null==I?void 0:I.cancelButton,null==(d=null==f?void 0:f.classNames)?void 0:d.cancelButton)},f.cancel.label):null,r.isValidElement(f.action)?f.action:f.action&&Et(f.action)?i.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||C,onClick:e=>{var t,r;Et(f.action)&&(null==(r=(t=f.action).onClick)||r.call(t,e),!e.defaultPrevented&&je())},className:Pt(null==I?void 0:I.actionButton,null==(h=null==f?void 0:f.classNames)?void 0:h.actionButton)},f.action.label):null));var Pe,Ce,Ue};function Ut(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Tt(e,t){let r={};return[e,t].forEach((e,t)=>{let o=1===t,s=o?"--mobile-offset":"--offset",i=o?"16px":"32px";function a(e){["top","right","bottom","left"].forEach(t=>{r[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?a(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${s}-${t}`]=i:r[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):a(i)}),r}var kt=r.forwardRef(function(e,t){let{invert:r,position:o="bottom-right",hotkey:s=["altKey","KeyT"],expand:n,closeButton:l,className:c,offset:m,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=St,toastOptions:b,dir:g=Ut(),gap:x=jt,loadingIcon:N,icons:w,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:_}=e,[D,E]=i.useState([]),S=i.useMemo(()=>Array.from(new Set([o].concat(D.filter(e=>e.position).map(e=>e.position)))),[D,o]),[j,P]=i.useState([]),[C,U]=i.useState(!1),[T,k]=i.useState(!1),[V,A]=i.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=i.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=i.useRef(null),L=i.useRef(!1),O=i.useCallback(e=>{E(t=>{var r;return null!=(r=t.find(t=>t.id===e.id))&&r.delete||wt.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return i.useEffect(()=>wt.subscribe(e=>{e.dismiss?E(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t)):setTimeout(()=>{a.flushSync(()=>{E(t=>{let r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[]),i.useEffect(()=>{if("system"!==d)return void A(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{A(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{A(e?"dark":"light")}catch(t){}})}},[d]),i.useEffect(()=>{D.length<=1&&U(!1)},[D]),i.useEffect(()=>{let e=e=>{var t,r;s.every(t=>e[t]||e.code===t)&&(U(!0),null==(t=M.current)||t.focus()),"Escape"===e.code&&(document.activeElement===M.current||null!=(r=M.current)&&r.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),i.useEffect(()=>{if(M.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,L.current=!1)}},[M.current]),i.createElement("section",{ref:t,"aria-label":`${y} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,o)=>{var s;let[a,d]=t.split("-");return D.length?i.createElement("ol",{key:t,dir:"auto"===g?Ut():g,tabIndex:-1,ref:M,className:c,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":a,"data-lifted":C&&D.length>1&&!n,"data-x-position":d,style:{"--front-toast-height":`${(null==(s=j[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${x}px`,...f,...Tt(m,u)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,I.current=e.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{T||U(!1)},onDragEnd:()=>U(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||k(!0)},onPointerUp:()=>k(!1)},D.filter(e=>!e.position&&0===o||e.position===t).map((o,s)=>{var a,c;return i.createElement(Ct,{key:o.id,icons:w,index:s,toast:o,defaultRichColors:h,duration:null!=(a=null==b?void 0:b.duration)?a:p,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:r,visibleToasts:v,closeButton:null!=(c=null==b?void 0:b.closeButton)?c:l,interacting:T,position:t,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,removeToast:O,toasts:D.filter(e=>e.position==o.position),heights:j.filter(e=>e.position==o.position),setHeights:P,expandByDefault:n,gap:x,loadingIcon:N,expanded:C,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const Vt=({...e})=>{const{theme:t="system"}=null!=(o=r.useContext(ut))?o:dt;var o;return nt.jsxDEV(kt,{theme:t,className:"toaster group",position:"bottom-right",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/sonner.tsx",lineNumber:10,columnNumber:5},void 0)};var[At,Mt]=m("Tooltip",[h]),Rt=h(),It="TooltipProvider",Lt=700,Ot="tooltip.open",[Ft,Bt]=At(It),$t=e=>{const{__scopeTooltip:t,delayDuration:o=Lt,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=e,n=r.useRef(!0),l=r.useRef(!1),c=r.useRef(0);return r.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),u.jsx(Ft,{scope:t,isOpenDelayedRef:n,delayDuration:o,onOpen:r.useCallback(()=>{window.clearTimeout(c.current),n.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>n.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:r.useCallback(e=>{l.current=e},[]),disableHoverableContent:i,children:a})};$t.displayName=It;var Ht="Tooltip",[qt,Gt]=At(Ht),zt="TooltipTrigger";r.forwardRef((e,t)=>{const{__scopeTooltip:o,...s}=e,i=Gt(zt,o),a=Bt(zt,o),n=Rt(o),l=r.useRef(null),c=g(t,l,i.onTriggerChange),m=r.useRef(!1),d=r.useRef(!1),h=r.useCallback(()=>m.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(x,{asChild:!0,...n,children:u.jsx(N.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:c,onPointerMove:w(e.onPointerMove,e=>{"touch"!==e.pointerType&&(d.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),d.current=!0))}),onPointerLeave:w(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:w(e.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:w(e.onFocus,()=>{m.current||i.onOpen()}),onBlur:w(e.onBlur,i.onClose),onClick:w(e.onClick,i.onClose)})})}).displayName=zt;var[Wt,Xt]=At("TooltipPortal",{forceMount:void 0}),Yt="TooltipContent",Jt=r.forwardRef((e,t)=>{const r=Xt(Yt,e.__scopeTooltip),{forceMount:o=r.forceMount,side:s="top",...i}=e,a=Gt(Yt,e.__scopeTooltip);return u.jsx(d,{present:o||a.open,children:a.disableHoverableContent?u.jsx(tr,{side:s,...i,ref:t}):u.jsx(Kt,{side:s,...i,ref:t})})}),Kt=r.forwardRef((e,t)=>{const o=Gt(Yt,e.__scopeTooltip),s=Bt(Yt,e.__scopeTooltip),i=r.useRef(null),a=g(t,i),[n,l]=r.useState(null),{trigger:c,onClose:m}=o,d=i.current,{onPointerInTransitChange:h}=s,p=r.useCallback(()=>{l(null),h(!1)},[h]),f=r.useCallback((e,t)=>{const r=e.currentTarget,o={x:e.clientX,y:e.clientY},s=function(e,t,r=5){const o=[];switch(t){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return o}(o,function(e,t){const r=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,o,s,i)){case i:return"left";case s:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}(o,r.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const r=e[o];for(;t.length>=2;){const e=t[t.length-1],o=t[t.length-2];if(!((e.x-o.x)*(r.y-o.y)>=(e.y-o.y)*(r.x-o.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let o=e.length-1;o>=0;o--){const t=e[o];for(;r.length>=2;){const e=r[r.length-1],o=r[r.length-2];if(!((e.x-o.x)*(t.y-o.y)>=(e.y-o.y)*(t.x-o.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...s,...function(e){const{top:t,right:r,bottom:o,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:o},{x:s,y:o}]}(t.getBoundingClientRect())]);l(i),h(!0)},[h]);return r.useEffect(()=>()=>p(),[p]),r.useEffect(()=>{if(c&&d){const e=e=>f(e,d),t=e=>f(e,c);return c.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[c,d,f,p]),r.useEffect(()=>{if(n){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},o=(null==c?void 0:c.contains(t))||(null==d?void 0:d.contains(t)),s=!function(e,t){const{x:r,y:o}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const e=t[i],n=t[a],l=e.x,c=e.y,m=n.x,u=n.y;c>o!=u>o&&r<(m-l)*(o-c)/(u-c)+l&&(s=!s)}return s}(r,n);o?p():s&&(p(),m())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,d,n,m,p]),u.jsx(tr,{...e,ref:a})}),[Qt,Zt]=At(Ht,{isInside:!1}),er=v("TooltipContent"),tr=r.forwardRef((e,t)=>{const{__scopeTooltip:o,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:n,...l}=e,c=Gt(Yt,o),m=Rt(o),{onClose:d}=c;return r.useEffect(()=>(document.addEventListener(Ot,d),()=>document.removeEventListener(Ot,d)),[d]),r.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(c.trigger))&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,d]),u.jsx(p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:u.jsxs(f,{"data-state":c.stateAttribute,...m,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(er,{children:s}),u.jsx(Qt,{scope:o,isInside:!0,children:u.jsx(b,{id:c.contentId,role:"tooltip",children:i||s})})]})})});Jt.displayName=Yt;var rr="TooltipArrow";r.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,s=Rt(r);return Zt(rr,r).isInside?null:u.jsx(y,{...s,...o,ref:t})}).displayName=rr;var or=$t,sr=Jt;const ir=e=>{const t=cr(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ar(r,t)||lr(e)},getConflictingClassGroupIds:(e,t)=>{const s=r[e]||[];return t&&o[e]?[...s,...o[e]]:s}}},ar=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const o=e[0],s=t.nextPart.get(o),i=s?ar(e.slice(1),s):void 0;if(i)return i;if(0===t.validators.length)return;const a=e.join("-");return null==(r=t.validators.find(({validator:e})=>e(a)))?void 0:r.classGroupId},nr=/^\[(.+)\]$/,lr=e=>{if(nr.test(e)){const t=nr.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},cr=e=>{const{theme:t,prefix:r}=e,o={nextPart:new Map,validators:[]};return hr(Object.entries(e.classGroups),r).forEach(([e,r])=>{mr(r,o,e,t)}),o},mr=(e,t,r,o)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:ur(t,e)).classGroupId=r)}if("function"==typeof e)return dr(e)?void mr(e(o),t,r,o):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(([e,s])=>{mr(s,ur(t,e),r,o)})})},ur=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},dr=e=>e.isThemeGetter,hr=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,pr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const s=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,o=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=o.get(e))?(s(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):s(e,t)}}},fr=e=>{const{separator:t,experimentalParseClassName:r}=e,o=1===t.length,s=t[0],i=t.length,a=e=>{const r=[];let a,n=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===n){if(c===s&&(o||e.slice(u,u+i)===t)){r.push(e.slice(l,u)),l=u+i;continue}if("/"===c){a=u;continue}}"["===c?n++:"]"===c&&n--}const c=0===r.length?e:e.substring(l),m=c.startsWith("!");return{modifiers:r,hasImportantModifier:m,baseClassName:m?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return r?e=>r({className:e,parseClassName:a}):a},vr=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},br=/\s+/;function gr(){let e,t,r=0,o="";for(;r<arguments.length;)(e=arguments[r++])&&(t=xr(e))&&(o&&(o+=" "),o+=t);return o}const xr=e=>{if("string"==typeof e)return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=xr(e[o]))&&(r&&(r+=" "),r+=t);return r};function Nr(e,...t){let r,o,s,i=function(n){const l=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:pr(e.cacheSize),parseClassName:fr(e),...ir(e)}))(l),o=r.cache.get,s=r.cache.set,i=a,a(n)};function a(e){const t=o(e);if(t)return t;const i=((e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(br);let n="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:m,maybePostfixModifierPosition:u}=r(e);let d=Boolean(u),h=o(d?m.substring(0,u):m);if(!h){if(!d){n=e+(n.length>0?" "+n:n);continue}if(h=o(m),!h){n=e+(n.length>0?" "+n:n);continue}d=!1}const p=vr(t).join(":"),f=c?p+"!":p,v=f+h;if(i.includes(v))continue;i.push(v);const b=s(h,d);for(let r=0;r<b.length;++r){const e=b[r];i.push(f+e)}n=e+(n.length>0?" "+n:n)}return n})(e,r);return s(e,i),i}return function(){return i(gr.apply(null,arguments))}}const wr=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},yr=/^\[(?:([a-z-]+):)?(.+)\]$/i,_r=/^\d+\/\d+$/,Dr=new Set(["px","full","screen"]),Er=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ur=e=>kr(e)||Dr.has(e)||_r.test(e),Tr=e=>Gr(e,"length",zr),kr=e=>Boolean(e)&&!Number.isNaN(Number(e)),Vr=e=>Gr(e,"number",kr),Ar=e=>Boolean(e)&&Number.isInteger(Number(e)),Mr=e=>e.endsWith("%")&&kr(e.slice(0,-1)),Rr=e=>yr.test(e),Ir=e=>Er.test(e),Lr=new Set(["length","size","percentage"]),Or=e=>Gr(e,Lr,Wr),Fr=e=>Gr(e,"position",Wr),Br=new Set(["image","url"]),$r=e=>Gr(e,Br,Yr),Hr=e=>Gr(e,"",Xr),qr=()=>!0,Gr=(e,t,r)=>{const o=yr.exec(e);return!!o&&(o[1]?"string"==typeof t?o[1]===t:t.has(o[1]):r(o[2]))},zr=e=>Sr.test(e)&&!jr.test(e),Wr=()=>!1,Xr=e=>Pr.test(e),Yr=e=>Cr.test(e),Jr=Nr(()=>{const e=wr("colors"),t=wr("spacing"),r=wr("blur"),o=wr("brightness"),s=wr("borderColor"),i=wr("borderRadius"),a=wr("borderSpacing"),n=wr("borderWidth"),l=wr("contrast"),c=wr("grayscale"),m=wr("hueRotate"),u=wr("invert"),d=wr("gap"),h=wr("gradientColorStops"),p=wr("gradientColorStopPositions"),f=wr("inset"),v=wr("margin"),b=wr("opacity"),g=wr("padding"),x=wr("saturate"),N=wr("scale"),w=wr("sepia"),y=wr("skew"),_=wr("space"),D=wr("translate"),E=()=>["auto",Rr,t],S=()=>[Rr,t],j=()=>["",Ur,Tr],P=()=>["auto",kr,Rr],C=()=>["","0",Rr],U=()=>[kr,Rr];return{cacheSize:500,separator:":",theme:{colors:[qr],spacing:[Ur,Tr],blur:["none","",Ir,Rr],brightness:U(),borderColor:[e],borderRadius:["none","","full",Ir,Rr],borderSpacing:S(),borderWidth:j(),contrast:U(),grayscale:C(),hueRotate:U(),invert:C(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Mr,Tr],inset:E(),margin:E(),opacity:U(),padding:S(),saturate:U(),scale:U(),sepia:C(),skew:U(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Rr]}],container:["container"],columns:[{columns:[Ir]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Rr]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ar,Rr]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rr]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Ar,Rr]}],"grid-cols":[{"grid-cols":[qr]}],"col-start-end":[{col:["auto",{span:["full",Ar,Rr]},Rr]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[qr]}],"row-start-end":[{row:["auto",{span:[Ar,Rr]},Rr]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rr]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rr,t]}],"min-w":[{"min-w":[Rr,t,"min","max","fit"]}],"max-w":[{"max-w":[Rr,t,"none","full","min","max","fit","prose",{screen:[Ir]},Ir]}],h:[{h:[Rr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ir,Tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vr]}],"font-family":[{font:[qr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rr]}],"line-clamp":[{"line-clamp":["none",kr,Vr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ur,Rr]}],"list-image":[{"list-image":["none",Rr]}],"list-style-type":[{list:["none","disc","decimal",Rr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur,Tr]}],"underline-offset":[{"underline-offset":["auto",Ur,Rr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Fr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Or]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$r]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[n]}],"border-w-x":[{"border-x":[n]}],"border-w-y":[{"border-y":[n]}],"border-w-s":[{"border-s":[n]}],"border-w-e":[{"border-e":[n]}],"border-w-t":[{"border-t":[n]}],"border-w-r":[{"border-r":[n]}],"border-w-b":[{"border-b":[n]}],"border-w-l":[{"border-l":[n]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[n]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[n]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Ur,Rr]}],"outline-w":[{outline:[Ur,Tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ur,Tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ir,Hr]}],"shadow-color":[{shadow:[qr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ir,Rr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[u]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rr]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Rr]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ar,Rr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ur,Tr,Vr]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Kr(...e){return Jr(Q(e))}const Qr=or;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Zr.apply(this,arguments)}var eo,to;r.forwardRef(({className:e,sideOffset:t=4,...r},o)=>nt.jsxDEV(sr,{ref:o,sideOffset:t,className:Kr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0)).displayName=sr.displayName,(to=eo||(eo={})).Pop="POP",to.Push="PUSH",to.Replace="REPLACE";const ro="popstate";function oo(e){return void 0===e&&(e={}),function(e,t,r,o){void 0===o&&(o={});let{window:s=document.defaultView,v5Compat:i=!1}=o,a=s.history,n=eo.Pop,l=null,c=m();null==c&&(c=0,a.replaceState(Zr({},a.state,{idx:c}),""));function m(){return(a.state||{idx:null}).idx}function u(){n=eo.Pop;let e=m(),t=null==e?null:e-c;c=e,l&&l({action:n,location:f.location,delta:t})}function d(e,t){n=eo.Push;let r=no(f.location,e,t);c=m()+1;let o=ao(r,c),u=f.createHref(r);try{a.pushState(o,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(u)}i&&l&&l({action:n,location:f.location,delta:1})}function h(e,t){n=eo.Replace;let r=no(f.location,e,t);c=m();let o=ao(r,c),s=f.createHref(r);a.replaceState(o,"",s),i&&l&&l({action:n,location:f.location,delta:0})}function p(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"==typeof e?e:lo(e);return r=r.replace(/ $/,"%20"),so(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let f={get action(){return n},get location(){return e(s,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ro,u),l=e,()=>{s.removeEventListener(ro,u),l=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:d,replace:h,go:e=>a.go(e)};return f}(function(e,t){let{pathname:r,search:o,hash:s}=e.location;return no("",{pathname:r,search:o,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:lo(t)},0,e)}function so(e,t){if(!1===e||null==e)throw new Error(t)}function io(e,t){if(!e)try{throw new Error(t)}catch(r){}}function ao(e,t){return{usr:e.state,key:e.key,idx:t}}function no(e,t,r,o){return void 0===r&&(r=null),Zr({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?co(t):t,{state:r,key:t&&t.key||o||Math.random().toString(36).substr(2,8)})}function lo(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function co(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}var mo,uo;function ho(e,t,r){return void 0===r&&(r="/"),function(e,t,r){let o="string"==typeof t?co(t):t,s=jo(o.pathname||"/",r);if(null==s)return null;let i=po(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let n=0;null==a&&n<i.length;++n){let e=So(s);a=Do(i[n],e)}return a}(e,t,r)}function po(e,t,r,o){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===o&&(o="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(so(a.relativePath.startsWith(o),'Absolute route path "'+a.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(o.length));let n=To([o,a.relativePath]),l=r.concat(a);e.children&&e.children.length>0&&(so(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+n+'".'),po(e.children,t,l,n)),(null!=e.path||e.index)&&t.push({path:n,score:_o(n,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let o of fo(e.path))s(e,t,o);else s(e,t)}),t}function fo(e){let t=e.split("/");if(0===t.length)return[];let[r,...o]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===o.length)return s?[i,""]:[i];let a=fo(o.join("/")),n=[];return n.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&n.push(...a),n.map(t=>e.startsWith("/")&&""===t?"/":t)}(uo=mo||(mo={})).data="data",uo.deferred="deferred",uo.redirect="redirect",uo.error="error";const vo=/^:[\w-]+$/,bo=3,go=2,xo=1,No=10,wo=-2,yo=e=>"*"===e;function _o(e,t){let r=e.split("/"),o=r.length;return r.some(yo)&&(o+=wo),t&&(o+=go),r.filter(e=>!yo(e)).reduce((e,t)=>e+(vo.test(t)?bo:""===t?xo:No),o)}function Do(e,t,r){let{routesMeta:o}=e,s={},i="/",a=[];for(let n=0;n<o.length;++n){let e=o[n],r=n===o.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Eo({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},l),m=e.route;if(!c)return null;Object.assign(s,c.params),a.push({params:s,pathname:To([i,c.pathname]),pathnameBase:ko(To([i,c.pathnameBase])),route:m}),"/"!==c.pathnameBase&&(i=To([i,c.pathnameBase]))}return a}function Eo(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);io("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(o.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(o.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,o]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),n=s.slice(1);return{params:o.reduce((e,t,r)=>{let{paramName:o,isOptional:s}=t;if("*"===o){let e=n[r]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=n[r];return e[o]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function So(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return io(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function jo(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&"/"!==o?null:e.slice(r)||"/"}function Po(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Co(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function Uo(e,t,r,o){let s;void 0===o&&(o=!1),"string"==typeof e?s=co(e):(s=Zr({},e),so(!s.pathname||!s.pathname.includes("?"),Po("?","pathname","search",s)),so(!s.pathname||!s.pathname.includes("#"),Po("#","pathname","hash",s)),so(!s.search||!s.search.includes("#"),Po("#","search","hash",s)));let i,a=""===e||""===s.pathname,n=a?"/":s.pathname;if(null==n)i=r;else{let e=t.length-1;if(!o&&n.startsWith("..")){let t=n.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:o="",hash:s=""}="string"==typeof e?co(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:Vo(o),hash:Ao(s)}}(s,i),c=n&&"/"!==n&&n.endsWith("/"),m=(a||"."===n)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!m||(l.pathname+="/"),l}const To=e=>e.join("/").replace(/\/\/+/g,"/"),ko=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vo=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ao=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Mo=["post","put","patch","delete"];new Set(Mo);const Ro=["get",...Mo];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Io.apply(this,arguments)}new Set(Ro);const Lo=r.createContext(null);Lo.displayName="DataRouter";const Oo=r.createContext(null);Oo.displayName="DataRouterState";r.createContext(null).displayName="Await";const Fo=r.createContext(null);Fo.displayName="Navigation";const Bo=r.createContext(null);Bo.displayName="Location";const $o=r.createContext({outlet:null,matches:[],isDataRoute:!1});$o.displayName="Route";const Ho=r.createContext(null);function qo(){return null!=r.useContext(Bo)}function Go(){return qo()||so(!1,"useLocation() may be used only in the context of a <Router> component."),r.useContext(Bo).location}Ho.displayName="RouteError";const zo="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wo(e){r.useContext(Fo).static||r.useLayoutEffect(e)}function Xo(){let{isDataRoute:e}=r.useContext($o);return e?function(){let{router:e}=function(e){let t=r.useContext(Lo);return t||so(!1,os(e)),t}(ts.UseNavigateStable),t=ss(rs.UseNavigateStable),o=r.useRef(!1);return Wo(()=>{o.current=!0}),r.useCallback(function(r,s){void 0===s&&(s={}),io(o.current,zo),o.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Io({fromRouteId:t},s)))},[e,t])}():function(){qo()||so(!1,"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(Lo),{basename:t,future:o,navigator:s}=r.useContext(Fo),{matches:i}=r.useContext($o),{pathname:a}=Go(),n=JSON.stringify(Co(i,o.v7_relativeSplatPath)),l=r.useRef(!1);return Wo(()=>{l.current=!0}),r.useCallback(function(r,o){if(void 0===o&&(o={}),io(l.current,zo),!l.current)return;if("number"==typeof r)return void s.go(r);let i=Uo(r,JSON.parse(n),a,"path"===o.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:To([t,i.pathname])),(o.replace?s.replace:s.push)(i,o.state,o)},[t,s,n,a,e])}()}function Yo(e,t){let{relative:o}=void 0===t?{}:t,{future:s}=r.useContext(Fo),{matches:i}=r.useContext($o),{pathname:a}=Go(),n=JSON.stringify(Co(i,s.v7_relativeSplatPath));return r.useMemo(()=>Uo(e,JSON.parse(n),a,"path"===o),[e,n,a,o])}function Jo(e,t){return function(e,t,o,s){qo()||so(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(Fo),{matches:a}=r.useContext($o),n=a[a.length-1],l=n?n.params:{},c=n?n.pathname:"/",m=n?n.pathnameBase:"/",u=n&&n.route;{let e=u&&u.path||"";as(c,!u||e.endsWith("*"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'+c+'" (under <Route path="'+e+'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="'+e+'"> to <Route path="'+("/"===e?"*":e+"/*")+'">.')}let d,h=Go();if(t){var p;let e="string"==typeof t?co(t):t;"/"===m||(null==(p=e.pathname)?void 0:p.startsWith(m))||so(!1,'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'+m+'" but pathname "'+e.pathname+'" was given in the `location` prop.'),d=e}else d=h;let f=d.pathname||"/",v=f;if("/"!==m){let e=m.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=ho(e,{pathname:v});io(u||null!=b,'No routes matched location "'+d.pathname+d.search+d.hash+'" '),io(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'+d.pathname+d.search+d.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let g=function(e,t,o,s){var i;void 0===t&&(t=[]);void 0===o&&(o=null);void 0===s&&(s=null);if(null==e){var a;if(!o)return null;if(o.errors)e=o.matches;else{if(!(null!=(a=s)&&a.v7_partialHydration&&0===t.length&&!o.initialized&&o.matches.length>0))return null;e=o.matches}}let n=e,l=null==(i=o)?void 0:i.errors;if(null!=l){let e=n.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||so(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(l).join(",")),n=n.slice(0,Math.min(n.length,e+1))}let c=!1,m=-1;if(o&&s&&s.v7_partialHydration)for(let r=0;r<n.length;r++){let e=n[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(m=r),e.route.id){let{loaderData:t,errors:r}=o,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,n=m>=0?n.slice(0,m+1):[n[0]];break}}}return n.reduceRight((e,s,i)=>{let a,u=!1,d=null,h=null;o&&(a=l&&s.route.id?l[s.route.id]:void 0,d=s.route.errorElement||Qo,c&&(m<0&&0===i?(as("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):m===i&&(u=!0,h=s.route.hydrateFallbackElement||null)));let p=t.concat(n.slice(0,i+1)),f=()=>{let t;return t=a?d:u?h:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(es,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=o},children:t})};return o&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?r.createElement(Zo,{location:o.location,revalidation:o.revalidation,component:d,error:a,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:To([m,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:To([m,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,o,s);if(t&&g)return r.createElement(Bo.Provider,{value:{location:Io({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:eo.Pop}},g);return g}(e,t)}function Ko(){let e=function(){var e;let t=r.useContext(Ho),o=function(e){let t=r.useContext(Oo);return t||so(!1,os(e)),t}(rs.UseRouteError),s=ss(rs.UseRouteError);if(void 0!==t)return t;return null==(e=o.errors)?void 0:e[s]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},n=null;return n=r.createElement(r.Fragment,null,r.createElement("p",null,"💿 Hey developer 👋"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),o?r.createElement("pre",{style:i},o):null,n)}const Qo=r.createElement(Ko,null);class Zo extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?r.createElement($o.Provider,{value:this.props.routeContext},r.createElement(Ho.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function es(e){let{routeContext:t,match:o,children:s}=e,i=r.useContext(Lo);return i&&i.static&&i.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=o.route.id),r.createElement($o.Provider,{value:t},s)}var ts=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ts||{}),rs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rs||{});function os(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function ss(e){let t=function(e){let t=r.useContext($o);return t||so(!1,os(e)),t}(e),o=t.matches[t.matches.length-1];return o.route.id||so(!1,e+' can only be used on routes that contain a unique "id"'),o.route.id}const is={};function as(e,t,r){t||is[e]||(is[e]=!0,io(!1,r))}const ns={};const ls=(e,t,r)=>{var o;ns[o="⚠️ React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+r+"."]||(ns[o]=!0)};function cs(e){so(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ms(e){let{basename:t="/",children:o=null,location:s,navigationType:i=eo.Pop,navigator:a,static:n=!1,future:l}=e;qo()&&so(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:c,navigator:a,static:n,future:Io({v7_relativeSplatPath:!1},l)}),[c,l,a,n]);"string"==typeof s&&(s=co(s));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=s,v=r.useMemo(()=>{let e=jo(u,c);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:i}},[c,u,d,h,p,f,i]);return io(null!=v,'<Router basename="'+c+'"> is not able to match the URL "'+u+d+h+"\" because it does not start with the basename, so the <Router> won't render anything."),null==v?null:r.createElement(Fo.Provider,{value:m},r.createElement(Bo.Provider,{children:o,value:v}))}function us(e){let{children:t,location:r}=e;return Jo(ds(t),r)}function ds(e,t){void 0===t&&(t=[]);let o=[];return r.Children.forEach(e,(e,s)=>{if(!r.isValidElement(e))return;let i=[...t,s];if(e.type===r.Fragment)return void o.push.apply(o,ds(e.props.children,i));e.type!==cs&&so(!1,"["+("string"==typeof e.type?e.type:e.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),e.props.index&&e.props.children&&so(!1,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ds(e.props.children,i)),o.push(a)}),o}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},hs.apply(this,arguments)}function ps(e,t){if(null==e)return{};var r,o,s={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(s[r]=e[r]);return s}new Promise(()=>{});const fs="get",vs="application/x-www-form-urlencoded";function bs(e){return null!=e&&"string"==typeof e.tagName}let gs=null;const xs=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ns(e){return null==e||xs.has(e)?e:(io(!1,'"'+e+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "'+vs+'"'),null)}function ws(e,t){let r,o,s,i,a;if(bs(n=e)&&"form"===n.tagName.toLowerCase()){let a=e.getAttribute("action");o=a?jo(a,t):null,r=e.getAttribute("method")||fs,s=Ns(e.getAttribute("enctype"))||vs,i=new FormData(e)}else if(function(e){return bs(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return bs(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let n=e.getAttribute("formaction")||a.getAttribute("action");if(o=n?jo(n,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||fs,s=Ns(e.getAttribute("formenctype"))||Ns(a.getAttribute("enctype"))||vs,i=new FormData(a,e),!function(){if(null===gs)try{new FormData(document.createElement("form"),0),gs=!1}catch(e){gs=!0}return gs}()){let{name:t,type:r,value:o}=e;if("image"===r){let e=t?t+".":"";i.append(e+"x","0"),i.append(e+"y","0")}else t&&i.append(t,o)}}else{if(bs(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fs,o=null,s=vs,a=e}var n;return i&&"text/plain"===s&&(a=i,i=void 0),{action:o,method:r.toLowerCase(),encType:s,formData:i,body:a}}const ys=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_s=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ds=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Wd){}const Es=r.createContext({isTransitioning:!1});Es.displayName="ViewTransition";r.createContext(new Map).displayName="Fetchers";const Ss=n.startTransition;function js(e){let{basename:t,children:o,future:s,window:i}=e,a=r.useRef();null==a.current&&(a.current=oo({window:i,v5Compat:!0}));let n=a.current,[l,c]=r.useState({action:n.action,location:n.location}),{v7_startTransition:m}=s||{},u=r.useCallback(e=>{m&&Ss?Ss(()=>c(e)):c(e)},[c,m]);return r.useLayoutEffect(()=>n.listen(u),[n,u]),r.useEffect(()=>{return void 0===(null==(e=s)?void 0:e.v7_startTransition)&&ls("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void(void 0===(null==e?void 0:e.v7_relativeSplatPath)&&ls("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"));var e},[s]),r.createElement(ms,{basename:t,children:o,location:l.location,navigationType:l.action,navigator:n,future:s})}const Ps="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Cs=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Us=r.forwardRef(function(e,t){let o,{onClick:s,relative:i,reloadDocument:a,replace:n,state:l,target:c,to:m,preventScrollReset:u,viewTransition:d}=e,h=ps(e,ys),{basename:p}=r.useContext(Fo),f=!1;if("string"==typeof m&&Cs.test(m)&&(o=m,Ps))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=jo(t.pathname,p);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:f=!0}catch(Wd){io(!1,'<Link to="'+m+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let v=function(e,t){let{relative:o}=void 0===t?{}:t;qo()||so(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=r.useContext(Fo),{hash:a,pathname:n,search:l}=Yo(e,{relative:o}),c=n;return"/"!==s&&(c="/"===n?s:To([s,n])),i.createHref({pathname:c,search:l,hash:a})}(m,{relative:i}),b=function(e,t){let{target:o,replace:s,state:i,preventScrollReset:a,relative:n,viewTransition:l}=void 0===t?{}:t,c=Xo(),m=Go(),u=Yo(e,{relative:n});return r.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,o)){t.preventDefault();let r=void 0!==s?s:lo(m)===lo(u);c(e,{replace:r,state:i,preventScrollReset:a,relative:n,viewTransition:l})}},[m,c,u,s,i,o,e,a,n,l])}(m,{replace:n,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:d});return r.createElement("a",hs({},h,{href:o||v,onClick:f||a?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:t,target:c}))});Us.displayName="Link";r.forwardRef(function(e,t){let{"aria-current":o="page",caseSensitive:s=!1,className:i="",end:a=!1,style:n,to:l,viewTransition:c,children:m}=e,u=ps(e,_s),d=Yo(l,{relative:u.relative}),h=Go(),p=r.useContext(Oo),{navigator:f,basename:v}=r.useContext(Fo),b=null!=p&&function(e,t){void 0===t&&(t={});let o=r.useContext(Es);null==o&&so(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ms(Ts.useViewTransitionState),i=Yo(e,{relative:t.relative});if(!o.isTransitioning)return!1;let a=jo(o.currentLocation.pathname,s)||o.currentLocation.pathname,n=jo(o.nextLocation.pathname,s)||o.nextLocation.pathname;return null!=Eo(i.pathname,n)||null!=Eo(i.pathname,a)}(d)&&!0===c,g=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,x=h.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(x=x.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&v&&(N=jo(N,v)||N);const w="/"!==g&&g.endsWith("/")?g.length-1:g.length;let y,_=x===g||!a&&x.startsWith(g)&&"/"===x.charAt(w),D=null!=N&&(N===g||!a&&N.startsWith(g)&&"/"===N.charAt(g.length)),E={isActive:_,isPending:D,isTransitioning:b},S=_?o:void 0;y="function"==typeof i?i(E):[i,_?"active":null,D?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j="function"==typeof n?n(E):n;return r.createElement(Us,hs({},u,{"aria-current":S,className:y,ref:t,style:j,to:l,viewTransition:c}),"function"==typeof m?m(E):m)}).displayName="NavLink";var Ts,ks,Vs,As;function Ms(e){let t=r.useContext(Lo);return t||so(!1,function(e){return e+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}(e)),t}r.forwardRef((e,t)=>{let{fetcherKey:o,navigate:s,reloadDocument:i,replace:a,state:n,method:l=fs,action:c,onSubmit:m,relative:u,preventScrollReset:d,viewTransition:h}=e,p=ps(e,Ds),f=function(){let{router:e}=Ms(Ts.UseSubmit),{basename:t}=r.useContext(Fo),o=ss(rs.UseRouteId);return r.useCallback(function(r,s){void 0===s&&(s={}),function(){if("undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:i,method:a,encType:n,formData:l,body:c}=ws(r,t);if(!1===s.navigate){let t=s.fetcherKey||Is();e.fetch(t,o,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||n,flushSync:s.flushSync})}else e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||n,replace:s.replace,state:s.state,fromRouteId:o,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,o])}(),v=function(e,t){let{relative:o}=void 0===t?{}:t,{basename:s}=r.useContext(Fo),i=r.useContext($o);i||so(!1,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),n=hs({},Yo(e||".",{relative:o})),l=Go();if(null==e){n.search=l.search;let e=new URLSearchParams(n.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();n.search=r?"?"+r:""}}e&&"."!==e||!a.route.index||(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index");"/"!==s&&(n.pathname="/"===n.pathname?s:To([s,n.pathname]));return lo(n)}(c,{relative:u}),b="get"===l.toLowerCase()?"get":"post";return r.createElement("form",hs({ref:t,method:b,action:v,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null==t?void 0:t.getAttribute("formmethod"))||l;f(t||e.currentTarget,{fetcherKey:o,method:r,navigate:s,replace:a,state:n,relative:u,preventScrollReset:d,viewTransition:h})}},p))}).displayName="Form",(ks=Ts||(Ts={})).UseScrollRestoration="useScrollRestoration",ks.UseSubmit="useSubmit",ks.UseSubmitFetcher="useSubmitFetcher",ks.UseFetcher="useFetcher",ks.useViewTransitionState="useViewTransitionState",(As=Vs||(Vs={})).UseFetcher="useFetcher",As.UseFetchers="useFetchers",As.UseScrollRestoration="useScrollRestoration";let Rs=0,Is=()=>"__"+String(++Rs)+"__";const Ls=[];for(let s=0;s<256;++s)Ls.push((s+256).toString(16).slice(1));let Os;const Fs=new Uint8Array(16);const Bs={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function $s(e,t,r){var o;if(Bs.randomUUID&&!e)return Bs.randomUUID();const s=(e=e||{}).random??(null==(o=e.rng)?void 0:o.call(e))??function(){if(!Os){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Os=crypto.getRandomValues.bind(crypto)}return Os(Fs)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=15&s[6]|64,s[8]=63&s[8]|128,function(e,t=0){return(Ls[e[t+0]]+Ls[e[t+1]]+Ls[e[t+2]]+Ls[e[t+3]]+"-"+Ls[e[t+4]]+Ls[e[t+5]]+"-"+Ls[e[t+6]]+Ls[e[t+7]]+"-"+Ls[e[t+8]]+Ls[e[t+9]]+"-"+Ls[e[t+10]]+Ls[e[t+11]]+Ls[e[t+12]]+Ls[e[t+13]]+Ls[e[t+14]]+Ls[e[t+15]]).toLowerCase()}(s)}const Hs=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,qs=Q,Gs=(e,t)=>r=>{var o;if(null==(null==t?void 0:t.variants))return qs(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(e=>{const t=null==r?void 0:r[e],o=null==i?void 0:i[e];if(null===t)return null;const a=Hs(t)||Hs(o);return s[e][a]}),n=r&&Object.entries(r).reduce((e,t)=>{let[r,o]=t;return void 0===o||(e[r]=o),e},{}),l=null==t||null===(o=t.compoundVariants)||void 0===o?void 0:o.reduce((e,t)=>{let{class:r,className:o,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...n}[t]):{...i,...n}[t]===r})?[...e,r,o]:e},[]);return qs(e,a,l,null==r?void 0:r.class,null==r?void 0:r.className)},zs=Gs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-soft",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-soft font-semibold transition-bounce",music:"bg-gradient-music text-primary-foreground hover:shadow-primary transition-smooth",coral:"bg-accent-coral text-accent-coral-foreground hover:bg-accent-coral/90 shadow-soft",turquoise:"bg-accent-turquoise text-accent-turquoise-foreground hover:bg-accent-turquoise/90 shadow-soft"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ws=r.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...s},i)=>{const a=o?_:"button";return nt.jsxDEV(a,{className:Kr(zs({variant:t,size:r,className:e})),ref:i,...s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/button.tsx",lineNumber:51,columnNumber:7},void 0)});function Xs(e,t){let r;try{r=e()}catch(Wd){return}return{getItem:e=>{var t;const o=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(o):o(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}Ws.displayName="Button";const Ys=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>Ys(e)(r),catch(e){return this}}}catch(Wd){return{then(e){return this},catch:t=>Ys(t)(Wd)}}},Js=(e,t)=>(r,o,s)=>{let i={storage:Xs(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const n=new Set,l=new Set;let c=i.storage;if(!c)return e((...e)=>{r(...e)},o,s);const m=()=>{const e=i.partialize({...o()});return c.setItem(i.name,{state:e,version:i.version})},u=s.setState;s.setState=(e,t)=>(u(e,t),m());const d=e((...e)=>(r(...e),m()),o,s);let h;s.getInitialState=()=>d;const p=()=>{var e,t;if(!c)return;a=!1,n.forEach(e=>{var t;return e(null!=(t=o())?t:d)});const s=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=o())?e:d))||void 0;return Ys(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[s,a]=e;if(h=i.merge(a,null!=(t=o())?t:d),r(h,!0),s)return m()}).then(()=>{null==s||s(h,void 0),h=o(),a=!0,l.forEach(e=>e(h))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:e=>(n.add(e),()=>{n.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||p(),h||d},Ks={},Qs=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Ks)return;Ks[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},Zs="memora-guest-id";function ei(){try{const e=localStorage.getItem(Zs);if(e)return e;const t=$s();return localStorage.setItem(Zs,t),t}catch(e){return`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}function ti(){try{localStorage.getItem(Zs)&&localStorage.removeItem(Zs)}catch(e){}}function ri(){try{return localStorage.getItem(Zs)}catch(e){return null}}const oi=Object.freeze(Object.defineProperty({__proto__:null,clearGuestId:ti,getCurrentGuestId:ri,getOrCreateGuestId:ei},Symbol.toStringTag,{value:"Module"})),si={isDevelopment:!0,apiBaseUrl:"http://localhost:3003"}.apiBaseUrl,ii={GENERATE_PREVIEW:`${si}/api/generate-preview`,CHECK_MUSIC_STATUS:`${si}/api/check-music-status`,SONGS:"/api/songs",SONGS_DISCOVER:"/api/songs/discover",MIGRATE_GUEST_DATA:"/api/migrate-guest-data",LOGIN:"/api/auth/login",SIGNUP:"/api/auth/signup",LOGOUT:"/api/auth/logout"},ai=async()=>{const{useAuthStore:e}=await Qs(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>tc);return{useAuthStore:e}},void 0),{isLoggedIn:t,user:r}=e.getState();let o=ii.SONGS;if(t&&(null==r?void 0:r.id))o+=`?userId=${encodeURIComponent(r.id)}`;else{const{getOrCreateGuestId:e}=await Qs(async()=>{const{getOrCreateGuestId:e}=await Promise.resolve().then(()=>oi);return{getOrCreateGuestId:e}},void 0),t=e();o+=`?guestId=${encodeURIComponent(t)}`}return ui(o)},ni=(e=24)=>ui(`${ii.SONGS_DISCOVER}?limit=${e}`),li=e=>ui(`${ii.SONGS}/${e}/public`),ci=e=>ui(`${ii.SONGS}/${e}`,{method:"DELETE"}),mi=async e=>{const{useAuthStore:t}=await Qs(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>tc);return{useAuthStore:e}},void 0),{user:r}=t.getState(),o=localStorage.getItem("deviceId");return ui(ii.MIGRATE_GUEST_DATA,{method:"POST",body:{guestId:e,userId:null==r?void 0:r.id,email:null==r?void 0:r.email,name:null==r?void 0:r.name,deviceId:o}})},ui=async(e,t={})=>{const{method:r="GET",body:o,headers:s={}}=t;try{const{useAuthStore:t}=await Qs(async()=>{const{useAuthStore:e}=await Promise.resolve().then(()=>tc);return{useAuthStore:e}},void 0),{token:n,isLoggedIn:l}=t.getState(),c={"Content-Type":"application/json",...s},m=localStorage.getItem("deviceId");if(m&&(c["X-Device-ID"]=m),l&&n)c.Authorization=`Bearer ${n}`;else{const e=ei();c["X-Guest-ID"]=e}const u=e.startsWith("http")?e:`${si}${e}`,d={method:r,headers:c,...o&&{body:"string"==typeof o?o:JSON.stringify(o)}},h=await fetch(u,d);if(!h.ok){let e;try{const t=await h.text();try{e=JSON.parse(t)}catch(i){e={message:t}}}catch(a){e={message:`API Error: ${h.status} ${h.statusText}`}}const t=e.message||`API Error: ${h.status} ${h.statusText}`,r=new Error(t);throw r.status=h.status,r.statusText=h.statusText,r.data=e,r}return await h.json()}catch(n){throw n}};class di extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class hi extends di{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pi extends di{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class fi extends di{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vi,bi;(bi=vi||(vi={})).Any="any",bi.ApNortheast1="ap-northeast-1",bi.ApNortheast2="ap-northeast-2",bi.ApSouth1="ap-south-1",bi.ApSoutheast1="ap-southeast-1",bi.ApSoutheast2="ap-southeast-2",bi.CaCentral1="ca-central-1",bi.EuCentral1="eu-central-1",bi.EuWest1="eu-west-1",bi.EuWest2="eu-west-2",bi.EuWest3="eu-west-3",bi.SaEast1="sa-east-1",bi.UsEast1="us-east-1",bi.UsWest1="us-west-1",bi.UsWest2="us-west-2";var gi=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};class xi{constructor(e,{headers:t={},customFetch:r,region:o=vi.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Qs(async()=>{const{default:e}=await Promise.resolve().then(()=>ki);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return gi(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:i}=t;let a={},{region:n}=t;n||(n=this.region);const l=new URL(`${this.url}/${e}`);let c;n&&"any"!==n&&(a["x-region"]=n,l.searchParams.set("forceFunctionRegion",n)),i&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):"string"==typeof i?(a["Content-Type"]="text/plain",c=i):"undefined"!=typeof FormData&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const m=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(e=>{throw new hi(e)}),u=m.headers.get("x-relay-error");if(u&&"true"===u)throw new pi(m);if(!m.ok)throw new fi(m);let d,h=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return d="application/json"===h?yield m.json():"application/octet-stream"===h?yield m.blob():"text/event-stream"===h?m:"multipart/form-data"===h?yield m.formData():yield m.text(),{data:d,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof fi||o instanceof pi?o.context:void 0}}})}}var Ni={},wi={},yi={},_i={},Di={},Ei={},Si=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const ji=Si.fetch,Pi=Si.fetch.bind(Si),Ci=Si.Headers,Ui=Si.Request,Ti=Si.Response,ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ci,Request:Ui,Response:Ti,default:Pi,fetch:ji},Symbol.toStringTag,{value:"Module"})),Vi=l(ki);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});let Mi=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ai.default=Mi;var Ri=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const Ii=Ri(Vi),Li=Ri(Ai);Ei.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Ii.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,o,s;let i=null,a=null,n=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const r=await e.text();""===r||(a="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}const s=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),m=null===(o=e.headers.get("content-range"))||void 0===o?void 0:o.split("/");s&&m&&m.length>1&&(n=parseInt(m[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,n=null,l=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(a=[],i=null,l=200,c="OK")}catch(m){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(s=null==i?void 0:i.details)||void 0===s?void 0:s.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new Li.default(i)}return{error:i,data:a,count:n,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,o;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(o=null==e?void 0:e.code)&&void 0!==o?o:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};var Oi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const Fi=Oi(Ei);let Bi=class extends Fi.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:s=o}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const o=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){const s=void 0===o?"offset":`${o}.offset`,i=void 0===o?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:s=!1,format:i="text"}={}){var a;const n=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${n};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Di.default=Bi;var $i=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const Hi=$i(Di);let qi=class extends Hi.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let s="";"plain"===o?s="pl":"phrase"===o?s="ph":"websearch"===o&&(s="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};_i.default=qi;var Gi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yi,"__esModule",{value:!0});const zi=Gi(_i);yi.default=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,{head:t=!1,count:r}={}){const o=t?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new zi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new zi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:s=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new zi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e,{count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new zi.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new zi.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}};var Wi=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wi,"__esModule",{value:!0});const Xi=Wi(yi),Yi=Wi(_i);wi.default=class e{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){const t=new URL(`${this.url}/${e}`);return new Xi.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:s}={}){var i;let a;const n=new URL(`${this.url}/rpc/${e}`);let l;r||o?(a=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{n.searchParams.append(e,t)})):(a="POST",l=t);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new Yi.default({method:a,url:n,headers:c,schema:this.schemaName,body:l,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}};var Ji=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.PostgrestError=Ni.PostgrestBuilder=Ni.PostgrestTransformBuilder=Ni.PostgrestFilterBuilder=Ni.PostgrestQueryBuilder=Ni.PostgrestClient=void 0;const Ki=Ji(wi);Ni.PostgrestClient=Ki.default;const Qi=Ji(yi);Ni.PostgrestQueryBuilder=Qi.default;const Zi=Ji(_i);Ni.PostgrestFilterBuilder=Zi.default;const ea=Ji(Di);Ni.PostgrestTransformBuilder=ea.default;const ta=Ji(Ei);Ni.PostgrestBuilder=ta.default;const ra=Ji(Ai);Ni.PostgrestError=ra.default;var oa=Ni.default={PostgrestClient:Ki.default,PostgrestQueryBuilder:Qi.default,PostgrestFilterBuilder:Zi.default,PostgrestTransformBuilder:ea.default,PostgrestBuilder:ta.default,PostgrestError:ra.default};const{PostgrestClient:sa,PostgrestQueryBuilder:ia,PostgrestFilterBuilder:aa,PostgrestTransformBuilder:na,PostgrestBuilder:la,PostgrestError:ca}=oa;class ma{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,r=parseInt(t.replace(/^v/,"").split(".")[0]);return r>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const ua=1e4;var da,ha,pa,fa,va,ba,ga,xa,Na,wa,ya;(ha=da||(da={}))[ha.connecting=0]="connecting",ha[ha.open=1]="open",ha[ha.closing=2]="closing",ha[ha.closed=3]="closed",(fa=pa||(pa={})).closed="closed",fa.errored="errored",fa.joined="joined",fa.joining="joining",fa.leaving="leaving",(ba=va||(va={})).close="phx_close",ba.error="phx_error",ba.join="phx_join",ba.reply="phx_reply",ba.leave="phx_leave",ba.access_token="access_token",(ga||(ga={})).websocket="websocket",(Na=xa||(xa={})).Connecting="connecting",Na.Open="open",Na.Closing="closing",Na.Closed="closed";class _a{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(e.slice(i,i+o));i+=o;const n=r.decode(e.slice(i,i+s));i+=s;return{ref:null,topic:a,event:n,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class Da{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(ya=wa||(wa={})).abstime="abstime",ya.bool="bool",ya.date="date",ya.daterange="daterange",ya.float4="float4",ya.float8="float8",ya.int2="int2",ya.int4="int4",ya.int4range="int4range",ya.int8="int8",ya.int8range="int8range",ya.json="json",ya.jsonb="jsonb",ya.money="money",ya.numeric="numeric",ya.oid="oid",ya.reltime="reltime",ya.text="text",ya.time="time",ya.timestamp="timestamp",ya.timestamptz="timestamptz",ya.timetz="timetz",ya.tsrange="tsrange",ya.tstzrange="tstzrange";const Ea=(e,t,r={})=>{var o;const s=null!==(o=r.skipTypes)&&void 0!==o?o:[];return Object.keys(t).reduce((r,o)=>(r[o]=Sa(o,e,t,s),r),{})},Sa=(e,t,r,o)=>{const s=t.find(t=>t.name===e),i=null==s?void 0:s.type,a=r[e];return i&&!o.includes(i)?ja(i,a):Pa(a)},ja=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return ka(t,r)}switch(e){case wa.bool:return Ca(t);case wa.float4:case wa.float8:case wa.int2:case wa.int4:case wa.int8:case wa.numeric:case wa.oid:return Ua(t);case wa.json:case wa.jsonb:return Ta(t);case wa.timestamp:return Va(t);case wa.abstime:case wa.date:case wa.daterange:case wa.int4range:case wa.int8range:case wa.money:case wa.reltime:case wa.text:case wa.time:case wa.timestamptz:case wa.timetz:case wa.tsrange:case wa.tstzrange:default:return Pa(t)}},Pa=e=>e,Ca=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ua=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ta=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},ka=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,o=e[r];if("{"===e[0]&&"}"===o){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch(s){o=i?i.split(","):[]}return o.map(e=>ja(t,e))}return e},Va=e=>"string"==typeof e?e.replace(" ","T"):e,Aa=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ma{constructor(e,t,r={},o=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ra,Ia,La,Oa,Fa,Ba,$a,Ha;(Ia=Ra||(Ra={})).SYNC="sync",Ia.JOIN="join",Ia.LEAVE="leave";class qa{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qa.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=qa.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=qa.syncDiff(this.state,e,t,r),o())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const s=this.cloneDeep(e),i=this.transformState(t),a={},n={};return this.map(s,(e,t)=>{i[e]||(n[e]=t)}),this.map(i,(e,t)=>{const r=s[e];if(r){const o=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),i=t.filter(e=>s.indexOf(e.presence_ref)<0),l=r.filter(e=>o.indexOf(e.presence_ref)<0);i.length>0&&(a[e]=i),l.length>0&&(n[e]=l)}else a[e]=t}),this.syncDiff(s,{joins:a,leaves:n},r,o)}static syncDiff(e,t,r,o){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(s,(t,o)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(o),i.length>0){const r=e[t].map(e=>e.presence_ref),o=i.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...o)}r(t,i,o)}),this.map(i,(t,r)=>{let s=e[t];if(!s)return;const i=r.map(e=>e.presence_ref);s=s.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=s,o(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return t[r]="metas"in o?o.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Oa=La||(La={})).ALL="*",Oa.INSERT="INSERT",Oa.UPDATE="UPDATE",Oa.DELETE="DELETE",(Ba=Fa||(Fa={})).BROADCAST="broadcast",Ba.PRESENCE="presence",Ba.POSTGRES_CHANGES="postgres_changes",Ba.SYSTEM="system",(Ha=$a||($a={})).SUBSCRIBED="SUBSCRIBED",Ha.TIMED_OUT="TIMED_OUT",Ha.CLOSED="CLOSED",Ha.CHANNEL_ERROR="CHANNEL_ERROR";class Ga{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=pa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ma(this,va.join,this.params,this.timeout),this.rejoinTimer=new Da(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pa.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(va.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new qa(this),this.broadcastEndpointURL=Aa(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pa.closed){const{config:{broadcast:i,presence:a,private:n}}=this.params,l=null!==(o=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==o?o:[],c=!!this.bindings[Fa.PRESENCE]&&this.bindings[Fa.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),m={},u={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:n};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e($a.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e($a.CLOSED)),this.updateJoinPayload(Object.assign({config:u},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const o=this.bindings.postgres_changes,s=null!==(r=null==o?void 0:o.length)&&void 0!==r?r:0,i=[];for(let r=0;r<s;r++){const s=o[r],{filter:{event:a,schema:n,table:l,filter:c}}=s,m=t&&t[r];if(!m||m.event!==a||m.schema!==n||m.table!==l||m.filter!==c)return this.unsubscribe(),this.state=pa.errored,void(null==e||e($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:m.id}))}return this.bindings.postgres_changes=i,void(e&&e($a.SUBSCRIBED))}null==e||e($a.SUBSCRIBED)}).receive("error",t=>{this.state=pa.errored,null==e||e($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===pa.joined&&e===Fa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,o;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var o,s,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(s=null===(o=this.params)||void 0===o?void 0:o.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||r("ok"),a.receive("ok",()=>r("ok")),a.receive("error",()=>r("error")),a.receive("timeout",()=>r("timed out"))});{const{event:i,payload:a}=e,n={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,n,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(o=e.body)||void 0===o?void 0:o.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pa.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(va.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Ma(this,va.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pa.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const o=new AbortController,s=setTimeout(()=>o.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(s),i}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ma(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,s;const i=e.toLocaleLowerCase(),{close:a,error:n,leave:l,join:c}=va;if(r&&[a,n,l,c].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(o=this.bindings.postgres_changes)||void 0===o||o.filter(e=>{var t,r,o;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(o=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===o?void 0:o.toLocaleLowerCase())===i}).map(e=>e.callback(m,r)):null===(s=this.bindings[i])||void 0===s||s.filter(e=>{var r,o,s,a,n,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(o=t.ids)||void 0===o?void 0:o.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const r=null===(n=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===n?void 0:n.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof m&&"ids"in m){const e=m.data,{schema:t,table:r,commit_timestamp:o,type:s,errors:i}=e,a={schema:t,table:r,commit_timestamp:o,eventType:s,new:{},old:{},errors:i};m=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(m,r)})}_isClosed(){return this.state===pa.closed}_isJoined(){return this.state===pa.joined}_isJoining(){return this.state===pa.joining}_isLeaving(){return this.state===pa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),s={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var o;return!((null===(o=e.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&Ga.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(va.close,{},e)}_onError(e){this._on(va.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Ea(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Ea(e.columns,e.old_record)),t}}const za=()=>{},Wa=25e3,Xa=10,Ya=100,Ja=[1e3,2e3,5e3,1e4];class Ka{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ua,this.transport=null,this.heartbeatIntervalMs=Wa,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=za,this.ref=0,this.reconnectTimer=null,this.logger=za,this.conn=null,this.sendBuffer=[],this.serializer=new _a,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Qs(async()=>{const{default:e}=await Promise.resolve().then(()=>ki);return{default:e}},void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${ga.websocket}`,this.httpEndpoint=Aa(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ma.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case da.connecting:return xa.Connecting;case da.open:return xa.Open;case da.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(e=>e.topic===r);if(o)return o;{const r=new Ga(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:o,ref:s}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${s})`,o),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Wd){this.log("error","error in heartbeat callback",Wd)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Ya)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Wd){this.log("error","error in heartbeat callback",Wd)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Wd){this.log("error","error in heartbeat callback",Wd)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(Wd){this.log("error","error in heartbeat callback",Wd)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:o,ref:s}=e,i=s?`(${s})`:"",a=o.status||"";this.log("receive",`${a} ${t} ${r} ${i}`.trim(),o),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,o,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(va.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.15.5"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(va.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(Wd){this.log("error",`error in ${e} callback`,Wd)}})}catch(Wd){this.log("error",`error triggering ${e} callbacks`,Wd)}}_setupReconnectionTimer(){this.reconnectTimer=new Da(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xa)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,s,i,a,n,l,c;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:ua,this.heartbeatIntervalMs=null!==(o=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==o?o:Wa,this.worker=null!==(s=null==e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(i=null==e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:za,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(n=null==e?void 0:e.reconnectAfterMs)&&void 0!==n?n:e=>Ja[e-1]||1e4,this.encode=null!==(l=null==e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class Qa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Za(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class en extends Qa{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tn extends Qa{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var rn=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};const on=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Qs(async()=>{const{default:e}=await Promise.resolve().then(()=>ki);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},sn=e=>{if(Array.isArray(e))return e.map(e=>sn(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const o=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[o]=sn(r)}),t};var an=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};const nn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ln=(e,t,r)=>an(void 0,void 0,void 0,function*(){const o=yield rn(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Qs(()=>Promise.resolve().then(()=>ki),void 0)).Response:Response});e instanceof o&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{const o=e.status||500,s=(null==r?void 0:r.statusCode)||o+"";t(new en(nn(r),o,s))}).catch(e=>{t(new tn(nn(e),e))}):t(new tn(nn(e),e))}),cn=(e,t,r,o)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&o?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(o)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(o)):s.body=o,(null==t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r)):s};function mn(e,t,r,o,s,i){return an(this,void 0,void 0,function*(){return new Promise((a,n)=>{e(r,cn(t,o,s,i)).then(e=>{if(!e.ok)throw e;return(null==o?void 0:o.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>ln(e,n,o))})})}function un(e,t,r,o){return an(this,void 0,void 0,function*(){return mn(e,"GET",t,r,o)})}function dn(e,t,r,o,s){return an(this,void 0,void 0,function*(){return mn(e,"POST",t,o,s,r)})}function hn(e,t,r,o,s){return an(this,void 0,void 0,function*(){return mn(e,"PUT",t,o,s,r)})}function pn(e,t,r,o,s){return an(this,void 0,void 0,function*(){return mn(e,"DELETE",t,o,s,r)})}var fn=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};const vn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gn{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=on(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return fn(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},bn),o);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const n=i.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),n&&s.append("metadata",this.encodeMetadata(n)),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl),n&&s.append("metadata",this.encodeMetadata(n))):(s=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,n&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(n)))),(null==o?void 0:o.headers)&&(a=Object.assign(Object.assign({},a),o.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),m=yield("PUT"==e?hn:dn)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Za(s))return{data:null,error:s};throw s}})}upload(e,t,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return fn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:bn.upsert},o),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield hn(this.fetch,a.toString(),e,{headers:i})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Za(n))return{data:null,error:n};throw n}})}createSignedUploadUrl(e,t){return fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(o["x-upsert"]="true");const s=yield dn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),i=new URL(this.url+s.url),a=i.searchParams.get("token");if(!a)throw new Qa("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}update(e,t,r){return fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return fn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Za(o))return{data:null,error:o};throw o}})}copy(e,t,r){return fn(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Za(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return fn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield dn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Za(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return fn(this,void 0,void 0,function*(){try{const o=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:o.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Za(o))return{data:null,error:o};throw o}})}download(e,t){return fn(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=o?`?${o}`:"";try{const t=this._getFinalPath(e),o=yield un(this.fetch,`${this.url}/${r}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield o.blob(),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Za(i))return{data:null,error:i};throw i}})}info(e){return fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield un(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:sn(e),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}exists(e){return fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,o){return an(this,void 0,void 0,function*(){return mn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r)&&r instanceof tn){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&o.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&o.push(a);let n=o.join("&");return""!==n&&(n=`?${n}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${n}`)}}}remove(e){return fn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}list(e,t,r){return fn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},vn),t),{prefix:e||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Za(o))return{data:null,error:o};throw o}})}listV2(e,t){return fn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const xn={"X-Client-Info":"storage-js/2.12.0"};var Nn=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};class wn{constructor(e,t={},r,o){this.shouldThrowOnError=!1;const s=new URL(e);if(null==o?void 0:o.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},xn),t),this.fetch=on(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Nn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Za(e))return{data:null,error:e};throw e}})}getBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Nn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Nn(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Za(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Za(t))return{data:null,error:t};throw t}})}}class yn extends wn{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new gn(this.url,this.headers,e,this.fetch)}}let _n="";_n="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Dn={headers:{"X-Client-Info":`supabase-js-${_n}/2.57.2`}},En={schema:"public"},Sn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jn={};var Pn=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};const Cn=(e,t,r)=>{const o=(e=>{let t;return t=e||("undefined"==typeof fetch?Pi:fetch),(...e)=>t(...e)})(r),s="undefined"==typeof Headers?Ci:Headers;return(r,i)=>Pn(void 0,void 0,void 0,function*(){var a;const n=null!==(a=yield t())&&void 0!==a?a:e;let l=new s(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${n}`),o(r,Object.assign(Object.assign({},i),{headers:l}))})};var Un=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};const Tn="2.71.1",kn=3e4,Vn=9e4,An={"X-Client-Info":`gotrue-js/${Tn}`},Mn="X-Supabase-Api-Version",Rn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},In=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ln extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function On(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Fn extends Ln{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Bn extends Ln{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $n extends Ln{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class Hn extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class qn extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gn extends $n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zn extends $n{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wn extends $n{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xn extends $n{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Yn(e){return On(e)&&"AuthRetryableFetchError"===e.name}class Jn extends $n{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Kn extends $n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zn=" \t\n\r=".split(""),el=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zn.length;t+=1)e[Zn[t].charCodeAt(0)]=-2;for(let t=0;t<Qn.length;t+=1)e[Qn[t].charCodeAt(0)]=t;return e})();function tl(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Qn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Qn[e]),t.queuedBits-=6}}function rl(e,t,r){const o=el[e];if(!(o>-1)){if(-2===o)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function ol(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},o={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,o,r)};for(let a=0;a<e.length;a+=1)rl(e.charCodeAt(a),s,i);return t.join("")}function sl(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function il(e){const t=[],r={queue:0,queuedBits:0},o=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)rl(e.charCodeAt(s),r,o);return new Uint8Array(t)}function al(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let o=e.charCodeAt(r);if(o>55295&&o<=56319){const t=1024*(o-55296)&65535;o=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}sl(o,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function nl(e){const t=[],r={queue:0,queuedBits:0},o=e=>{t.push(e)};return e.forEach(e=>tl(e,r,o)),tl(null,r,o),t.join("")}const ll=()=>"undefined"!=typeof window&&"undefined"!=typeof document,cl={tested:!1,writable:!1},ml=()=>{if(!ll())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Wd){return!1}if(cl.tested)return cl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cl.tested=!0,cl.writable=!0}catch(Wd){cl.tested=!0,cl.writable=!1}return cl.writable};const ul=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Qs(async()=>{const{default:e}=await Promise.resolve().then(()=>ki);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},dl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(o){return r}},pl=async(e,t)=>{await e.removeItem(t)};class fl{constructor(){this.promise=new fl.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function vl(e){const t=e.split(".");if(3!==t.length)throw new Kn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!In.test(t[r]))throw new Kn("JWT not in base64url format");return{header:JSON.parse(ol(t[0])),payload:JSON.parse(ol(t[1])),signature:il(t[2]),raw:{header:t[0],payload:t[1]}}}function bl(e){return("0"+e.toString(16)).substr(-2)}async function gl(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xl(e,t,r=!1){const o=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let o=0;o<56;o++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,bl).join("")}();let s=o;r&&(s+="/PASSWORD_RECOVERY"),await dl(e,`${t}-code-verifier`,s);const i=await gl(o);return[i,o===i?"plain":"s256"]}fl.promiseConstructor=Promise;const Nl=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wl=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yl(e){if(!wl.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _l(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dl(e){return JSON.parse(JSON.stringify(e))}const El=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sl=[502,503,504];async function jl(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Xn(El(e),0);if(Sl.includes(e.status))throw new Xn(El(e),e.status);let o,s;try{o=await e.json()}catch(Wd){throw new Bn(El(Wd),Wd)}const i=function(e){const t=e.headers.get(Mn);if(!t)return null;if(!t.match(Nl))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Wd){return null}}(e);if(i&&i.getTime()>=Rn.timestamp&&"object"==typeof o&&o&&"string"==typeof o.code?s=o.code:"object"==typeof o&&o&&"string"==typeof o.error_code&&(s=o.error_code),s){if("weak_password"===s)throw new Jn(El(o),e.status,(null===(t=o.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Hn}else if("object"==typeof o&&o&&"object"==typeof o.weak_password&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Jn(El(o),e.status,o.weak_password.reasons);throw new Fn(El(o),e.status||500,s)}async function Pl(e,t,r,o){var s;const i=Object.assign({},null==o?void 0:o.headers);i[Mn]||(i[Mn]=Rn.name),(null==o?void 0:o.jwt)&&(i.Authorization=`Bearer ${o.jwt}`);const a=null!==(s=null==o?void 0:o.query)&&void 0!==s?s:{};(null==o?void 0:o.redirectTo)&&(a.redirect_to=o.redirectTo);const n=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,r,o,s,i){const a=((e,t,r,o)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(o),Object.assign(Object.assign({},s),r))})(t,o,s,i);let n;try{n=await e(r,Object.assign({},a))}catch(Wd){throw new Xn(El(Wd),0)}n.ok||await jl(n);if(null==o?void 0:o.noResolveJson)return n;try{return await n.json()}catch(Wd){await jl(Wd)}}(e,t,r+n,{headers:i,noResolveJson:null==o?void 0:o.noResolveJson},{},null==o?void 0:o.body);return(null==o?void 0:o.xform)?null==o?void 0:o.xform(l):{data:Object.assign({},l),error:null}}function Cl(e){var t;let r=null;var o;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(o=e.expires_in,Math.round(Date.now()/1e3)+o)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ul(e){const t=Cl(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Tl(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function kl(e){return{data:e,error:null}}function Vl(e){const{action_link:t,email_otp:r,hashed_token:o,redirect_to:s,verification_type:i}=e,a=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]])}return r}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:o,redirect_to:s,verification_type:i},user:Object.assign({},a)},error:null}}function Al(e){return e}const Ml=["global","local","others"];class Rl{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=ul(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ml[0]){if(Ml.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ml.join(", ")}`);try{return await Pl(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Pl(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Tl})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]])}return r}(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=null==r?void 0:r.newEmail,delete o.newEmail),await Pl(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Vl,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(On(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Pl(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tl})}catch(t){if(On(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,s,i,a,n;try{const l={nextPage:null,lastPage:0,total:0},c=await Pl(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(o=null==e?void 0:e.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:Al});if(c.error)throw c.error;const m=await c.json(),u=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(n=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==n?n:[];return d.length>0&&(d.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},m),l),error:null}}catch(l){if(On(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){yl(e);try{return await Pl(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tl})}catch(t){if(On(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){yl(e);try{return await Pl(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Tl})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){yl(e);try{return await Pl(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Tl})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yl(e.userId);try{const{data:t,error:r}=await Pl(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(On(t))return{data:null,error:t};throw t}}async _deleteFactor(e){yl(e.userId),yl(e.id);try{return{data:await Pl(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}}function Il(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ll=!!(globalThis&&ml()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ol extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fl extends Ol{}async function Bl(e,t,r){const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async o=>{if(!o){if(0===t)throw new Fl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ll)try{await globalThis.navigator.locks.query()}catch(Wd){}return await r()}try{return await r()}finally{}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Wd){"undefined"!=typeof self&&(self.globalThis=self)}}();const $l={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:An,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hl(e,t,r){return await r()}const ql={};class Gl{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gl.nextInstanceID,Gl.nextInstanceID+=1,this.instanceID>0&&ll();const o=Object.assign(Object.assign({},$l),e);if(this.logDebugMessages=!!o.debug,"function"==typeof o.debug&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Rl({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ul(o.fetch),this.lock=o.lock||Hl,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ll()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Bl:this.lock=Hl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ml()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Il(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Il(this.memoryStorage)),ll()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Wd){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=ql[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){ql[this.storageKey]=Object.assign(Object.assign({},ql[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=ql[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ql[this.storageKey]=Object.assign(Object.assign({},ql[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tn}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(Wd){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ll()&&this.detectSessionInUrl&&"none"!==r){const{data:o,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return On(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return On(t)?{error:t}:{error:new Bn("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const s=await Pl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(o=null==e?void 0:e.options)||void 0===o?void 0:o.captchaToken}},xform:Cl}),{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const n=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(s){if(On(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,o;try{let s;if("email"in e){const{email:r,password:o,options:i}=e;let a=null,n=null;"pkce"===this.flowType&&([a,n]=await xl(this.storage,this.storageKey)),s=await Pl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:o,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:n},xform:Cl})}else{if(!("phone"in e))throw new Gn("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;s=await Pl(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{},channel:null!==(o=null==a?void 0:a.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Cl})}}const{data:i,error:a}=s;if(a||!i)return{data:{user:null,session:null},error:a};const n=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(s){if(On(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:o,options:s}=e;t=await Pl(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:Ul})}else{if(!("phone"in e))throw new Gn("You must provide either an email or phone number and a password");{const{phone:r,password:o,options:s}=e;t=await Pl(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:Ul})}}const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o}):{data:{user:null,session:null},error:new qn}}catch(t){if(On(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,o,s,i,a,n,l,c,m,u,d;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:f,options:v}=e;let b;if(ll())if("object"==typeof d)b=d;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");b=e.solana}else{if("object"!=typeof d||!(null==v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=d}const g=new URL(null!==(t=null==v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in b&&b.signIn){const e=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:g.host,uri:g.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in b&&"function"==typeof b.signMessage&&"publicKey"in b&&"object"==typeof b&&b.publicKey&&"toBase58"in b.publicKey&&"function"==typeof b.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${g.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${g.href}`,`Issued At: ${null!==(o=null===(r=null==v?void 0:v.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==o?o:(new Date).toISOString()}`,...(null===(s=null==v?void 0:v.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null===(i=null==v?void 0:v.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null===(a=null==v?void 0:v.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null===(n=null==v?void 0:v.signInWithSolana)||void 0===n?void 0:n.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null===(l=null==v?void 0:v.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null===(m=null===(c=null==v?void 0:v.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===m?void 0:m.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await b.signMessage((new TextEncoder).encode(h),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await Pl(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:nl(p)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Cl});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new qn}}catch(f){if(On(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await hl(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(null!=t?t:"").split("/");try{const{data:t,error:s}=await Pl(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Cl});if(await pl(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=o?o:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new qn}}catch(s){if(On(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:s,nonce:i}=e,a=await Pl(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Cl}),{data:n,error:l}=a;return l?{data:{user:null,session:null},error:l}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:l}):{data:{user:null,session:null},error:new qn}}catch(t){if(On(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,s,i;try{if("email"in e){const{email:o,options:s}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await xl(this.storage,this.storageKey));const{error:n}=await Pl(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(r=null==s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){const{phone:t,options:r}=e,{data:a,error:n}=await Pl(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(o=null==r?void 0:r.data)&&void 0!==o?o:{},create_user:null===(s=null==r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(i=null==r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:n}}throw new Gn("You must provide either an email or phone number.")}catch(a){if(On(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{let o,s;"options"in e&&(o=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:a}=await Pl(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Cl});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const n=i.session,l=i.user;return(null==n?void 0:n.access_token)&&(await this._saveSession(n),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",n)),{data:{user:l,session:n},error:null}}catch(o){if(On(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let s=null,i=null;return"pkce"===this.flowType&&([s,i]=await xl(this.storage,this.storageKey)),await Pl(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(o=null==e?void 0:e.options)||void 0===o?void 0:o.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:kl})}catch(s){if(On(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Hn;const{error:o}=await Pl(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(On(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:s}=e,{error:i}=await Pl(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:o,options:s}=e,{data:i,error:a}=await Pl(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Gn("You must provide either an email or phone number and a type")}catch(t){if(On(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(Wd){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Wd){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Vn;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const t=await hl(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=_l()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,o)=>(t||"user"!==r||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,o))})}return{data:{session:e},error:null}}const{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Pl(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tl}):await this._useSession(async e=>{var t,r,o;const{data:s,error:i}=e;if(i)throw i;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Pl(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(o=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==o?o:void 0,xform:Tl}):{data:{user:null},error:new Hn}})}catch(t){if(On(t))return function(e){return On(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:s}=r;if(s)throw s;if(!o.session)throw new Hn;const i=o.session;let a=null,n=null;"pkce"===this.flowType&&null!=e.email&&([a,n]=await xl(this.storage,this.storageKey));const{data:l,error:c}=await Pl(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:n}),jwt:i.access_token,xform:Tl});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(On(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hn;const t=Date.now()/1e3;let r=t,o=!0,s=null;const{payload:i}=vl(e.access_token);if(i.exp&&(r=i.exp,o=r<=t),o){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:o,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(On(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:s}=t;if(s)throw s;e=null!==(r=o.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Hn;const{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(On(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ll())throw new zn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Wn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new zn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wn("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const o=new URL(window.location.href);return o.searchParams.delete("code"),window.history.replaceState(window.history.state,"",o.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:i,expires_in:a,expires_at:n,token_type:l}=e;if(!(s&&a&&i&&l))throw new zn("No session defined in URL");const c=Math.round(Date.now()/1e3),m=parseInt(a);let u=c+m;n&&(u=parseInt(n));const{data:d,error:h}=await this._getUser(s);if(h)throw h;const p={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:u,refresh_token:i,token_type:l,user:d.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(On(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await hl(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:s}=t;if(s)return{error:s};const i=null===(r=o.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return On(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await pl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:o},error:s}=t;if(s)throw s;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(s){await(null===(o=this.stateChangeEmitters.get(e))||void 0===o?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;"pkce"===this.flowType&&([r,o]=await xl(this.storage,this.storageKey,!0));try{return await Pl(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(On(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(On(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:o}=await this._useSession(async t=>{var r,o,s,i,a;const{data:n,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(o=e.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Pl(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=n.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})});if(o)throw o;return ll()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(On(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:s,error:i}=t;if(i)throw i;return await Pl(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(o=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==o?o:void 0})})}catch(t){if(On(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Pl(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cl})),o=(e,t)=>{const r=200*Math.pow(2,e);return t&&Yn(t)&&Date.now()+r-s<kn},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!o(s,null,t))return void e(t)}catch(Wd){if(!o(s,Wd))return void t(Wd)}})()}))}catch(s){if(this._debug(t,"error",s),On(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var r,o}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ll()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await hl(this.storage,this.storageKey);if(s&&this.userStorage){let t=await hl(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await dl(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:_l()}else if(s&&!s.user&&!s.user){const e=await hl(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(s.user=e.user,await pl(this.storage,this.storageKey+"-user"),await dl(this.storage,this.storageKey,s)):s.user=_l()}if(this._debug(r,"session from storage",s),!this._isValidSession(s))return this._debug(r,"session is not valid"),void(null!==s&&await this._removeSession());const i=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<Vn;if(this._debug(r,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(Yn(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null==e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return void this._debug(r,"error",s)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fl;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Hn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const o={session:t.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(o,"error",s),On(s)){const e={session:null,error:s};return Yn(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(Wd){o.push(Wd)}});if(await Promise.all(s),o.length>0){for(let e=0;e<o.length;e+=1);throw o[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await dl(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const o=Dl(e);await dl(this.storage,this.storageKey,o)}else{const e=Dl(t);await dl(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await pl(this.storage,this.storageKey),await pl(this.storage,this.storageKey+"-code-verifier"),await pl(this.storage,this.storageKey+"-user"),this.userStorage&&await pl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ll()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Wd){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const o=Math.floor((1e3*r.expires_at-e)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),o<=3&&await this._callRefreshToken(r.refresh_token)})}catch(Wd){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Wd){if(!(Wd.isAcquireTimeout||Wd instanceof Ol))throw Wd;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ll()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await xl(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});o.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);o.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:s}=t;return s?{data:null,error:s}:await Pl(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==o?void 0:o.session)||void 0===r?void 0:r.access_token})})}catch(t){if(On(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:s,error:i}=t;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:n,error:l}=await Pl(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(o=null==n?void 0:n.totp)||void 0===o?void 0:o.qr_code)&&(n.totp.qr_code=`data:image/svg+xml;utf-8,${n.totp.qr_code}`),{data:n,error:null})})}catch(t){if(On(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:a}=await Pl(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==o?void 0:o.session)||void 0===r?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(t){if(On(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:s}=t;return s?{data:null,error:s}:await Pl(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==o?void 0:o.session)||void 0===r?void 0:r.access_token})})}catch(t){if(On(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],o=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vl(o.access_token);let a=null;i.aal&&(a=i.aal);let n=a;(null!==(r=null===(t=o.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(n="aal2");return{data:{currentLevel:a,nextLevel:n,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>o)return r;const{data:s,error:i}=await Pl(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return s.keys&&0!==s.keys.length?(this.jwks=s,this.jwks_cached_at=o,r=s.keys.find(t=>t.kid===e),r||null):null}async getClaims(e,t={}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:o,payload:s,signature:i,raw:{header:a,payload:n}}=vl(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=o.alg&&!o.alg.startsWith("HS")&&o.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(o.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:s,header:o,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(o.alg),m=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,m,i,al(`${a}.${n}`))))throw new Kn("Invalid JWT signature");return{data:{claims:s,header:o,signature:i},error:null}}catch(r){if(On(r))return{data:null,error:r};throw r}}}Gl.nextInstanceID=0;const zl=Gl;class Wl extends zl{constructor(e){super(e)}}var Xl=function(e,t,r,o){return new(r||(r=Promise))(function(s,i){function a(e){try{l(o.next(e))}catch(Wd){i(Wd)}}function n(e){try{l(o.throw(e))}catch(Wd){i(Wd)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,n)}l((o=o.apply(e,t||[])).next())})};class Yl{constructor(e,t,r){var o,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=(n=e).endsWith("/")?n:n+"/";var n;const l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,m=function(e,t){var r,o;const{db:s,auth:i,realtime:a,global:n}=e,{db:l,auth:c,realtime:m,global:u}=t,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},m),a),storage:{},global:Object.assign(Object.assign(Object.assign({},u),n),{headers:Object.assign(Object.assign({},null!==(r=null==u?void 0:u.headers)&&void 0!==r?r:{}),null!==(o=null==n?void 0:n.headers)&&void 0!==o?o:{})}),accessToken:()=>Un(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:En,realtime:jn,auth:Object.assign(Object.assign({},Sn),{storageKey:c}),global:Dn});this.storageKey=null!==(o=m.auth.storageKey)&&void 0!==o?o:"",this.headers=null!==(s=m.global.headers)&&void 0!==s?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=m.auth)&&void 0!==i?i:{},this.headers,m.global.fetch),this.fetch=Cn(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new sa(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new yn(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new xi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Xl(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:s,storageKey:i,flowType:a,lock:n,debug:l},c,m){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wl({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:s,flowType:a,lock:n,debug:l,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Ka(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const Jl={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_API_URL:"http://localhost:3003",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51S3bc1IA5Nxa3lOrVErNEZJtET1HnvZ20cs4QS2N7DUNnm3G4VOlyhEKiQWUd4eJR0xLm6UafoSx3Wwk8M8nY0Cj00aZUhQcwY",VITE_USER_NODE_ENV:"development"};let Kl=null;const Ql=()=>Kl||(Kl=(async()=>{try{let e=(null==Jl?void 0:Jl.VITE_SUPABASE_URL)||(null==Jl?void 0:Jl.NEXT_PUBLIC_SUPABASE_URL),t=(null==Jl?void 0:Jl.VITE_SUPABASE_ANON_KEY)||(null==Jl?void 0:Jl.NEXT_PUBLIC_SUPABASE_ANON_KEY);if(!e||!t){const r=si||"",o=await fetch(`${r}/api/supabase/public-config`);if(o.ok){const r=await o.json();(null==r?void 0:r.success)&&(e=r.url,t=r.anonKey)}}if(!e||!t)return null;return new Yl(e,t,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}catch(Wd){return null}})(),Kl),Zl=async e=>{try{localStorage.getItem("deviceId");return await mi(e)}catch(t){return null}},ec=Ze()(Js((e,t)=>({user:null,token:localStorage.getItem("authToken")||null,isLoggedIn:!!localStorage.getItem("authToken"),isLoading:!1,error:null,login:async t=>{var r,o;e({isLoading:!0,error:null});const s=ri();try{const i=await Ql();if(!i)throw new Error("Falha ao inicializar Supabase");const{data:a,error:n}=await i.auth.signInWithPassword({email:t.email,password:t.password});if(n)throw n;const l=null==(r=a.session)?void 0:r.access_token,c=a.user?{id:a.user.id,email:a.user.email||t.email,name:a.user.user_metadata&&a.user.user_metadata.name||void 0}:null;if(!l||!c)throw new Error("Sessão inválida");localStorage.setItem("authToken",l),e({user:c,token:l,isLoggedIn:!0,error:null});const m=localStorage.getItem("deviceId");if(s||m)try{const e=await Zl(s||c.id);e&&(!0===e.success||(null==(o=e.data)?void 0:o.migratedCount)>=0)&&s&&ti()}catch(Wd){}return!0}catch(i){const t=i instanceof Error?i.message:"Email ou senha inválidos.";throw e({error:t}),i}finally{e({isLoading:!1})}},signup:async t=>{var r;e({isLoading:!0,error:null});const o=ri();try{const s=await Ql();if(!s)throw new Error("Falha ao inicializar Supabase");const{data:i,error:a}=await s.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;const n=(await s.auth.getSession()).data.session,l=(null==n?void 0:n.access_token)||null,c=i.user?{id:i.user.id,email:i.user.email||t.email,name:t.name}:null;l&&c?(localStorage.setItem("authToken",l),e({user:c,token:l,isLoggedIn:!0,error:null})):e({user:c,token:null,isLoggedIn:!1,error:null});const m=localStorage.getItem("deviceId");if(o||m)try{const e=await Zl(o||c.id);e&&(!0===e.success||(null==(r=e.data)?void 0:r.migratedCount)>=0)&&o&&ti()}catch(Wd){}return!0}catch(s){const t=s instanceof Error?s.message:"Erro desconhecido ao criar conta.";throw e({error:t}),s}finally{e({isLoading:!1})}},logout:()=>{localStorage.removeItem("authToken"),Ql().then(e=>{null==e||e.auth.signOut()}),e({user:null,token:null,isLoggedIn:!1,error:null})},clearError:()=>{e({error:null})},resetPassword:async t=>{try{const e=await Ql();if(!e)throw new Error("Falha ao inicializar Supabase");const{error:r}=await e.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth/reset`});if(r)throw r;return!0}catch(Wd){const r=Wd instanceof Error?Wd.message:"Erro ao solicitar recuperação de senha";return e({error:r}),!1}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token})}));ec.persist.onFinishHydration(e=>{const t=!!e.token;ec.setState({isLoggedIn:t})}),Ql().then(e=>{null==e||e.auth.onAuthStateChange((e,t)=>{const r=(null==t?void 0:t.access_token)||null;if(r){localStorage.setItem("authToken",r);const e=ec.getState();ec.setState({token:r,isLoggedIn:!0,user:e.user||((null==t?void 0:t.user)?{id:t.user.id,email:t.user.email||""}:null)})}})});const tc=Object.freeze(Object.defineProperty({__proto__:null,useAuthStore:ec},Symbol.toStringTag,{value:"Module"})),rc=Ze((e,t)=>({isAuthModalOpen:!1,authCallback:null,isPaymentPopupVisible:!1,isCreationFlowBlocked:!1,theme:(()=>{try{return localStorage.getItem("theme")||"system"}catch{return"system"}})(),setTheme:t=>{try{localStorage.setItem("theme",t)}catch{}const r=document.documentElement,o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===t||"system"===t&&o;r.classList.toggle("dark",s),e({theme:t})},showAuthPopup:t=>{e({isAuthModalOpen:!0,authCallback:t})},hideAuthPopup:()=>{e({isAuthModalOpen:!1,authCallback:void 0})},executeAuthCallback:()=>{const{authCallback:r}=t();r&&(r(),e({authCallback:void 0}))},showPaymentPopup:()=>{e({isPaymentPopupVisible:!0})},hidePaymentPopup:()=>{e({isPaymentPopupVisible:!1})},handleUpgrade:()=>{e({isPaymentPopupVisible:!1})},blockCreationFlow:()=>{e({isCreationFlowBlocked:!0})},unblockCreationFlow:()=>{e({isCreationFlowBlocked:!1})}})),oc=()=>{const[e,t]=r.useState(!1),[o,s]=r.useState(!1),i=Go(),a=Xo(),n="/"===i.pathname,{isLoggedIn:l,user:c,logout:m}=ec(),{showAuthPopup:u,theme:d,setTheme:h}=rc(),p=()=>{l?a("/minhas-musicas"):u(()=>a("/minhas-musicas")),s(!1)};r.useEffect(()=>{const e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const f=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"}),s(!1)};return nt.jsxDEV("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(e?"bg-white/95 dark:bg-black/50 backdrop-blur-md border-b border-black/5 dark:border-white/10 shadow-lg":"bg-transparent"),children:nt.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[nt.jsxDEV("div",{className:"flex items-center",children:nt.jsxDEV("img",{src:n&&!e?"/memora_logo_white.svg":"/memora_logo.svg",alt:"Memora Music",className:"h-9 w-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:57,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:56,columnNumber:11},void 0),nt.jsxDEV("div",{className:"hidden md:flex items-center space-x-8",children:[nt.jsxDEV(Us,{to:"/",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium",children:"Home"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:66,columnNumber:13},void 0),nt.jsxDEV(Ws,{onClick:p,variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Minhas Músicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:72,columnNumber:13},void 0),nt.jsxDEV(Ws,{onClick:()=>f("como-funciona"),variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:79,columnNumber:13},void 0),nt.jsxDEV(Ws,{onClick:()=>f("exemplos"),variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:86,columnNumber:13},void 0),nt.jsxDEV(Ws,{onClick:()=>f("artistas"),variant:"ghost",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium p-0 h-auto",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:93,columnNumber:13},void 0),nt.jsxDEV("button",{onClick:()=>h("dark"===d?"light":"dark"),className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200","aria-label":"Alternar tema",title:"dark"===d?"Mudar para claro":"Mudar para escuro",children:"dark"===d?nt.jsxDEV(Z,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:107,columnNumber:35},void 0):nt.jsxDEV(ee,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:107,columnNumber:65},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:101,columnNumber:13},void 0),nt.jsxDEV("div",{className:"flex items-center gap-4",children:l?nt.jsxDEV("div",{className:"flex items-center gap-4",children:[nt.jsxDEV("span",{className:(n&&!e?"text-white":"text-memora-gray")+" font-medium",children:["Olá, ",(null==c?void 0:c.name)||"usuário","!"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:115,columnNumber:19},void 0),nt.jsxDEV(Ws,{variant:"outline",onClick:m,className:(n&&!e?"border-white text-white hover:bg-white hover:text-memora-primary":"border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white")+" transition-all duration-200",children:"Sair"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:118,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:114,columnNumber:17},void 0):nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(Ws,{variant:"ghost",onClick:()=>u(),className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200 font-medium",children:"Entrar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:129,columnNumber:19},void 0),nt.jsxDEV(Ws,{onClick:()=>u(),className:"bg-memora-primary text-white px-6 py-2 rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:"Criar Conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:136,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:128,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:65,columnNumber:11},void 0),nt.jsxDEV("div",{className:"md:hidden flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:()=>h("dark"===d?"light":"dark"),className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200","aria-label":"Alternar tema",children:"dark"===d?nt.jsxDEV(Z,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:154,columnNumber:35},void 0):nt.jsxDEV(ee,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:154,columnNumber:65},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:149,columnNumber:13},void 0),nt.jsxDEV(Ws,{onClick:()=>s(!o),variant:"ghost",size:"icon",className:(n&&!e?"text-white hover:text-memora-gold":"text-memora-gray hover:text-memora-primary")+" transition-colors duration-200","aria-label":"Menu de navegação",children:o?nt.jsxDEV(te,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:164,columnNumber:17},void 0):nt.jsxDEV(re,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:166,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:156,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:148,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:54,columnNumber:9},void 0),o&&nt.jsxDEV("div",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-memora-gray-light",children:nt.jsxDEV("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[nt.jsxDEV(Us,{to:"/",onClick:()=>s(!1),className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium",children:"Home"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:176,columnNumber:15},void 0),nt.jsxDEV(Ws,{onClick:p,variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Minhas Músicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:183,columnNumber:15},void 0),nt.jsxDEV(Ws,{onClick:()=>f("como-funciona"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:190,columnNumber:15},void 0),nt.jsxDEV(Ws,{onClick:()=>f("exemplos"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:197,columnNumber:15},void 0),nt.jsxDEV(Ws,{onClick:()=>f("artistas"),variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:204,columnNumber:15},void 0),l?nt.jsxDEV("div",{className:"mt-2 space-y-2",children:[nt.jsxDEV("div",{className:"px-3 py-2 text-memora-gray font-medium",children:["Olá, ",(null==c?void 0:c.name)||"usuário","!"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:215,columnNumber:19},void 0),nt.jsxDEV(Ws,{onClick:()=>{m(),s(!1)},variant:"outline",className:"block w-full text-left px-3 py-2 border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white transition-all duration-200 font-medium",children:"Sair"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:218,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:214,columnNumber:17},void 0):nt.jsxDEV("div",{className:"mt-2 space-y-2",children:[nt.jsxDEV(Ws,{onClick:()=>{u(),s(!1)},variant:"ghost",className:"block w-full text-left px-3 py-2 text-memora-gray hover:text-memora-primary transition-colors duration-200 font-medium h-auto justify-start",children:"Entrar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:232,columnNumber:19},void 0),nt.jsxDEV(Ws,{onClick:()=>{u(),s(!1)},className:"block w-full text-left px-3 py-2 bg-memora-primary text-white rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium",children:"Criar Conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:231,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:175,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:53,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Navbar.tsx",lineNumber:46,columnNumber:5},void 0)},sc=()=>{const e=(new Date).getFullYear();return nt.jsxDEV("footer",{className:"py-12 bg-neutral-dark text-foreground border-t border-white/10",children:nt.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[nt.jsxDEV("div",{className:"md:col-span-2",children:[nt.jsxDEV("div",{className:"flex items-center mb-4",children:nt.jsxDEV("img",{src:"/memora_logo_white.svg",alt:"Memora Music",className:"h-10 w-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:13,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:12,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4 max-w-md",children:"Transforme memórias em música com Inteligência Artificial. Crie canções únicas e emocionantes para presentear pessoas especiais."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:19,columnNumber:13},void 0),nt.jsxDEV("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-3 max-w-md",children:nt.jsxDEV("p",{className:"text-secondary text-xs font-medium",children:"🚀 MVP em fase de testes. Sua opinião é muito importante para nós!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:24,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:23,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:11,columnNumber:11},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground mb-4",children:"Links Rápidos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:32,columnNumber:13},void 0),nt.jsxDEV("ul",{className:"space-y-3",children:[nt.jsxDEV("li",{children:nt.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("como-funciona"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Como Funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:37,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:36,columnNumber:15},void 0),nt.jsxDEV("li",{children:nt.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("exemplos"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Exemplos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:45,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:44,columnNumber:15},void 0),nt.jsxDEV("li",{children:nt.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("artistas"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Artistas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:53,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:52,columnNumber:15},void 0),nt.jsxDEV("li",{children:nt.jsxDEV("button",{onClick:()=>{var e;return null==(e=document.getElementById("faq"))?void 0:e.scrollIntoView({behavior:"smooth"})},className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"FAQ"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:61,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:60,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:35,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:31,columnNumber:11},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground mb-4",children:"Legal"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:73,columnNumber:13},void 0),nt.jsxDEV("ul",{className:"space-y-3",children:[nt.jsxDEV("li",{children:nt.jsxDEV("a",{href:"#termos",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Termos de Uso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:78,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:77,columnNumber:15},void 0),nt.jsxDEV("li",{children:nt.jsxDEV("a",{href:"#privacidade",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Política de Privacidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:86,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:85,columnNumber:15},void 0),nt.jsxDEV("li",{children:nt.jsxDEV("a",{href:"#contato",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Contato"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:94,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:93,columnNumber:15},void 0),nt.jsxDEV("li",{children:nt.jsxDEV("a",{href:"#cookies",className:"text-muted-foreground hover:text-secondary transition-colors duration-200 text-sm",children:"Política de Cookies"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:102,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:76,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:72,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:9,columnNumber:9},void 0),nt.jsxDEV("div",{className:"border-t border-white/10 pt-8",children:nt.jsxDEV("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[nt.jsxDEV("div",{className:"flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6",children:[nt.jsxDEV("p",{className:"text-muted-foreground text-sm",children:["© ",e," Memora Music. Todos os direitos reservados."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:117,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex items-center space-x-4",children:[nt.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"Feito com"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:121,columnNumber:17},void 0),nt.jsxDEV(oe,{className:"w-4 h-4 text-memora-coral fill-current"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:124,columnNumber:17},void 0),nt.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"para criar memórias inesquecíveis"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:125,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:120,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:116,columnNumber:13},void 0),nt.jsxDEV("div",{className:"flex items-center space-x-4",children:[nt.jsxDEV("span",{className:"text-muted-foreground text-xs",children:"Em breve nas redes sociais"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:133,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex space-x-2",children:[nt.jsxDEV("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center",children:nt.jsxDEV("div",{className:"w-4 h-4 bg-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:138,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:137,columnNumber:17},void 0),nt.jsxDEV("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center",children:nt.jsxDEV("div",{className:"w-4 h-4 bg-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:141,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:140,columnNumber:17},void 0),nt.jsxDEV("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center",children:nt.jsxDEV("div",{className:"w-4 h-4 bg-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:144,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:143,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:136,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:132,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:115,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:114,columnNumber:9},void 0),nt.jsxDEV("div",{className:"mt-8 text-center",children:nt.jsxDEV("div",{className:"inline-flex items-center space-x-2 bg-primary/10 border border-primary/20 rounded-full px-4 py-2",children:[nt.jsxDEV("div",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:154,columnNumber:13},void 0),nt.jsxDEV("span",{className:"text-secondary text-xs font-medium",children:"Versão Beta • Ajude-nos a melhorar com seu feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:153,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:152,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:8,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Footer.tsx",lineNumber:7,columnNumber:5},void 0)};var ic=function(e,t){for(var r={};e.length;){var o=e[0],s=o.code,i=o.message,a=o.path.join(".");if(!r[a])if("unionErrors"in o){var n=o.unionErrors[0].errors[0];r[a]={message:n.message,type:n.code}}else r[a]={message:i,type:s};if("unionErrors"in o&&o.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[a].types,c=l&&l[o.code];r[a]=ae(a,t,r,s,c?[].concat(c,o.message):o.message)}e.shift()}return r};const ac=r.forwardRef(({className:e,type:t,...r},o)=>nt.jsxDEV("input",{type:t,className:Kr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));ac.displayName="Input";var nc=r.forwardRef((e,t)=>u.jsx(N.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));nc.displayName="Label";var lc=nc;const cc=Gs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mc=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(lc,{ref:r,className:Kr(cc(),e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));mc.displayName=lc.displayName;const uc=et({email:tt().min(1,"E-mail é obrigatório").email("Formato de e-mail inválido"),password:tt().min(6,"A senha deve ter pelo menos 6 caracteres").max(100,"A senha deve ter no máximo 100 caracteres")}),dc=uc.extend({name:tt().min(2,"Nome deve ter pelo menos 2 caracteres").max(100,"Nome deve ter no máximo 100 caracteres").regex(/^[a-zA-ZÀ-ÿ\s]+$/,"Nome deve conter apenas letras e espaços")}),hc=e=>e?uc:dc,pc=({isOpen:e,onClose:t})=>{const[o,s]=r.useState(!1),[i,a]=r.useState(!0),{login:n,signup:l,isLoading:c,error:m,clearError:u,resetPassword:d}=ec(),{hideAuthPopup:h,executeAuthCallback:p}=rc(),{register:f,handleSubmit:v,formState:{errors:b},reset:g,watch:x}=ne({resolver:(N=hc(i),void 0===y&&(y={}),function(e,t,r){try{return Promise.resolve(function(t,o){try{var s=Promise.resolve(N["sync"===y.mode?"parse":"parseAsync"](e,w)).then(function(t){return r.shouldUseNativeValidation&&se({},r),{errors:{},values:y.raw?e:t}})}catch(i){return o(i)}return s&&s.then?s.then(void 0,o):s}(0,function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:ie(ic(e.errors,!r.shouldUseNativeValidation&&"all"===r.criteriaMode),r)};var t;throw e}))}catch(o){return Promise.reject(o)}}),mode:"onChange",defaultValues:{email:"",password:"",...i?{}:{name:""}}});var N,w,y;if(!e)return null;return nt.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[nt.jsxDEV("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:103,columnNumber:7},void 0),nt.jsxDEV("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6",children:[nt.jsxDEV(Ws,{onClick:t,variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-memora-gray hover:text-memora-black","aria-label":"Fechar modal",children:nt.jsxDEV(te,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:118,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:111,columnNumber:9},void 0),nt.jsxDEV("div",{className:"text-center mb-6",children:[nt.jsxDEV("h2",{className:"text-2xl font-heading font-bold text-memora-black mb-2",children:i?"Entrar":"Criar conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:123,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-memora-gray",children:i?"Acesse suas músicas personalizadas":"Comece a criar suas músicas únicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:126,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:122,columnNumber:9},void 0),nt.jsxDEV(Ws,{onClick:async()=>{await n({email:"google@user.com",password:"google"})&&(p(),h(),t())},variant:"outline",className:"w-full mb-4 border-2 border-memora-gray-light hover:border-memora-primary hover:bg-memora-primary/5","data-attr":i?"google-login":"google-signup",children:[nt.jsxDEV("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[nt.jsxDEV("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:142,columnNumber:13},void 0),nt.jsxDEV("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:146,columnNumber:13},void 0),nt.jsxDEV("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:150,columnNumber:13},void 0),nt.jsxDEV("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:154,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:141,columnNumber:11},void 0),"Continuar com Google"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:135,columnNumber:9},void 0),nt.jsxDEV("div",{className:"relative mb-4",children:[nt.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:nt.jsxDEV("div",{className:"w-full border-t border-memora-gray-light"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:165,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:164,columnNumber:11},void 0),nt.jsxDEV("div",{className:"relative flex justify-center text-sm",children:nt.jsxDEV("span",{className:"px-2 bg-white text-memora-gray",children:"ou"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:168,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:167,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:163,columnNumber:9},void 0),m&&nt.jsxDEV("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:nt.jsxDEV("p",{className:"text-red-600 text-sm",children:m},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:175,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:174,columnNumber:11},void 0),nt.jsxDEV("form",{onSubmit:v(async e=>{u();try{if(i)await n({email:e.email,password:e.password});else{const t=e;await l({email:t.email,password:t.password,name:t.name})}p(),h(),t(),g()}catch(r){}}),className:"space-y-4",children:[!i&&nt.jsxDEV("div",{children:[nt.jsxDEV(mc,{htmlFor:"name",className:"text-memora-black font-medium",children:"Nome completo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:183,columnNumber:15},void 0),nt.jsxDEV(ac,{id:"name",type:"text",...f("name"),className:"mt-1 h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl",placeholder:"Seu nome"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:186,columnNumber:15},void 0),b.name&&nt.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:b.name.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:182,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV(mc,{htmlFor:"email",className:"text-memora-black font-medium",children:"E-mail"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:200,columnNumber:13},void 0),nt.jsxDEV("div",{className:"relative mt-1",children:[nt.jsxDEV(ac,{id:"email",type:"email",...f("email"),className:"h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl pl-10",placeholder:"seu@email.com"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:204,columnNumber:15},void 0),nt.jsxDEV(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-memora-gray"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:211,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:203,columnNumber:13},void 0),b.email&&nt.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:b.email.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:214,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:199,columnNumber:11},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV(mc,{htmlFor:"password",className:"text-memora-black font-medium",children:"Senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:219,columnNumber:13},void 0),nt.jsxDEV("div",{className:"relative mt-1",children:[nt.jsxDEV(ac,{id:"password",type:o?"text":"password",...f("password"),className:"h-12 border-2 border-memora-gray-light focus:border-memora-primary rounded-2xl pr-10",placeholder:"Sua senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:223,columnNumber:15},void 0),nt.jsxDEV(Ws,{type:"button",onClick:()=>s(!o),variant:"ghost",size:"icon",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-memora-gray hover:text-memora-black h-auto w-auto p-0","aria-label":o?"Ocultar senha":"Mostrar senha",children:o?nt.jsxDEV(ce,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:239,columnNumber:19},void 0):nt.jsxDEV(me,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:241,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:230,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:222,columnNumber:13},void 0),b.password&&nt.jsxDEV("p",{className:"text-red-500 text-sm mt-1",children:b.password.message},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:246,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:218,columnNumber:11},void 0),nt.jsxDEV(Ws,{type:"submit",disabled:c,className:"w-full bg-memora-primary hover:bg-memora-primary/90 text-white font-medium disabled:opacity-50","data-attr":i?"email-login":"email-signup",children:c?nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:258,columnNumber:17},void 0),i?"Entrando...":"Criando conta..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:257,columnNumber:15},void 0):i?"Entrar":"Criar conta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:250,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:180,columnNumber:9},void 0),nt.jsxDEV("div",{className:"text-center mt-6",children:[nt.jsxDEV("p",{className:"text-memora-gray",children:[i?"Não tem uma conta?":"Já tem uma conta?",nt.jsxDEV(Ws,{onClick:()=>{const e=!i;a(e),u(),g({email:"",password:"",...e?{}:{name:""}})},variant:"link",className:"ml-1 text-memora-primary hover:text-memora-primary/80 font-medium p-0 h-auto",children:i?"Criar conta":"Entrar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:271,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:269,columnNumber:11},void 0),i&&nt.jsxDEV("div",{className:"mt-2",children:nt.jsxDEV(Ws,{type:"button",variant:"link",className:"text-memora-primary hover:text-memora-primary/80 font-medium p-0 h-auto",onClick:async()=>{const e=x("email");if(!e)return void alert("Informe seu e-mail para recuperar a senha.");await d(e)&&alert("Enviamos um e-mail com instruções para redefinir sua senha.")},children:"Esqueci minha senha"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:291,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:290,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:268,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:109,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/AuthModal.tsx",lineNumber:101,columnNumber:5},void 0)};let fc=null,vc=1;try{if("undefined"!=typeof window){const e=localStorage.getItem("memora_volume"),t=e?parseFloat(e):NaN;!Number.isNaN(t)&&t>=0&&t<=1&&(vc=t)}}catch{}const bc=Ze((e,t)=>({currentId:null,currentUrl:null,currentTitle:null,currentVersionLabel:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,volume:vc,play:(r,o,s)=>{try{e({isLoading:!0}),fc?fc.src!==o&&(fc.src=o):fc=new Audio(o),fc.onloadedmetadata=()=>{e({duration:(null==fc?void 0:fc.duration)||0,isLoading:!1})},fc.ontimeupdate=()=>{e({currentTime:(null==fc?void 0:fc.currentTime)||0})},fc.onended=()=>{e({isPlaying:!1,currentId:null,currentUrl:null,currentVersionLabel:null})},fc.onplaying=()=>e({isPlaying:!0,isLoading:!1}),fc.onwaiting=()=>e({isLoading:!0}),fc.onerror=()=>e({isLoading:!1}),fc.currentTime=0,fc.volume=t().volume,fc.play(),e({currentId:r,currentUrl:o,isPlaying:!0,currentTitle:(null==s?void 0:s.title)||null,currentVersionLabel:(null==s?void 0:s.versionLabel)||null})}catch(Wd){}},pause:()=>{try{fc&&fc.pause(),e({isPlaying:!1})}catch(Wd){}},stop:()=>{try{fc&&(fc.pause(),fc.currentTime=0),e({isPlaying:!1,currentId:null,currentUrl:null,currentTime:0,currentTitle:null,currentVersionLabel:null})}catch(Wd){}},seek:t=>{try{fc&&!Number.isNaN(t)&&(fc.currentTime=Math.max(0,Math.min(t,fc.duration||t)),e({currentTime:fc.currentTime}))}catch(Wd){}},setVolume:t=>{const r=Math.max(0,Math.min(1,t));fc&&(fc.volume=r),e({volume:r});try{"undefined"!=typeof window&&localStorage.setItem("memora_volume",String(r))}catch{}},getMediaElement:()=>fc}));function gc(e){if(!isFinite(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}const xc=()=>{const{currentId:e,currentUrl:t,currentTitle:o,currentVersionLabel:s,isPlaying:i,currentTime:a,duration:n,seek:l,play:c,pause:m,stop:u,volume:d,setVolume:h}=bc();return r.useMemo(()=>!!e&&!!t,[e,t])?nt.jsxDEV("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 max-w-3xl w-[92%] sm:w-[640px]",children:nt.jsxDEV("div",{className:"rounded-xl border p-3 backdrop-blur-md bg-white/90 dark:bg-white/10 border-gray-200 dark:border-white/10 shadow-[0_10px_30px_rgba(0,0,0,0.3)]",children:nt.jsxDEV("div",{className:"flex items-center gap-3",children:[i?nt.jsxDEV("button",{onClick:m,className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center active:scale-95 transition","aria-label":"Pausar",children:nt.jsxDEV(ue,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:32,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:27,columnNumber:13},void 0):nt.jsxDEV("button",{onClick:()=>e&&t&&c(e,t,{title:o||void 0,versionLabel:s||void 0}),className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center active:scale-95 transition","aria-label":"Reproduzir",children:nt.jsxDEV(de,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:40,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:35,columnNumber:13},void 0),nt.jsxDEV("div",{className:"min-w-0 flex-1",children:[nt.jsxDEV("div",{className:"text-sm font-medium text-gray-900 truncate",children:[o||"Reproduzindo áudio"," ",s?nt.jsxDEV("span",{className:"text-gray-500",children:["· Versão ",s]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:47,columnNumber:77},void 0):null]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:46,columnNumber:13},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("span",{className:"text-[11px] text-gray-500 w-10 text-right",children:gc(a)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:51,columnNumber:15},void 0),nt.jsxDEV("input",{type:"range",min:0,max:Math.max(1,n),step:.5,value:a,onChange:e=>l(Number(e.target.value)),className:"flex-1 accent-blue-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:52,columnNumber:15},void 0),nt.jsxDEV("span",{className:"text-[11px] text-gray-500 w-10",children:gc(n)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:45,columnNumber:11},void 0),nt.jsxDEV("div",{className:"hidden sm:flex items-center gap-2 w-28",children:[nt.jsxDEV(he,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:67,columnNumber:13},void 0),nt.jsxDEV("input",{type:"range",min:0,max:1,step:.05,value:d,onChange:e=>h(Number(e.target.value)),className:"w-full accent-blue-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:66,columnNumber:11},void 0),nt.jsxDEV("button",{onClick:u,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-white/10","aria-label":"Fechar player",children:nt.jsxDEV(te,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:24,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:23,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GlobalAudioPlayer.tsx",lineNumber:22,columnNumber:5},void 0):null},Nc=({children:e})=>{const{isAuthModalOpen:t,hideAuthPopup:r}=rc();return nt.jsxDEV(nt.Fragment,{children:[e,nt.jsxDEV(xc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:19,columnNumber:7},void 0),nt.jsxDEV(pc,{isOpen:t,onClose:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:22,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/Layout.tsx",lineNumber:14,columnNumber:5},void 0)};function wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(r),!0).forEach(function(t){Dc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _c(e){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ec(e,t){if(null==e)return{};var r,o,s=function(e,t){if(null==e)return{};var r,o,s={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var o,s,i=[],a=!0,n=!1;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{a||null==r.return||r.return()}finally{if(n)throw s}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var Pc=function(e,t,r){var o=!!r,s=i.useRef(r);i.useEffect(function(){s.current=r},[r]),i.useEffect(function(){if(!o||!e)return function(){};var r=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,r),function(){e.off(t,r)}},[o,t,e,s])},Cc=function(e){var t=i.useRef(e);return i.useEffect(function(){t.current=e},[e]),t.current},Uc=function(e){return null!==e&&"object"===_c(e)},Tc="[object Object]",kc=function e(t,r){if(!Uc(t)||!Uc(r))return t===r;var o=Array.isArray(t);if(o!==Array.isArray(r))return!1;var s=Object.prototype.toString.call(t)===Tc;if(s!==(Object.prototype.toString.call(r)===Tc))return!1;if(!s&&!o)return t===r;var i=Object.keys(t),a=Object.keys(r);if(i.length!==a.length)return!1;for(var n={},l=0;l<i.length;l+=1)n[i[l]]=!0;for(var c=0;c<a.length;c+=1)n[a[c]]=!0;var m=Object.keys(n);if(m.length!==i.length)return!1;var u=t,d=r;return m.every(function(t){return e(u[t],d[t])})},Vc=function(e,t,r){return Uc(e)?Object.keys(e).reduce(function(o,s){var i=!Uc(t)||!kc(e[s],t[s]);return r.includes(s)?o:i?yc(yc({},o||{}),{},Dc({},s,e[s])):o},null):null},Ac="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Mc=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac;if(null===e||Uc(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(r)},Rc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac;if(function(e){return Uc(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return Mc(e,t)})};var r=Mc(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},Ic=i.createContext(null);Ic.displayName="ElementsContext";var Lc=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Oc=function(e){var t=e.stripe,r=e.options,o=e.children,s=i.useMemo(function(){return Rc(t)},[t]),a=Sc(i.useState(function(){return{stripe:"sync"===s.tag?s.stripe:null,elements:"sync"===s.tag?s.stripe.elements(r):null}}),2),n=a[0],l=a[1];i.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==s.tag||n.stripe?"sync"!==s.tag||n.stripe||t(s.stripe):s.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[s,n,r]);var c=Cc(t);i.useEffect(function(){},[c,t]);var m=Cc(r);return i.useEffect(function(){if(n.elements){var e=Vc(r,m,["clientSecret","fonts"]);e&&n.elements.update(e)}},[r,m,n.elements]),i.useEffect(function(){var e;(e=n.stripe)&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.1"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.1",url:"https://stripe.com/docs/stripe-js/react"}))},[n.stripe]),i.createElement(Ic.Provider,{value:n},o)};Oc.propTypes={stripe:pe.any,options:pe.object};var Fc=function(){var e,t;return(e="calls useElements()",t=i.useContext(Ic),Lc(t,e)).elements};pe.func.isRequired;var Bc=i.createContext(null);Bc.displayName="CheckoutContext",pe.any,pe.shape({fetchClientSecret:pe.func.isRequired,elementsOptions:pe.object}).isRequired;var $c=function(e){var t=i.useContext(Bc),r=i.useContext(Ic);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}return Lc(r,e)},Hc=["mode"],qc=function(e,t){var r,o="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),s=t?function(e){$c("mounts <".concat(o,">"));var t=e.id,r=e.className;return i.createElement("div",{id:t,className:r})}:function(t){var r,s=t.id,a=t.className,n=t.options,l=void 0===n?{}:n,c=t.onBlur,m=t.onFocus,u=t.onReady,d=t.onChange,h=t.onEscape,p=t.onClick,f=t.onLoadError,v=t.onLoaderStart,b=t.onNetworksChange,g=t.onConfirm,x=t.onCancel,N=t.onShippingAddressChange,w=t.onShippingRateChange,y=t.onSavedPaymentMethodRemove,_=t.onSavedPaymentMethodUpdate,D=$c("mounts <".concat(o,">")),E="elements"in D?D.elements:null,S="checkoutState"in D?D.checkoutState:null,j="success"===(null==S?void 0:S.type)?S.checkout:null,P=Sc(i.useState(null),2),C=P[0],U=P[1],T=i.useRef(null),k=i.useRef(null);Pc(C,"blur",c),Pc(C,"focus",m),Pc(C,"escape",h),Pc(C,"click",p),Pc(C,"loaderror",f),Pc(C,"loaderstart",v),Pc(C,"networkschange",b),Pc(C,"confirm",g),Pc(C,"cancel",x),Pc(C,"shippingaddresschange",N),Pc(C,"shippingratechange",w),Pc(C,"savedpaymentmethodremove",y),Pc(C,"savedpaymentmethodupdate",_),Pc(C,"change",d),u&&(r="expressCheckout"===e?u:function(){u(C)}),Pc(C,"ready",r),i.useLayoutEffect(function(){if(null===T.current&&null!==k.current&&(E||j)){var t=null;if(j)switch(e){case"payment":t=j.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var r=l.mode,s=Ec(l,Hc);if("shipping"===r)t=j.createShippingAddressElement(s);else{if("billing"!==r)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=j.createBillingAddressElement(s)}break;case"expressCheckout":t=j.createExpressCheckoutElement(l);break;case"currencySelector":t=j.createCurrencySelectorElement();break;case"taxId":t=j.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(o,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(t=E.create(e,l));T.current=t,U(t),t&&t.mount(k.current)}},[E,j,l]);var V=Cc(l);return i.useEffect(function(){if(T.current){var e=Vc(l,V,["paymentRequest"]);e&&"update"in T.current&&T.current.update(e)}},[l,V]),i.useLayoutEffect(function(){return function(){if(T.current&&"function"==typeof T.current.destroy)try{T.current.destroy(),T.current=null}catch(e){}}},[]),i.createElement("div",{id:s,className:a,ref:k})};return s.propTypes={id:pe.string,className:pe.string,onChange:pe.func,onBlur:pe.func,onFocus:pe.func,onReady:pe.func,onEscape:pe.func,onClick:pe.func,onLoadError:pe.func,onLoaderStart:pe.func,onNetworksChange:pe.func,onConfirm:pe.func,onCancel:pe.func,onShippingAddressChange:pe.func,onShippingRateChange:pe.func,onSavedPaymentMethodRemove:pe.func,onSavedPaymentMethodUpdate:pe.func,options:pe.object},s.displayName=o,s.__elementType=e,s},Gc="undefined"==typeof window;i.createContext(null).displayName="EmbeddedCheckoutProviderContext";qc("auBankAccount",Gc),qc("card",Gc),qc("cardNumber",Gc),qc("cardExpiry",Gc),qc("cardCvc",Gc),qc("fpxBank",Gc),qc("iban",Gc),qc("idealBank",Gc),qc("p24Bank",Gc),qc("epsBank",Gc);var zc=qc("payment",Gc);qc("expressCheckout",Gc),qc("paymentRequestButton",Gc),qc("linkAuthentication",Gc),qc("address",Gc),qc("shippingAddress",Gc),qc("paymentMethodMessaging",Gc),qc("affirmMessage",Gc),qc("afterpayClearpayMessage",Gc),qc("taxId",Gc);var Wc,Xc="basil",Yc="https://js.stripe.com",Jc="".concat(Yc,"/").concat(Xc,"/stripe.js"),Kc=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Qc=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Zc=function(e){return Kc.test(e)||Qc.test(e)},em=function(e){var t=document.createElement("script");t.src="".concat(Jc).concat("");var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t},tm=null,rm=null,om=null,sm=function(e){return null!==tm?tm:(tm=new Promise(function(t,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)t(window.Stripe);else try{var o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Yc,'"]')),t=0;t<e.length;t++){var r=e[t];if(Zc(r.src))return r}return null}();if(o&&e);else if(o){if(o&&null!==om&&null!==rm){var s;o.removeEventListener("load",om),o.removeEventListener("error",rm),null===(s=o.parentNode)||void 0===s||s.removeChild(o),o=em()}}else o=em();om=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),rm=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(r),o.addEventListener("load",om),o.addEventListener("error",rm)}catch(i){return void r(i)}else t(null)}),tm.catch(function(e){return tm=null,Promise.reject(e)}))},im=function(){return Wc||(Wc=sm(null).catch(function(e){return Wc=null,Promise.reject(e)}))};Promise.resolve().then(function(){return im()}).catch(function(e){});const am=({amount:e,clientSecret:t,onSuccess:o,onError:s,disabled:i=!1})=>{const a=$c("calls useStripe()").stripe,n=Fc(),{user:l}=ec(),[c,m]=r.useState(!1),[u,d]=r.useState("idle"),[h,p]=r.useState(""),f=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),v=r.useMemo(()=>({paymentMethodOrder:["pix","card","boleto"],defaultValues:{billingDetails:{name:(null==l?void 0:l.name)||void 0,email:(null==l?void 0:l.email)||void 0,address:{country:"BR"}}},fields:{billingDetails:{name:"auto",email:"auto",address:{country:"auto"}}}}),[null==l?void 0:l.name,null==l?void 0:l.email]);return nt.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),a&&n){m(!0),d("processing"),p("");try{const{error:e,paymentIntent:t}=await a.confirmPayment({elements:n,redirect:"if_required",confirmParams:{return_url:`${window.location.origin}/payment/success`}});e?(d("failed"),"tax_id_invalid"===(null==e?void 0:e.code)?p("CPF/CNPJ inválido. Confira o número informado. Para testes, utilize um CPF/CNPJ válido."):p((null==e?void 0:e.message)||"Erro no pagamento"),s(e.message||"Erro no pagamento")):t&&"succeeded"===t.status?(d("succeeded"),o(t.id)):!t||"processing"!==t.status&&"requires_action"!==t.status?(d("failed"),p("Pagamento não foi processado corretamente"),s("Pagamento não foi processado corretamente")):(d("processing"),p("Pagamento em processamento. Para Boleto/PIX, aguarde a confirmação. Você será liberado após a confirmação automática."))}catch(t){d("failed");const e=t instanceof Error?t.message:"Erro inesperado";p(e),s(e)}finally{m(!1)}}},className:"space-y-6",children:[nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-between",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Pagamento Seguro"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:122,columnNumber:11},void 0),nt.jsxDEV("div",{className:"text-2xl font-bold text-indigo-600",children:f(e)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:123,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:121,columnNumber:9},void 0),nt.jsxDEV("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[nt.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[nt.jsxDEV(fe,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:130,columnNumber:13},void 0),nt.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Método de Pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:131,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:129,columnNumber:11},void 0),nt.jsxDEV(zc,{options:v},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:128,columnNumber:9},void 0),h&&nt.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[nt.jsxDEV(ve,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:138,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h4",{className:"text-red-800 font-medium text-sm",children:"Erro no pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:140,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-red-700 text-sm mt-1",children:h},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:139,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:137,columnNumber:11},void 0),"succeeded"===u&&nt.jsxDEV("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start space-x-3",children:[nt.jsxDEV(be,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:148,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h4",{className:"text-green-800 font-medium text-sm",children:"Pagamento realizado!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:150,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-green-700 text-sm mt-1",children:"Seu upgrade foi processado com sucesso."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:151,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:147,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:120,columnNumber:7},void 0),nt.jsxDEV("div",{className:"sticky bottom-0 left-0 right-0 bg-white pt-3 pb-3 sm:pb-4 border-t border-gray-200 [--s:env(safe-area-inset-bottom)] pb-[max(0px,var(--s))]",children:[nt.jsxDEV("button",{type:"submit",disabled:!a||c||i||"succeeded"===u,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-2 px-6 rounded-lg transition-colors duration-200 flex items-center space-x-2 w-full h-12 text-base font-semibold justify-center shadow-lg",children:c?nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:166,columnNumber:15},void 0),nt.jsxDEV("span",{children:"Processando..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:167,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:165,columnNumber:13},void 0):"succeeded"===u?nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(be,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:171,columnNumber:15},void 0),"Pagamento Concluído"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:170,columnNumber:13},void 0):nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(fe,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:176,columnNumber:15},void 0),"Pagar ",f(e)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:175,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:159,columnNumber:9},void 0),nt.jsxDEV("div",{className:"mt-2 text-[11px] leading-4 text-gray-500 text-center",children:nt.jsxDEV("p",{children:"🔒 Pagamento seguro processado pelo Stripe"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:183,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:182,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:158,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StripePaymentForm.tsx",lineNumber:119,columnNumber:5},void 0)},nm=({isOpen:e,onClose:t,onConfirm:o})=>{const{user:s,token:i}=ec(),{unblockCreationFlow:a,hidePaymentPopup:n}=rc(),l=Xo(),[c,m]=r.useState(!1),[u,d]=r.useState(!1),[h,p]=r.useState(null),[f,v]=r.useState(null),[b,g]=r.useState(null),x=r.useRef(!1),[N,w]=r.useState(null),[y,_]=r.useState(!1),[D,E]=r.useState([]),S=r.useRef(null),j="pk_test_51S3bc1IA5Nxa3lOrVErNEZJtET1HnvZ20cs4QS2N7DUNnm3G4VOlyhEKiQWUd4eJR0xLm6UafoSx3Wwk8M8nY0Cj00aZUhQcwY",P=j.startsWith("pk_"),C=!!b&&b.startsWith("pk_")||P;r.useEffect(()=>{if(!e)return;if(f&&b)return;(async()=>{try{let e=P?j:"";if(!e){const t=await fetch(`${si}/api/stripe/public-key`);if(t.ok){const r=await t.json();(null==r?void 0:r.publishableKey)&&"string"==typeof r.publishableKey&&(e=r.publishableKey)}}e&&e.startsWith("pk_")&&(g(e),v(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];0;var o=Date.now();return im().then(function(e){return function(e,t,r){if(null===e)return null;t[0].match(/^pk_test/),e.version;var o=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(o,r),o}(e,t,o)})}(e)))}catch(Wd){}})()},[e,P,j,f,b]);r.useEffect(()=>{},[e,j,b,f]),r.useEffect(()=>{e&&!x.current&&(m(!1),w(null),_(!1),p(null)),x.current=e},[e]),r.useEffect(()=>{(async()=>{try{if(!e)return;const t={"Content-Type":"application/json","X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${si}/api/stripe/pending`,{headers:t});if(!r.ok)return;const o=await r.json();E(Array.isArray(null==o?void 0:o.items)?o.items:[])}catch{}})()},[e,i]),r.useEffect(()=>{if(e&&(0!==D.length||c))return S.current||(S.current=setInterval(async()=>{var e;try{const t={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${si}/api/user/creation-status`,{headers:t}),s=await r.json().catch(()=>({}));!0===((null==s?void 0:s.isFree)??(null==(e=null==s?void 0:s.data)?void 0:e.isFree))&&(a(),n(),o(),l("/criar"))}catch{}},3e3)),()=>{S.current&&(clearInterval(S.current),S.current=null)}},[e,D.length,c,i,a,n,l,o]);const U=()=>{d(!0),setTimeout(()=>{d(!1),Dt.success("Pagamento simulado realizado com sucesso!"),o()},2e3)};r.useEffect(()=>{h&&(Dt.error(h),p(null))},[h]);return e?nt.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3 sm:p-4",children:nt.jsxDEV("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 flex flex-col max-h-[90vh]",children:[nt.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-5 sm:p-6 text-white relative shrink-0",children:[nt.jsxDEV("button",{onClick:t,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:nt.jsxDEV(te,{size:24},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:305,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:301,columnNumber:11},void 0),nt.jsxDEV("div",{className:"flex items-center gap-3",children:[nt.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 rounded-full",children:nt.jsxDEV(ge,{className:"text-yellow-300",size:24},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:309,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:308,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h2",{className:"text-xl font-bold",children:"Upgrade para Premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:312,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-purple-100 text-sm",children:"Desbloqueie músicas ilimitadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:313,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:311,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:307,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:300,columnNumber:9},void 0),nt.jsxDEV("div",{className:"px-4 py-5 sm:p-6 overflow-y-auto flex-1",children:[!c&&nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV("div",{className:"text-center mb-6",children:nt.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[nt.jsxDEV("p",{className:"text-red-800 font-medium",children:"🔒 Limite de músicas gratuitas atingido"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:326,columnNumber:19},void 0),nt.jsxDEV("p",{className:"text-red-600 text-sm mt-1",children:"Você já criou sua música gratuita. Faça upgrade para continuar!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:327,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:325,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:324,columnNumber:15},void 0),nt.jsxDEV("div",{className:"space-y-3 mb-6",children:[nt.jsxDEV("div",{className:"flex items-center gap-3",children:[nt.jsxDEV("div",{className:"bg-green-100 p-1 rounded-full",children:nt.jsxDEV(xe,{className:"text-green-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:337,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:336,columnNumber:19},void 0),nt.jsxDEV("span",{className:"text-gray-700",children:"Músicas ilimitadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:339,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:335,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex items-center gap-3",children:[nt.jsxDEV("div",{className:"bg-blue-100 p-1 rounded-full",children:nt.jsxDEV(ge,{className:"text-blue-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:343,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:342,columnNumber:19},void 0),nt.jsxDEV("span",{className:"text-gray-700",children:"Qualidade premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:345,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:341,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex items-center gap-3",children:[nt.jsxDEV("div",{className:"bg-purple-100 p-1 rounded-full",children:nt.jsxDEV(fe,{className:"text-purple-600",size:16},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:349,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:348,columnNumber:19},void 0),nt.jsxDEV("span",{className:"text-gray-700",children:"Sem anúncios"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:351,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:347,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:334,columnNumber:15},void 0),nt.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 mb-6",children:nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("div",{className:"text-2xl font-bold text-gray-800",children:"R$ 14,90"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:358,columnNumber:19},void 0),nt.jsxDEV("div",{className:"text-sm text-gray-600",children:"pagamento único"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:359,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:357,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:356,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:323,columnNumber:13},void 0),!c&&e&&D&&D.length>0&&nt.jsxDEV("div",{className:"mb-6 border border-yellow-300 bg-yellow-50 rounded-lg p-4",children:[nt.jsxDEV("p",{className:"font-medium text-yellow-900",children:"Pagamento pendente encontrado"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:368,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-sm text-yellow-800 mt-1",children:"Finalize o boleto antes de continuar. Você pode abrir o boleto abaixo e, após simular o pagamento de teste no Stripe CLI, clicar em verificar."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:369,columnNumber:15},void 0),D.map(e=>nt.jsxDEV("div",{className:"mt-3 flex items-center justify-between text-sm",children:nt.jsxDEV("div",{children:[nt.jsxDEV("div",{className:"text-gray-800",children:["Intent: ",e.payment_intent_id]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:373,columnNumber:21},void 0),e.voucher_url&&nt.jsxDEV("a",{href:e.voucher_url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Abrir boleto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:375,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:372,columnNumber:19},void 0)},e.payment_intent_id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:371,columnNumber:17},void 0)),nt.jsxDEV("div",{className:"mt-3 flex gap-2",children:nt.jsxDEV("button",{onClick:async()=>{var e;try{const t={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(t.Authorization=`Bearer ${i}`);const r=await fetch(`${si}/api/user/creation-status`,{headers:t}),s=await r.json().catch(()=>({}));!0===((null==s?void 0:s.isFree)??(null==(e=null==s?void 0:s.data)?void 0:e.isFree))?(a(),n(),o(),l("/criar")):Dt.info("Ainda aguardando confirmação. Tente novamente em alguns segundos.")}catch{}},className:"bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700",children:"Já paguei, verificar agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:381,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:380,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:367,columnNumber:13},void 0),c&&C&&f?nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-between",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:"Finalizar Pagamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:411,columnNumber:17},void 0),nt.jsxDEV("button",{onClick:()=>{m(!1),w(null),_(!1)},className:"text-gray-500 hover:text-gray-700 text-sm",children:"← Voltar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:412,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:410,columnNumber:15},void 0),y&&nt.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[nt.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:423,columnNumber:19},void 0),nt.jsxDEV("span",{className:"ml-3 text-gray-600",children:"Carregando pagamento..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:424,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:422,columnNumber:17},void 0),!y&&!N&&h&&nt.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:nt.jsxDEV("p",{className:"text-red-800 text-sm",children:"Ocorreu um erro ao carregar o formulário. Tente novamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:431,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:430,columnNumber:17},void 0),!y&&N&&nt.jsxDEV(Oc,{stripe:f,options:{clientSecret:N,paymentMethodOrder:["pix","card","boleto"],appearance:{theme:"stripe",variables:{colorPrimary:"#7c3aed",colorBackground:"#ffffff",colorText:"#1f2937",colorDanger:"#ef4444",fontFamily:"system-ui, sans-serif",spacingUnit:"4px",borderRadius:"8px"}},locale:"pt-BR"},children:nt.jsxDEV(am,{amount:1490,onSuccess:async e=>{var t;Dt.success("Pagamento aprovado! Liberando criação...");try{a(),n();try{const t={"Content-Type":"application/json"};i&&(t.Authorization=`Bearer ${i}`),await fetch(`${si}/api/stripe/finalize`,{method:"POST",headers:t,body:JSON.stringify({paymentIntentId:e,deviceId:localStorage.getItem("deviceId")||void 0})})}catch(Wd){}const r={"X-Device-ID":localStorage.getItem("deviceId")||""};i&&(r.Authorization=`Bearer ${i}`);const o=await fetch(`${si}/api/user/creation-status`,{method:"GET",headers:r}),s=await o.json().catch(()=>({}));!0===((null==s?void 0:s.isFree)??(null==(t=null==s?void 0:s.data)?void 0:t.isFree))?l("/criar"):setTimeout(async()=>{var e;try{const t=await fetch(`${si}/api/user/creation-status`,{method:"GET",headers:r}),o=await t.json().catch(()=>({}));!0===((null==o?void 0:o.isFree)??(null==(e=null==o?void 0:o.data)?void 0:e.isFree))&&l("/criar")}catch{}},1500)}catch(Wd){}finally{o()}},onError:e=>{p(`Erro no pagamento: ${e}`),m(!1)},disabled:u},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:457,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:437,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:409,columnNumber:13},void 0):nt.jsxDEV("div",{className:"space-y-3",children:[nt.jsxDEV("button",{onClick:async()=>{C&&f?(m(!0),await(async()=>{try{_(!0),p(null);const e={"Content-Type":"application/json"};i&&(e.Authorization=`Bearer ${i}`);const t=await fetch(`${si}/api/stripe/create-payment-intent`,{method:"POST",headers:e,body:JSON.stringify({amount:1490,currency:"brl",metadata:{userId:(null==s?void 0:s.id)||void 0,deviceId:localStorage.getItem("deviceId")||void 0,productType:"music_generation",description:"Geração de música premium"}})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Falha ao criar o Payment Intent")}const r=await t.json();w(r.clientSecret)}catch(e){const t=e instanceof Error?e.message:"Erro ao carregar formulário de pagamento";p(t),Dt.error(t)}finally{_(!1)}})()):U()},disabled:u,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[u?"Processando...":"Fazer Upgrade Agora",!C&&nt.jsxDEV("span",{className:"text-xs block mt-1 opacity-75",children:"(Modo simulado)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:475,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:468,columnNumber:15},void 0),nt.jsxDEV("button",{onClick:t,disabled:u,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Talvez mais tarde"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:480,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:467,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:320,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:298,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/PaymentModal.tsx",lineNumber:296,columnNumber:5},void 0):null},lm={recipientName:"",occasion:"",relationship:"",senderName:"",hobbies:"",qualities:"",uniqueTraits:"",memories:"",emotionalTone:"",genre:"",mood:"",tempo:"",duration:"",lyrics:"",songTitle:"",emotion:"",vocalPreference:""},cm={formData:lm,currentStep:0,isPreviewLoading:!1,isLoading:!1,error:null,generatedAudioUrl:null,generatedLyrics:null,audioClips:[],currentTaskId:null,isPolling:!1,musicGenerationStatus:"idle",completedClips:0,totalExpected:2,pollingInterval:null,isMvpFlowComplete:!1,isValidationPopupVisible:!1},mm=Ze()(Js((e,t)=>({...cm,updateFormData:t=>{e(e=>({formData:{...e.formData,...t}}))},setCurrentStep:t=>{e({currentStep:t})},setPreviewLoading:t=>{e({isPreviewLoading:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},nextStep:()=>{e(e=>({currentStep:e.currentStep+1}))},prevStep:()=>{e(e=>({currentStep:Math.max(0,e.currentStep-1)}))},generateLyrics:async()=>{const{formData:r}=t();if(!r.recipientName||!r.occasion||!r.relationship){const t="Por favor, preencha todos os campos obrigatórios da primeira etapa antes de gerar a letra.";return e({error:t}),void Dt.error(t)}const o={...r,lyricsOnly:!0};e({isLoading:!0,error:null});try{const t=await ui(ii.GENERATE_PREVIEW,{method:"POST",body:o});if(t.success&&t.lyrics&&t.songTitle)e(e=>({formData:{...e.formData,lyrics:t.lyrics,songTitle:t.songTitle},generatedLyrics:t.lyrics})),Dt.success("Letra e título gerados com sucesso!");else{const t="Resposta da API não contém letra ou título válidos";e({error:t}),Dt.error(t)}}catch(s){const t=s instanceof Error?s.message:"Erro de conexão. Verifique sua internet e tente novamente.";e({error:t})}finally{e({isLoading:!1})}},generatePreview:async()=>{const{formData:r}=t();if(!(r.songTitle&&r.recipientName&&r.occasion&&r.relationship&&r.emotionalTone&&r.genre&&r.mood&&r.tempo&&r.duration)){const t="Por favor, preencha todos os campos obrigatórios antes de gerar a prévia.";return e({error:t}),void Dt.error(t)}const o={...r,lyricsOnly:!1};e({isPreviewLoading:!0,error:null});try{const t=await ui(ii.GENERATE_PREVIEW,{method:"POST",body:o});if(t.success&&t.data)e({generatedAudioUrl:t.data.audioUrl,generatedLyrics:t.data.lyrics,formData:{...r,lyrics:t.data.lyrics},isPreviewLoading:!1});else{const r=t.error||"Erro desconhecido ao gerar prévia";e({error:r,isPreviewLoading:!1}),Dt.error(r)}}catch(s){const t="Erro de conexão. Verifique sua internet e tente novamente.";e({error:t,isPreviewLoading:!1}),Dt.error(t)}},regenerateLyrics:()=>{t().generateLyrics()},generateMusic:async()=>{var r,o;const{formData:s}=t();if(!(s.lyrics&&s.songTitle&&s.genre&&s.emotion&&s.vocalPreference)){const t="Por favor, preencha todos os campos de estilo antes de gerar a música.";return e({error:t}),void Dt.error(t)}const i={...s,lyricsOnly:!1};e({isPreviewLoading:!0,isLoading:!0,error:null,audioClips:[],musicGenerationStatus:"processing",completedClips:0,currentTaskId:null});try{const a=await ui(ii.GENERATE_PREVIEW,{method:"POST",body:i});if(a.success&&a.taskId){const r=a.totalExpected||a.expectedClips||2,o=Array(r).fill({status:"processing"});e({currentTaskId:a.taskId,totalExpected:r,audioClips:o,musicGenerationStatus:"processing"}),t().startPolling(),Dt.success("Geração de música iniciada! Aguarde enquanto processamos...")}else if(a.success&&a.audioClips)e({audioClips:a.audioClips,generatedAudioUrl:null==(r=a.audioClips[0])?void 0:r.audio_url,generatedLyrics:(null==(o=a.data)?void 0:o.lyrics)||s.lyrics,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"completed",completedClips:a.audioClips.length}),Dt.success(`${a.audioClips.length} música(s) gerada(s) com sucesso!`);else{const t=a.error||"Resposta da API inválida";e({error:t,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"failed"}),Dt.error(t)}}catch(a){const t=a instanceof Error?a.message:"Erro de conexão. Verifique sua internet e tente novamente.";e({error:t,isPreviewLoading:!1,isLoading:!1,musicGenerationStatus:"failed"})}},checkMusicStatus:async()=>{const{currentTaskId:r}=t();if(r)try{const o=await ui(`${ii.CHECK_MUSIC_STATUS}/${r}`,{method:"GET"});if(!o.success||"object"!=typeof o.data)return;const s=o.data,i=s.completedClips||0,a=s.totalExpected||t().totalExpected||0,n=Array.isArray(s.audioClips)?s.audioClips:[];e({audioClips:n,completedClips:i}),a>0&&i>=a&&(e({isLoading:!1,isPreviewLoading:!1,isPolling:!1,musicGenerationStatus:"completed",currentTaskId:null}),t().stopPolling(),Dt.success("🎉 Todas as músicas foram geradas com sucesso!"))}catch(o){t().stopPolling(),e({isPolling:!1,musicGenerationStatus:"error",isLoading:!1}),t().setError(`Erro ao verificar status: ${o instanceof Error?o.message:"Erro desconhecido"}`)}},startPolling:()=>{const{currentTaskId:r}=t();if(t().stopPolling(),!r)return;const o=setInterval(async()=>{await t().checkMusicStatus()},7e3);e({pollingInterval:o})},stopPolling:()=>{const{pollingInterval:r}=t();r&&(clearInterval(r),e({pollingInterval:null}))},setMvpFlowComplete:t=>{e({isMvpFlowComplete:t})},setValidationPopupVisible:t=>{e({isValidationPopupVisible:t})},completeMvpFlow:()=>{e({isMvpFlowComplete:!0,isValidationPopupVisible:!1})},startNewCreationFlow:async(e,t)=>{var r;const o=mm.getState(),s=rc.getState();o.reset();try{const t=await ui("/api/user/creation-status",{method:"GET"});!0===(t.isFree||(null==(r=t.data)?void 0:r.isFree))?(s.unblockCreationFlow(),e("/criar")):(s.blockCreationFlow(),s.showPaymentPopup())}catch(i){s.unblockCreationFlow();try{Dt.info("Não foi possível verificar seu status agora. Acessando o criador mesmo assim.")}catch{}e("/criar")}},resetForm:()=>{e({formData:lm,currentStep:0,error:null})},resetFlow:()=>{t().stopPolling(),e({formData:lm,currentStep:0,isPreviewLoading:!1,isLoading:!1,error:null,generatedAudioUrl:null,generatedLyrics:null,audioClips:[],currentTaskId:null,isPolling:!1,musicGenerationStatus:"idle",completedClips:0,totalExpected:2,pollingInterval:null,isMvpFlowComplete:!1,isValidationPopupVisible:!1})},reset:()=>{t().stopPolling(),e(cm)}}),{name:"music-generation-storage",partialize:e=>({formData:e.formData,currentStep:e.currentStep,generatedAudioUrl:e.generatedAudioUrl,generatedLyrics:e.generatedLyrics,audioClips:e.audioClips,musicGenerationStatus:e.musicGenerationStatus,completedClips:e.completedClips,totalExpected:e.totalExpected,isMvpFlowComplete:e.isMvpFlowComplete})}));var um,dm,hm,pm,fm,vm,bm={exports:{}};um=bm,dm=bm.exports,vm=c.createjs=c.createjs||{},
/*!
  * CreateJS
  * Visit http://createjs.com/ for documentation, updates and examples.
  *
  * Copyright (c) 2010 gskinner.com, inc.
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */
c.createjs=c.createjs||{},vm.extend=function(e,t){function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r},vm.promote=function(e,t){var r=e.prototype,o=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(o)for(var s in r[(t+="_")+"constructor"]=o.constructor,o)r.hasOwnProperty(s)&&"function"==typeof o[s]&&(r[t+s]=o[s]);return e},vm.indexOf=function(e,t){for(var r=0,o=e.length;r<o;r++)if(t===e[r])return r;return-1},function(){function e(e,t,r){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},vm.Event=e}(),function(){function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,r){var o,s=(o=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[e];return s&&this.removeEventListener(e,t,r),(s=o[e])?s.push(t):o[e]=[t],t},t.on=function(e,t,r,o,s,i){return t.handleEvent&&(r=r||t,t=t.handleEvent),r=r||this,this.addEventListener(e,function(e){t.call(r,e,s),o&&e.remove()},i)},t.removeEventListener=function(e,t,r){var o=r?this._captureListeners:this._listeners;if(o){var s=o[e];if(s)for(var i=0,a=s.length;i<a;i++)if(s[i]==t){1==a?delete o[e]:s.splice(i,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t,r){if("string"==typeof e){var o=this._listeners;if(!(t||o&&o[e]))return!0;e=new vm.Event(e,t,r)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(Wd){}if(e.bubbles&&this.parent){for(var s=this,i=[s];s.parent;)i.push(s=s.parent);var a,n=i.length;for(a=n-1;a>=0&&!e.propagationStopped;a--)i[a]._dispatchEvent(e,1+(0==a));for(a=1;a<n&&!e.propagationStopped;a++)i[a]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return!e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,r=this._captureListeners;return!!(t&&t[e]||r&&r[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var r,o=1==t?this._captureListeners:this._listeners;if(e&&o){var s=o[e.type];if(!s||!(r=s.length))return;try{e.currentTarget=this}catch(Wd){}try{e.eventPhase=t}catch(Wd){}e.removed=!1,s=s.slice();for(var i=0;i<r&&!e.immediatePropagationStopped;i++){var a=s[i];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}},vm.EventDispatcher=e}(),function(){function e(){throw"Ticker cannot be instantiated."}e.RAF_SYNCHED="synched",e.RAF="raf",e.TIMEOUT="timeout",e.useRAF=!1,e.timingMode=null,e.maxDelta=0,e.paused=!1,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,vm.EventDispatcher.initialize(e),e._addEventListener=e.addEventListener,e.addEventListener=function(){return!e._inited&&e.init(),e._addEventListener.apply(e,arguments)},e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._timerId=null,e._raf=!0,e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval};try{Object.defineProperties(e,{interval:{get:e.getInterval,set:e.setInterval},framerate:{get:e.getFPS,set:e.setFPS}})}catch(Wd){}e.init=function(){e._inited||(e._inited=!0,e._times=[],e._tickTimes=[],e._startTime=e._getTime(),e._times.push(e._lastTime=0),e.interval=e._interval)},e.reset=function(){if(e._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(e._timerId)}else clearTimeout(e._timerId);e.removeAllEventListeners("tick"),e._timerId=e._times=e._tickTimes=null,e._startTime=e._lastTime=e._ticks=0,e._inited=!1},e.getMeasuredTickTime=function(t){var r=0,o=e._tickTimes;if(!o||o.length<1)return-1;t=Math.min(o.length,t||0|e.getFPS());for(var s=0;s<t;s++)r+=o[s];return r/t},e.getMeasuredFPS=function(t){var r=e._times;return!r||r.length<2?-1:(t=Math.min(r.length-1,t||0|e.getFPS()),1e3/((r[0]-r[t])/t))},e.setPaused=function(t){e.paused=t},e.getPaused=function(){return e.paused},e.getTime=function(t){return e._startTime?e._getTime()-(t?e._pausedTime:0):-1},e.getEventTime=function(t){return e._startTime?(e._lastTime||e._startTime)-(t?e._pausedTime:0):-1},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleSynch=function(){e._timerId=null,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleRAF=function(){e._timerId=null,e._setupTick(),e._tick()},e._handleTimeout=function(){e._timerId=null,e._setupTick(),e._tick()},e._setupTick=function(){if(null==e._timerId){var t=e.timingMode||e.useRAF&&e.RAF_SYNCHED;if(t==e.RAF_SYNCHED||t==e.RAF){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(r)return e._timerId=r(t==e.RAF?e._handleRAF:e._handleSynch),void(e._raf=!0)}e._raf=!1,e._timerId=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e.paused,r=e._getTime(),o=r-e._lastTime;if(e._lastTime=r,e._ticks++,t&&(e._pausedTicks++,e._pausedTime+=o),e.hasEventListener("tick")){var s=new vm.Event("tick"),i=e.maxDelta;s.delta=i&&o>i?i:o,s.paused=t,s.time=r,s.runTime=r-e._pausedTime,e.dispatchEvent(s)}for(e._tickTimes.unshift(e._getTime()-r);e._tickTimes.length>100;)e._tickTimes.pop();for(e._times.unshift(r);e._times.length>100;)e._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return(t&&t.call(performance)||(new Date).getTime())-e._startTime},vm.Ticker=e}(),function(){function e(){throw"UID cannot be instantiated"}e._nextID=0,e.get=function(){return e._nextID++},vm.UID=e}(),function(){function e(e,t,r,o,s,i,a,n,l,c,m){this.Event_constructor(e,t,r),this.stageX=o,this.stageY=s,this.rawX=null==l?o:l,this.rawY=null==c?s:c,this.nativeEvent=i,this.pointerID=a,this.primary=!!n,this.relatedTarget=m}var t=vm.extend(e,vm.Event);t._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},t._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},t._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(t,{localX:{get:t._get_localX},localY:{get:t._get_localY},isTouch:{get:t._get_isTouch}})}catch(Wd){}t.clone=function(){return new e(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},vm.MouseEvent=vm.promote(e,"Event")}(),function(){function e(e,t,r,o,s,i){this.setValues(e,t,r,o,s,i)}var t=e.prototype;e.DEG_TO_RAD=Math.PI/180,e.identity=null,t.setValues=function(e,t,r,o,s,i){return this.a=null==e?1:e,this.b=t||0,this.c=r||0,this.d=null==o?1:o,this.tx=s||0,this.ty=i||0,this},t.append=function(e,t,r,o,s,i){var a=this.a,n=this.b,l=this.c,c=this.d;return 1==e&&0==t&&0==r&&1==o||(this.a=a*e+l*t,this.b=n*e+c*t,this.c=a*r+l*o,this.d=n*r+c*o),this.tx=a*s+l*i+this.tx,this.ty=n*s+c*i+this.ty,this},t.prepend=function(e,t,r,o,s,i){var a=this.a,n=this.c,l=this.tx;return this.a=e*a+r*this.b,this.b=t*a+o*this.b,this.c=e*n+r*this.d,this.d=t*n+o*this.d,this.tx=e*l+r*this.ty+s,this.ty=t*l+o*this.ty+i,this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.appendTransform=function(t,r,o,s,i,a,n,l,c){if(i%360)var m=i*e.DEG_TO_RAD,u=Math.cos(m),d=Math.sin(m);else u=1,d=0;return a||n?(a*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,r),this.append(u*o,d*o,-d*s,u*s,0,0)):this.append(u*o,d*o,-d*s,u*s,t,r),(l||c)&&(this.tx-=l*this.a+c*this.c,this.ty-=l*this.b+c*this.d),this},t.prependTransform=function(t,r,o,s,i,a,n,l,c){if(i%360)var m=i*e.DEG_TO_RAD,u=Math.cos(m),d=Math.sin(m);else u=1,d=0;return(l||c)&&(this.tx-=l,this.ty-=c),a||n?(a*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.prepend(u*o,d*o,-d*s,u*s,0,0),this.prepend(Math.cos(n),Math.sin(n),-Math.sin(a),Math.cos(a),t,r)):this.prepend(u*o,d*o,-d*s,u*s,t,r),this},t.rotate=function(t){t*=e.DEG_TO_RAD;var r=Math.cos(t),o=Math.sin(t),s=this.a,i=this.b;return this.a=s*r+this.c*o,this.b=i*r+this.d*o,this.c=-s*o+this.c*r,this.d=-i*o+this.d*r,this},t.skew=function(t,r){return t*=e.DEG_TO_RAD,r*=e.DEG_TO_RAD,this.append(Math.cos(r),Math.sin(r),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this},t.translate=function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this},t.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.invert=function(){var e=this.a,t=this.b,r=this.c,o=this.d,s=this.tx,i=e*o-t*r;return this.a=o/i,this.b=-t/i,this.c=-r/i,this.d=e/i,this.tx=(r*this.ty-o*s)/i,this.ty=-(e*this.ty-t*s)/i,this},t.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.equals=function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d},t.transformPoint=function(e,t,r){return(r=r||{}).x=e*this.a+t*this.c+this.tx,r.y=e*this.b+t*this.d+this.ty,r},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var r=Math.atan2(-this.c,this.d),o=Math.atan2(this.b,this.a);return Math.abs(1-r/o)<1e-5?(t.rotation=o/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=r/e.DEG_TO_RAD,t.skewY=o/e.DEG_TO_RAD),t},t.copy=function(e){return this.setValues(e.a,e.b,e.c,e.d,e.tx,e.ty)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e,vm.Matrix2D=e}(),function(){function e(e,t,r,o,s){this.setValues(e,t,r,o,s)}var t=e.prototype;t.setValues=function(e,t,r,o,s){return this.visible=null==e||!!e,this.alpha=null==t?1:t,this.shadow=r,this.compositeOperation=o,this.matrix=s||this.matrix&&this.matrix.identity()||new vm.Matrix2D,this},t.append=function(e,t,r,o,s){return this.alpha*=t,this.shadow=r||this.shadow,this.compositeOperation=o||this.compositeOperation,this.visible=this.visible&&e,s&&this.matrix.appendMatrix(s),this},t.prepend=function(e,t,r,o,s){return this.alpha*=t,this.shadow=this.shadow||r,this.compositeOperation=this.compositeOperation||o,this.visible=this.visible&&e,s&&this.matrix.prependMatrix(s),this},t.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},t.clone=function(){return new e(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},vm.DisplayProps=e}(),function(){function e(e,t){this.setValues(e,t)}var t=e.prototype;t.setValues=function(e,t){return this.x=e||0,this.y=t||0,this},t.copy=function(e){return this.x=e.x,this.y=e.y,this},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},vm.Point=e}(),function(){function e(e,t,r,o){this.setValues(e,t,r,o)}var t=e.prototype;t.setValues=function(e,t,r,o){return this.x=e||0,this.y=t||0,this.width=r||0,this.height=o||0,this},t.extend=function(e,t,r,o){return o=o||0,e+(r=r||0)>this.x+this.width&&(this.width=e+r-this.x),t+o>this.y+this.height&&(this.height=t+o-this.y),e<this.x&&(this.width+=this.x-e,this.x=e),t<this.y&&(this.height+=this.y-t,this.y=t),this},t.pad=function(e,t,r,o){return this.x-=t,this.y-=e,this.width+=t+o,this.height+=e+r,this},t.copy=function(e){return this.setValues(e.x,e.y,e.width,e.height)},t.contains=function(e,t,r,o){return r=r||0,o=o||0,e>=this.x&&e+r<=this.x+this.width&&t>=this.y&&t+o<=this.y+this.height},t.union=function(e){return this.clone().extend(e.x,e.y,e.width,e.height)},t.intersection=function(t){var r=t.x,o=t.y,s=r+t.width,i=o+t.height;return this.x>r&&(r=this.x),this.y>o&&(o=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<i&&(i=this.y+this.height),s<=r||i<=o?null:new e(r,o,s-r,i-o)},t.intersects=function(e){return e.x<=this.x+this.width&&this.x<=e.x+e.width&&e.y<=this.y+this.height&&this.y<=e.y+e.height},t.isEmpty=function(){return this.width<=0||this.height<=0},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},vm.Rectangle=e}(),function(){function e(e,t,r,o,s,i,a){e.addEventListener&&(this.target=e,this.overLabel=null==r?"over":r,this.outLabel=null==t?"out":t,this.downLabel=null==o?"down":o,this.play=s,this._isPressed=!1,this._isOver=!1,this._enabled=!1,e.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),i&&(a&&(i.actionsEnabled=!1,i.gotoAndStop&&i.gotoAndStop(a)),e.hitArea=i))}var t=e.prototype;t.setEnabled=function(e){if(e!=this._enabled){var t=this.target;this._enabled=e,e?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}},t.getEnabled=function(){return this._enabled};try{Object.defineProperties(t,{enabled:{get:t.getEnabled,set:t.setEnabled}})}catch(Wd){}t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t,r=this.target,o=e.type;"mousedown"==o?(this._isPressed=!0,t=this.downLabel):"pressup"==o?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==o?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel),this.play?r.gotoAndPlay&&r.gotoAndPlay(t):r.gotoAndStop&&r.gotoAndStop(t)},t._reset=function(){var e=this.paused;this.__reset(),this.paused=e},vm.ButtonHelper=e}(),function(){function e(e,t,r,o){this.color=e||"black",this.offsetX=t||0,this.offsetY=r||0,this.blur=o||0}var t=e.prototype;e.identity=new e("transparent",0,0,0),t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},vm.Shadow=e}(),function(){function e(e){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(e)}var t=vm.extend(e,vm.EventDispatcher);t.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(t,{animations:{get:t.getAnimations}})}catch(Wd){}t.getNumFrames=function(e){if(null==e)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[e];return null==t?0:t.frames.length},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e,t){var r=this.getFrame(e);return r?(t||new vm.Rectangle).setValues(-r.regX,-r.regY,r.rect.width,r.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){throw"SpriteSheet cannot be cloned."},t._parseData=function(e){var t,r,o,s;if(null!=e){if(this.framerate=e.framerate||0,e.images&&(r=e.images.length)>0)for(s=this._images=[],t=0;t<r;t++){var i=e.images[t];if("string"==typeof i){var a=i;(i=document.createElement("img")).src=a}s.push(i),i.getContext||i.naturalWidth||(this._loadCount++,this.complete=!1,function(e,t){i.onload=function(){e._handleImageLoad(t)}}(this,a),function(e,t){i.onerror=function(){e._handleImageError(t)}}(this,a))}if(null==e.frames);else if(Array.isArray(e.frames))for(this._frames=[],t=0,r=(s=e.frames).length;t<r;t++){var n=s[t];this._frames.push({image:this._images[n[4]?n[4]:0],rect:new vm.Rectangle(n[0],n[1],n[2],n[3]),regX:n[5]||0,regY:n[6]||0})}else o=e.frames,this._frameWidth=o.width,this._frameHeight=o.height,this._regX=o.regX||0,this._regY=o.regY||0,this._spacing=o.spacing||0,this._margin=o.margin||0,this._numFrames=o.count,0==this._loadCount&&this._calculateFrames();var l;if(this._animations=[],null!=(o=e.animations))for(l in this._data={},o){var c={name:l},m=o[l];if("number"==typeof m)s=c.frames=[m];else if(Array.isArray(m))if(1==m.length)c.frames=[m[0]];else for(c.speed=m[3],c.next=m[2],s=c.frames=[],t=m[0];t<=m[1];t++)s.push(t);else{c.speed=m.speed,c.next=m.next;var u=m.frames;s=c.frames="number"==typeof u?[u]:u.slice(0)}!0!==c.next&&void 0!==c.next||(c.next=l),(!1===c.next||s.length<2&&c.next==l)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(l),this._data[l]=c}}},t._handleImageLoad=function(e){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},t._handleImageError=function(e){var t=new vm.Event("error");t.src=e,this.dispatchEvent(t),0==--this._loadCount&&this.dispatchEvent("complete")},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var e=this._numFrames||1e5,t=0,r=this._frameWidth,o=this._frameHeight,s=this._spacing,i=this._margin;e:for(var a=0,n=this._images;a<n.length;a++)for(var l=n[a],c=l.width,m=l.height,u=i;u<=m-i-o;){for(var d=i;d<=c-i-r;){if(t>=e)break e;t++,this._frames.push({image:l,rect:new vm.Rectangle(d,u,r,o),regX:this._regX,regY:this._regY}),d+=r+s}u+=o+s}this._numFrames=t}},vm.SpriteSheet=vm.promote(e,"EventDispatcher")}(),function(){function e(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var t=e.prototype,r=e;e.getRGB=function(e,t,r,o){return null!=e&&null==r&&(o=t,r=255&e,t=e>>8&255,e=e>>16&255),null==o?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+o+")"},e.getHSL=function(e,t,r,o){return null==o?"hsl("+e%360+","+t+"%,"+r+"%)":"hsla("+e%360+","+t+"%,"+r+"%,"+o+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var o=vm.createCanvas?vm.createCanvas():document.createElement("canvas");o.getContext&&(e._ctx=o.getContext("2d"),o.width=o.height=1),t.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(t,{instructions:{get:t.getInstructions}})}catch(Wd){}t.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},t.draw=function(e,t){this._updateInstructions();for(var r=this._instructions,o=this._storeIndex,s=r.length;o<s;o++)r[o].exec(e,t)},t.drawAsPath=function(e){this._updateInstructions();for(var t,r=this._instructions,o=this._storeIndex,s=r.length;o<s;o++)!1!==(t=r[o]).path&&t.exec(e)},t.moveTo=function(e,t){return this.append(new r.MoveTo(e,t),!0)},t.lineTo=function(e,t){return this.append(new r.LineTo(e,t))},t.arcTo=function(e,t,o,s,i){return this.append(new r.ArcTo(e,t,o,s,i))},t.arc=function(e,t,o,s,i,a){return this.append(new r.Arc(e,t,o,s,i,a))},t.quadraticCurveTo=function(e,t,o,s){return this.append(new r.QuadraticCurveTo(e,t,o,s))},t.bezierCurveTo=function(e,t,o,s,i,a){return this.append(new r.BezierCurveTo(e,t,o,s,i,a))},t.rect=function(e,t,o,s){return this.append(new r.Rect(e,t,o,s))},t.closePath=function(){return this._activeInstructions.length?this.append(new r.ClosePath):this},t.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},t.beginFill=function(e){return this._setFill(e?new r.Fill(e):null)},t.beginLinearGradientFill=function(e,t,o,s,i,a){return this._setFill((new r.Fill).linearGradient(e,t,o,s,i,a))},t.beginRadialGradientFill=function(e,t,o,s,i,a,n,l){return this._setFill((new r.Fill).radialGradient(e,t,o,s,i,a,n,l))},t.beginBitmapFill=function(e,t,o){return this._setFill(new r.Fill(null,o).bitmap(e,t))},t.endFill=function(){return this.beginFill()},t.setStrokeStyle=function(e,t,o,s,i){return this._updateInstructions(!0),this._strokeStyle=this.command=new r.StrokeStyle(e,t,o,s,i),this._stroke&&(this._stroke.ignoreScale=i),this._strokeIgnoreScale=i,this},t.setStrokeDash=function(e,t){return this._updateInstructions(!0),this._strokeDash=this.command=new r.StrokeDash(e,t),this},t.beginStroke=function(e){return this._setStroke(e?new r.Stroke(e):null)},t.beginLinearGradientStroke=function(e,t,o,s,i,a){return this._setStroke((new r.Stroke).linearGradient(e,t,o,s,i,a))},t.beginRadialGradientStroke=function(e,t,o,s,i,a,n,l){return this._setStroke((new r.Stroke).radialGradient(e,t,o,s,i,a,n,l))},t.beginBitmapStroke=function(e,t){return this._setStroke((new r.Stroke).bitmap(e,t))},t.endStroke=function(){return this.beginStroke()},t.curveTo=t.quadraticCurveTo,t.drawRect=t.rect,t.drawRoundRect=function(e,t,r,o,s){return this.drawRoundRectComplex(e,t,r,o,s,s,s,s)},t.drawRoundRectComplex=function(e,t,o,s,i,a,n,l){return this.append(new r.RoundRect(e,t,o,s,i,a,n,l))},t.drawCircle=function(e,t,o){return this.append(new r.Circle(e,t,o))},t.drawEllipse=function(e,t,o,s){return this.append(new r.Ellipse(e,t,o,s))},t.drawPolyStar=function(e,t,o,s,i,a){return this.append(new r.PolyStar(e,t,o,s,i,a))},t.append=function(e,t){return this._activeInstructions.push(e),this.command=e,t||(this._dirty=!0),this},t.decodePath=function(t){for(var r=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],o=[2,2,4,6,0],s=0,i=t.length,a=[],n=0,l=0,c=e.BASE_64;s<i;){var m=t.charAt(s),u=c[m],d=u>>3,h=r[d];if(!h||3&u)throw"bad path data (@"+s+"): "+m;var p=o[d];d||(n=l=0),a.length=0,s++;for(var f=2+(u>>2&1),v=0;v<p;v++){var b=c[t.charAt(s)],g=b>>5?-1:1;b=(31&b)<<6|c[t.charAt(s+1)],3==f&&(b=b<<6|c[t.charAt(s+2)]),b=g*b/10,v%2?n=b+=n:l=b+=l,a[v]=b,s+=f}h.apply(this,a)}return this},t.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},t.unstore=function(){return this._storeIndex=0,this},t.clone=function(){var t=new e;return t.command=this.command,t._stroke=this._stroke,t._strokeStyle=this._strokeStyle,t._strokeDash=this._strokeDash,t._strokeIgnoreScale=this._strokeIgnoreScale,t._fill=this._fill,t._instructions=this._instructions.slice(),t._commitIndex=this._commitIndex,t._activeInstructions=this._activeInstructions.slice(),t._dirty=this._dirty,t._storeIndex=this._storeIndex,t},t.toString=function(){return"[Graphics]"},t.mt=t.moveTo,t.lt=t.lineTo,t.at=t.arcTo,t.bt=t.bezierCurveTo,t.qt=t.quadraticCurveTo,t.a=t.arc,t.r=t.rect,t.cp=t.closePath,t.c=t.clear,t.f=t.beginFill,t.lf=t.beginLinearGradientFill,t.rf=t.beginRadialGradientFill,t.bf=t.beginBitmapFill,t.ef=t.endFill,t.ss=t.setStrokeStyle,t.sd=t.setStrokeDash,t.s=t.beginStroke,t.ls=t.beginLinearGradientStroke,t.rs=t.beginRadialGradientStroke,t.bs=t.beginBitmapStroke,t.es=t.endStroke,t.dr=t.drawRect,t.rr=t.drawRoundRect,t.rc=t.drawRoundRectComplex,t.dc=t.drawCircle,t.de=t.drawEllipse,t.dp=t.drawPolyStar,t.p=t.decodePath,t._updateInstructions=function(t){var r=this._instructions,o=this._activeInstructions,s=this._commitIndex;if(this._dirty&&o.length){r.length=s,r.push(e.beginCmd);var i=o.length,a=r.length;r.length=a+i;for(var n=0;n<i;n++)r[n+a]=o[n];this._fill&&r.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,r.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,r.push(this._strokeStyle)),r.push(this._stroke)),this._dirty=!1}t&&(o.length=0,this._commitIndex=r.length)},t._setFill=function(e){return this._updateInstructions(!0),this.command=this._fill=e,this},t._setStroke=function(e){return this._updateInstructions(!0),(this.command=this._stroke=e)&&(e.ignoreScale=this._strokeIgnoreScale),this},(r.LineTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.lineTo(this.x,this.y)},(r.MoveTo=function(e,t){this.x=e,this.y=t}).prototype.exec=function(e){e.moveTo(this.x,this.y)},(r.ArcTo=function(e,t,r,o,s){this.x1=e,this.y1=t,this.x2=r,this.y2=o,this.radius=s}).prototype.exec=function(e){e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(r.Arc=function(e,t,r,o,s,i){this.x=e,this.y=t,this.radius=r,this.startAngle=o,this.endAngle=s,this.anticlockwise=!!i}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(r.QuadraticCurveTo=function(e,t,r,o){this.cpx=e,this.cpy=t,this.x=r,this.y=o}).prototype.exec=function(e){e.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(r.BezierCurveTo=function(e,t,r,o,s,i){this.cp1x=e,this.cp1y=t,this.cp2x=r,this.cp2y=o,this.x=s,this.y=i}).prototype.exec=function(e){e.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(r.Rect=function(e,t,r,o){this.x=e,this.y=t,this.w=r,this.h=o}).prototype.exec=function(e){e.rect(this.x,this.y,this.w,this.h)},(r.ClosePath=function(){}).prototype.exec=function(e){e.closePath()},(r.BeginPath=function(){}).prototype.exec=function(e){e.beginPath()},(t=(r.Fill=function(e,t){this.style=e,this.matrix=t}).prototype).exec=function(e){if(this.style){e.fillStyle=this.style;var t=this.matrix;t&&(e.save(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),e.fill(),t&&e.restore()}},t.linearGradient=function(t,r,o,s,i,a){for(var n=this.style=e._ctx.createLinearGradient(o,s,i,a),l=0,c=t.length;l<c;l++)n.addColorStop(r[l],t[l]);return n.props={colors:t,ratios:r,x0:o,y0:s,x1:i,y1:a,type:"linear"},this},t.radialGradient=function(t,r,o,s,i,a,n,l){for(var c=this.style=e._ctx.createRadialGradient(o,s,i,a,n,l),m=0,u=t.length;m<u;m++)c.addColorStop(r[m],t[m]);return c.props={colors:t,ratios:r,x0:o,y0:s,r0:i,x1:a,y1:n,r1:l,type:"radial"},this},t.bitmap=function(t,r){return(t.naturalWidth||t.getContext||t.readyState>=2)&&((this.style=e._ctx.createPattern(t,r||"")).props={image:t,repetition:r,type:"bitmap"}),this},t.path=!1,(t=(r.Stroke=function(e,t){this.style=e,this.ignoreScale=t}).prototype).exec=function(e){this.style&&(e.strokeStyle=this.style,this.ignoreScale&&(e.save(),e.setTransform(1,0,0,1,0,0)),e.stroke(),this.ignoreScale&&e.restore())},t.linearGradient=r.Fill.prototype.linearGradient,t.radialGradient=r.Fill.prototype.radialGradient,t.bitmap=r.Fill.prototype.bitmap,t.path=!1,(t=(r.StrokeStyle=function(e,t,r,o,s){this.width=e,this.caps=t,this.joints=r,this.miterLimit=o,this.ignoreScale=s}).prototype).exec=function(t){t.lineWidth=null==this.width?"1":this.width,t.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:e.STROKE_CAPS_MAP[this.caps],t.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:e.STROKE_JOINTS_MAP[this.joints],t.miterLimit=null==this.miterLimit?"10":this.miterLimit,t.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},t.path=!1,(r.StrokeDash=function(e,t){this.segments=e,this.offset=t||0}).prototype.exec=function(e){e.setLineDash&&(e.setLineDash(this.segments||r.StrokeDash.EMPTY_SEGMENTS),e.lineDashOffset=this.offset||0)},r.StrokeDash.EMPTY_SEGMENTS=[],(r.RoundRect=function(e,t,r,o,s,i,a,n){this.x=e,this.y=t,this.w=r,this.h=o,this.radiusTL=s,this.radiusTR=i,this.radiusBR=a,this.radiusBL=n}).prototype.exec=function(e){var t=(l<c?l:c)/2,r=0,o=0,s=0,i=0,a=this.x,n=this.y,l=this.w,c=this.h,m=this.radiusTL,u=this.radiusTR,d=this.radiusBR,h=this.radiusBL;m<0&&(m*=r=-1),m>t&&(m=t),u<0&&(u*=o=-1),u>t&&(u=t),d<0&&(d*=s=-1),d>t&&(d=t),h<0&&(h*=i=-1),h>t&&(h=t),e.moveTo(a+l-u,n),e.arcTo(a+l+u*o,n-u*o,a+l,n+u,u),e.lineTo(a+l,n+c-d),e.arcTo(a+l+d*s,n+c+d*s,a+l-d,n+c,d),e.lineTo(a+h,n+c),e.arcTo(a-h*i,n+c+h*i,a,n+c-h,h),e.lineTo(a,n+m),e.arcTo(a-m*r,n-m*r,a+m,n,m),e.closePath()},(r.Circle=function(e,t,r){this.x=e,this.y=t,this.radius=r}).prototype.exec=function(e){e.arc(this.x,this.y,this.radius,0,2*Math.PI)},(r.Ellipse=function(e,t,r,o){this.x=e,this.y=t,this.w=r,this.h=o}).prototype.exec=function(e){var t=this.x,r=this.y,o=this.w,s=this.h,i=.5522848,a=o/2*i,n=s/2*i,l=t+o,c=r+s,m=t+o/2,u=r+s/2;e.moveTo(t,u),e.bezierCurveTo(t,u-n,m-a,r,m,r),e.bezierCurveTo(m+a,r,l,u-n,l,u),e.bezierCurveTo(l,u+n,m+a,c,m,c),e.bezierCurveTo(m-a,c,t,u+n,t,u)},(r.PolyStar=function(e,t,r,o,s,i){this.x=e,this.y=t,this.radius=r,this.sides=o,this.pointSize=s,this.angle=i}).prototype.exec=function(e){var t=this.x,r=this.y,o=this.radius,s=(this.angle||0)/180*Math.PI,i=this.sides,a=1-(this.pointSize||0),n=Math.PI/i;e.moveTo(t+Math.cos(s)*o,r+Math.sin(s)*o);for(var l=0;l<i;l++)s+=n,1!=a&&e.lineTo(t+Math.cos(s)*o*a,r+Math.sin(s)*o*a),s+=n,e.lineTo(t+Math.cos(s)*o,r+Math.sin(s)*o);e.closePath()},e.beginCmd=new r.BeginPath,vm.Graphics=e}(),function(){function e(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=vm.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new vm.DisplayProps,this._rectangle=new vm.Rectangle,this._bounds=null}var t=vm.extend(e,vm.EventDispatcher);e._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],e.suppressCrossDomainErrors=!1,e._snapToPixelEnabled=!1;var r=vm.createCanvas?vm.createCanvas():document.createElement("canvas");r.getContext&&(e._hitTestCanvas=r,e._hitTestContext=r.getContext("2d"),r.width=r.height=1),e._nextCacheID=1,t.getStage=function(){for(var e=this,t=vm.Stage;e.parent;)e=e.parent;return e instanceof t?e:null};try{Object.defineProperties(t,{stage:{get:t.getStage}})}catch(Wd){}t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){var r=this.cacheCanvas;if(t||!r)return!1;var o=this._cacheScale;return e.drawImage(r,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,r.width/o,r.height/o),!0},t.updateContext=function(t){var r=this,o=r.mask,s=r._props.matrix;o&&o.graphics&&!o.graphics.isEmpty()&&(o.getMatrix(s),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),o.graphics.drawAsPath(t),t.clip(),s.invert(),t.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var i=s.tx,a=s.ty;e._snapToPixelEnabled&&r.snapToPixel&&(i=i+(i<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),t.transform(s.a,s.b,s.c,s.d,i,a),t.globalAlpha*=r.alpha,r.compositeOperation&&(t.globalCompositeOperation=r.compositeOperation),r.shadow&&this._applyShadow(t,r.shadow)},t.cache=function(e,t,r,o,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=vm.createCanvas?vm.createCanvas():document.createElement("canvas")),this._cacheWidth=r,this._cacheHeight=o,this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=s,this.updateCache()},t.updateCache=function(t){var r=this.cacheCanvas;if(!r)throw"cache() must be called before updateCache()";var o=this._cacheScale,s=this._cacheOffsetX*o,i=this._cacheOffsetY*o,a=this._cacheWidth,n=this._cacheHeight,l=r.getContext("2d"),c=this._getFilterBounds();s+=this._filterOffsetX=c.x,i+=this._filterOffsetY=c.y,a=Math.ceil(a*o)+c.width,n=Math.ceil(n*o)+c.height,a!=r.width||n!=r.height?(r.width=a,r.height=n):t||l.clearRect(0,0,a+1,n+1),l.save(),l.globalCompositeOperation=t,l.setTransform(o,0,0,o,-s,-i),this.draw(l,!0),this._applyFilters(),l.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.localToGlobal=function(e,t,r){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(e,t,r||new vm.Point)},t.globalToLocal=function(e,t,r){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(e,t,r||new vm.Point)},t.localToLocal=function(e,t,r,o){return o=this.localToGlobal(e,t,o),r.globalToLocal(o.x,o.y,o)},t.setTransform=function(e,t,r,o,s,i,a,n,l){return this.x=e||0,this.y=t||0,this.scaleX=null==r?1:r,this.scaleY=null==o?1:o,this.rotation=s||0,this.skewX=i||0,this.skewY=a||0,this.regX=n||0,this.regY=l||0,this},t.getMatrix=function(e){var t=this,r=e&&e.identity()||new vm.Matrix2D;return t.transformMatrix?r.copy(t.transformMatrix):r.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)},t.getConcatenatedMatrix=function(e){for(var t=this,r=this.getMatrix(e);t=t.parent;)r.prependMatrix(t.getMatrix(t._props.matrix));return r},t.getConcatenatedDisplayProps=function(e){e=e?e.identity():new vm.DisplayProps;var t=this,r=t.getMatrix(e.matrix);do{e.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&r.prependMatrix(t.getMatrix(t._props.matrix))}while(t=t.parent);return e},t.hitTest=function(t,r){var o=e._hitTestContext;o.setTransform(1,0,0,1,-t,-r),this.draw(o);var s=this._testHit(o);return o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,2,2),s},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var e=this.cacheCanvas;if(e){var t=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,e.width/t,e.height/t)}return null},t.getTransformedBounds=function(){return this._getBounds()},t.setBounds=function(e,t,r,o){null==e&&(this._bounds=e),this._bounds=(this._bounds||new vm.Rectangle).setValues(e,t,r,o)},t.clone=function(){return this._cloneProps(new e)},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t._cloneProps=function(e){return e.alpha=this.alpha,e.mouseEnabled=this.mouseEnabled,e.tickEnabled=this.tickEnabled,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.compositeOperation=this.compositeOperation,e.snapToPixel=this.snapToPixel,e.filters=null==this.filters?null:this.filters.slice(0),e.mask=this.mask,e.hitArea=this.hitArea,e.cursor=this.cursor,e._bounds=this._bounds,e},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){var t=this._listeners;t&&t.tick&&(e.target=null,e.propagationStopped=e.immediatePropagationStopped=!1,this.dispatchEvent(e))},t._testHit=function(t){try{var r=t.getImageData(0,0,1,1).data[3]>1}catch(Wd){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return r},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),r=this.cacheCanvas.width,o=this.cacheCanvas.height,s=0;s<e;s++)this.filters[s].applyFilter(t,0,0,r,o)},t._getFilterBounds=function(e){var t,r=this.filters,o=this._rectangle.setValues(0,0,0,0);if(!r||!(t=r.length))return o;for(var s=0;s<t;s++){var i=this.filters[s];i.getBounds&&i.getBounds(o)}return o},t._getBounds=function(e,t){return this._transformBounds(this.getBounds(),e,t)},t._transformBounds=function(e,t,r){if(!e)return e;var o=e.x,s=e.y,i=e.width,a=e.height,n=this._props.matrix;n=r?n.identity():this.getMatrix(n),(o||s)&&n.appendTransform(0,0,1,1,0,0,0,-o,-s),t&&n.prependMatrix(t);var l=i*n.a,c=i*n.b,m=a*n.c,u=a*n.d,d=n.tx,h=n.ty,p=d,f=d,v=h,b=h;return(o=l+d)<p?p=o:o>f&&(f=o),(o=l+m+d)<p?p=o:o>f&&(f=o),(o=m+d)<p?p=o:o>f&&(f=o),(s=c+h)<v?v=s:s>b&&(b=s),(s=c+u+h)<v?v=s:s>b&&(b=s),(s=u+h)<v?v=s:s>b&&(b=s),e.setValues(p,v,f-p,b-v)},t._hasMouseEventListener=function(){for(var t=e._MOUSE_EVENTS,r=0,o=t.length;r<o;r++)if(this.hasEventListener(t[r]))return!0;return!!this.cursor},vm.DisplayObject=vm.promote(e,"EventDispatcher")}(),function(){function e(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var t=vm.extend(e,vm.DisplayObject);t.getNumChildren=function(){return this.children.length};try{Object.defineProperties(t,{numChildren:{get:t.getNumChildren}})}catch(Wd){}t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var r=this.children.slice(),o=0,s=r.length;o<s;o++){var i=r[o];i.isVisible()&&(e.save(),i.updateContext(e),i.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(t>1){for(var r=0;r<t;r++)this.addChild(arguments[r]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e.dispatchEvent("added"),e},t.addChildAt=function(e,t){var r=arguments.length,o=arguments[r-1];if(o<0||o>this.children.length)return arguments[r-2];if(r>2){for(var s=0;s<r-1;s++)this.addChildAt(arguments[s],o+s);return arguments[r-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e.dispatchEvent("added"),e},t.removeChild=function(e){var t=arguments.length;if(t>1){for(var r=!0,o=0;o<t;o++)r=r&&this.removeChild(arguments[o]);return r}return this.removeChildAt(vm.indexOf(this.children,e))},t.removeChildAt=function(e){var t=arguments.length;if(t>1){for(var r=[],o=0;o<t;o++)r[o]=arguments[o];r.sort(function(e,t){return t-e});var s=!0;for(o=0;o<t;o++)s=s&&this.removeChildAt(r[o]);return s}if(e<0||e>this.children.length-1)return!1;var i=this.children[e];return i&&(i.parent=null),this.children.splice(e,1),i.dispatchEvent("removed"),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)this.removeChildAt(0)},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,r=0,o=t.length;r<o;r++)if(t[r].name==e)return t[r];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return vm.indexOf(this.children,e)},t.swapChildrenAt=function(e,t){var r=this.children,o=r[e],s=r[t];o&&s&&(r[e]=s,r[t]=o)},t.swapChildren=function(e,t){for(var r,o,s=this.children,i=0,a=s.length;i<a&&(s[i]==e&&(r=i),s[i]==t&&(o=i),null==r||null==o);i++);i!=a&&(s[r]=t,s[o]=e)},t.setChildIndex=function(e,t){var r=this.children,o=r.length;if(!(e.parent!=this||t<0||t>=o)){for(var s=0;s<o&&r[s]!=e;s++);s!=o&&s!=t&&(r.splice(s,1),r.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t,r){var o=[],s=this.localToGlobal(e,t);return this._getObjectsUnderPoint(s.x,s.y,o,r>0,1==r),o},t.getObjectUnderPoint=function(e,t,r){var o=this.localToGlobal(e,t);return this._getObjectsUnderPoint(o.x,o.y,null,r>0,1==r)},t.getBounds=function(){return this._getBounds(null,!0)},t.getTransformedBounds=function(){return this._getBounds()},t.clone=function(t){var r=this._cloneProps(new e);return t&&this._cloneChildren(r),r},t.toString=function(){return"[Container (name="+this.name+")]"},t._tick=function(e){if(this.tickChildren)for(var t=this.children.length-1;t>=0;t--){var r=this.children[t];r.tickEnabled&&r._tick&&r._tick(e)}this.DisplayObject__tick(e)},t._cloneChildren=function(e){e.children.length&&e.removeAllChildren();for(var t=e.children,r=0,o=this.children.length;r<o;r++){var s=this.children[r].clone(!0);s.parent=e,t.push(s)}},t._getObjectsUnderPoint=function(t,r,o,s,i,a){if(!(a=a||0)&&!this._testMask(this,t,r))return null;var n,l=vm.DisplayObject._hitTestContext;i=i||s&&this._hasMouseEventListener();for(var c=this.children,m=c.length-1;m>=0;m--){var u=c[m],d=u.hitArea;if(u.visible&&(d||u.isVisible())&&(!s||u.mouseEnabled)&&(d||this._testMask(u,t,r)))if(!d&&u instanceof e){var h=u._getObjectsUnderPoint(t,r,o,s,i,a+1);if(!o&&h)return s&&!this.mouseChildren?this:h}else{if(s&&!i&&!u._hasMouseEventListener())continue;var p=u.getConcatenatedDisplayProps(u._props);if(n=p.matrix,d&&(n.appendMatrix(d.getMatrix(d._props.matrix)),p.alpha=d.alpha),l.globalAlpha=p.alpha,l.setTransform(n.a,n.b,n.c,n.d,n.tx-t,n.ty-r),(d||u).draw(l),!this._testHit(l))continue;if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!o)return s&&!this.mouseChildren?this:u;o.push(u)}}return null},t._testMask=function(e,t,r){var o=e.mask;if(!o||!o.graphics||o.graphics.isEmpty())return!0;var s=this._props.matrix,i=e.parent;s=i?i.getConcatenatedMatrix(s):s.identity(),s=o.getMatrix(o._props.matrix).prependMatrix(s);var a=vm.DisplayObject._hitTestContext;return a.setTransform(s.a,s.b,s.c,s.d,s.tx-t,s.ty-r),o.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},t._getBounds=function(e,t){var r=this.DisplayObject_getBounds();if(r)return this._transformBounds(r,e,t);var o=this._props.matrix;o=t?o.identity():this.getMatrix(o),e&&o.prependMatrix(e);for(var s=this.children.length,i=null,a=0;a<s;a++){var n=this.children[a];n.visible&&(r=n._getBounds(o))&&(i?i.extend(r.x,r.y,r.width,r.height):i=r.clone())}return i},vm.Container=vm.promote(e,"DisplayObject")}(),function(){function e(e){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof e?document.getElementById(e):e,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var t=vm.extend(e,vm.Container);t._get_nextStage=function(){return this._nextStage},t._set_nextStage=function(e){this._nextStage&&(this._nextStage._prevStage=null),e&&(e._prevStage=this),this._nextStage=e};try{Object.defineProperties(t,{nextStage:{get:t._get_nextStage,set:t._set_nextStage}})}catch(Wd){}t.update=function(e){if(this.canvas&&(this.tickOnUpdate&&this.tick(e),!1!==this.dispatchEvent("drawstart",!1,!0))){vm.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var t=this.drawRect,r=this.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),this.autoClear&&(t?r.clearRect(t.x,t.y,t.width,t.height):r.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),r.save(),this.drawRect&&(r.beginPath(),r.rect(t.x,t.y,t.width,t.height),r.clip()),this.updateContext(r),this.draw(r,!1),r.restore(),this.dispatchEvent("drawend")}},t.tick=function(e){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var t=new vm.Event("tick");if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);this._tick(t),this.dispatchEvent("tickend")}},t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){var r,o=this.canvas.getContext("2d"),s=this.canvas.width,i=this.canvas.height;if(e){r=o.getImageData(0,0,s,i);var a=o.globalCompositeOperation;o.globalCompositeOperation="destination-over",o.fillStyle=e,o.fillRect(0,0,s,i)}var n=this.canvas.toDataURL(t||"image/png");return e&&(o.putImageData(r,0,0),o.globalCompositeOperation=a),n},t.enableMouseOver=function(e){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==e&&this._testMouseOver(!0)),null==e)e=20;else if(e<=0)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,r,o=this._eventListeners;if(!e&&o){for(t in o)(r=o[t]).t.removeEventListener(t,r.f,!1);this._eventListeners=null}else if(e&&!o&&this.canvas){var s=window.addEventListener?window:document,i=this;for(t in(o=this._eventListeners={}).mouseup={t:s,f:function(e){i._handleMouseUp(e)}},o.mousemove={t:s,f:function(e){i._handleMouseMove(e)}},o.dblclick={t:this.canvas,f:function(e){i._handleDoubleClick(e)}},o.mousedown={t:this.canvas,f:function(e){i._handleMouseDown(e)}},o)(r=o[t]).t.addEventListener(t,r.f,!1)}},t.clone=function(){throw"Stage cannot be cloned."},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(c){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),o=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,i=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth),a=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),n=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),l=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:t.left+r+i,right:t.right+r-n,top:t.top+o+a,bottom:t.bottom+o-l}},t._getPointerData=function(e){var t=this._pointerData[e];return t||(t=this._pointerData[e]={x:0,y:0}),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,r,o,s){if((!this._prevStage||void 0!==s)&&this.canvas){var i=this._nextStage,a=this._getPointerData(e),n=a.inBounds;this._updatePointerPosition(e,t,r,o),(n||a.inBounds||this.mouseMoveOutside)&&(-1===e&&a.inBounds==!n&&this._dispatchMouseEvent(this,n?"mouseleave":"mouseenter",!1,e,a,t),this._dispatchMouseEvent(this,"stagemousemove",!1,e,a,t),this._dispatchMouseEvent(a.target,"pressmove",!0,e,a,t)),i&&i._handlePointerMove(e,t,r,o,null)}},t._updatePointerPosition=function(e,t,r,o){var s=this._getElementRect(this.canvas);r-=s.left,o-=s.top;var i=this.canvas.width,a=this.canvas.height;r/=(s.right-s.left)/i,o/=(s.bottom-s.top)/a;var n=this._getPointerData(e);(n.inBounds=r>=0&&o>=0&&r<=i-1&&o<=a-1)?(n.x=r,n.y=o):this.mouseMoveOutside&&(n.x=r<0?0:r>i-1?i-1:r,n.y=o<0?0:o>a-1?a-1:o),n.posEvtObj=t,n.rawX=r,n.rawY=o,e!==this._primaryPointerID&&-1!==e||(this.mouseX=n.x,this.mouseY=n.y,this.mouseInBounds=n.inBounds)},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,r,o){var s=this._nextStage,i=this._getPointerData(e);if(!this._prevStage||void 0!==o){var a=null,n=i.target;o||!n&&!s||(a=this._getObjectsUnderPoint(i.x,i.y,null,!0)),i.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,e,i,t,a),i.down=!1),a==n&&this._dispatchMouseEvent(n,"click",!0,e,i,t),this._dispatchMouseEvent(n,"pressup",!0,e,i,t),r?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):i.target=null,s&&s._handlePointerUp(e,t,r,o||a&&this)}},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,e.pageX,e.pageY)},t._handlePointerDown=function(e,t,r,o,s){this.preventSelection&&t.preventDefault(),null!=this._primaryPointerID&&-1!==e||(this._primaryPointerID=e),null!=o&&this._updatePointerPosition(e,t,r,o);var i=null,a=this._nextStage,n=this._getPointerData(e);s||(i=n.target=this._getObjectsUnderPoint(n.x,n.y,null,!0)),n.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,e,n,t,i),n.down=!0),this._dispatchMouseEvent(i,"mousedown",!0,e,n,t),a&&a._handlePointerDown(e,t,r,o,s||i&&this)},t._testMouseOver=function(e,t,r){if(!this._prevStage||void 0!==t){var o=this._nextStage;if(this._mouseOverIntervalID){var s=this._getPointerData(-1);if(s&&(e||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var i,a,n,l=s.posEvtObj,c=r||l&&l.target==this.canvas,m=null,u=-1,d="";!t&&(e||this.mouseInBounds&&c)&&(m=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var h=this._mouseOverTarget||[],p=h[h.length-1],f=this._mouseOverTarget=[];for(i=m;i;)f.unshift(i),d||(d=i.cursor),i=i.parent;for(this.canvas.style.cursor=d,!t&&r&&(r.canvas.style.cursor=d),a=0,n=f.length;a<n&&f[a]==h[a];a++)u=a;for(p!=m&&this._dispatchMouseEvent(p,"mouseout",!0,-1,s,l,m),a=h.length-1;a>u;a--)this._dispatchMouseEvent(h[a],"rollout",!1,-1,s,l,m);for(a=f.length-1;a>u;a--)this._dispatchMouseEvent(f[a],"rollover",!1,-1,s,l,p);p!=m&&this._dispatchMouseEvent(m,"mouseover",!0,-1,s,l,p),o&&o._testMouseOver(e,t||m&&this,r||c&&this)}}else o&&o._testMouseOver(e,t,r)}},t._handleDoubleClick=function(e,t){var r=null,o=this._nextStage,s=this._getPointerData(-1);t||(r=this._getObjectsUnderPoint(s.x,s.y,null,!0),this._dispatchMouseEvent(r,"dblclick",!0,-1,s,e)),o&&o._handleDoubleClick(e,t||r&&this)},t._dispatchMouseEvent=function(e,t,r,o,s,i,a){if(e&&(r||e.hasEventListener(t))){var n=new vm.MouseEvent(t,r,!1,s.x,s.y,i,o,o===this._primaryPointerID||-1===o,s.rawX,s.rawY,a);e.dispatchEvent(n)}},vm.Stage=vm.promote(e,"Container")}(),function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e?(this.image=document.createElement("img"),this.image.src=e):this.image=e,this.sourceRect=null}var t=vm.extend(e,vm.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.image,t=this.cacheCanvas||e&&(e.naturalWidth||e.getContext||e.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t)||!this.image)return!0;var r=this.image,o=this.sourceRect;if(o){var s=o.x,i=o.y,a=s+o.width,n=i+o.height,l=0,c=0,m=r.width,u=r.height;s<0&&(l-=s,s=0),a>m&&(a=m),i<0&&(c-=i,i=0),n>u&&(n=u),e.drawImage(r,s,i,a-s,n-i,l,c,a-s,n-i)}else e.drawImage(r,0,0);return!0},t.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;var t=this.image,r=this.sourceRect||t;return t&&(t.naturalWidth||t.getContext||t.readyState>=2)?this._rectangle.setValues(0,0,r.width,r.height):null},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this._cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},vm.Bitmap=vm.promote(e,"DisplayObject")}(),function(){function e(e,t){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=e,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=t&&this.gotoAndPlay(t)}var t=vm.extend(e,vm.DisplayObject);t.initialize=e,t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var r=this.spriteSheet.getFrame(0|this._currentFrame);if(!r)return!1;var o=r.rect;return o.width&&o.height&&e.drawImage(r.image,o.x,o.y,o.width,o.height,-r.regX,-r.regY,o.width,o.height),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._skipAdvance=!0,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(e){var t=this.framerate||this.spriteSheet.framerate,r=t&&null!=e?e/(1e3/t):1;this._normalizeFrame(r)},t.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},t.clone=function(){return this._cloneProps(new e(this.spriteSheet))},t.toString=function(){return"[Sprite (name="+this.name+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.currentAnimationFrame=this.currentAnimationFrame,e.framerate=this.framerate,e._animation=this._animation,e._currentFrame=this._currentFrame,e._skipAdvance=this._skipAdvance,e},t._tick=function(e){this.paused||(this._skipAdvance||this.advance(e&&e.delta),this._skipAdvance=!1),this.DisplayObject__tick(e)},t._normalizeFrame=function(e){e=e||0;var t,r=this._animation,o=this.paused,s=this._currentFrame;if(r){var i=r.speed||1,a=this.currentAnimationFrame;if(a+e*i>=(t=r.frames.length)){var n=r.next;if(this._dispatchAnimationEnd(r,s,o,n,t-1))return;if(n)return this._goto(n,e-(t-a)/i);this.paused=!0,a=r.frames.length-1}else a+=e*i;this.currentAnimationFrame=a,this._currentFrame=r.frames[0|a]}else if((s=this._currentFrame+=e)>=(t=this.spriteSheet.getNumFrames())&&t>0&&!this._dispatchAnimationEnd(r,s,o,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent("change"))},t._dispatchAnimationEnd=function(e,t,r,o,s){var i=e?e.name:null;if(this.hasEventListener("animationend")){var a=new vm.Event("animationend");a.name=i,a.next=o,this.dispatchEvent(a)}var n=this._animation!=e||this._currentFrame!=t;return n||r||!this.paused||(this.currentAnimationFrame=s,n=!0),n},t._goto=function(e,t){if(this.currentAnimationFrame=0,isNaN(e)){var r=this.spriteSheet.getAnimation(e);r&&(this._animation=r,this.currentAnimation=e,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=e,this._normalizeFrame()},vm.Sprite=vm.promote(e,"DisplayObject")}(),function(){function e(e){this.DisplayObject_constructor(),this.graphics=e||new vm.Graphics}var t=vm.extend(e,vm.DisplayObject);t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)||this.graphics.draw(e,this),!0},t.clone=function(t){var r=t&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new e(r))},t.toString=function(){return"[Shape (name="+this.name+")]"},vm.Shape=vm.promote(e,"DisplayObject")}(),function(){function e(e,t,r){this.DisplayObject_constructor(),this.text=e,this.font=t,this.color=r,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var t=vm.extend(e,vm.DisplayObject),r=vm.createCanvas?vm.createCanvas():document.createElement("canvas");r.getContext&&(e._workingContext=r.getContext("2d"),r.width=r.height=1),e.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},e.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var r=this.color||"#000";return this.outline?(e.strokeStyle=r,e.lineWidth=1*this.outline):e.fillStyle=r,this._drawText(this._prepContext(e)),!0},t.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},t.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},t.getMeasuredHeight=function(){return this._drawText(null,{}).height},t.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;if(null==this.text||""===this.text)return null;var r=this._drawText(null,{}),o=this.maxWidth&&this.maxWidth<r.width?this.maxWidth:r.width,s=o*e.H_OFFSETS[this.textAlign||"left"],i=(this.lineHeight||this.getMeasuredLineHeight())*e.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,i,o,r.height)},t.getMetrics=function(){var t={lines:[]};return t.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),t.vOffset=t.lineHeight*e.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,t,t.lines)},t.clone=function(){return this._cloneProps(new e(this.text,this.font,this.color))},t.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},t._cloneProps=function(e){return this.DisplayObject__cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth,e},t._prepContext=function(e){return e.font=this.font||"10px sans-serif",e.textAlign=this.textAlign||"left",e.textBaseline=this.textBaseline||"top",e},t._drawText=function(t,r,o){var s=!!t;s||((t=e._workingContext).save(),this._prepContext(t));for(var i=this.lineHeight||this.getMeasuredLineHeight(),a=0,n=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,m=l.length;c<m;c++){var u=l[c],d=null;if(null!=this.lineWidth&&(d=t.measureText(u).width)>this.lineWidth){var h=u.split(/(\s)/);u=h[0],d=t.measureText(u).width;for(var p=1,f=h.length;p<f;p+=2){var v=t.measureText(h[p]+h[p+1]).width;d+v>this.lineWidth?(s&&this._drawTextLine(t,u,n*i),o&&o.push(u),d>a&&(a=d),u=h[p+1],d=t.measureText(u).width,n++):(u+=h[p]+h[p+1],d+=v)}}s&&this._drawTextLine(t,u,n*i),o&&o.push(u),r&&null==d&&(d=t.measureText(u).width),d>a&&(a=d),n++}return r&&(r.width=a,r.height=n*i),s||t.restore(),r},t._drawTextLine=function(e,t,r){this.outline?e.strokeText(t,0,r,this.maxWidth||65535):e.fillText(t,0,r,this.maxWidth||65535)},t._getMeasuredWidth=function(t){var r=e._workingContext;r.save();var o=this._prepContext(r).measureText(t).width;return r.restore(),o},vm.Text=vm.promote(e,"DisplayObject")}(),function(){function e(e,t){this.Container_constructor(),this.text=e||"",this.spriteSheet=t,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var t=vm.extend(e,vm.Container);e.maxPoolSize=100,e._spritePool=[],t.draw=function(e,t){this.DisplayObject_draw(e,t)||(this._updateText(),this.Container_draw(e,t))},t.getBounds=function(){return this._updateText(),this.Container_getBounds()},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&e)},t.clone=function(){return this._cloneProps(new e(this.text,this.spriteSheet))},t.addChild=t.addChildAt=t.removeChild=t.removeChildAt=t.removeAllChildren=function(){},t._cloneProps=function(e){return this.Container__cloneProps(e),e.lineHeight=this.lineHeight,e.letterSpacing=this.letterSpacing,e.spaceWidth=this.spaceWidth,e},t._getFrameIndex=function(e,t){var r,o=t.getAnimation(e);return o||(e!=(r=e.toUpperCase())||e!=(r=e.toLowerCase())||(r=null),r&&(o=t.getAnimation(r))),o&&o.frames[0]},t._getFrame=function(e,t){var r=this._getFrameIndex(e,t);return null==r?r:t.getFrame(r)},t._getLineHeight=function(e){var t=this._getFrame("1",e)||this._getFrame("T",e)||this._getFrame("L",e)||e.getFrame(0);return t?t.rect.height:1},t._getSpaceWidth=function(e){var t=this._getFrame("1",e)||this._getFrame("l",e)||this._getFrame("e",e)||this._getFrame("a",e)||e.getFrame(0);return t?t.rect.width:1},t._updateText=function(){var t,r=0,o=0,s=this._oldProps,i=!1,a=this.spaceWidth,n=this.lineHeight,l=this.spriteSheet,c=e._spritePool,m=this.children,u=0,d=m.length;for(var h in s)s[h]!=this[h]&&(s[h]=this[h],i=!0);if(i){var p=!!this._getFrame(" ",l);p||a||(a=this._getSpaceWidth(l)),n||(n=this._getLineHeight(l));for(var f=0,v=this.text.length;f<v;f++){var b=this.text.charAt(f);if(" "!=b||p)if("\n"!=b&&"\r"!=b){var g=this._getFrameIndex(b,l);null!=g&&(u<d?t=m[u]:(m.push(t=c.length?c.pop():new vm.Sprite),t.parent=this,d++),t.spriteSheet=l,t.gotoAndStop(g),t.x=r,t.y=o,u++,r+=t.getBounds().width+this.letterSpacing)}else"\r"==b&&"\n"==this.text.charAt(f+1)&&f++,r=0,o+=n;else r+=a}for(;d>u;)c.push(t=m.pop()),t.parent=null,d--;c.length>e.maxPoolSize&&(c.length=e.maxPoolSize)}},vm.BitmapText=vm.promote(e,"Container")}(),function(){function e(t,r,o,s){this.Container_constructor(),!e.inited&&e.init(),this.mode=t||e.INDEPENDENT,this.startPosition=r||0,this.loop=o,this.currentFrame=0,this.timeline=new vm.Timeline(null,s,{paused:!0,position:r,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}var t=vm.extend(e,vm.Container);e.INDEPENDENT="independent",e.SINGLE_FRAME="single",e.SYNCHED="synched",e.inited=!1,e.init=function(){e.inited||(r.install(),e.inited=!0)},t.getLabels=function(){return this.timeline.getLabels()},t.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},t.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(t,{labels:{get:t.getLabels},currentLabel:{get:t.getCurrentLabel},totalFrames:{get:t.getDuration},duration:{get:t.getDuration}})}catch(Wd){}function r(){throw"MovieClipPlugin cannot be instantiated."}t.initialize=e,t.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},t.draw=function(e,t){return this.DisplayObject_draw(e,t)||(this._updateTimeline(),this.Container_draw(e,t)),!0},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(t){var r=e.INDEPENDENT;if(this.mode==r){for(var o=this,s=o.framerate;(o=o.parent)&&null==s;)o.mode==r&&(s=o._framerate);this._framerate=s;var i=null!=s&&-1!=s&&null!=t?t/(1e3/s)+this._t:1,a=0|i;for(this._t=i-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},t.clone=function(){throw"MovieClip cannot be cloned."},t.toString=function(){return"[MovieClip (name="+this.name+")]"},t._tick=function(e){this.advance(e&&e.delta),this.Container__tick(e)},t._goto=function(e){var t=this.timeline.resolve(e);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())},t._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},t._updateTimeline=function(){var t=this.timeline,r=this.mode!=e.INDEPENDENT;t.loop=null==this.loop||this.loop;var o=r?this.startPosition+(this.mode==e.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,s=r||!this.actionsEnabled?vm.Tween.NONE:null;if(this.currentFrame=t._calcPosition(o),t.setPosition(o,s),this._prevPosition=t._prevPosition,this._prevPos!=t._prevPos){for(var i in this.currentFrame=this._prevPos=t._prevPos,this._managed)this._managed[i]=1;for(var a=t._tweens,n=0,l=a.length;n<l;n++){var c=a[n],m=c._target;if(m!=this&&!c.passive){var u=c._stepPosition;m instanceof vm.DisplayObject?this._addManagedChild(m,u):this._setState(m.state,u)}}var d=this.children;for(n=d.length-1;n>=0;n--){var h=d[n].id;1==this._managed[h]&&(this.removeChildAt(n),delete this._managed[h])}}},t._setState=function(e,t){if(e)for(var r=e.length-1;r>=0;r--){var o=e[r],s=o.t,i=o.p;for(var a in i)s[a]=i[a];this._addManagedChild(s,t)}},t._addManagedChild=function(t,r){t._off||(this.addChildAt(t,0),t instanceof e&&(t._synchOffset=r,t.mode==e.INDEPENDENT&&t.autoReset&&!this._managed[t.id]&&t._reset()),this._managed[t.id]=2)},t._getBounds=function(e,t){var r=this.DisplayObject_getBounds();return r||(this._updateTimeline(),this.frameBounds&&(r=this._rectangle.copy(this.frameBounds[this.currentFrame]))),r?this._transformBounds(r,e,t):this.Container__getBounds(e,t)},vm.MovieClip=vm.promote(e,"Container"),r.priority=100,r.install=function(){vm.Tween.installPlugin(r,["startPosition"])},r.init=function(e,t,r){return r},r.step=function(){},r.tween=function(t,r,o,s,i,a,n,l){return t.target instanceof e?1==a?i[r]:s[r]:o}}(),function(){function e(){throw"SpriteSheetUtils cannot be instantiated"}var t=vm.createCanvas?vm.createCanvas():document.createElement("canvas");t.getContext&&(e._workingCanvas=t,e._workingContext=t.getContext("2d"),t.width=t.height=1),e.addFlippedFrames=function(t,r,o,s){if(r||o||s){var i=0;r&&e._flip(t,++i,!0,!1),o&&e._flip(t,++i,!1,!0),s&&e._flip(t,++i,!0,!0)}},e.extractFrame=function(t,r){isNaN(r)&&(r=t.getAnimation(r).frames[0]);var o=t.getFrame(r);if(!o)return null;var s=o.rect,i=e._workingCanvas;i.width=s.width,i.height=s.height,e._workingContext.drawImage(o.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=i.toDataURL("image/png"),a},e.mergeAlpha=function(e,t,r){r||(r=vm.createCanvas?vm.createCanvas():document.createElement("canvas")),r.width=Math.max(t.width,e.width),r.height=Math.max(t.height,e.height);var o=r.getContext("2d");return o.save(),o.drawImage(e,0,0),o.globalCompositeOperation="destination-in",o.drawImage(t,0,0),o.restore(),r},e._flip=function(t,r,o,s){for(var i=t._images,a=e._workingCanvas,n=e._workingContext,l=i.length/r,c=0;c<l;c++){var m=i[c];m.__tmp=c,n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,a.width+1,a.height+1),a.width=m.width,a.height=m.height,n.setTransform(o?-1:1,0,0,s?-1:1,o?m.width:0,s?m.height:0),n.drawImage(m,0,0);var u=document.createElement("img");u.src=a.toDataURL("image/png"),u.width=m.width,u.height=m.height,i.push(u)}var d=t._frames,h=d.length/r;for(c=0;c<h;c++){var p=(m=d[c]).rect.clone(),f={image:u=i[m.image.__tmp+l*r],rect:p,regX:m.regX,regY:m.regY};o&&(p.x=u.width-p.x-p.width,f.regX=p.width-m.regX),s&&(p.y=u.height-p.y-p.height,f.regY=p.height-m.regY),d.push(f)}var v="_"+(o?"h":"")+(s?"v":""),b=t._animations,g=t._data,x=b.length/r;for(c=0;c<x;c++){var N=b[c],w={name:N+v,speed:(m=g[N]).speed,next:m.next,frames:[]};m.next&&(w.next+=v);for(var y=0,_=(d=m.frames).length;y<_;y++)w.frames.push(d[y]+h*r);g[w.name]=w,b.push(w.name)}},vm.SpriteSheetUtils=e}(),function(){function e(e){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=e||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var t=vm.extend(e,vm.EventDispatcher);e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.addFrame=function(t,r,o,s,i){if(this._data)throw e.ERR_RUNNING;var a=r||t.bounds||t.nominalBounds;return!a&&t.getBounds&&(a=t.getBounds()),a?(o=o||1,this._frames.push({source:t,sourceRect:a,scale:o,funct:s,data:i,index:this._frames.length,height:a.height*o})-1):null},t.addAnimation=function(t,r,o,s){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:r,next:o,speed:s}},t.addMovieClip=function(t,r,o,s,i,a){if(this._data)throw e.ERR_RUNNING;var n=t.frameBounds,l=r||t.bounds||t.nominalBounds;if(!l&&t.getBounds&&(l=t.getBounds()),l||n){var c,m,u=this._frames.length,d=t.timeline.duration;for(c=0;c<d;c++){var h=n&&n[c]?n[c]:l;this.addFrame(t,h,o,this._setupMovieClipFrame,{i:c,f:s,d:i})}var p=t.timeline._labels,f=[];for(var v in p)f.push({index:p[v],label:v});if(f.length)for(f.sort(function(e,t){return e.index-t.index}),c=0,m=f.length;c<m;c++){for(var b=f[c].label,g=u+f[c].index,x=u+(c==m-1?d:f[c+1].index),N=[],w=g;w<x;w++)N.push(w);a&&!(b=a(b,t,g,x))||this.addAnimation(b,N,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var r=this;this._timerID=setTimeout(function(){r._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var r=[];this._data={images:[],frames:r,framerate:this.framerate,animations:this._animations};var o=this._frames.slice();if(o.sort(function(e,t){return e.height<=t.height?-1:1}),o[o.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var s=0,i=0,a=0;o.length;){var n=this._fillRow(o,s,a,r,t);if(n.w>i&&(i=n.w),s+=n.h,!n.h||!o.length){var l=vm.createCanvas?vm.createCanvas():document.createElement("canvas");l.width=this._getSize(i,this.maxWidth),l.height=this._getSize(s,this.maxHeight),this._data.images[a]=l,n.h||(i=s=0,a++)}}},t._setupMovieClipFrame=function(e,t){var r=e.actionsEnabled;e.actionsEnabled=!1,e.gotoAndStop(t.i),e.actionsEnabled=r,t.f&&t.f(e,t.d,t.i)},t._getSize=function(e,t){for(var r=4;Math.pow(2,++r)<e;);return Math.min(t,Math.pow(2,r))},t._fillRow=function(t,r,o,s,i){for(var a=this.maxWidth,n=this.maxHeight-(r+=i),l=i,c=0,m=t.length-1;m>=0;m--){var u=t[m],d=this._scale*u.scale,h=u.sourceRect,p=u.source,f=Math.floor(d*h.x-i),v=Math.floor(d*h.y-i),b=Math.ceil(d*h.height+2*i),g=Math.ceil(d*h.width+2*i);if(g>a)throw e.ERR_DIMENSIONS;b>n||l+g>a||(u.img=o,u.rect=new vm.Rectangle(l,r,g,b),c=c||b,t.splice(m,1),s[u.index]=[l,r,g,b,o,Math.round(-f+d*p.regX-i),Math.round(-v+d*p.regY-i)],l+=g)}return{w:l,h:c}},t._endBuild=function(){this.spriteSheet=new vm.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,r=!1;t>(new Date).getTime();)if(!this._drawNext()){r=!0;break}if(r)this._endBuild();else{var o=this;this._timerID=setTimeout(function(){o._run()},50-e)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var i=new vm.Event("progress");i.progress=s,this.dispatchEvent(i)}},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,r=e.rect,o=e.sourceRect,s=this._data.images[e.img].getContext("2d");return e.funct&&e.funct(e.source,e.data),s.save(),s.beginPath(),s.rect(r.x,r.y,r.width,r.height),s.clip(),s.translate(Math.ceil(r.x-o.x*t),Math.ceil(r.y-o.y*t)),s.scale(t,t),e.source.draw(s),s.restore(),++this._index<this._frames.length},vm.SpriteSheetBuilder=vm.promote(e,"EventDispatcher")}(),function(){function e(e){this.DisplayObject_constructor(),"string"==typeof e&&(e=document.getElementById(e)),this.mouseEnabled=!1;var t=e.style;t.position="absolute",t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%",this.htmlElement=e,this._oldProps=null}var t=vm.extend(e,vm.DisplayObject);t.isVisible=function(){return null!=this.htmlElement},t.draw=function(e,t){return!0},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t._tick=function(e){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(e)},t._handleDrawEnd=function(e){var t=this.htmlElement;if(t){var r=t.style,o=this.getConcatenatedDisplayProps(this._props),s=o.matrix,i=o.visible?"visible":"hidden";if(i!=r.visibility&&(r.visibility=i),o.visible){var a=this._oldProps,n=a&&a.matrix,l=1e4;if(!n||!n.equals(s)){var c="matrix("+(s.a*l|0)/l+","+(s.b*l|0)/l+","+(s.c*l|0)/l+","+(s.d*l|0)/l+","+(s.tx+.5|0);r.transform=r.WebkitTransform=r.OTransform=r.msTransform=c+","+(s.ty+.5|0)+")",r.MozTransform=c+"px,"+(s.ty+.5|0)+"px)",a||(a=this._oldProps=new vm.DisplayProps(!0,NaN)),a.matrix.copy(s)}a.alpha!=o.alpha&&(r.opacity=""+(o.alpha*l|0)/l,a.alpha=o.alpha)}}},vm.DOMElement=vm.promote(e,"DisplayObject")}(),function(){function e(){}var t=e.prototype;t.getBounds=function(e){return e},t.applyFilter=function(e,t,r,o,s,i,a,n){i=i||e,null==a&&(a=t),null==n&&(n=r);try{var l=e.getImageData(t,r,o,s)}catch(Wd){return!1}return!!this._applyFilter(l)&&(i.putImageData(l,a,n),!0)},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},t._applyFilter=function(e){return!0},vm.Filter=e}(),function(){function e(e,t,r){(isNaN(e)||e<0)&&(e=0),(isNaN(t)||t<0)&&(t=0),(isNaN(r)||r<1)&&(r=1),this.blurX=0|e,this.blurY=0|t,this.quality=0|r}var t=vm.extend(e,vm.Filter);e.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],t.getBounds=function(e){var t=0|this.blurX,r=0|this.blurY;if(t<=0&&r<=0)return e;var o=Math.pow(this.quality,.2);return(e||new vm.Rectangle).pad(t*o+1,r*o+1,t*o+1,r*o+1)},t.clone=function(){return new e(this.blurX,this.blurY,this.quality)},t.toString=function(){return"[BlurFilter]"},t._applyFilter=function(t){var r=this.blurX>>1;if(isNaN(r)||r<0)return!1;var o=this.blurY>>1;if(isNaN(o)||o<0)return!1;if(0==r&&0==o)return!1;var s=this.quality;(isNaN(s)||s<1)&&(s=1),(s|=0)>3&&(s=3),s<1&&(s=1);var i=t.data,a=0,n=0,l=0,c=0,m=0,u=0,d=0,h=0,p=0,f=0,v=0,b=0,g=0,x=0,N=0,w=r+r+1|0,y=o+o+1|0,_=0|t.width,D=0|t.height,E=_-1|0,S=D-1|0,j=r+1|0,P=o+1|0,C={r:0,b:0,g:0,a:0},U=C;for(l=1;l<w;l++)U=U.n={r:0,b:0,g:0,a:0};U.n=C;var T={r:0,b:0,g:0,a:0},k=T;for(l=1;l<y;l++)k=k.n={r:0,b:0,g:0,a:0};k.n=T;for(var V=null,A=0|e.MUL_TABLE[r],M=0|e.SHG_TABLE[r],R=0|e.MUL_TABLE[o],I=0|e.SHG_TABLE[o];s-- >0;){d=u=0;var L=A,O=M;for(n=D;--n>-1;){for(h=j*(b=i[0|u]),p=j*(g=i[u+1|0]),f=j*(x=i[u+2|0]),v=j*(N=i[u+3|0]),U=C,l=j;--l>-1;)U.r=b,U.g=g,U.b=x,U.a=N,U=U.n;for(l=1;l<j;l++)c=u+((E<l?E:l)<<2)|0,h+=U.r=i[c],p+=U.g=i[c+1],f+=U.b=i[c+2],v+=U.a=i[c+3],U=U.n;for(V=C,a=0;a<_;a++)i[u++]=h*L>>>O,i[u++]=p*L>>>O,i[u++]=f*L>>>O,i[u++]=v*L>>>O,c=d+((c=a+r+1)<E?c:E)<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n;d+=_}for(L=R,O=I,a=0;a<_;a++){for(h=P*(b=i[u=a<<2])|0,p=P*(g=i[u+1|0])|0,f=P*(x=i[u+2|0])|0,v=P*(N=i[u+3|0])|0,k=T,l=0;l<P;l++)k.r=b,k.g=g,k.b=x,k.a=N,k=k.n;for(m=_,l=1;l<=o;l++)u=m+a<<2,h+=k.r=i[u],p+=k.g=i[u+1],f+=k.b=i[u+2],v+=k.a=i[u+3],k=k.n,l<S&&(m+=_);if(u=a,V=T,s>0)for(n=0;n<D;n++)i[3+(c=u<<2)]=N=v*L>>>O,N>0?(i[c]=h*L>>>O,i[c+1]=p*L>>>O,i[c+2]=f*L>>>O):i[c]=i[c+1]=i[c+2]=0,c=a+((c=n+P)<S?c:S)*_<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n,u+=_;else for(n=0;n<D;n++)i[3+(c=u<<2)]=N=v*L>>>O,N>0?(N=255/N,i[c]=(h*L>>>O)*N,i[c+1]=(p*L>>>O)*N,i[c+2]=(f*L>>>O)*N):i[c]=i[c+1]=i[c+2]=0,c=a+((c=n+P)<S?c:S)*_<<2,h-=V.r-(V.r=i[c]),p-=V.g-(V.g=i[c+1]),f-=V.b-(V.b=i[c+2]),v-=V.a-(V.a=i[c+3]),V=V.n,u+=_}}return!0},vm.BlurFilter=vm.promote(e,"Filter")}(),function(){function e(e){this.alphaMap=e,this._alphaMap=null,this._mapData=null}var t=vm.extend(e,vm.Filter);t.clone=function(){var t=new e(this.alphaMap);return t._alphaMap=this._alphaMap,t._mapData=this._mapData,t},t.toString=function(){return"[AlphaMapFilter]"},t._applyFilter=function(e){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var t=e.data,r=this._mapData,o=0,s=t.length;o<s;o+=4)t[o+3]=r[o]||0;return!0},t._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var e,t=this._alphaMap=this.alphaMap,r=t;t instanceof HTMLCanvasElement?e=r.getContext("2d"):((r=vm.createCanvas?vm.createCanvas():document.createElement("canvas")).width=t.width,r.height=t.height,(e=r.getContext("2d")).drawImage(t,0,0));try{var o=e.getImageData(0,0,t.width,t.height)}catch(Wd){return!1}return this._mapData=o.data,!0},vm.AlphaMapFilter=vm.promote(e,"Filter")}(),function(){function e(e){this.mask=e}var t=vm.extend(e,vm.Filter);t.applyFilter=function(e,t,r,o,s,i,a,n){return!this.mask||(null==a&&(a=t),null==n&&(n=r),(i=i||e).save(),e==i&&(i.globalCompositeOperation="destination-in",i.drawImage(this.mask,a,n),i.restore(),!0))},t.clone=function(){return new e(this.mask)},t.toString=function(){return"[AlphaMaskFilter]"},vm.AlphaMaskFilter=vm.promote(e,"Filter")}(),function(){function e(e,t,r,o,s,i,a,n){this.redMultiplier=null!=e?e:1,this.greenMultiplier=null!=t?t:1,this.blueMultiplier=null!=r?r:1,this.alphaMultiplier=null!=o?o:1,this.redOffset=s||0,this.greenOffset=i||0,this.blueOffset=a||0,this.alphaOffset=n||0}var t=vm.extend(e,vm.Filter);t.toString=function(){return"[ColorFilter]"},t.clone=function(){return new e(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},t._applyFilter=function(e){for(var t=e.data,r=t.length,o=0;o<r;o+=4)t[o]=t[o]*this.redMultiplier+this.redOffset,t[o+1]=t[o+1]*this.greenMultiplier+this.greenOffset,t[o+2]=t[o+2]*this.blueMultiplier+this.blueOffset,t[o+3]=t[o+3]*this.alphaMultiplier+this.alphaOffset;return!0},vm.ColorFilter=vm.promote(e,"Filter")}(),function(){function e(e,t,r,o){this.setColor(e,t,r,o)}var t=e.prototype;e.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e.LENGTH=e.IDENTITY_MATRIX.length,t.setColor=function(e,t,r,o){return this.reset().adjustColor(e,t,r,o)},t.reset=function(){return this.copy(e.IDENTITY_MATRIX)},t.adjustColor=function(e,t,r,o){return this.adjustHue(o),this.adjustContrast(t),this.adjustBrightness(e),this.adjustSaturation(r)},t.adjustBrightness=function(e){return 0==e||isNaN(e)||(e=this._cleanValue(e,255),this._multiplyMatrix([1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])),this},t.adjustContrast=function(t){return 0==t||isNaN(t)||(r=(t=this._cleanValue(t,100))<0?127+t/100*127:127*(r=0==(r=t%1)?e.DELTA_INDEX[t]:e.DELTA_INDEX[0|t]*(1-r)+e.DELTA_INDEX[1+(0|t)]*r)+127,this._multiplyMatrix([r/127,0,0,0,.5*(127-r),0,r/127,0,0,.5*(127-r),0,0,r/127,0,.5*(127-r),0,0,0,1,0,0,0,0,0,1])),this;var r},t.adjustSaturation=function(e){if(0==e||isNaN(e))return this;var t=1+((e=this._cleanValue(e,100))>0?3*e/100:e/100),r=.3086,o=.6094,s=.082;return this._multiplyMatrix([r*(1-t)+t,o*(1-t),s*(1-t),0,0,r*(1-t),o*(1-t)+t,s*(1-t),0,0,r*(1-t),o*(1-t),s*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.adjustHue=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,180)/180*Math.PI;var t=Math.cos(e),r=Math.sin(e),o=.213,s=.715,i=.072;return this._multiplyMatrix([o+.787*t+r*-o,s+t*-s+r*-s,i+t*-i+.928*r,0,0,o+t*-o+.143*r,s+t*(1-s)+.14*r,i+t*-i+-.283*r,0,0,o+t*-o+-.787*r,s+t*-s+r*s,i+.928*t+r*i,0,0,0,0,0,1,0,0,0,0,0,1]),this},t.concat=function(t){return(t=this._fixMatrix(t)).length!=e.LENGTH||this._multiplyMatrix(t),this},t.clone=function(){return(new e).copy(this)},t.toArray=function(){for(var t=[],r=0,o=e.LENGTH;r<o;r++)t[r]=this[r];return t},t.copy=function(t){for(var r=e.LENGTH,o=0;o<r;o++)this[o]=t[o];return this},t.toString=function(){return"[ColorMatrix]"},t._multiplyMatrix=function(e){var t,r,o,s=[];for(t=0;t<5;t++){for(r=0;r<5;r++)s[r]=this[r+5*t];for(r=0;r<5;r++){var i=0;for(o=0;o<5;o++)i+=e[r+5*o]*s[o];this[r+5*t]=i}}},t._cleanValue=function(e,t){return Math.min(t,Math.max(-t,e))},t._fixMatrix=function(t){return t instanceof e&&(t=t.toArray()),t.length<e.LENGTH?t=t.slice(0,t.length).concat(e.IDENTITY_MATRIX.slice(t.length,e.LENGTH)):t.length>e.LENGTH&&(t=t.slice(0,e.LENGTH)),t},vm.ColorMatrix=e}(),function(){function e(e){this.matrix=e}var t=vm.extend(e,vm.Filter);t.toString=function(){return"[ColorMatrixFilter]"},t.clone=function(){return new e(this.matrix)},t._applyFilter=function(e){for(var t,r,o,s,i=e.data,a=i.length,n=this.matrix,l=n[0],c=n[1],m=n[2],u=n[3],d=n[4],h=n[5],p=n[6],f=n[7],v=n[8],b=n[9],g=n[10],x=n[11],N=n[12],w=n[13],y=n[14],_=n[15],D=n[16],E=n[17],S=n[18],j=n[19],P=0;P<a;P+=4)t=i[P],r=i[P+1],o=i[P+2],s=i[P+3],i[P]=t*l+r*c+o*m+s*u+d,i[P+1]=t*h+r*p+o*f+s*v+b,i[P+2]=t*g+r*x+o*N+s*w+y,i[P+3]=t*_+r*D+o*E+s*S+j;return!0},vm.ColorMatrixFilter=vm.promote(e,"Filter")}(),function(){function e(){throw"Touch cannot be instantiated"}e.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},e.enable=function(t,r,o){return!!(t&&t.canvas&&e.isSupported())&&(t.__touch||(t.__touch={pointers:{},multitouch:!r,preventDefault:!o,count:0},"ontouchstart"in window?e._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_enable(t)),!0)},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&e._IE_disable(t),delete t.__touch)},e._IOS_enable=function(t){var r=t.canvas,o=t.__touch.f=function(r){e._IOS_handleEvent(t,r)};r.addEventListener("touchstart",o,!1),r.addEventListener("touchmove",o,!1),r.addEventListener("touchend",o,!1),r.addEventListener("touchcancel",o,!1)},e._IOS_disable=function(e){var t=e.canvas;if(t){var r=e.__touch.f;t.removeEventListener("touchstart",r,!1),t.removeEventListener("touchmove",r,!1),t.removeEventListener("touchend",r,!1),t.removeEventListener("touchcancel",r,!1)}},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var r=t.changedTouches,o=t.type,s=0,i=r.length;s<i;s++){var a=r[s],n=a.identifier;a.target==e.canvas&&("touchstart"==o?this._handleStart(e,n,t,a.pageX,a.pageY):"touchmove"==o?this._handleMove(e,n,t,a.pageX,a.pageY):"touchend"!=o&&"touchcancel"!=o||this._handleEnd(e,n,t))}}},e._IE_enable=function(t){var r=t.canvas,o=t.__touch.f=function(r){e._IE_handleEvent(t,r)};void 0===window.navigator.pointerEnabled?(r.addEventListener("MSPointerDown",o,!1),window.addEventListener("MSPointerMove",o,!1),window.addEventListener("MSPointerUp",o,!1),window.addEventListener("MSPointerCancel",o,!1),t.__touch.preventDefault&&(r.style.msTouchAction="none")):(r.addEventListener("pointerdown",o,!1),window.addEventListener("pointermove",o,!1),window.addEventListener("pointerup",o,!1),window.addEventListener("pointercancel",o,!1),t.__touch.preventDefault&&(r.style.touchAction="none")),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),e.canvas&&e.canvas.removeEventListener("pointerdown",t,!1))},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var r=t.type,o=t.pointerId,s=e.__touch.activeIDs;if("MSPointerDown"==r||"pointerdown"==r){if(t.srcElement!=e.canvas)return;s[o]=!0,this._handleStart(e,o,t,t.pageX,t.pageY)}else s[o]&&("MSPointerMove"==r||"pointermove"==r?this._handleMove(e,o,t,t.pageX,t.pageY):"MSPointerUp"!=r&&"MSPointerCancel"!=r&&"pointerup"!=r&&"pointercancel"!=r||(delete s[o],this._handleEnd(e,o,t)))}},e._handleStart=function(e,t,r,o,s){var i=e.__touch;if(i.multitouch||!i.count){var a=i.pointers;a[t]||(a[t]=!0,i.count++,e._handlePointerDown(t,r,o,s))}},e._handleMove=function(e,t,r,o,s){e.__touch.pointers[t]&&e._handlePointerMove(t,r,o,s)},e._handleEnd=function(e,t,r){var o=e.__touch,s=o.pointers;s[t]&&(o.count--,e._handlePointerUp(t,r,!0),delete s[t])},vm.Touch=e}(),(hm=vm.EaselJS=vm.EaselJS||{}).version="0.8.2",hm.buildDate="Thu, 26 Nov 2015 20:44:34 GMT",function(){var e=vm.PreloadJS=vm.PreloadJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),vm.proxy=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(r))}},function(){function e(e,t,r){this.Event_constructor("error"),this.title=e,this.message=t,this.data=r}vm.extend(e,vm.Event).clone=function(){return new vm.ErrorEvent(this.title,this.message,this.data)},vm.ErrorEvent=vm.promote(e,"Event")}(),function(){function e(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}vm.extend(e,vm.Event).clone=function(){return new vm.ProgressEvent(this.loaded,this.total)},vm.ProgressEvent=vm.promote(e,"Event")}(),function(){var e={function:!0,object:!0},t=dm&&!dm.nodeType&&dm,r=e[typeof window]&&window||this,o=t&&e.object&&um&&!um.nodeType&&"object"==typeof c&&c;function s(t,o){t||(t=r.Object()),o||(o=r.Object());var i=t.Number||r.Number,a=t.String||r.String,n=t.Object||r.Object,l=t.Date||r.Date,c=t.SyntaxError||r.SyntaxError,m=t.TypeError||r.TypeError,u=t.Math||r.Math,d=t.JSON||r.JSON;"object"==typeof d&&d&&(o.stringify=d.stringify,o.parse=d.parse);var h,p,f,v=n.prototype,b=v.toString,g=new l(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(B){}function x(e){if(x[e]!==f)return x[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=x("json-stringify")&&x("json-parse");else{var r,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var n=o.stringify,c="function"==typeof n&&g;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===n(0)&&"0"===n(new i)&&'""'==n(new a)&&n(b)===f&&n(f)===f&&n()===f&&"1"===n(r)&&"[1]"==n([r])&&"[null]"==n([f])&&"null"==n(null)&&"[null,null,null]"==n([f,b,null])&&n({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===n(null,r)&&"[\n 1,\n 2\n]"==n([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==n(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==n(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==n(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==n(new l(-1))}catch(B){c=!1}}t=c}if("json-parse"==e){var m=o.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){var u=5==(r=m(s)).a.length&&1===r.a[0];if(u){try{u=!m('"\t"')}catch(B){}if(u)try{u=1!==m("01")}catch(B){}if(u)try{u=1!==m("1.")}catch(B){}}}}catch(B){u=!1}t=u}}return x[e]=!!t}if(!x("json")){var N="[object Function]",w="[object Number]",y="[object String]",_="[object Array]",D=x("bug-string-char-index");if(!g)var E=u.floor,S=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return S[t]+365*(e-1970)+E((e-1969+(t=+(t>1)))/4)-E((e-1901+t)/100)+E((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=b?h=function(e){var t=this.__proto__,r=e in(this.__proto__=null,this);return this.__proto__=t,r}:(t=r.constructor,h=function(e){var r=(this.constructor||t).prototype;return e in this&&!(e in r&&this[e]===r[e])}),r=null,h.call(this,e)}),p=function(t,r){var o,s,i,a=0;for(i in(o=function(){this.valueOf=0}).prototype.valueOf=0,s=new o)h.call(s,i)&&a++;return o=s=null,a?p=2==a?function(e,t){var r,o={},s=b.call(e)==N;for(r in e)s&&"prototype"==r||h.call(o,r)||!(o[r]=1)||!h.call(e,r)||t(r)}:function(e,t){var r,o,s=b.call(e)==N;for(r in e)s&&"prototype"==r||!h.call(e,r)||(o="constructor"===r)||t(r);(o||h.call(e,r="constructor"))&&t(r)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(t,r){var o,i,a=b.call(t)==N,n=!a&&"function"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||h;for(o in t)a&&"prototype"==o||!n.call(t,o)||r(o);for(i=s.length;o=s[--i];n.call(t,o)&&r(o));}),p(t,r)},!x("json-stringify")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C=function(e,t){return("000000"+(t||0)).slice(-e)},U=function(e){for(var t='"',r=0,o=e.length,s=!D||o>10,i=s&&(D?e.split(""):e);r<o;r++){var a=e.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=P[a];break;default:if(a<32){t+="\\u00"+C(2,a.toString(16));break}t+=s?i[r]:e.charAt(r)}}return t+'"'},T=function(e,t,r,o,s,i,a){var n,l,c,u,d,v,g,x,N,D,S,P,k,V,A,M;try{n=t[e]}catch(B){}if("object"==typeof n&&n)if("[object Date]"!=(l=b.call(n))||h.call(n,"toJSON"))"function"==typeof n.toJSON&&(l!=w&&l!=y&&l!=_||h.call(n,"toJSON"))&&(n=n.toJSON(e));else if(n>-1/0&&n<1/0){if(j){for(d=E(n/864e5),c=E(d/365.2425)+1970-1;j(c+1,0)<=d;c++);for(u=E((d-j(c,0))/30.42);j(c,u+1)<=d;u++);d=1+d-j(c,u),g=E((v=(n%864e5+864e5)%864e5)/36e5)%24,x=E(v/6e4)%60,N=E(v/1e3)%60,D=v%1e3}else c=n.getUTCFullYear(),u=n.getUTCMonth(),d=n.getUTCDate(),g=n.getUTCHours(),x=n.getUTCMinutes(),N=n.getUTCSeconds(),D=n.getUTCMilliseconds();n=(c<=0||c>=1e4?(c<0?"-":"+")+C(6,c<0?-c:c):C(4,c))+"-"+C(2,u+1)+"-"+C(2,d)+"T"+C(2,g)+":"+C(2,x)+":"+C(2,N)+"."+C(3,D)+"Z"}else n=null;if(r&&(n=r.call(t,e,n)),null===n)return"null";if("[object Boolean]"==(l=b.call(n)))return""+n;if(l==w)return n>-1/0&&n<1/0?""+n:"null";if(l==y)return U(""+n);if("object"==typeof n){for(V=a.length;V--;)if(a[V]===n)throw m();if(a.push(n),S=[],A=i,i+=s,l==_){for(k=0,V=n.length;k<V;k++)P=T(k,n,r,o,s,i,a),S.push(P===f?"null":P);M=S.length?s?"[\n"+i+S.join(",\n"+i)+"\n"+A+"]":"["+S.join(",")+"]":"[]"}else p(o||n,function(e){var t=T(e,n,r,o,s,i,a);t!==f&&S.push(U(e)+":"+(s?" ":"")+t)}),M=S.length?s?"{\n"+i+S.join(",\n"+i)+"\n"+A+"}":"{"+S.join(",")+"}":"{}";return a.pop(),M}};o.stringify=function(t,r,o){var s,i,a,n;if(e[typeof r]&&r)if((n=b.call(r))==N)i=r;else if(n==_){a={};for(var l,c=0,m=r.length;c<m;l=r[c++],((n=b.call(l))==y||n==w)&&(a[l]=1));}if(o)if((n=b.call(o))==w){if((o-=o%1)>0)for(s="",o>10&&(o=10);s.length<o;s+=" ");}else n==y&&(s=o.length<=10?o:o.slice(0,10));return T("",((l={})[""]=t,l),i,a,s,"",[])}}if(!x("json-parse")){var k,V,A=a.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R=function(){throw k=V=null,c()},I=function(){for(var e,t,r,o,s,i=V,a=i.length;k<a;)switch(s=i.charCodeAt(k)){case 9:case 10:case 13:case 32:k++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=D?i.charAt(k):i[k],k++,e;case 34:for(e="@",k++;k<a;)if((s=i.charCodeAt(k))<32)R();else if(92==s)switch(s=i.charCodeAt(++k)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[s],k++;break;case 117:for(t=++k,r=k+4;k<r;k++)(s=i.charCodeAt(k))>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||R();e+=A("0x"+i.slice(t,k));break;default:R()}else{if(34==s)break;for(s=i.charCodeAt(k),t=k;s>=32&&92!=s&&34!=s;)s=i.charCodeAt(++k);e+=i.slice(t,k)}if(34==i.charCodeAt(k))return k++,e;R();default:if(t=k,45==s&&(o=!0,s=i.charCodeAt(++k)),s>=48&&s<=57){for(48==s&&(s=i.charCodeAt(k+1))>=48&&s<=57&&R(),o=!1;k<a&&(s=i.charCodeAt(k))>=48&&s<=57;k++);if(46==i.charCodeAt(k)){for(r=++k;r<a&&(s=i.charCodeAt(r))>=48&&s<=57;r++);r==k&&R(),k=r}if(101==(s=i.charCodeAt(k))||69==s){for(43!=(s=i.charCodeAt(++k))&&45!=s||k++,r=k;r<a&&(s=i.charCodeAt(r))>=48&&s<=57;r++);r==k&&R(),k=r}return+i.slice(t,k)}if(o&&R(),"true"==i.slice(k,k+4))return k+=4,!0;if("false"==i.slice(k,k+5))return k+=5,!1;if("null"==i.slice(k,k+4))return k+=4,null;R()}return"$"},L=function(e){var t,r;if("$"==e&&R(),"string"==typeof e){if("@"==(D?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=I());r||(r=!0))r&&(","==e?"]"==(e=I())&&R():R()),","==e&&R(),t.push(L(e));return t}if("{"==e){for(t={};"}"!=(e=I());r||(r=!0))r&&(","==e?"}"==(e=I())&&R():R()),","!=e&&"string"==typeof e&&"@"==(D?e.charAt(0):e[0])&&":"==I()||R(),t[e.slice(1)]=L(I());return t}R()}return e},O=function(e,t,r){var o=F(e,t,r);o===f?delete e[t]:e[t]=o},F=function(e,t,r){var o,s=e[t];if("object"==typeof s&&s)if(b.call(s)==_)for(o=s.length;o--;)O(s,o,r);else p(s,function(e){O(s,e,r)});return r.call(e,t,s)};o.parse=function(e,t){var r,o;return k=0,V=""+e,r=L(I()),"$"!=I()&&R(),k=V=null,t&&b.call(t)==N?F(((o={})[""]=r,o),"",t):r}}}return o.runInContext=s,o}if(!o||o.global!==o&&o.window!==o&&o.self!==o||(r=o),t)s(r,t);else{var i=r.JSON,a=r.JSON3,n=!1,l=s(r,r.JSON3={noConflict:function(){return n||(n=!0,r.JSON=i,r.JSON3=a,i=a=null),l}});r.JSON={parse:l.parse,stringify:l.stringify}}}.call(c),function(){var e={appendToHead:function(t){e.getHead().appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};vm.DomUtils=e}(),function(){var e={parseXML:function(e,t){var r=null;try{window.DOMParser&&(r=(new DOMParser).parseFromString(e,t))}catch(Wd){}if(!r)try{(r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e)}catch(Wd){r=null}return r},parseJSON:function(e){if(null==e)return null;try{return JSON.parse(e)}catch(Wd){throw Wd}}};vm.DataUtils=e}(),function(){function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=vm.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=r.LOAD_TIMEOUT_DEFAULT}var t=e.prototype={},r=e;r.LOAD_TIMEOUT_DEFAULT=8e3,r.create=function(t){if("string"==typeof t){var o=new e;return o.src=t,o}if(t instanceof r)return t;if(t instanceof Object&&t.src)return null==t.loadTimeout&&(t.loadTimeout=r.LOAD_TIMEOUT_DEFAULT),t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},vm.LoadItem=r}(),function(){var e={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(t){var r={absolute:!1,relative:!1};if(null==t)return r;var o,s=t.indexOf("?");return s>-1&&(t=t.substr(0,s)),e.ABSOLUTE_PATT.test(t)?r.absolute=!0:e.RELATIVE_PATT.test(t)&&(r.relative=!0),(o=t.match(e.EXTENSION_PATT))&&(r.extension=o[1].toLowerCase()),r},formatQueryString:function(e,t){if(null==e)throw new Error("You must specify data.");var r=[];for(var o in e)r.push(o+"="+escape(e[o]));return t&&(r=r.concat(t)),r.join("&")},buildPath:function(e,t){if(null==t)return e;var r=[],o=e.indexOf("?");if(-1!=o){var s=e.slice(o+1);r=r.concat(s.split("&"))}return-1!=o?e.slice(0,o)+"?"+this.formatQueryString(t,r):e+"?"+this.formatQueryString(t,r)},isCrossDomain:function(e){var t=document.createElement("a");t.href=e.src;var r=document.createElement("a");return r.href=location.href,""!=t.hostname&&(t.port!=r.port||t.protocol!=r.protocol||t.hostname!=r.hostname)},isLocal:function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},isBinary:function(e){switch(e){case vm.AbstractLoader.IMAGE:case vm.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(e){return e instanceof HTMLImageElement},isAudioTag:function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},isVideoTag:function(e){return!!window.HTMLVideoElement&&e instanceof HTMLVideoElement},isText:function(e){switch(e){case vm.AbstractLoader.TEXT:case vm.AbstractLoader.JSON:case vm.AbstractLoader.MANIFEST:case vm.AbstractLoader.XML:case vm.AbstractLoader.CSS:case vm.AbstractLoader.SVG:case vm.AbstractLoader.JAVASCRIPT:case vm.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(e){if(null==e)return vm.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return vm.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return vm.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return vm.AbstractLoader.VIDEO;case"json":return vm.AbstractLoader.JSON;case"xml":return vm.AbstractLoader.XML;case"css":return vm.AbstractLoader.CSS;case"js":return vm.AbstractLoader.JAVASCRIPT;case"svg":return vm.AbstractLoader.SVG;default:return vm.AbstractLoader.TEXT}}};vm.RequestUtils=e}(),function(){function e(e,t,r){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=r,this.resultFormatter=null,this._item=e?vm.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=vm.extend(e,vm.EventDispatcher),r=e;r.POST="POST",r.GET="GET",r.BINARY="binary",r.CSS="css",r.IMAGE="image",r.JAVASCRIPT="javascript",r.JSON="json",r.JSONP="jsonp",r.MANIFEST="manifest",r.SOUND="sound",r.VIDEO="video",r.SPRITESHEET="spritesheet",r.SVG="svg",r.TEXT="text",r.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new vm.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._preferXHR?this._request=new vm.XHRRequest(this._item):this._request=new vm.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(e){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new vm.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new vm.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new vm.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,vm.proxy(this._resultFormatSuccess,this),vm.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new vm.ErrorEvent("PRELOAD_"+e.type.toUpperCase()+"_ERROR"))}},t._resultFormatSuccess=function(e){this._result=e,this._sendComplete()},t._resultFormatFailed=function(e){this._sendError(e)},t.buildPath=function(e,t){return vm.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},vm.AbstractLoader=vm.promote(e,"EventDispatcher")}(),function(){function e(e,t,r){this.AbstractLoader_constructor(e,t,r),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var t=vm.extend(e,vm.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._preferXHR?this._request=new vm.XHRRequest(this._item):this._request=new vm.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._updateXHR=function(e){e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,r=e.getResult(!0);e.getTag().src=t.createObjectURL(r)}return e.getTag()},vm.AbstractMediaLoader=vm.promote(e,"AbstractLoader")}(),pm=function(e){this._item=e},(fm=vm.extend(pm,vm.EventDispatcher)).load=function(){},fm.destroy=function(){},fm.cancel=function(){},vm.AbstractRequest=vm.promote(pm,"EventDispatcher"),function(){function e(e,t,r){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=r,this._loadedHandler=vm.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=vm.extend(e,vm.AbstractRequest);t.load=function(){this._tag.onload=vm.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=vm.proxy(this._handleReadyStateChange,this),this._tag.onerror=vm.proxy(this._handleError,this);var e=new vm.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(vm.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new vm.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},vm.TagRequest=vm.promote(e,"AbstractRequest")}(),function(){function e(e,t,r){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=r,this._loadedHandler=vm.proxy(this._handleTagComplete,this)}var t=vm.extend(e,vm.TagRequest);t.load=function(){var e=vm.proxy(this._handleStalled,this);this._stalledCallback=e;var t=vm.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new vm.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},vm.MediaTagRequest=vm.promote(e,"TagRequest")}(),function(){function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=vm.proxy(this._handleLoadStart,this),this._handleProgressProxy=vm.proxy(this._handleProgress,this),this._handleAbortProxy=vm.proxy(this._handleAbort,this),this._handleErrorProxy=vm.proxy(this._handleError,this),this._handleTimeoutProxy=vm.proxy(this._handleTimeout,this),this._handleLoadProxy=vm.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=vm.proxy(this._handleReadyStateChange,this),this._createXHR(e)}var t=vm.extend(e,vm.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(vm.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=vm.AbstractLoader.GET?this._item.method==vm.AbstractLoader.POST&&this._request.send(vm.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new vm.ErrorEvent("XHR_SEND",null,e))}}else this._handleError()},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new vm.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(e){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new vm.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new vm.ErrorEvent(e.message))},t._handleReadyStateChange=function(e){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(e){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)this._handleError(t);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(Wd){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===Wd.name&&window.BlobBuilder){var r=new BlobBuilder;r.append(this._response),this._response=r.getBlob()}}this._clean(),this.dispatchEvent(new vm.Event("complete"))}}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new vm.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(Wd){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(Wd){}return null},t._createXHR=function(e){var t=vm.RequestUtils.isCrossDomain(e),r={},o=null;if(window.XMLHttpRequest)o=new XMLHttpRequest,t&&void 0===o.withCredentials&&window.XDomainRequest&&(o=new XDomainRequest);else{for(var i=0,a=s.ACTIVEX_VERSIONS.length;i<a;i++){var n=s.ACTIVEX_VERSIONS[i];try{o=new ActiveXObject(n);break}catch(Wd){}}if(null==o)return!1}null==e.mimeType&&vm.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof o.responseType?2:1;var l=null;if(l=e.method==vm.AbstractLoader.GET?vm.RequestUtils.buildPath(e.src,e.values):e.src,o.open(e.method||vm.AbstractLoader.GET,l,!0),t&&o instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),e.values&&e.method==vm.AbstractLoader.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),t||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var c in e.headers)r[c]=e.headers[c];for(c in r)o.setRequestHeader(c,r[c]);return o instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(o.withCredentials=e.withCredentials),this._request=o,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},vm.XHRRequest=vm.promote(e,"AbstractRequest")}(),function(){function e(e,t,r){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[vm.ImageLoader,vm.JavaScriptLoader,vm.CSSLoader,vm.JSONLoader,vm.JSONPLoader,vm.SoundLoader,vm.ManifestLoader,vm.SpriteSheetLoader,vm.XMLLoader,vm.SVGLoader,vm.BinaryLoader,vm.VideoLoader,vm.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,r)}var t=vm.extend(e,vm.AbstractLoader),r=e;t.init=function(e,t,r){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=r,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},r.loadTimeout=8e3,r.LOAD_TIMEOUT=0,r.BINARY=vm.AbstractLoader.BINARY,r.CSS=vm.AbstractLoader.CSS,r.IMAGE=vm.AbstractLoader.IMAGE,r.JAVASCRIPT=vm.AbstractLoader.JAVASCRIPT,r.JSON=vm.AbstractLoader.JSON,r.JSONP=vm.AbstractLoader.JSONP,r.MANIFEST=vm.AbstractLoader.MANIFEST,r.SOUND=vm.AbstractLoader.SOUND,r.VIDEO=vm.AbstractLoader.VIDEO,r.SVG=vm.AbstractLoader.SVG,r.TEXT=vm.AbstractLoader.TEXT,r.XML=vm.AbstractLoader.XML,r.POST=vm.AbstractLoader.POST,r.GET=vm.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){var t=this._availableLoaders.indexOf(e);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(e&&!Array.isArray(e))t=[e];else if(e)t=e;else if(arguments.length>0)return;var r=!1;if(t){for(;t.length;){var o=t.pop(),s=this.getResult(o);for(i=this._loadQueue.length-1;i>=0;i--)if((a=this._loadQueue[i].getItem()).id==o||a.src==o){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;i>=0;i--)if((a=this._loadQueueBackup[i].getItem()).id==o||a.src==o){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(s)this._disposeItem(this.getItem(o));else for(var i=this._currentLoads.length-1;i>=0;i--){var a=this._currentLoads[i].getItem();if(a.id==o||a.src==o){this._currentLoads.splice(i,1)[0].cancel(),r=!0;break}}}r&&this._loadNext()}else{for(var n in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[n]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){for(var e in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],r=0,o=this._loadQueueBackup.length;r<o;r++)t.push(this._loadQueueBackup[r].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var r=0,o=t.types.length;r<o;r++)this._typeCallbacks[t.types[r]]=t;if(null!=t.extensions)for(r=0,o=t.extensions.length;r<o;r++)this._extensionCallbacks[t.extensions[r]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&this._loadQueue.length>0&&this._loadNext()},t.loadFile=function(e,t,r){if(null!=e)this._addItem(e,null,r),!1!==t?this.setPaused(!1):this.setPaused(!0);else{var o=new vm.ErrorEvent("PRELOAD_NO_FILE");this._sendError(o)}},t.loadManifest=function(e,t,o){var s=null,i=null;if(Array.isArray(e)){if(0==e.length){var a=new vm.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}s=e}else if("string"==typeof e)s=[{src:e,type:r.MANIFEST}];else{if("object"!=typeof e)return a=new vm.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(a);if(void 0!==e.src){if(null==e.type)e.type=r.MANIFEST;else if(e.type!=r.MANIFEST){var a=new vm.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}s=[e]}else void 0!==e.manifest&&(s=e.manifest,i=e.path)}for(var n=0,l=s.length;n<l;n++)this._addItem(s[n],i,o);!1!==t?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var r=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==r)return null;var o=r.id;return t&&this._loadedRawResults[o]?this._loadedRawResults[o]:this._loadedResults[o]},t.getItems=function(e){var t=[];for(var r in this._loadItemsById){var o=this._loadItemsById[r],s=this.getResult(r);!0===e&&null==s||t.push({item:o,result:s,rawResult:this.getResult(r,!0)})}return t},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,r){var o=this._createLoadItem(e,t,r);if(null!=o){var s=this._createLoader(o);null!=s&&("plugins"in s&&(s.plugins=this._plugins),o._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&o.type==vm.LoadQueue.JAVASCRIPT||!0===o.maintainOrder)&&(this._scriptOrder.push(o),this._loadedScripts.push(null)))}},t._createLoadItem=function(e,t,r){var o=vm.LoadItem.create(e);if(null==o)return null;var s="",i=r||this._basePath;if(o.src instanceof Object){if(!o.type)return null;if(t){s=t;var a=vm.RequestUtils.parseURI(t);null==i||a.absolute||a.relative||(s=i+s)}else null!=i&&(s=i)}else{var n=vm.RequestUtils.parseURI(o.src);n.extension&&(o.ext=n.extension),null==o.type&&(o.type=vm.RequestUtils.getTypeByExtension(o.ext));var l=o.src;n.absolute||n.relative||(t?(s=t,a=vm.RequestUtils.parseURI(t),l=t+l,null==i||a.absolute||a.relative||(s=i+s)):null!=i&&(s=i)),o.src=s+o.src}o.path=s,void 0!==o.id&&null!==o.id&&""!==o.id||(o.id=l);var c=this._typeCallbacks[o.type]||this._extensionCallbacks[o.ext];if(c){var m=c.callback.call(c.scope,o,this);if(!1===m)return null;!0===m||null!=m&&(o._loader=m),null!=(n=vm.RequestUtils.parseURI(o.src)).extension&&(o.ext=n.extension)}return this._loadItemsById[o.id]=o,this._loadItemsBySrc[o.src]=o,null==o.crossOrigin&&(o.crossOrigin=this._crossOrigin),o},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,r=0;r<this._availableLoaders.length;r++){var o=this._availableLoaders[r];if(o&&o.canLoadItem(e))return new o(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){var t=new vm.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(t)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();var r=new vm.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(r),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,r=t.getItem(),o=t.getResult();this._loadedResults[r.id]=o;var s=t.getResult(!0);null!=s&&s!==o&&(this._loadedRawResults[r.id]=s),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(r,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var r=0;r<t.length;r++){var o=t[r].item;this._loadItemsBySrc[o.src]=o,this._loadItemsById[o.id]=o,this._loadedResults[o.id]=t[r].result,this._loadedRawResults[o.id]=t[r].rawResult}},t._finishOrderedItem=function(e,t){var r=e.getItem();if(this.maintainScriptOrder&&r.type==vm.LoadQueue.JAVASCRIPT||r.maintainOrder){e instanceof vm.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var o=vm.indexOf(this._scriptOrder,r);return-1!=o&&(this._loadedScripts[o]=!0===t||r,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;t<e;t++){var r=this._loadedScripts[t];if(null===r)break;if(!0!==r){var o=this._loadedResults[r.id];r.type==vm.LoadQueue.JAVASCRIPT&&vm.DomUtils.appendToHead(o);var s=r._loader;this._processFinishedLoad(r,s),this._loadedScripts[t]=!0}}},t._processFinishedLoad=function(e,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&e.type==vm.LoadQueue.JAVASCRIPT){var r=t.getTag();vm.DomUtils.appendToHead(r)}this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;var t=e.getItem();if(t.type!=vm.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var r=this._scriptOrder.indexOf(t),o=0;o<r;){if(null==this._loadedScripts[o])return!1;o++}return this._currentlyLoadingScript=!0,!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,r=0;r<t;r++)if(this._currentLoads[r]==e){this._currentLoads.splice(r,1);break}},t._cleanLoadItem=function(e){var t=e.getItem();t&&delete t._loader},t._handleProgress=function(e){var t=e.target;this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var r=0,o=0,s=this._currentLoads.length;o<s;o++)r+=this._currentLoads[o].progress;e+=r/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var r=new vm.Event("fileprogress");r.progress=t,r.loaded=t,r.total=1,r.item=e,this.dispatchEvent(r)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()&&!this._paused){var r=new vm.Event("fileload");r.loader=t,r.item=e,r.result=this._loadedResults[e.id],r.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(r),this.hasEventListener("fileload")&&this.dispatchEvent(r)}},t._sendFileStart=function(e){var t=new vm.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},vm.LoadQueue=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.TEXT)}vm.extend(e,vm.AbstractLoader),e.canLoadItem=function(e){return e.type==vm.AbstractLoader.TEXT},vm.TextLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},vm.BinaryLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=t?document.createElement("style"):document.createElement("link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.CSS},t._formatResult=function(e){if(this._preferXHR){var t=e.getTag();if(t.styleSheet)t.styleSheet.cssText=e.getResult(!0);else{var r=document.createTextNode(e.getResult(!0));t.appendChild(r)}}else t=this._tag;return vm.DomUtils.appendToHead(t),t},vm.CSSLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",vm.RequestUtils.isImageTag(e)?this._tag=e:vm.RequestUtils.isImageTag(e.src)?this._tag=e.src:vm.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.IMAGE},t.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var e=this._item.crossOrigin;1==e&&(e="Anonymous"),null==e||vm.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load()}},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(e){return this._formatImage},t._formatImage=function(e,t){var r=this._tag,o=window.URL||window.webkitURL;if(this._preferXHR)if(o){var s=o.createObjectURL(this.getResult(!0));r.src=s,r.addEventListener("load",this._cleanUpURL,!1),r.addEventListener("error",this._cleanUpURL,!1)}else r.src=this._item.src;r.complete?e(r):(r.onload=vm.proxy(function(){e(this._tag)},this),r.onerror=vm.proxy(function(){t(_this._tag)},this))},t._cleanUpURL=function(e){(window.URL||window.webkitURL).revokeObjectURL(e.target.src)},vm.ImageLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},vm.JavaScriptLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.JSON},t._formatResult=function(e){var t=null;try{t=vm.DataUtils.parseJSON(e.getResult(!0))}catch(Wd){var r=new vm.ErrorEvent("JSON_FORMAT",null,Wd);return this._sendError(r),Wd}return t},vm.JSONLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!1,vm.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.JSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=vm.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(vm.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new vm.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},vm.JSONPLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,null,vm.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=vm.extend(e,vm.AbstractLoader),r=e;r.MANIFEST_PROGRESS=.25,r.canLoadItem=function(e){return e.type==vm.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new vm.JSONPLoader(this._item):new vm.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(r.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=r.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new vm.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var r=0,o=this.plugins.length;r<o;r++)t.installPlugin(this.plugins[r]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(e){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-r.MANIFEST_PROGRESS)+r.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new vm.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},vm.ManifestLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractMediaLoader_constructor(e,t,vm.AbstractLoader.SOUND),vm.RequestUtils.isAudioTag(e)||vm.RequestUtils.isAudioTag(e.src)?this._tag=e:vm.RequestUtils.isAudioTag(e.tag)&&(this._tag=vm.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=vm.extend(e,vm.AbstractMediaLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},vm.SoundLoader=vm.promote(e,"AbstractMediaLoader")}(),function(){function e(e,t){this.AbstractMediaLoader_constructor(e,t,vm.AbstractLoader.VIDEO),vm.RequestUtils.isVideoTag(e)||vm.RequestUtils.isVideoTag(e.src)?(this.setTag(vm.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=e;vm.extend(e,vm.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},t.canLoadItem=function(e){return e.type==vm.AbstractLoader.VIDEO},vm.VideoLoader=vm.promote(e,"AbstractMediaLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=vm.extend(e,vm.AbstractLoader),r=e;r.SPRITESHEET_PROGRESS=.25,r.canLoadItem=function(e){return e.type==vm.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;this._request=null!=e?new vm.JSONPLoader(this._item):new vm.JSONLoader(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(r.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=r.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){if(e&&e.images){var t=this._manifestQueue=new vm.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images)}},t._handleManifestFileLoad=function(e){var t=e.result;if(null!=t){var r=this.getResult().images,o=r.indexOf(e.item.src);r[o]=t}},t._handleManifestComplete=function(e){this._result=new vm.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-r.SPRITESHEET_PROGRESS)+r.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new vm.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},vm.SpriteSheetLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t){this.AbstractLoader_constructor(e,t,vm.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.SVG},t._formatResult=function(e){var t=vm.DataUtils.parseXML(e.getResult(!0),"text/xml"),r=e.getTag();return!this._preferXHR&&document.body.contains(r)&&document.body.removeChild(r),null!=t.documentElement?(r.appendChild(t.documentElement),r.style.visibility="visible",r):t},vm.SVGLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=vm.extend(e,vm.AbstractLoader);e.canLoadItem=function(e){return e.type==vm.AbstractLoader.XML},t._formatResult=function(e){return vm.DataUtils.parseXML(e.getResult(!0),"text/xml")},vm.XMLLoader=vm.promote(e,"AbstractLoader")}(),function(){var e=vm.SoundJS=vm.SoundJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),vm.indexOf=function(e,t){for(var r=0,o=e.length;r<o;r++)if(t===e[r])return r;return-1},vm.proxy=function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(r))}},function(){function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,vm.BrowserDetect=e}(),function(){var e=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},t=e.prototype={},r=e;r.create=function(e){if(e instanceof r||e instanceof Object){var t=new vm.PlayPropsConfig;return t.set(e),t}throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[PlayPropsConfig]"},vm.PlayPropsConfig=r}(),function(){function e(){throw"Sound cannot be instantiated"}var t=e;function r(e,t){this.init(e,t)}t.INTERRUPT_ANY="any",t.INTERRUPT_EARLY="early",t.INTERRUPT_LATE="late",t.INTERRUPT_NONE="none",t.PLAY_INITED="playInited",t.PLAY_SUCCEEDED="playSucceeded",t.PLAY_INTERRUPTED="playInterrupted",t.PLAY_FINISHED="playFinished",t.PLAY_FAILED="playFailed",t.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],t.EXTENSION_MAP={m4a:"mp4"},t.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,t.defaultInterruptBehavior=t.INTERRUPT_NONE,t.alternateExtensions=[],t.activePlugin=null,t._masterVolume=1,Object.defineProperty(t,"volume",{get:function(){return this._masterVolume},set:function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),t._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var r=this._instances,o=0,s=r.length;o<s;o++)r[o].setMasterVolume(e)}}),t._masterMute=!1,Object.defineProperty(t,"muted",{get:function(){return this._masterMute},set:function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,r=0,o=t.length;r<o;r++)t[r].setMasterMute(e);return!0}}),Object.defineProperty(t,"capabilities",{get:function(){return null==t.activePlugin?null:t.activePlugin._capabilities},set:function(e){return!1}}),t._pluginsRegistered=!1,t._lastID=0,t._instances=[],t._idHash={},t._preloadHash={},t._defaultPlayPropsHash={},t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,vm.EventDispatcher.initialize(t),t.getPreloadHandlers=function(){return{callback:vm.proxy(t.initLoad,t),types:["sound"],extensions:t.SUPPORTED_EXTENSIONS}},t._handleLoadComplete=function(e){var r=e.target.getItem().src;if(t._preloadHash[r])for(var o=0,s=t._preloadHash[r].length;o<s;o++){var i=t._preloadHash[r][o];t._preloadHash[r][o]=!0,t.hasEventListener("fileload")&&((e=new vm.Event("fileload")).src=i.src,e.id=i.id,e.data=i.data,e.sprite=i.sprite,t.dispatchEvent(e))}},t._handleLoadError=function(e){var r=e.target.getItem().src;if(t._preloadHash[r])for(var o=0,s=t._preloadHash[r].length;o<s;o++){var i=t._preloadHash[r][o];t._preloadHash[r][o]=!1,t.hasEventListener("fileerror")&&((e=new vm.Event("fileerror")).src=i.src,e.id=i.id,e.data=i.data,e.sprite=i.sprite,t.dispatchEvent(e))}},t._registerPlugin=function(e){return!!e.isSupported()&&(t.activePlugin=new e,!0)},t.registerPlugins=function(e){t._pluginsRegistered=!0;for(var r=0,o=e.length;r<o;r++)if(t._registerPlugin(e[r]))return!0;return!1},t.initializeDefaultPlugins=function(){return null!=t.activePlugin||!t._pluginsRegistered&&!!t.registerPlugins([vm.WebAudioPlugin,vm.HTMLAudioPlugin])},t.isReady=function(){return null!=t.activePlugin},t.getCapabilities=function(){return null==t.activePlugin?null:t.activePlugin._capabilities},t.getCapability=function(e){return null==t.activePlugin?null:t.activePlugin._capabilities[e]},t.initLoad=function(e){return t._registerSound(e)},t._registerSound=function(e){if(!t.initializeDefaultPlugins())return!1;var o;if(e.src instanceof Object?(o=t._parseSrc(e.src)).src=e.path+o.src:o=t._parsePath(e.src),null==o)return!1;e.src=o.src,e.type="sound";var s=e.data,i=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(i=parseInt(s)):i=parseInt(s.channels),s.audioSprite))for(var a,n=s.audioSprite.length;n--;)a=s.audioSprite[n],t._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(t._defaultPlayPropsHash[a.id]=vm.PlayPropsConfig.create(a.defaultPlayProps));null!=e.id&&(t._idHash[e.id]={src:e.src});var l=t.activePlugin.register(e);return r.create(e.src,i),null!=s&&isNaN(s)?e.data.channels=i||r.maxPerChannel():e.data=i||r.maxPerChannel(),l.type&&(e.type=l.type),e.defaultPlayProps&&(t._defaultPlayPropsHash[e.src]=vm.PlayPropsConfig.create(e.defaultPlayProps)),l},t.registerSound=function(e,r,o,s,i){var a={src:e,id:r,data:o,defaultPlayProps:i};e instanceof Object&&e.src&&(s=r,a=e),(a=vm.LoadItem.create(a)).path=s,null==s||a.src instanceof Object||(a.src=s+e);var n=t._registerSound(a);if(!n)return!1;if(t._preloadHash[a.src]||(t._preloadHash[a.src]=[]),t._preloadHash[a.src].push(a),1==t._preloadHash[a.src].length)n.on("complete",vm.proxy(this._handleLoadComplete,this)),n.on("error",vm.proxy(this._handleLoadError,this)),t.activePlugin.preload(n);else if(1==t._preloadHash[a.src][0])return!0;return a},t.registerSounds=function(e,t){var r=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var o=0,s=e.length;o<s;o++)r[o]=vm.Sound.registerSound(e[o].src,e[o].id,e[o].data,t,e[o].defaultPlayProps);return r},t.removeSound=function(e,o){if(null==t.activePlugin)return!1;var s;if(e instanceof Object&&e.src&&(e=e.src),e instanceof Object?s=t._parseSrc(e):(e=t._getSrcById(e).src,s=t._parsePath(e)),null==s)return!1;for(var i in e=s.src,null!=o&&(e=o+e),t._idHash)t._idHash[i].src==e&&delete t._idHash[i];return r.removeSrc(e),delete t._preloadHash[e],t.activePlugin.removeSound(e),!0},t.removeSounds=function(e,t){var r=[];e.path&&(t?t+=e.path:t=e.path,e=e.manifest);for(var o=0,s=e.length;o<s;o++)r[o]=vm.Sound.removeSound(e[o].src,t);return r},t.removeAllSounds=function(){t._idHash={},t._preloadHash={},r.removeAll(),t.activePlugin&&t.activePlugin.removeAllSounds()},t.loadComplete=function(e){if(!t.isReady())return!1;var r=t._parsePath(e);return e=r?t._getSrcById(r.src).src:t._getSrcById(e).src,null!=t._preloadHash[e]&&1==t._preloadHash[e][0]},t._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var r=e.match(t.FILE_PATTERN);if(null==r)return!1;for(var o=r[4],s=r[5],i=t.capabilities,a=0;!i[s];)if(s=t.alternateExtensions[a++],a>t.alternateExtensions.length)return null;return{name:o,src:e=e.replace("."+r[5],"."+s),extension:s}},t._parseSrc=function(e){var r={name:void 0,src:void 0,extension:void 0},o=t.capabilities;for(var s in e)if(e.hasOwnProperty(s)&&o[s]){r.src=e[s],r.extension=s;break}if(!r.src)return!1;var i=r.src.lastIndexOf("/");return r.name=-1!=i?r.src.slice(i+1):r.src,r},t.play=function(e,r,o,s,i,a,n,l,c){var m;m=r instanceof Object||r instanceof vm.PlayPropsConfig?vm.PlayPropsConfig.create(r):vm.PlayPropsConfig.create({interrupt:r,delay:o,offset:s,loop:i,volume:a,pan:n,startTime:l,duration:c});var u=t.createInstance(e,m.startTime,m.duration);return t._playInstance(u,m)||u._playFailed(),u},t.createInstance=function(e,o,s){if(!t.initializeDefaultPlugins())return new vm.DefaultSoundInstance(e,o,s);var i=t._defaultPlayPropsHash[e];e=t._getSrcById(e);var a=t._parsePath(e.src),n=null;return null!=a&&null!=a.src?(r.create(a.src),null==o&&(o=e.startTime),n=t.activePlugin.create(a.src,o,s||e.duration),(i=i||t._defaultPlayPropsHash[a.src])&&n.applyPlayProps(i)):n=new vm.DefaultSoundInstance(e,o,s),n.uniqueId=t._lastID++,n},t.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},t.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),t._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var r=this._instances,o=0,s=r.length;o<s;o++)r[o].setMasterVolume(e)},t.getVolume=function(){return this._masterVolume},t.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,r=0,o=t.length;r<o;r++)t[r].setMasterMute(e);return!0},t.getMute=function(){return this._masterMute},t.setDefaultPlayProps=function(e,r){e=t._getSrcById(e),t._defaultPlayPropsHash[t._parsePath(e.src).src]=vm.PlayPropsConfig.create(r)},t.getDefaultPlayProps=function(e){return e=t._getSrcById(e),t._defaultPlayPropsHash[t._parsePath(e.src).src]},t._playInstance=function(e,r){var o=t._defaultPlayPropsHash[e.src]||{};if(null==r.interrupt&&(r.interrupt=o.interrupt||t.defaultInterruptBehavior),null==r.delay&&(r.delay=o.delay||0),null==r.offset&&(r.offset=e.getPosition()),null==r.loop&&(r.loop=e.loop),null==r.volume&&(r.volume=e.volume),null==r.pan&&(r.pan=e.pan),0==r.delay){if(!t._beginPlaying(e,r))return!1}else{var s=setTimeout(function(){t._beginPlaying(e,r)},r.delay);e.delayTimeoutId=s}return this._instances.push(e),!0},t._beginPlaying=function(e,t){if(!r.add(e,t.interrupt))return!1;if(!e._beginPlaying(t)){var o=vm.indexOf(this._instances,e);return o>-1&&this._instances.splice(o,1),!1}return!0},t._getSrcById=function(e){return t._idHash[e]||{src:e}},t._playFinished=function(e){r.remove(e);var t=vm.indexOf(this._instances,e);t>-1&&this._instances.splice(t,1)},vm.Sound=e,r.channels={},r.create=function(e,t){return null==r.get(e)&&(r.channels[e]=new r(e,t),!0)},r.removeSrc=function(e){var t=r.get(e);return null!=t&&(t._removeAll(),delete r.channels[e],!0)},r.removeAll=function(){for(var e in r.channels)r.channels[e]._removeAll();r.channels={}},r.add=function(e,t){var o=r.get(e.src);return null!=o&&o._add(e,t)},r.remove=function(e){var t=r.get(e.src);return null!=t&&(t._remove(e),!0)},r.maxPerChannel=function(){return o.maxDefault},r.get=function(e){return r.channels[e]};var o=r.prototype;o.constructor=r,o.src=null,o.max=null,o.maxDefault=100,o.length=0,o.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},o._get=function(e){return this._instances[e]},o._add=function(e,t){return!!this._getSlot(t,e)&&(this._instances.push(e),this.length++,!0)},o._remove=function(e){var t=vm.indexOf(this._instances,e);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},o._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},o._getSlot=function(t,r){var o,s;if(t!=e.INTERRUPT_NONE&&null==(s=this._get(0)))return!0;for(var i=0,a=this.max;i<a;i++){if(null==(o=this._get(i)))return!0;if(o.playState==e.PLAY_FINISHED||o.playState==e.PLAY_INTERRUPTED||o.playState==e.PLAY_FAILED){s=o;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&o.getPosition()<s.getPosition()||t==e.INTERRUPT_LATE&&o.getPosition()>s.getPosition())&&(s=o)}return null!=s&&(s._interrupt(),this._remove(s),!0)},o.toString=function(){return"[Sound SoundChannel]"}}(),function(){var e=function(e,t,r,o){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,t||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,r||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==o&&!0!==o&&this.setPlaybackResource(o),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=vm.extend(e,vm.EventDispatcher);t.play=function(e,t,r,o,s,i){var a;return a=e instanceof Object||e instanceof vm.PlayPropsConfig?vm.PlayPropsConfig.create(e):vm.PlayPropsConfig.create({interrupt:e,delay:t,offset:r,loop:o,volume:s,pan:i}),this.playState==vm.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),vm.Sound._playInstance(this,a),this)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=vm.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.applyPlayProps=function(e){return null!=e.offset&&this.setPosition(e.offset),null!=e.loop&&this.setLoop(e.loop),null!=e.volume&&this.setVolume(e.volume),null!=e.pan&&this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),this},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){if(!(!0!==e&&!1!==e||this._paused==e||1==e&&this.playState!=vm.Sound.PLAY_SUCCEEDED))return this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},t.setVolume=function(e){return e==this._volume||(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume()),this},t.getVolume=function(){return this._volume},t.setMuted=function(e){if(!0===e||!1===e)return this._muted=e,this._updateVolume(),this},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan||(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan()),this},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=vm.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==vm.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getStartTime=function(){return this._startTime},t.setStartTime=function(e){return e==this._startTime||(this._startTime=Math.max(0,e||0),this._updateStartTime()),this},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration||(this._duration=Math.max(0,e||0),this._updateDuration()),this},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e?this._removeLooping(e):0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new vm.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,vm.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=vm.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e){return this.setPosition(e.offset),this.setLoop(e.loop),this.setVolume(e.volume),this.setPan(e.pan),null!=e.startTime&&(this.setStartTime(e.startTime),this.setDuration(e.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=vm.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=vm.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(e){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=vm.Sound.PLAY_FINISHED,this._sendEvent("complete")},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateStartTime=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(e){},t._addLooping=function(e){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},vm.AbstractSoundInstance=vm.promote(e,"EventDispatcher"),vm.DefaultSoundInstance=vm.AbstractSoundInstance}(),function(){var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){var t=this._loaders[e.src];return t&&!t.canceled?this._loaders[e.src]:(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],(t=new this._loaderClass(e)).on("complete",this._handlePreloadComplete,this),this._loaders[e.src]=t,t)},t.preload=function(e){e.on("error",this._handlePreloadError,this),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;)this._soundInstances[e][t].destroy();delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,r){this.isPreloadStarted(e)||this.preload(this.register(e));var o=new this._soundInstanceClass(e,t,r,this._audioSources[e]);return this._soundInstances[e].push(o),o},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(e){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var r=0,o=this._soundInstances[t].length;r<o;r++)this._soundInstances[t][r].setPlaybackResource(this._audioSources[t])},t._handlePreloadError=function(e){},t._updateVolume=function(){},vm.AbstractPlugin=e}(),function(){function e(e){this.AbstractLoader_constructor(e,!0,vm.AbstractLoader.SOUND)}var t=vm.extend(e,vm.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new vm.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},t._sendComplete=function(t){e.context.decodeAudioData(this._rawResult,vm.proxy(this._handleAudioDecoded,this),vm.proxy(this._sendError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},vm.WebAudioLoader=vm.promote(e,"AbstractLoader")}(),function(){function e(e,t,o,s){this.AbstractSoundInstance_constructor(e,t,o,s),this.gainNode=r.context.createGain(),this.panNode=r.context.createPanner(),this.panNode.panningModel=r._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=vm.proxy(this._handleSoundComplete,this)}var t=vm.extend(e,vm.AbstractSoundInstance),r=e;r.context=null,r._scratchBuffer=null,r.destinationNode=null,r._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(e){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(e){this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==vm.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){if(e){e.stop(0),e.disconnect(0);try{e.buffer=r._scratchBuffer}catch(Wd){}e=null}return e},t._handleSoundReady=function(e){this.gainNode.connect(r.destinationNode);var t=.001*this._duration,o=.001*this._position;o>t&&(o=t),this.sourceNode=this._createAndPlayAudioNode(r.context.currentTime-t,o),this._playbackStartTime=this.sourceNode.startTime-o,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-o)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var o=r.context.createBufferSource();o.buffer=this.playbackResource,o.connect(this.panNode);var s=.001*this._duration;return o.startTime=e+s,o.start(o.startTime,t+.001*this._startTime,s-t),o},t._pause=function(){this._position=1e3*(r.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(r.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},vm.WebAudioSoundInstance=vm.promote(e,"AbstractSoundInstance")}(),function(){function e(){this.AbstractPlugin_constructor(),this._panningModel=r._panningModel,this.context=r.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),vm.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=r._capabilities,this._loaderClass=vm.WebAudioLoader,this._soundInstanceClass=vm.WebAudioSoundInstance,this._addPropsToClasses()}var t=vm.extend(e,vm.AbstractPlugin),r=e;r._capabilities=null,r._panningModel="equalpower",r.context=null,r._scratchBuffer=null,r._unlocked=!1,r.isSupported=function(){var e=vm.BrowserDetect.isIOS||vm.BrowserDetect.isAndroid||vm.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!e&&!this._isFileXHRSupported())&&(r._generateCapabilities(),null!=r.context)},r.playEmptySound=function(){if(null!=r.context){var e=r.context.createBufferSource();e.buffer=r._scratchBuffer,e.connect(r.context.destination),e.start(0,0,0)}},r._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(r){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(r){e=!1}return e},r._generateCapabilities=function(){if(null==r._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==r.context)if(window.AudioContext)r.context=new AudioContext;else{if(!window.webkitAudioContext)return null;r.context=new webkitAudioContext}null==r._scratchBuffer&&(r._scratchBuffer=r.context.createBuffer(1,1,22050)),r._compatibilitySetUp(),"ontouchstart"in window&&"running"!=r.context.state&&(r._unlock(),document.addEventListener("mousedown",r._unlock,!0),document.addEventListener("touchend",r._unlock,!0)),r._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=vm.Sound.SUPPORTED_EXTENSIONS,o=vm.Sound.EXTENSION_MAP,s=0,i=t.length;s<i;s++){var a=t[s],n=o[a]||a;r._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+n)&&""!=e.canPlayType("audio/"+n)}r.context.destination.numberOfChannels<2&&(r._capabilities.panning=!1)}},r._compatibilitySetUp=function(){if(r._panningModel="equalpower",!r.context.createGain){r.context.createGain=r.context.createGainNode;var e=r.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,r._panningModel=0}},r._unlock=function(){r._unlocked||(r.playEmptySound(),"running"==r.context.state&&(document.removeEventListener("mousedown",r._unlock,!0),document.removeEventListener("touchend",r._unlock,!0),r._unlocked=!0))},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e._scratchBuffer=r._scratchBuffer,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=vm.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},vm.WebAudioPlugin=vm.promote(e,"AbstractPlugin")}(),function(){function e(){throw"HTMLAudioTagPool cannot be instantiated"}var t=e;function r(e){this._tags=[]}t._tags={},t._tagPool=new r,t._tagUsed={},t.get=function(e){var r=t._tags[e];return null==r?(r=t._tags[e]=t._tagPool.get()).src=e:t._tagUsed[e]?(r=t._tagPool.get()).src=e:t._tagUsed[e]=!0,r},t.set=function(e,r){r==t._tags[e]?t._tagUsed[e]=!1:t._tagPool.set(r)},t.remove=function(e){var r=t._tags[e];return null!=r&&(t._tagPool.set(r),delete t._tags[e],delete t._tagUsed[e],!0)},t.getDuration=function(e){var r=t._tags[e];return null!=r&&r.duration?1e3*r.duration:0},vm.HTMLAudioTagPool=e;var o=r.prototype;o.constructor=r,o.get=function(){var e;return null==(e=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(e),e},o.set=function(e){-1==vm.indexOf(this._tags,e)&&(this._tags.src=null,this._tags.push(e))},o.toString=function(){return"[TagPool]"},o._createTag=function(){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e}}(),function(){function e(e,t,r,o){this.AbstractSoundInstance_constructor(e,t,r,o),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=vm.proxy(this._handleSoundComplete,this),this._readyHandler=vm.proxy(this._handleTagReady,this),this._stalledHandler=vm.proxy(this._playFailed,this),this._audioSpriteEndHandler=vm.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=vm.proxy(this._handleSoundComplete,this),r?this._audioSpriteStopTime=.001*(t+r):this._duration=vm.HTMLAudioTagPool.getDuration(this.src)}var t=vm.extend(e,vm.AbstractSoundInstance);t.setMasterVolume=function(e){this._updateVolume()},t.setMasterMute=function(e){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(Wd){}vm.HTMLAudioTagPool.set(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e){return this._playbackResource=vm.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(e)},t._handleSoundReady=function(e){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(vm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(vm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(e){this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||vm.Sound._masterMute?0:this._volume*vm.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(e){null!=this._playbackResource&&(this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(e){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(e){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==vm.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(vm.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(vm.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},t._setDurationFromSource=function(){this._duration=vm.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},vm.HTMLAudioSoundInstance=vm.promote(e,"AbstractSoundInstance")}(),function(){function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=r._capabilities,this._loaderClass=vm.SoundLoader,this._soundInstanceClass=vm.HTMLAudioSoundInstance}var t=vm.extend(e,vm.AbstractPlugin),r=e;r.MAX_INSTANCES=30,r._AUDIO_READY="canplaythrough",r._AUDIO_ENDED="ended",r._AUDIO_SEEKED="seeked",r._AUDIO_STALLED="stalled",r._TIME_UPDATE="timeupdate",r._capabilities=null,r.isSupported=function(){return r._generateCapabilities(),null!=r._capabilities},r._generateCapabilities=function(){if(null==r._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;r._capabilities={panning:!1,volume:!0,tracks:-1};for(var t=vm.Sound.SUPPORTED_EXTENSIONS,o=vm.Sound.EXTENSION_MAP,s=0,i=t.length;s<i;s++){var a=t[s],n=o[a]||a;r._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+n)&&""!=e.canPlayType("audio/"+n)}}},t.register=function(e){var t=vm.HTMLAudioTagPool.get(e.src),r=this.AbstractPlugin_register(e);return r.setTag(t),r},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),vm.HTMLAudioTagPool.remove(e)},t.create=function(e,t,r){var o=this.AbstractPlugin_create(e,t,r);return o.setPlaybackResource(null),o},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,vm.HTMLAudioPlugin=vm.promote(e,"AbstractPlugin")}(),function(){function e(t,r,o){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=o||{},this.target=t,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=t,this._useTicks=!1,this._inited=!1,this._registered=!1,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange&&this.addEventListener("change",r.onChange),r.override&&e.removeTweens(t)),r&&r.paused?this._paused=!0:vm.Tween._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,e.NONE)}var t=vm.extend(e,vm.EventDispatcher);e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,r,o,s){return s&&e.removeTweens(t),new e(t,r,o)},e.tick=function(t,r){for(var o=e._tweens.slice(),s=o.length-1;s>=0;s--){var i=o[s];r&&!i.ignoreGlobalPause||i._paused||i.tick(i._useTicks?1:t)}},e.handleEvent=function(e){"tick"==e.type&&this.tick(e.delta,e.paused)},e.removeTweens=function(t){if(t.tweenjs_count){for(var r=e._tweens,o=r.length-1;o>=0;o--){var s=r[o];s._target==t&&(s._paused=!0,r.splice(o,1))}t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,r=0,o=t.length;r<o;r++){var s=t[r];s._paused=!0,s.target&&(s.target.tweenjs_count=0)}t.length=0},e.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:e._tweens&&!!e._tweens.length},e.installPlugin=function(t,r){var o=t.priority;null==o&&(t.priority=o=0);for(var s=0,i=r.length,a=e._plugins;s<i;s++){var n=r[s];if(a[n]){for(var l=a[n],c=0,m=l.length;c<m&&!(o<l[c].priority);c++);a[n].splice(c,0,t)}else a[n]=[t]}},e._register=function(t,r){var o=t._target,s=e._tweens;if(r&&!t._registered)o&&(o.tweenjs_count=o.tweenjs_count?o.tweenjs_count+1:1),s.push(t),!e._inited&&vm.Ticker&&(vm.Ticker.addEventListener("tick",e),e._inited=!0);else if(!r&&t._registered){o&&o.tweenjs_count--;for(var i=s.length;i--;)if(s[i]==t){s.splice(i,1);break}}t._registered=r},t.wait=function(e,t){if(null==e||e<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:r,e:this._linearEase,p1:r,v:t})},t.to=function(e,t,r){return(isNaN(t)||t<0)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,r){return this._addAction({f:e,p:t||[this],o:r||this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t||this._target]})},t.play=function(e){return e||(e=this),this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){e<0&&(e=0),null==t&&(t=1);var r=e,o=!1;if(r>=this.duration&&(this.loop?r%=this.duration:(r=this.duration,o=!0)),r==this._prevPos)return o;var s=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=e,this._target)if(o)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var i=0,a=this._steps.length;i<a&&!(this._steps[i].t>r);i++);var n=this._steps[i-1];this._updateTargetProps(n,(this._stepPosition=r-n.t)/n.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(r,r):1==t&&r<s?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,r,!0)):this._runActions(s,r)),o&&this.setPaused(!0),this.dispatchEvent("change"),o},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused===!!t||(this._paused=!!t,e._register(this,!t)),this},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,r){var o,s,i,a,n,l;if(t||1!=r){if(this.passive=!!t.v,this.passive)return;t.e&&(r=t.e(r,0,1,1)),o=t.p0,s=t.p1}else this.passive=!1,o=s=this._curQueueProps;for(var c in this._initQueueProps){null==(a=o[c])&&(o[c]=a=this._initQueueProps[c]),null==(n=s[c])&&(s[c]=n=a),i=a==n||0==r||1==r||"number"!=typeof a?1==r?n:a:a+(n-a)*r;var m=!1;if(l=e._plugins[c])for(var u=0,d=l.length;u<d;u++){var h=l[u].tween(this,c,i,o,s,r,!!t&&o==s,!t);h==e.IGNORE?m=!0:i=h}m||(this._target[c]=i)}},t._runActions=function(e,t,r){var o=e,s=t,i=-1,a=this._actions.length,n=1;for(e>t&&(o=t,s=e,i=a,a=n=-1);(i+=n)!=a;){var l=this._actions[i],c=l.t;(c==s||c>o&&c<s||r&&c==e)&&l.f.apply(l.o,l.p)}},t._appendQueueProps=function(t){var r,o,s,i,a;for(var n in t)if(void 0===this._initQueueProps[n]){if(o=this._target[n],r=e._plugins[n])for(s=0,i=r.length;s<i;s++)o=r[s].init(this,n,o);this._initQueueProps[n]=this._curQueueProps[n]=void 0===o?null:o}else o=this._curQueueProps[n];for(var n in t){if(o=this._curQueueProps[n],r=e._plugins[n])for(a=a||{},s=0,i=r.length;s<i;s++)r[s].step&&r[s].step(this,n,o,t[n],a);this._curQueueProps[n]=t[n]}return a&&this._appendQueueProps(a),this._curQueueProps},t._cloneProps=function(e){var t={};for(var r in e)t[r]=e[r];return t},t._addStep=function(e){return e.d>0&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var r in e)t[r]=e[r]},vm.Tween=vm.promote(e,"EventDispatcher")}(),function(){function e(e,t,r){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,r&&(this._useTicks=r.useTicks,this.loop=r.loop,this.ignoreGlobalPause=r.ignoreGlobalPause,r.onChange&&this.addEventListener("change",r.onChange)),e&&this.addTween.apply(this,e),this.setLabels(t),r&&r.paused?this._paused=!0:vm.Tween._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,vm.Tween.NONE)}var t=vm.extend(e,vm.EventDispatcher);t.addTween=function(e){var t=arguments.length;if(t>1){for(var r=0;r<t;r++)this.addTween(arguments[r]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),this._prevPos>=0&&e.setPosition(this._prevPos,vm.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(t>1){for(var r=!0,o=0;o<t;o++)r=r&&this.removeTween(arguments[o]);return r}if(0==t)return!1;var s=this._tweens;for(o=s.length;o--;)if(s[o]==e)return s.splice(o,1),e.duration>=this.duration&&this.updateDuration(),!0;return!1},t.addLabel=function(e,t){this._labels[e]=t;var r=this._labelList;if(r){for(var o=0,s=r.length;o<s&&!(t<r[o].position);o++);r.splice(o,0,{label:e,position:t})}},t.setLabels=function(e){this._labels=e||{}},t.getLabels=function(){var e=this._labelList;if(!e){e=this._labelList=[];var t=this._labels;for(var r in t)e.push({label:r,position:t[r]});e.sort(function(e,t){return e.position-t.position})}return e},t.getCurrentLabel=function(){var e=this.getLabels(),t=this.position,r=e.length;if(r){for(var o=0;o<r&&!(t<e[o].position);o++);return 0==o?null:e[o-1].label}return null},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){var r=this._calcPosition(e),o=!this.loop&&e>=this.duration;if(r==this._prevPos)return o;this._prevPosition=e,this.position=this._prevPos=r;for(var s=0,i=this._tweens.length;s<i;s++)if(this._tweens[s].setPosition(r,t),r!=this._prevPos)return!1;return o&&this.setPaused(!0),this.dispatchEvent("change"),o},t.setPaused=function(e){this._paused=!!e,vm.Tween._register(this,!e)},t.updateDuration=function(){this.duration=0;for(var e=0,t=this._tweens.length;e<t;e++){var r=this._tweens[e];r.duration>this.duration&&(this.duration=r.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=Number(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){var t=this.resolve(e);null!=t&&this.setPosition(t)},t._calcPosition=function(e){return e<0?0:e<this.duration?e:this.loop?e%this.duration:this.duration},vm.Timeline=vm.promote(e,"EventDispatcher")}(),function(){function e(){throw"Ease cannot be instantiated."}e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return e<-1&&(e=-1),e>1&&(e=1),function(t){return 0==e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var r=2*Math.PI;return function(o){if(0==o||1==o)return o;var s=t/r*Math.asin(1/e);return-e*Math.pow(2,10*(o-=1))*Math.sin((o-s)*r/t)}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var r=2*Math.PI;return function(o){if(0==o||1==o)return o;var s=t/r*Math.asin(1/e);return e*Math.pow(2,-10*o)*Math.sin((o-s)*r/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var r=2*Math.PI;return function(o){var s=t/r*Math.asin(1/e);return(o*=2)<1?e*Math.pow(2,10*(o-=1))*Math.sin((o-s)*r/t)*-.5:e*Math.pow(2,-10*(o-=1))*Math.sin((o-s)*r/t)*.5+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),vm.Ease=e}(),function(){function e(){throw"MotionGuidePlugin cannot be instantiated."}e.priority=0,e._rotOffS,e._rotOffE,e._rotNormS,e._rotNormE,e.install=function(){return vm.Tween.installPlugin(e,["guide","x","y","rotation"]),vm.Tween.IGNORE},e.init=function(e,t,r){var o=e.target;return o.hasOwnProperty("x")||(o.x=0),o.hasOwnProperty("y")||(o.y=0),o.hasOwnProperty("rotation")||(o.rotation=0),"rotation"==t&&(e.__needsRot=!0),"guide"==t?null:r},e.step=function(t,r,o,s,i){if("rotation"==r&&(t.__rotGlobalS=o,t.__rotGlobalE=s,e.testRotData(t,i)),"guide"!=r)return s;var a,n=s;n.hasOwnProperty("path")||(n.path=[]);var l=n.path;if(n.hasOwnProperty("end")||(n.end=1),n.hasOwnProperty("start")||(n.start=o&&o.hasOwnProperty("end")&&o.path===l?o.end:0),n.hasOwnProperty("_segments")&&n._length)return s;var c=l.length;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";n._segments=[],n._length=0;for(var m=2;m<c;m+=4){for(var u,d,h=l[m-2],p=l[m-1],f=l[m+0],v=l[m+1],b=l[m+2],g=l[m+3],x=h,N=p,w=0,y=[],_=1;_<=10;_++){var D=_/10,E=1-D;u=E*E*h+2*E*D*f+D*D*b,d=E*E*p+2*E*D*v+D*D*g,w+=y[y.push(Math.sqrt((a=u-x)*a+(a=d-N)*a))-1],x=u,N=d}n._segments.push(w),n._segments.push(y),n._length+=w}a=n.orient,n.orient=!0;var S={};return e.calc(n,n.start,S),t.__rotPathS=Number(S.rotation.toFixed(5)),e.calc(n,n.end,S),t.__rotPathE=Number(S.rotation.toFixed(5)),n.orient=!1,e.calc(n,n.end,i),n.orient=a,n.orient?(t.__guideData=n,e.testRotData(t,i),s):s},e.testRotData=function(e,t){if(void 0===e.__rotGlobalS||void 0===e.__rotGlobalE){if(e.__needsRot)return;void 0!==e._curQueueProps.rotation?e.__rotGlobalS=e.__rotGlobalE=e._curQueueProps.rotation:e.__rotGlobalS=e.__rotGlobalE=t.rotation=e.target.rotation||0}if(void 0!==e.__guideData){var r=e.__guideData,o=e.__rotGlobalE-e.__rotGlobalS,s=e.__rotPathE-e.__rotPathS,i=o-s;if("auto"==r.orient)i>180?i-=360:i<-180&&(i+=360);else if("cw"==r.orient){for(;i<0;)i+=360;0==i&&o>0&&180!=o&&(i+=360)}else if("ccw"==r.orient){for(i=o-(s>180?360-s:s);i>0;)i-=360;0==i&&o<0&&-180!=o&&(i-=360)}r.rotDelta=i,r.rotOffS=e.__rotGlobalS-e.__rotPathS,e.__rotGlobalS=e.__rotGlobalE=e.__guideData=e.__needsRot=void 0}},e.tween=function(t,r,o,s,i,a,n,l){var c=i.guide;if(null==c||c===s.guide)return o;if(c.lastRatio!=a){var m=(c.end-c.start)*(n?c.end:a)+c.start;switch(e.calc(c,m,t.target),c.orient){case"cw":case"ccw":case"auto":t.target.rotation+=c.rotOffS+c.rotDelta*a;break;default:t.target.rotation+=c.rotOffS}c.lastRatio=a}return"rotation"!=r||c.orient&&"false"!=c.orient?t.target[r]:o},e.calc=function(e,t,r){if(null==e._segments)throw"Missing critical pre-calculated information, please file a bug";null==r&&(r={x:0,y:0,rotation:0});for(var o=e._segments,s=e.path,i=e._length*t,a=o.length-2,n=0;i>o[n]&&n<a;)i-=o[n],n+=2;var l=o[n+1],c=0;for(a=l.length-1;i>l[c]&&c<a;)i-=l[c],c++;var m=c/++a+i/(a*l[c]);n=2*n+2;var u=1-m;return r.x=u*u*s[n-2]+2*u*m*s[n+0]+m*m*s[n+2],r.y=u*u*s[n-1]+2*u*m*s[n+1]+m*m*s[n+3],e.orient&&(r.rotation=57.2957795*Math.atan2((s[n+1]-s[n-1])*u+(s[n+3]-s[n+1])*m,(s[n+0]-s[n-2])*u+(s[n+2]-s[n+0])*m)),r},vm.MotionGuidePlugin=e}(),function(){var e=vm.TweenJS=vm.TweenJS||{};e.version="0.6.2",e.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),um.exports=c.createjs;var gm=bm.exports;const xm=class{static fade(e){return e*e*e*(e*(6*e-15)+10)}static lerp(e,t,r){return(1-r)*e+r*t}static noise(e,t){const r=255&Math.floor(e),o=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);const s=this.fade(e),i=this.fade(t),a=this.perm[r]+o,n=this.perm[a],l=this.perm[a+1],c=this.perm[r+1]+o,m=this.perm[c],u=this.perm[c+1];return this.lerp(this.lerp(this.grad(this.perm[n],e,t),this.grad(this.perm[m],e-1,t),s),this.lerp(this.grad(this.perm[l],e,t-1),this.grad(this.perm[u],e-1,t-1),s),i)}static grad(e,t,r){const o=15&e,s=o<8?t:r,i=o<4?r:12===o||14===o?t:0;return(1&o?-s:s)+(2&o?-i:i)}};t(xm,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),t(xm,"p",[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180]),t(xm,"perm",[]),t(xm,"gradP",[]),(()=>{for(let e=0;e<512;e++)xm.perm[e]=xm.p[255&e],xm.gradP[e]=xm.grad3[xm.perm[e]%12]})();let Nm=xm;const wm=class e{constructor(){t(this,"x",0),t(this,"y",0),t(this,"vx",0),t(this,"vy",0),t(this,"life",0),t(this,"maxLife",0),t(this,"alpha",1),t(this,"scale",1),t(this,"isDead",!1),t(this,"icon","♪"),t(this,"color","#6366f1"),t(this,"size",16),this.resetParameters()}resetParameters(){this.life=0,this.maxLife=Math.random()*Math.random()*800+80,this.alpha=1,this.scale=.5+.5*Math.random(),this.isDead=!1,this.icon=e.icons[Math.floor(Math.random()*e.icons.length)];const t=360*Math.random(),r=50+30*Math.random();this.color=`hsl(${t}, 100%, ${r}%)`,this.size=12+8*Math.random()}update(){this.life++,this.vy-=.015,this.vx*=.99,this.vy*=.99,this.x+=this.vx,this.y+=this.vy;const e=this.life/this.maxLife;this.alpha=.3*Math.random()+.7*(1-e),this.scale=1-.5*e,this.life>=this.maxLife&&(this.isDead=!0)}getIsDead(){return this.isDead}};t(wm,"icons",["❤️","♪","♫","♩"]);let ym=wm;class _m{constructor(e,r=100,o=!1){t(this,"stage"),t(this,"canvas"),t(this,"particles",[]),t(this,"particlePool",[]),t(this,"waveContainer"),t(this,"particleContainer"),t(this,"time",0),t(this,"animationId",null),t(this,"isRunning",!1),t(this,"maxParticles"),t(this,"reducedMotion"),t(this,"lastFrameTime",0),t(this,"frameCount",0),t(this,"targetFPS",60),t(this,"animate",(e=0)=>{if(!this.isRunning)return;e-this.lastFrameTime>=1e3/this.targetFPS&&(this.time+=2,this.frameCount++,this.createWaves(),this.emitParticles(),this.updateParticles(),this.stage.update(),this.lastFrameTime=e),this.animationId=requestAnimationFrame(this.animate)}),this.canvas=e,this.maxParticles=r,this.reducedMotion=o,this.stage=new gm.Stage(e),this.waveContainer=new gm.Container,this.particleContainer=new gm.Container,this.stage.addChild(this.waveContainer),this.stage.addChild(this.particleContainer),gm.Ticker.framerate=this.targetFPS,gm.Ticker.timingMode=gm.Ticker.RAF,this.initParticlePool(),this.resize()}initParticlePool(){const e=this.reducedMotion?Math.min(this.maxParticles,50):2*this.maxParticles;for(let t=0;t<e;t++)this.particlePool.push(new ym)}getParticleFromPool(){return this.particlePool.pop()||null}returnParticleToPool(e){e.resetParameters(),this.particlePool.push(e)}createWaves(){this.waveContainer.removeAllChildren();const e=this.canvas.width,t=this.canvas.height,r=e<768?4:6,o=this.time/4e3;for(let s=0;s<r;s++){const r=new gm.Shape,i=r.graphics;i.clear();const a=["rgba(99, 102, 241, 0.8)","rgba(59, 130, 246, 0.7)","rgba(14, 165, 233, 0.6)","rgba(6, 182, 212, 0.5)","rgba(255, 255, 255, 0.4)","rgba(167, 243, 208, 0.3)"],n=a[s%a.length];i.beginStroke(n);const l=(0===s?3:2.5-.3*s)+.5*Math.sin(2*o);i.setStrokeStyle(Math.max(l,.8));const c=[],m=t/2;c.push({x:-200,y:m});const u=15,d=.15+.05*s,h=s*Math.PI/3;for(let p=0;p<=u;p++){const r=(.8*Nm.noise(p*d,o+.15*s)+.4*Math.sin(.3*p+3*o+h))*((.8+.2*s)*t*.2)+m;c.push({x:e*(p/u)|0,y:r})}c.push({x:e+200,y:m});for(let e=0;e<c.length;e++)if(e>=2){const t=c[e],r=c[e-1],o=c[e-2],s=(o.x+r.x)/2,a=(o.y+r.y)/2,n=(t.x+r.x)/2,l=(t.y+r.y)/2;i.moveTo(s,a),i.curveTo(r.x,r.y,n,l)}r.alpha=.7+.3*Math.sin(2*o+s),r.compositeOperation="screen",this.waveContainer.addChild(r)}}emitParticles(){const e=this.reducedMotion?.125:.375,t=this.reducedMotion?Math.min(this.maxParticles,30):this.maxParticles;if(this.particles.length<t&&Math.random()<e){const e=this.getParticleFromPool();e&&(e.x=Math.random()*this.canvas.width,e.y=this.canvas.height/5*(Math.random()-.5)+6*this.canvas.height/10,e.vx=1.25*(Math.random()-.5),e.vy=1.25*(Math.random()-.5),this.particles.push(e))}}updateParticles(){this.particleContainer.removeAllChildren();for(let e=this.particles.length-1;e>=0;e--){const t=this.particles[e];if(t.update(),t.getIsDead())this.returnParticleToPool(t),this.particles.splice(e,1);else{const e=new gm.Text(t.icon,`${t.size}px Arial`,t.color);e.textAlign="center",e.textBaseline="middle",e.x=t.x,e.y=t.y,e.alpha=t.alpha,e.scaleX=e.scaleY=t.scale,e.compositeOperation="lighter",this.particleContainer.addChild(e)}}}start(){this.isRunning||(this.isRunning=!0,this.animate())}stop(){this.isRunning=!1,this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}resize(){const e=this.canvas.getBoundingClientRect();this.canvas.width=e.width,this.canvas.height=e.height,this.stage.update()}destroy(){this.stop(),this.stage.removeAllChildren(),this.particles=[],this.particlePool=[]}}const Dm=({className:e="",reducedMotion:t,maxParticles:o=100})=>{const s=r.useRef(null),i=r.useRef(null),a=r.useRef(null);return r.useEffect(()=>{if(!s.current)return;const e=t??!1,r=window.innerWidth<768?Math.min(o,50):o;let n;i.current=new _m(s.current,r,e),i.current.start();const l=()=>{clearTimeout(n),n=setTimeout(()=>{i.current&&i.current.resize()},150)},c=()=>{i.current&&(document.hidden?i.current.stop():i.current.start())};let m=null;return a.current&&(m=new IntersectionObserver(e=>{e.forEach(e=>{i.current&&(e.isIntersecting?i.current.start():i.current.stop())})},{threshold:.1}),m.observe(a.current)),window.addEventListener("resize",l),document.addEventListener("visibilitychange",c),()=>{clearTimeout(n),window.removeEventListener("resize",l),document.removeEventListener("visibilitychange",c),m&&m.disconnect(),i.current&&i.current.destroy()}},[t,o]),nt.jsxDEV("div",{ref:a,className:`absolute inset-0 w-full h-full pointer-events-none ${e}`,children:nt.jsxDEV("canvas",{ref:s,className:"absolute inset-0 w-full h-full pointer-events-none",style:{background:"transparent",zIndex:0,willChange:"transform"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ParticlesAndWaves.tsx",lineNumber:499,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ParticlesAndWaves.tsx",lineNumber:495,columnNumber:5},void 0)},Em=()=>{const e=Xo(),{startNewCreationFlow:t}=mm(),[o,s]=r.useState("");return nt.jsxDEV("section",{className:"relative h-screen flex items-center justify-center bg-gradient-to-br from-[#4D2699] via-[#231733] to-[#160D27]",children:[nt.jsxDEV(Dm,{className:"opacity-50"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:26,columnNumber:7},void 0),nt.jsxDEV("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[nt.jsxDEV("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/8 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:30,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-[#FEC641]/15 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:31,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-[#7B3FE4]/10 rounded-full blur-3xl"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:32,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:29,columnNumber:7},void 0),nt.jsxDEV("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-center",children:nt.jsxDEV("div",{className:"flex flex-col items-center justify-center text-center w-full",children:[nt.jsxDEV("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-heading font-bold text-white leading-tight mb-8",children:["A música que transforma"," ",nt.jsxDEV("span",{className:"text-[#FEC641]",children:"sentimentos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:40,columnNumber:13},void 0)," ","em presente"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:38,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-xl sm:text-2xl text-white/90 leading-relaxed mb-12 max-w-3xl",children:[nt.jsxDEV("span",{className:"block sm:inline",children:"Em até 5 minutos, a Memora cria duas versões profissionais"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:46,columnNumber:13},void 0),nt.jsxDEV("span",{className:"block sm:inline",children:" e únicas da sua canção para você escolher e emocionar quem ama."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:47,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:45,columnNumber:11},void 0),nt.jsxDEV("div",{className:"flex flex-col lg:flex-row gap-4 justify-center items-center mb-6 w-full max-w-2xl",children:[nt.jsxDEV("div",{className:"flex flex-col w-full lg:w-auto",children:[nt.jsxDEV("label",{htmlFor:"recipient-name",className:"text-white/90 text-sm font-medium mb-2 text-left",children:"Vamos começar?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:53,columnNumber:15},void 0),nt.jsxDEV("input",{id:"recipient-name",type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Digite o nome aqui",className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl px-6 h-[54px] text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#FEC641] focus:border-transparent transition-all duration-300 text-lg w-full lg:w-[212px]","aria-describedby":"recipient-name-description"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:56,columnNumber:15},void 0),nt.jsxDEV("span",{id:"recipient-name-description",className:"sr-only",children:"Digite o nome da pessoa para quem você quer criar a música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:65,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:52,columnNumber:13},void 0),nt.jsxDEV(Ws,{size:"lg",className:"bg-[#FEC641] hover:bg-[#FEC641]/90 text-[#101010] px-10 h-[54px] rounded-2xl font-semibold text-lg shadow-2xl hover:shadow-[#FEC641]/25 hover:-translate-y-1 transition-all duration-300 border-0 w-full lg:w-auto mt-4 lg:mt-8","data-attr":"hero-cta-primary",onClick:async()=>{const{token:r}=ec.getState(),s=o.trim()?`?para=${encodeURIComponent(o.trim())}`:"";e(`/criar${s}`),await t(e,r)},children:[nt.jsxDEV(Ne,{className:"mr-3 h-6 w-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:76,columnNumber:15},void 0),"Crie sua música"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:70,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:51,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/Hero.tsx",lineNumber:24,columnNumber:5},void 0)},Sm=()=>{const[e,t]=r.useState(0),[o,s]=r.useState(!0),i=[{number:"1",icon:we,title:"Conte sua história",description:"Escreva a ocasião e sentimentos que você quer transformar em música.",details:"Nossa IA analisa suas palavras para capturar a essência emocional da sua história.",color:"memora-primary"},{number:"2",icon:Ne,title:"A IA cria sua música",description:"Letra e melodia únicas, em menos de 5 minutos.",details:"Algoritmos avançados compõem uma canção personalizada baseada na sua narrativa.",color:"memora-secondary"},{number:"3",icon:ye,title:"Ouça e compartilhe",description:"Receba uma prévia e baixe em MP3.",details:"Sua música está pronta para emocionar e ser compartilhada com quem você ama.",color:"memora-coral"}];r.useEffect(()=>{if(!o)return;const e=setInterval(()=>{t(e=>(e+1)%i.length)},4e3);return()=>clearInterval(e)},[o,i.length]);return nt.jsxDEV("section",{id:"como-funciona",className:"py-20 bg-background",children:nt.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"text-center mb-16",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-foreground mb-4",children:"Como funciona"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:58,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Transforme suas memórias em música em apenas 3 passos simples"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:57,columnNumber:9},void 0),nt.jsxDEV("div",{className:"relative",children:[nt.jsxDEV("div",{className:"flex justify-center mb-12",children:nt.jsxDEV("div",{className:"relative flex items-center space-x-8 md:space-x-16",children:[nt.jsxDEV("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gradient-to-r from-memora-primary/20 via-memora-secondary/20 to-memora-coral/20 rounded-full transform -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:72,columnNumber:15},void 0),nt.jsxDEV("div",{className:"absolute top-1/2 left-0 h-1 bg-gradient-to-r from-memora-primary via-memora-secondary to-memora-coral rounded-full transform -translate-y-1/2 transition-all duration-1000 ease-out",style:{width:(e+1)/i.length*100+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:75,columnNumber:15},void 0),i.map((r,o)=>{const i=r.icon,a=o===e,n=o<e;return nt.jsxDEV("button",{onClick:()=>(e=>{t(e),s(!1),setTimeout(()=>s(!0),8e3)})(o),className:"relative z-10 w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-memora-primary/30 "+(a?"bg-gradient-to-br from-memora-primary to-memora-secondary shadow-2xl scale-110":n?"bg-memora-primary/80 shadow-lg":"bg-white/10 backdrop-blur-sm border-2 border-white/20 hover:border-memora-primary/50"),children:[nt.jsxDEV(i,{className:"w-7 h-7 transition-colors duration-300 "+(a||n?"text-white":"text-memora-primary")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:98,columnNumber:21},void 0),nt.jsxDEV("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 "+(a?"bg-white text-memora-primary shadow-lg":n?"bg-memora-primary text-white":"bg-white/20 text-white/60"),children:r.number},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:103,columnNumber:21},void 0)]},r.number,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:87,columnNumber:19},void 0)})]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:70,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:69,columnNumber:11},void 0),nt.jsxDEV("div",{className:"max-w-4xl mx-auto",children:nt.jsxDEV("div",{className:"bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-sm rounded-3xl p-8 md:p-12 border border-white/10 shadow-2xl",children:nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("h3",{className:"text-3xl md:text-4xl font-heading font-bold text-foreground mb-4",children:i[e].title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:124,columnNumber:17},void 0),nt.jsxDEV("p",{className:"text-xl text-muted-foreground mb-6 leading-relaxed",children:i[e].description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:128,columnNumber:17},void 0),nt.jsxDEV("p",{className:"text-lg text-muted-foreground/80 max-w-2xl mx-auto leading-relaxed",children:i[e].details},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:132,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:121,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:120,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:119,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:67,columnNumber:9},void 0),nt.jsxDEV("div",{className:"text-center mt-16",children:nt.jsxDEV("div",{className:"inline-flex items-center space-x-2 surface-1 px-6 py-3 rounded-full shadow-lg",children:[nt.jsxDEV(Ne,{className:"w-5 h-5 text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:143,columnNumber:13},void 0),nt.jsxDEV("span",{className:"text-muted-foreground font-medium",children:"Processo 100% automatizado com IA avançada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:141,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:55,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/HowItWorks.tsx",lineNumber:54,columnNumber:5},void 0)},jm=()=>{const e=[{icon:_e,text:"Música personalizada de até 3 minutos"},{icon:Ne,text:"Estilos variados: pop, romântico, infantil, sertanejo e mais"},{icon:De,text:"Voz sintética avançada com qualidade profissional"},{icon:Ee,text:"Entrega rápida em MP3"}];return nt.jsxDEV("section",{className:"py-20 bg-background",children:nt.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"text-center mb-16",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-foreground mb-4",children:"Um presente que toca o coração"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:28,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Crie memórias musicais únicas que ficarão para sempre"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:31,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:27,columnNumber:9},void 0),nt.jsxDEV("div",{className:"max-w-2xl mx-auto",children:nt.jsxDEV("div",{className:"relative surface-1 rounded-2xl shadow-2xl overflow-hidden",children:[nt.jsxDEV("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:nt.jsxDEV("div",{className:"bg-gradient-to-r from-memora-secondary to-memora-coral px-6 py-2 rounded-full shadow-lg",children:nt.jsxDEV("span",{className:"text-white font-heading font-bold text-sm",children:"🎉 GRÁTIS NO LANÇAMENTO"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:42,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:41,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:40,columnNumber:13},void 0),nt.jsxDEV("div",{className:"pt-12 pb-8 px-8 sm:px-12",children:[nt.jsxDEV("div",{className:"text-center mb-8",children:[nt.jsxDEV("h3",{className:"text-2xl sm:text-3xl font-heading font-bold text-foreground mb-2",children:"AI Premium"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:51,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[nt.jsxDEV("span",{className:"text-4xl sm:text-5xl font-heading font-bold text-primary",children:"R$ 0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:55,columnNumber:19},void 0),nt.jsxDEV("div",{className:"text-left",children:[nt.jsxDEV("div",{className:"text-muted-foreground line-through text-lg",children:"R$ 149"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:59,columnNumber:21},void 0),nt.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"por música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:62,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:58,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:54,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:50,columnNumber:15},void 0),nt.jsxDEV("div",{className:"space-y-4 mb-8",children:e.map((e,t)=>{const r=e.icon;return nt.jsxDEV("div",{className:"flex items-start space-x-3",children:[nt.jsxDEV("div",{className:"flex-shrink-0 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center mt-0.5",children:nt.jsxDEV(r,{className:"w-4 h-4 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:77,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:76,columnNumber:23},void 0),nt.jsxDEV("span",{className:"text-foreground font-medium",children:e.text},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:79,columnNumber:23},void 0)]},t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:75,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:70,columnNumber:15},void 0),nt.jsxDEV("div",{className:"text-center mb-6",children:nt.jsxDEV("button",{className:"w-full bg-secondary hover:bg-secondary/90 text-neutral-dark font-heading font-bold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300","data-attr":"plan-cta-button",children:nt.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[nt.jsxDEV(Ne,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:94,columnNumber:21},void 0),nt.jsxDEV("span",{children:"Gerar minha música grátis agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:95,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:93,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:88,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex items-center justify-center space-x-2 text-muted-foreground text-sm",children:[nt.jsxDEV(Se,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:102,columnNumber:17},void 0),nt.jsxDEV("span",{children:"Oferta limitada ao período de lançamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:101,columnNumber:15},void 0),nt.jsxDEV("div",{className:"mt-6 p-4 bg-white/5 rounded-xl",children:nt.jsxDEV("p",{className:"text-xs text-muted-foreground text-center leading-relaxed",children:"* Gratuidade limitada ao período de lançamento. Após o período promocional, o valor será de R$ 149,00 por música personalizada."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:108,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:48,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:38,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:37,columnNumber:9},void 0),nt.jsxDEV("div",{className:"mt-16 grid sm:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:nt.jsxDEV(Se,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:121,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:120,columnNumber:13},void 0),nt.jsxDEV("h4",{className:"font-heading font-bold text-foreground mb-1",children:"Entrega Rápida"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:123,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Sua música fica pronta em menos de 5 minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:119,columnNumber:11},void 0),nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:nt.jsxDEV(je,{className:"w-6 h-6 text-secondary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:133,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:132,columnNumber:13},void 0),nt.jsxDEV("h4",{className:"font-heading font-bold text-foreground mb-1",children:"100% Única"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:135,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Cada música é criada exclusivamente para você"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:138,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:131,columnNumber:11},void 0),nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("div",{className:"w-12 h-12 bg-accent-coral/10 rounded-full flex items-center justify-center mx-auto mb-3",children:nt.jsxDEV(Ee,{className:"w-6 h-6 text-accent-coral"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:145,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:144,columnNumber:13},void 0),nt.jsxDEV("h4",{className:"font-heading font-bold text-foreground mb-1",children:"Formato MP3"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:147,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Compatível com todos os dispositivos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:118,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:25,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/PlanSection.tsx",lineNumber:24,columnNumber:5},void 0)},Pm=()=>{const[e,t]=r.useState(null),o=[{id:"aniversario",title:"Aniversário",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=birthday%20celebration%20with%20colorful%20balloons%20and%20cake%20warm%20lighting%20joyful%20atmosphere&image_size=square",icon:Pe,color:"memora-primary"},{id:"casamento",title:"Casamento",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=elegant%20wedding%20ceremony%20with%20flowers%20and%20rings%20romantic%20atmosphere%20soft%20lighting&image_size=square",icon:oe,color:"memora-coral"},{id:"amor",title:"Canção de Amor",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=romantic%20couple%20silhouette%20sunset%20heart%20shapes%20warm%20colors%20love%20theme&image_size=square",icon:oe,color:"memora-coral"},{id:"aniversario-casamento",title:"Aniversário de Casamento",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=wedding%20anniversary%20celebration%20golden%20rings%20flowers%20elegant%20romantic%20setting&image_size=square",icon:Ce,color:"memora-secondary"},{id:"so-porque",title:"Só porque…",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=spontaneous%20gesture%20of%20love%20surprise%20gift%20warm%20colors%20heartfelt%20moment&image_size=square",icon:oe,color:"memora-turquoise"},{id:"proposta",title:"Proposta",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=marriage%20proposal%20scene%20engagement%20ring%20romantic%20setting%20magical%20moment&image_size=square",icon:oe,color:"memora-primary"},{id:"graduacao",title:"Graduação",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=graduation%20ceremony%20cap%20and%20diploma%20celebration%20achievement%20proud%20moment&image_size=square",icon:Ue,color:"memora-secondary"},{id:"melhores-amigos",title:"Melhores Amigos",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=best%20friends%20together%20laughing%20friendship%20bond%20happy%20moments%20warm%20colors&image_size=square",icon:Ue,color:"memora-turquoise"},{id:"noivado",title:"Noivado",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=engagement%20celebration%20couple%20happy%20ring%20romantic%20atmosphere%20love&image_size=square",icon:oe,color:"memora-coral"},{id:"dia-pais",title:"Dia dos Pais",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=father%20and%20child%20bonding%20moment%20paternal%20love%20family%20warmth%20celebration&image_size=square",icon:oe,color:"memora-primary"},{id:"dia-maes",title:"Dia das Mães",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=mother%20and%20child%20loving%20embrace%20maternal%20love%20flowers%20warm%20celebration&image_size=square",icon:oe,color:"memora-coral"},{id:"natal",title:"Natal",image:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=christmas%20celebration%20tree%20lights%20family%20gathering%20festive%20warm%20atmosphere&image_size=square",icon:Pe,color:"memora-secondary"}];return nt.jsxDEV("section",{id:"exemplos",className:"py-20 bg-background",children:nt.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"text-center mb-16",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-foreground mb-4",children:"Momentos que viram canção"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:111,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-xl text-muted-foreground max-w-4xl mx-auto",children:"Há algo especial no poder das músicas de unir as pessoas e tornar momentos ainda mais significativos."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:114,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:110,columnNumber:9},void 0),nt.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 lg:gap-6",children:o.map(r=>{const o=r.icon,s=e===r.id;return nt.jsxDEV("div",{className:"group relative surface-1 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 overflow-hidden",children:[nt.jsxDEV("div",{className:"relative aspect-square overflow-hidden",children:[nt.jsxDEV("img",{src:r.image,alt:`Exemplo de música para ${r.title}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:132,columnNumber:19},void 0),nt.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:139,columnNumber:19},void 0),nt.jsxDEV("button",{onClick:()=>{return o=r.id,void(e===o?t(null):(t(o),setTimeout(()=>{t(null)},15e3)));var o},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-all duration-300 group-hover:scale-110 active:scale-95 "+(s?"bg-memora-primary text-white":"text-neutral-dark"),"aria-label":`${s?"Pausar":"Reproduzir"} exemplo de ${r.title}`,"data-attr":"example-play-button",children:s?nt.jsxDEV(ue,{className:"w-5 h-5 ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:151,columnNumber:23},void 0):nt.jsxDEV(de,{className:"w-5 h-5 ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:153,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:142,columnNumber:19},void 0),nt.jsxDEV("div",{className:`absolute top-3 right-3 w-8 h-8 bg-${r.color}/90 rounded-full flex items-center justify-center`,children:nt.jsxDEV(o,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:159,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:158,columnNumber:19},void 0),s&&nt.jsxDEV("div",{className:"absolute bottom-3 left-3 flex items-center space-x-1",children:[nt.jsxDEV("div",{className:"flex space-x-1",children:[...Array(3)].map((e,t)=>nt.jsxDEV("div",{className:"w-1 h-4 bg-white rounded-full animate-pulse",style:{animationDelay:.2*t+"s",animationDuration:"1s"}},t,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:167,columnNumber:27},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:165,columnNumber:23},void 0),nt.jsxDEV(_e,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:177,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:164,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:131,columnNumber:17},void 0),nt.jsxDEV("div",{className:"p-4",children:nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground text-center text-sm sm:text-base",children:r.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:184,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:183,columnNumber:17},void 0)]},r.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:126,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:120,columnNumber:9},void 0),nt.jsxDEV("div",{className:"text-center mt-16",children:nt.jsxDEV("div",{className:"inline-flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[nt.jsxDEV("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[nt.jsxDEV(_e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:197,columnNumber:15},void 0),nt.jsxDEV("span",{className:"font-medium",children:"Prévias de 15 segundos • Músicas completas de até 3 minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:198,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:196,columnNumber:13},void 0),nt.jsxDEV("button",{className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:scale-95 transition-all duration-300","data-attr":"examples-cta-button",children:"Criar minha música agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:202,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:195,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:194,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:108,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ExamplesGrid.tsx",lineNumber:107,columnNumber:5},void 0)},Cm=["Pop","R&B","Soul","Hip hop","Latin Pop","Ballad","Cinematic","Opera","Soul/Funk","Pop/EDM"],Um=()=>{const[e,t]=r.useState([]),[o,s]=r.useState(null),{currentId:i,isPlaying:a,play:n,pause:l}=bc();r.useEffect(()=>{let e=!0;return ni(12).then(r=>{var o;const s=((null==(o=null==r?void 0:r.data)?void 0:o.songs)||(null==r?void 0:r.songs)||[]).filter(e=>!!(null==e?void 0:e.imageUrl));e&&t(s.slice(0,12))}).catch(r=>{e&&t([])}),()=>{e=!1}},[]);const c=r.useMemo(()=>o?{backgroundImage:`url(${o})`}:void 0,[o]);return nt.jsxDEV("section",{id:"artistas",className:"relative py-20",children:[nt.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-b from-[#052a66] via-[#073777] to-[#082a55]","aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:73,columnNumber:7},void 0),nt.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-lg transition-[background-image] duration-500",style:c,"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:75,columnNumber:7},void 0),nt.jsxDEV("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"text-center mb-6",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-white drop-shadow",children:"Artistas que dão voz às suas memórias"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:84,columnNumber:11},void 0),nt.jsxDEV("p",{className:"mt-3 text-white/90 max-w-3xl mx-auto text-sm sm:text-base",children:"Descubra vozes únicas e estilos variados para dar vida às suas memórias. Clique para ouvir e deixe a capa do álbum iluminar o momento."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:87,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:83,columnNumber:9},void 0),nt.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-5 lg:gap-6",children:e.slice(0,12).map((e,t)=>{const r=e.imageUrl||"",o=(e=>{if(!e)return"";const t=[" - "," — "," – ",": ","/"];let r=e;for(const o of t)r.includes(o)&&(r=r.split(o).pop().trim());return r})(e.genre)||Cm[t%Cm.length],c=i===e.id&&a;return nt.jsxDEV("button",{onClick:()=>(e=>{const t=(e=>e.audioUrlOption1||e.audioUrlOption2||e.audioUrl||null)(e);t&&(i===e.id&&a?l():(s(e.imageUrl||null),n(e.id,t,{title:e.title,versionLabel:e.audioUrlOption2&&!e.audioUrlOption1?"B":"A"})))})(e),className:"group relative aspect-square rounded-2xl overflow-hidden shadow-[0_10px_20px_rgba(0,0,0,0.25)] bg-black/30 ring-1 ring-white/10 hover:ring-white/30 transition spotlight","aria-label":`Reproduzir ${e.title}`,children:[nt.jsxDEV("img",{src:r,alt:e.title,className:"absolute inset-0 w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:106,columnNumber:17},void 0),nt.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/40 via-black/10 to-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:108,columnNumber:17},void 0),nt.jsxDEV("div",{className:"absolute top-2 left-2 px-2.5 py-1 rounded-md text-[11px] font-semibold text-white bg-black/60 backdrop-blur text-left",children:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:110,columnNumber:17},void 0),nt.jsxDEV("div",{className:"absolute bottom-2 right-2",children:nt.jsxDEV("div",{className:"w-11 h-11 rounded-full bg-white/70 group-hover:bg-white/90 flex items-center justify-center shadow-md",children:c?nt.jsxDEV(ue,{className:"w-5 h-5 text-black"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:117,columnNumber:23},void 0):nt.jsxDEV(de,{className:"w-5 h-5 text-black ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:119,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:115,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:114,columnNumber:17},void 0)]},e.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:99,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:93,columnNumber:9},void 0),nt.jsxDEV("div",{className:"relative mt-10 text-center",children:nt.jsxDEV("div",{className:"inline-flex flex-col items-center gap-3 bg-black/20 backdrop-blur-sm border border-white/10 rounded-2xl px-6 py-5",children:[nt.jsxDEV("span",{className:"text-white/90 text-sm sm:text-base",children:"Gostou do que ouviu? Crie sua própria música personalizada agora mesmo."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:131,columnNumber:13},void 0),nt.jsxDEV(Tm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:134,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:130,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:129,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:81,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:71,columnNumber:5},void 0)},Tm=()=>{const e=Xo(),{token:t}=ec(),{startNewCreationFlow:r}=mm();return nt.jsxDEV("button",{onClick:async()=>{try{await r(e,t||null)}catch(Wd){e("/criar")}},className:"inline-flex items-center justify-center px-5 py-3 rounded-full bg-white text-black font-semibold shadow hover:shadow-md transition",children:"Crie sua música grátis"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/ArtistsSection.tsx",lineNumber:160,columnNumber:5},void 0)},km=()=>{const[e,t]=r.useState(0),o=[{id:1,text:"Recebi uma música da minha filha no meu aniversário e foi o presente mais emocionante que já ganhei.",author:"Maria",age:42,location:"São Paulo",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=middle%20aged%20woman%20smiling%20warmly%20portrait%20happy%20mother%20professional%20photo&image_size=square",rating:5},{id:2,text:"Criei uma música para o meu marido no nosso aniversário de casamento. Ele chorou de emoção quando ouviu.",author:"Ana",age:35,location:"Rio de Janeiro",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young%20woman%20smiling%20portrait%20happy%20wife%20professional%20photo%20warm%20lighting&image_size=square",rating:5},{id:3,text:"Nunca imaginei que seria tão fácil criar uma música personalizada. O resultado superou todas as minhas expectativas.",author:"Carlos",age:28,location:"Belo Horizonte",avatar:"https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=young%20man%20smiling%20portrait%20happy%20professional%20photo%20confident%20expression&image_size=square",rating:5}],s=o[e];return nt.jsxDEV("section",{className:"py-20 bg-neutral-dark relative overflow-hidden",children:[nt.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:[nt.jsxDEV("div",{className:"absolute top-10 left-10 w-32 h-32 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:52,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute bottom-20 right-20 w-24 h-24 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:53,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:54,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:51,columnNumber:7},void 0),nt.jsxDEV("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[nt.jsxDEV("div",{className:"text-center mb-16",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-white mb-4",children:"O que nossos usuários dizem"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:60,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Histórias reais de pessoas que transformaram suas memórias em música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:63,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:59,columnNumber:9},void 0),nt.jsxDEV("div",{className:"relative",children:[nt.jsxDEV("div",{className:"surface-2 rounded-3xl p-8 lg:p-12",children:[nt.jsxDEV("div",{className:"flex justify-center mb-8",children:nt.jsxDEV("div",{className:"w-16 h-16 bg-secondary rounded-full flex items-center justify-center",children:nt.jsxDEV(Te,{className:"w-8 h-8 text-neutral-dark"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:74,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:73,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:72,columnNumber:13},void 0),nt.jsxDEV("div",{className:"text-center mb-8",children:[nt.jsxDEV("blockquote",{className:"text-2xl lg:text-3xl font-heading text-white leading-relaxed mb-8",children:['"',s.text,'"']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:80,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex justify-center mb-6",children:[...Array(s.rating)].map((e,t)=>nt.jsxDEV(ge,{className:"w-6 h-6 text-secondary fill-current"},t,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:87,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:85,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex items-center justify-center space-x-4",children:[nt.jsxDEV("div",{className:"w-16 h-16 rounded-full overflow-hidden ring-4 ring-white/20",children:nt.jsxDEV("img",{src:s.avatar,alt:`Foto de ${s.author}`,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:94,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:93,columnNumber:17},void 0),nt.jsxDEV("div",{className:"text-left",children:[nt.jsxDEV("div",{className:"text-white font-heading font-bold text-lg",children:[s.author,", ",s.age," anos"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:101,columnNumber:19},void 0),nt.jsxDEV("div",{className:"text-white/70",children:s.location},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:104,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:100,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:79,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:70,columnNumber:11},void 0),o.length>1&&nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(Ws,{onClick:()=>{t(e=>(e-1+o.length)%o.length)},variant:"ghost",size:"sm",className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 group p-0","aria-label":"Depoimento anterior",children:nt.jsxDEV(ke,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:122,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:115,columnNumber:15},void 0),nt.jsxDEV(Ws,{onClick:()=>{t(e=>(e+1)%o.length)},variant:"ghost",size:"sm",className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full flex items-center justify-center transition-all duration-300 group p-0","aria-label":"Próximo depoimento",children:nt.jsxDEV(Ve,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:132,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:114,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:69,columnNumber:9},void 0),o.length>1&&nt.jsxDEV("div",{className:"flex justify-center mt-8 space-x-3",children:o.map((r,o)=>nt.jsxDEV(Ws,{onClick:()=>t(o),variant:"ghost",size:"sm",className:"w-3 h-3 rounded-full transition-all duration-300 p-0 h-3 min-w-0 "+(o===e?"bg-memora-secondary scale-125":"bg-white/30 hover:bg-white/50"),"aria-label":`Ir para depoimento ${o+1}`},o,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:142,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:140,columnNumber:11},void 0),nt.jsxDEV("div",{className:"mt-16 grid sm:grid-cols-3 gap-8 text-center",children:[nt.jsxDEV("div",{children:[nt.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-secondary mb-2",children:"500+"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:161,columnNumber:13},void 0),nt.jsxDEV("div",{className:"text-white/80",children:"Músicas criadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:160,columnNumber:11},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-secondary mb-2",children:"4.9★"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:170,columnNumber:13},void 0),nt.jsxDEV("div",{className:"text-white/80",children:"Avaliação média"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:173,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:169,columnNumber:11},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("div",{className:"text-4xl lg:text-5xl font-heading font-bold text-secondary mb-2",children:"98%"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:179,columnNumber:13},void 0),nt.jsxDEV("div",{className:"text-white/80",children:"Satisfação dos usuários"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:182,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:178,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:159,columnNumber:9},void 0),nt.jsxDEV("div",{className:"text-center mt-12",children:nt.jsxDEV(Ws,{className:"bg-secondary hover:bg-secondary/90 text-neutral-dark font-heading font-bold py-4 px-8 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl","data-attr":"testimonial-cta-create-music",size:"lg",children:"Criar minha música agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:190,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:189,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:57,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/TestimonialSection.tsx",lineNumber:49,columnNumber:5},void 0)},Vm=()=>{const[e,t]=r.useState(0),[o,s]=r.useState({difficulty:"",would_recommend:"",price_willingness:""}),[i,a]=r.useState(!1),[n,l]=r.useState(!1);return nt.jsxDEV("section",{className:"py-20 bg-white",children:nt.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[nt.jsxDEV("div",{className:"mb-20",children:[nt.jsxDEV("div",{className:"text-center mb-12",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold text-memora-black mb-4",children:"Perguntas Frequentes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:83,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-xl text-memora-gray max-w-3xl mx-auto",children:"Tire suas dúvidas sobre como criar sua música personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:82,columnNumber:11},void 0),nt.jsxDEV("div",{className:"space-y-4",children:[{question:"Como a música é criada?",answer:"A IA transforma sua história em letra e melodia exclusivas. Você conta sua história, descreve a ocasião e os sentimentos, e nossa inteligência artificial cria uma música única em menos de 5 minutos."},{question:"Posso escolher o estilo musical?",answer:"Sim, você escolhe entre vários estilos populares como pop, romântico, infantil, sertanejo, rock, MPB e muitos outros. Cada estilo é adaptado para criar a atmosfera perfeita para sua ocasião especial."},{question:"Quanto tempo demora?",answer:"Menos de 5 minutos na maioria dos casos. Após você fornecer as informações sobre sua história, nossa IA processa e gera sua música personalizada rapidamente, para que você possa ouvir e compartilhar no mesmo dia."}].map((r,o)=>nt.jsxDEV("div",{className:"bg-memora-gray-light/30 rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-lg",children:[nt.jsxDEV("button",{onClick:()=>(r=>{t(e===r?null:r)})(o),className:"w-full px-6 py-6 text-left flex items-center justify-between hover:bg-memora-gray-light/50 transition-colors duration-200","aria-expanded":e===o,children:[nt.jsxDEV("h3",{className:"text-lg font-heading font-bold text-memora-black pr-4",children:r.question},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:102,columnNumber:19},void 0),e===o?nt.jsxDEV(Ae,{className:"w-6 h-6 text-memora-primary flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:106,columnNumber:21},void 0):nt.jsxDEV(Me,{className:"w-6 h-6 text-memora-primary flex-shrink-0"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:108,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:97,columnNumber:17},void 0),e===o&&nt.jsxDEV("div",{className:"px-6 pb-6",children:nt.jsxDEV("p",{className:"text-memora-gray leading-relaxed",children:r.answer},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:114,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:113,columnNumber:19},void 0)]},o,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:93,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:91,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:81,columnNumber:9},void 0),nt.jsxDEV("div",{className:"bg-gradient-to-br from-memora-primary/5 to-memora-secondary/5 rounded-3xl p-8 lg:p-12 border border-memora-primary/10",children:[nt.jsxDEV("div",{className:"text-center mb-8",children:[nt.jsxDEV("h3",{className:"text-2xl lg:text-3xl font-heading font-bold text-memora-black mb-4",children:"Ajude-nos a melhorar a Memora Music"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:127,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-memora-gray max-w-2xl mx-auto",children:"Sua opinião é fundamental para criarmos a melhor experiência possível. Responda algumas perguntas rápidas:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:126,columnNumber:11},void 0),n?nt.jsxDEV("div",{className:"text-center py-12",children:[nt.jsxDEV("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:nt.jsxDEV(be,{className:"w-10 h-10 text-green-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:138,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:137,columnNumber:15},void 0),nt.jsxDEV("h4",{className:"text-2xl font-heading font-bold text-memora-black mb-4",children:"Obrigado pelo seu feedback!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:140,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-memora-gray",children:"Suas respostas nos ajudarão a criar uma experiência ainda melhor."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:143,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:136,columnNumber:13},void 0):nt.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),o.difficulty&&o.would_recommend&&o.price_willingness){a(!0);try{if(!(await fetch("/api/mvp-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:parseInt(o.difficulty),would_recommend:"sim"===o.would_recommend,price_willingness:"other"===o.price_willingness?0:parseFloat(o.price_willingness)})})).ok)throw new Error("Erro ao enviar feedback");l(!0),Dt.success("Obrigado pelo seu feedback! Suas respostas são muito importantes para nós.")}catch(t){Dt.error("Erro ao enviar feedback. Tente novamente.")}finally{a(!1)}}else Dt.error("Por favor, responda todas as perguntas")},className:"space-y-8",children:[nt.jsxDEV("div",{children:[nt.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"De 1 a 10, qual foi o nível de dificuldade para gerar sua música?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:151,columnNumber:17},void 0),nt.jsxDEV("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:[...Array(10)].map((e,t)=>{const r=(t+1).toString();return nt.jsxDEV("label",{className:"relative",children:[nt.jsxDEV("input",{type:"radio",name:"difficulty",value:r,checked:o.difficulty===r,onChange:e=>s({...o,difficulty:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:159,columnNumber:25},void 0),nt.jsxDEV("div",{className:"w-12 h-12 rounded-xl border-2 flex items-center justify-center cursor-pointer transition-all duration-200 "+(o.difficulty===r?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:t+1},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:167,columnNumber:25},void 0)]},t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:158,columnNumber:23},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:154,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex justify-between text-sm text-memora-gray mt-2",children:[nt.jsxDEV("span",{children:"Muito fácil"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:179,columnNumber:19},void 0),nt.jsxDEV("span",{children:"Muito difícil"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:178,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:150,columnNumber:15},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"Você indicaria a Memora para um amigo ou parente?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:186,columnNumber:17},void 0),nt.jsxDEV("div",{className:"grid sm:grid-cols-3 gap-4",children:[{value:"sim",label:"Sim",color:"green"},{value:"nao",label:"Não",color:"red"},{value:"talvez",label:"Talvez",color:"yellow"}].map(e=>nt.jsxDEV("label",{className:"relative",children:[nt.jsxDEV("input",{type:"radio",name:"would_recommend",value:e.value,checked:o.would_recommend===e.value,onChange:e=>s({...o,would_recommend:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:196,columnNumber:23},void 0),nt.jsxDEV("div",{className:"p-4 rounded-2xl border-2 text-center cursor-pointer transition-all duration-200 "+(o.would_recommend===e.value?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:nt.jsxDEV("span",{className:"font-heading font-bold",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:209,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:204,columnNumber:23},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:195,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:189,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:185,columnNumber:15},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("label",{className:"block text-lg font-heading font-bold text-memora-black mb-4",children:"Quanto você estaria disposto a pagar por uma música completa e personalizada?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:218,columnNumber:17},void 0),nt.jsxDEV("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{value:"99",label:"R$ 99,00"},{value:"149",label:"R$ 149,00"},{value:"219",label:"R$ 219,00"},{value:"other",label:"Outro valor"}].map(e=>nt.jsxDEV("label",{className:"relative",children:[nt.jsxDEV("input",{type:"radio",name:"price_willingness",value:e.value,checked:o.price_willingness===e.value,onChange:e=>s({...o,price_willingness:e.target.value}),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:224,columnNumber:23},void 0),nt.jsxDEV("div",{className:"p-4 rounded-2xl border-2 text-center cursor-pointer transition-all duration-200 "+(o.price_willingness===e.value?"border-memora-primary bg-memora-primary text-white":"border-memora-gray/30 hover:border-memora-primary/50 text-memora-gray"),children:nt.jsxDEV("span",{className:"font-heading font-bold",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:237,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:232,columnNumber:23},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:223,columnNumber:21},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:221,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:217,columnNumber:15},void 0),nt.jsxDEV("div",{className:"text-center pt-4",children:nt.jsxDEV("button",{type:"submit",disabled:i,className:"bg-memora-primary hover:bg-memora-primary/90 disabled:bg-memora-gray/50 text-white font-heading font-bold py-4 px-8 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl disabled:hover:scale-100 disabled:hover:shadow-none flex items-center space-x-2 mx-auto","data-attr":"mvp-feedback-submit",children:i?nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:254,columnNumber:23},void 0),nt.jsxDEV("span",{children:"Enviando..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:255,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:253,columnNumber:21},void 0):nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(Re,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:259,columnNumber:23},void 0),nt.jsxDEV("span",{children:"Enviar feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:260,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:258,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:246,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:245,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:125,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:79,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FAQSection.tsx",lineNumber:78,columnNumber:5},void 0)},Am=({onOpenAuth:e})=>nt.jsxDEV("section",{className:"py-20 lg:py-32 bg-gradient-to-br from-memora-primary via-memora-primary/95 to-memora-primary/90 relative overflow-hidden",children:[nt.jsxDEV("div",{className:"absolute inset-0 opacity-10",children:[nt.jsxDEV("div",{className:"absolute top-10 left-10 w-32 h-32 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:15,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute top-32 right-20 w-24 h-24 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:16,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:17,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute bottom-32 right-10 w-28 h-28 border border-white/20 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:18,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute top-20 right-1/4",children:nt.jsxDEV(_e,{className:"w-8 h-8 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:22,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:21,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute bottom-40 left-20",children:nt.jsxDEV(_e,{className:"w-6 h-6 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:25,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:24,columnNumber:9},void 0),nt.jsxDEV("div",{className:"absolute top-1/2 right-16",children:nt.jsxDEV(_e,{className:"w-10 h-10 text-white/20"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:28,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:14,columnNumber:7},void 0),nt.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[nt.jsxDEV("div",{className:"mb-12",children:[nt.jsxDEV("h2",{className:"text-3xl sm:text-4xl lg:text-6xl font-heading font-bold text-white mb-6 leading-tight",children:"Surpreenda quem você ama com uma música feita só para ele ou ela"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:35,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-xl lg:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"É grátis no lançamento. Crie agora e descubra o poder de transformar sentimentos em melodia."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:38,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:34,columnNumber:9},void 0),nt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[nt.jsxDEV("button",{onClick:e,className:"group bg-memora-secondary hover:bg-memora-secondary/90 text-memora-black font-heading font-bold py-5 px-10 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl flex items-center space-x-3 text-lg","data-attr":"final-cta-create-music",children:[nt.jsxDEV(_e,{className:"w-6 h-6 group-hover:rotate-12 transition-transform duration-300"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:51,columnNumber:13},void 0),nt.jsxDEV("span",{children:"Criar minha música grátis agora"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:52,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:46,columnNumber:11},void 0),nt.jsxDEV("button",{onClick:()=>{const e=document.getElementById("examples");e&&e.scrollIntoView({behavior:"smooth"})},className:"group border-2 border-white text-white hover:bg-white hover:text-memora-primary font-heading font-bold py-5 px-10 rounded-2xl transition-all duration-300 hover:scale-105 flex items-center space-x-3 text-lg","data-attr":"final-cta-listen-examples",children:[nt.jsxDEV(de,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:61,columnNumber:13},void 0),nt.jsxDEV("span",{children:"Ouvir exemplos de músicas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:62,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:56,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:44,columnNumber:9},void 0),nt.jsxDEV("div",{className:"mt-12 pt-8 border-t border-white/20",children:nt.jsxDEV("div",{className:"grid sm:grid-cols-3 gap-8 text-center",children:[nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:nt.jsxDEV(_e,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:71,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:70,columnNumber:15},void 0),nt.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"100% Personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:73,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-white/80 text-sm",children:"Cada música é única e criada especialmente para você"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:76,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:69,columnNumber:13},void 0),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:nt.jsxDEV("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:nt.jsxDEV("span",{className:"text-memora-primary text-xs font-bold",children:"IA"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:84,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:83,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:82,columnNumber:15},void 0),nt.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"Tecnologia Avançada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:87,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-white/80 text-sm",children:"Inteligência artificial de última geração para criar sua música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:90,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:81,columnNumber:13},void 0),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3",children:nt.jsxDEV("div",{className:"w-6 h-6 text-white font-bold text-lg",children:"♪"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:97,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:96,columnNumber:15},void 0),nt.jsxDEV("h3",{className:"font-heading font-bold text-white text-lg",children:"Qualidade Profissional"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:101,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-white/80 text-sm",children:"Áudio em alta qualidade, pronto para compartilhar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:68,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:67,columnNumber:9},void 0),nt.jsxDEV("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-white/60 text-sm",children:[nt.jsxDEV("div",{className:"flex items-center space-x-2",children:[nt.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:114,columnNumber:13},void 0),nt.jsxDEV("span",{children:"Grátis no lançamento"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:113,columnNumber:11},void 0),nt.jsxDEV("div",{className:"flex items-center space-x-2",children:[nt.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:118,columnNumber:13},void 0),nt.jsxDEV("span",{children:"Sem compromisso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:119,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:117,columnNumber:11},void 0),nt.jsxDEV("div",{className:"flex items-center space-x-2",children:[nt.jsxDEV("div",{className:"w-2 h-2 bg-green-400 rounded-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:122,columnNumber:13},void 0),nt.jsxDEV("span",{children:"Resultado em minutos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:112,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:32,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/FinalCTA.tsx",lineNumber:12,columnNumber:5},void 0),Mm=()=>{const[e,t]=r.useState(!1),[o,s]=r.useState(!1),[i,a]=r.useState({necessary:!0,analytics:!1,marketing:!1});r.useEffect(()=>{const e=localStorage.getItem("memora-cookie-consent");if(!e){const e=setTimeout(()=>{t(!0)},2e3);return()=>clearTimeout(e)}try{const t=JSON.parse(e);a(t)}catch(r){}},[]);const n=e=>{localStorage.setItem("memora-cookie-consent",JSON.stringify(e)),a(e),t(!1),s(!1),e.analytics,e.marketing},l=e=>{"necessary"!==e&&a(t=>({...t,[e]:!t[e]}))};return e?nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV("div",{className:"fixed bottom-0 left-0 right-0 surface-1 shadow-2xl z-50 transform transition-transform duration-500",children:nt.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:nt.jsxDEV("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[nt.jsxDEV("div",{className:"flex-1",children:nt.jsxDEV("div",{className:"flex items-start space-x-3",children:[nt.jsxDEV("div",{className:"flex-shrink-0 mt-1",children:nt.jsxDEV(Ie,{className:"w-5 h-5 text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:99,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:98,columnNumber:17},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground text-sm mb-1",children:"Cookies e Privacidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:102,columnNumber:19},void 0),nt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Usamos cookies para melhorar sua experiência, analisar o tráfego e personalizar conteúdo. Você pode escolher quais cookies aceitar."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:105,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:101,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:97,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:96,columnNumber:13},void 0),nt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[nt.jsxDEV("button",{onClick:()=>{n({necessary:!0,analytics:!0,marketing:!0})},className:"bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm","data-attr":"cookie-accept-all",children:"Aceitar todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:114,columnNumber:15},void 0),nt.jsxDEV("button",{onClick:()=>{n({necessary:!0,analytics:!1,marketing:!1})},className:"border border-white/20 hover:border-memora-primary text-muted-foreground hover:text-memora-primary font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm","data-attr":"cookie-reject-all",children:"Rejeitar todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:121,columnNumber:15},void 0),nt.jsxDEV("button",{onClick:()=>{s(!0)},className:"border border-memora-primary text-memora-primary hover:bg-memora-primary hover:text-white font-heading font-bold py-2 px-4 rounded-xl transition-colors duration-200 text-sm flex items-center space-x-2","data-attr":"cookie-customize",children:[nt.jsxDEV(Le,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:133,columnNumber:17},void 0),nt.jsxDEV("span",{children:"Personalizar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:128,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:94,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:93,columnNumber:7},void 0),o&&nt.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:nt.jsxDEV("div",{className:"surface-2 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[nt.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[nt.jsxDEV("h2",{className:"text-2xl font-heading font-bold text-foreground",children:"Preferências de Cookies"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:147,columnNumber:15},void 0),nt.jsxDEV("button",{onClick:()=>s(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors duration-200","aria-label":"Fechar modal",children:nt.jsxDEV(te,{className:"w-6 h-6 text-muted-foreground"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:155,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:146,columnNumber:13},void 0),nt.jsxDEV("div",{className:"p-6 space-y-6",children:[nt.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:"Personalize suas preferências de cookies. Você pode alterar essas configurações a qualquer momento."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:161,columnNumber:15},void 0),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[nt.jsxDEV("div",{className:"flex items-center space-x-3",children:[nt.jsxDEV(Ie,{className:"w-5 h-5 text-memora-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:171,columnNumber:23},void 0),nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies Necessários"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:172,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:170,columnNumber:21},void 0),nt.jsxDEV("div",{className:"bg-memora-primary text-white text-xs px-2 py-1 rounded-full font-bold",children:"SEMPRE ATIVO"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:176,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:169,columnNumber:19},void 0),nt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies são essenciais para o funcionamento do site e não podem ser desativados. Eles são geralmente definidos em resposta a ações suas, como fazer login ou preencher formulários."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:168,columnNumber:17},void 0),nt.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[nt.jsxDEV("div",{className:"flex items-center space-x-3",children:[nt.jsxDEV(Oe,{className:"w-5 h-5 text-memora-turquoise"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:190,columnNumber:23},void 0),nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies de Analytics"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:191,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:189,columnNumber:21},void 0),nt.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[nt.jsxDEV("input",{type:"checkbox",checked:i.analytics,onChange:()=>l("analytics"),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:196,columnNumber:23},void 0),nt.jsxDEV("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(i.analytics?"bg-memora-primary":"bg-memora-gray/30"),children:nt.jsxDEV("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i.analytics?"translate-x-5":"translate-x-0.5"} mt-0.5`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:205,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:202,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:195,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:188,columnNumber:19},void 0),nt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies nos ajudam a entender como os visitantes interagem com o site, coletando informações de forma anônima para melhorar a experiência do usuário."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:211,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:187,columnNumber:17},void 0),nt.jsxDEV("div",{className:"bg-white/5 rounded-2xl p-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[nt.jsxDEV("div",{className:"flex items-center space-x-3",children:[nt.jsxDEV(Fe,{className:"w-5 h-5 text-memora-coral"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:221,columnNumber:23},void 0),nt.jsxDEV("h3",{className:"font-heading font-bold text-foreground",children:"Cookies de Marketing"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:222,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:220,columnNumber:21},void 0),nt.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[nt.jsxDEV("input",{type:"checkbox",checked:i.marketing,onChange:()=>l("marketing"),className:"sr-only"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:227,columnNumber:23},void 0),nt.jsxDEV("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(i.marketing?"bg-memora-primary":"bg-memora-gray/30"),children:nt.jsxDEV("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${i.marketing?"translate-x-5":"translate-x-0.5"} mt-0.5`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:236,columnNumber:25},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:233,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:226,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:219,columnNumber:19},void 0),nt.jsxDEV("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Estes cookies são usados para exibir anúncios relevantes e medir a eficácia de nossas campanhas publicitárias em diferentes plataformas."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:218,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:160,columnNumber:13},void 0),nt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-white/10",children:[nt.jsxDEV("button",{onClick:()=>s(!1),className:"flex-1 border border-white/20 hover:border-memora-primary text-muted-foreground hover:text-memora-primary font-heading font-bold py-3 px-6 rounded-2xl transition-colors duration-200",children:"Cancelar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:252,columnNumber:15},void 0),nt.jsxDEV("button",{onClick:()=>{n(i)},className:"flex-1 bg-memora-primary hover:bg-memora-primary/90 text-white font-heading font-bold py-3 px-6 rounded-2xl transition-colors duration-200","data-attr":"cookie-save-preferences",children:"Salvar Preferências"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:258,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/memora/CookieBanner.tsx",lineNumber:91,columnNumber:5},void 0):null},Rm=()=>{const[e,t]=r.useState(!1),{showPaymentPopup:o}=rc();return nt.jsxDEV("div",{className:"min-h-screen bg-white font-body",children:[nt.jsxDEV("main",{children:[nt.jsxDEV(Em,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:25,columnNumber:9},void 0),nt.jsxDEV(Sm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:26,columnNumber:9},void 0),nt.jsxDEV(jm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:27,columnNumber:9},void 0),nt.jsxDEV(Pm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:28,columnNumber:9},void 0),nt.jsxDEV(Um,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:29,columnNumber:9},void 0),nt.jsxDEV(km,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:30,columnNumber:9},void 0),nt.jsxDEV(Vm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:31,columnNumber:9},void 0),nt.jsxDEV(Am,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:32,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:24,columnNumber:7},void 0),nt.jsxDEV(Mm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:35,columnNumber:7},void 0),nt.jsxDEV(pc,{isOpen:e,onClose:()=>t(!1)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Index.tsx",lineNumber:22,columnNumber:5},void 0)};function Im({steps:e,currentStep:t}){return nt.jsxDEV("div",{className:"w-full max-w-md mx-auto mb-8",children:[nt.jsxDEV("div",{className:"flex items-center",children:e.map((r,o)=>nt.jsxDEV("div",{className:"flex items-center flex-1",children:[nt.jsxDEV("div",{className:Kr("w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-smooth border-2",o<t?"bg-primary text-primary-foreground border-primary":o===t?"bg-primary text-primary-foreground border-primary shadow-primary":"bg-background text-muted-foreground border-border"),children:o<t?nt.jsxDEV(je,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:27,columnNumber:17},this):o+1},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:16,columnNumber:13},this),o<e.length-1&&nt.jsxDEV("div",{className:Kr("h-0.5 flex-1 mx-2 transition-smooth",o<t?"bg-primary":"bg-border")},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:35,columnNumber:15},this)]},o,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:14,columnNumber:11},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:12,columnNumber:7},this),nt.jsxDEV("div",{className:"flex mt-2",children:e.map((r,o)=>nt.jsxDEV("div",{className:"flex items-center flex-1",children:[nt.jsxDEV("div",{className:"w-10 flex justify-center",children:nt.jsxDEV("p",{className:Kr("text-xs font-medium transition-smooth text-center",o<=t?"text-primary":"text-muted-foreground"),children:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:51,columnNumber:15},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:50,columnNumber:13},this),o<e.length-1&&nt.jsxDEV("div",{className:"flex-1 mx-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:62,columnNumber:15},this)]},o,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:49,columnNumber:11},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:47,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/StepIndicator.tsx",lineNumber:11,columnNumber:5},this)}const Lm=(e,t)=>{const r=document.createElement("a");r.href=e,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Om=({clips:e})=>{const t=r.useRef(null),o=r.useRef(null),s=r.useRef(null),i=r.useRef(null),[a,n]=r.useState(0),[l,c]=r.useState(!1),[m,u]=r.useState(0),[d,h]=r.useState(0),[p,f]=r.useState(1),[v,b]=r.useState(!1),{isMvpFlowComplete:g,setValidationPopupVisible:x}=mm(),{isLoggedIn:N}=ec(),{showAuthPopup:w}=rc(),y=e[a],_=()=>{const e=t.current;e&&(u(e.currentTime),h(e.duration||0))},D=t=>{var r;t>=0&&t<e.length&&(null==(r=e[t])?void 0:r.audio_url)&&(n(t),c(!1),u(0))},E=()=>{const t=(a+1)%e.length;D(t)},S=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;r.useEffect(()=>{g&&t.current&&(t.current.volume=p,o.current&&(clearInterval(o.current),o.current=null))},[g,p]),r.useEffect(()=>()=>{o.current&&(clearInterval(o.current),o.current=null)},[]);const j=e.filter(e=>e.audio_url);return 0===j.length?nt.jsxDEV("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-8 text-center",children:nt.jsxDEV("div",{className:"text-slate-400",children:[nt.jsxDEV("div",{className:"flex items-center justify-center gap-2 mb-2",children:[nt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:190,columnNumber:13},void 0),"Aguardando músicas..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:189,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-sm",children:"Suas músicas aparecerão aqui quando estiverem prontas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:193,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:188,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:187,columnNumber:7},void 0):nt.jsxDEV("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl overflow-hidden shadow-2xl",children:[nt.jsxDEV("audio",{ref:t,src:null==y?void 0:y.audio_url,onTimeUpdate:()=>{_(),(()=>{const e=t.current;if(!e||g||N)return;const r=e.currentTime;r>=40&&!o.current&&(o.current=setInterval(()=>{e.volume>.1?e.volume=Math.max(0,e.volume-.1):e.volume=0},500)),r>=45&&(e.pause(),c(!1),o.current&&(clearInterval(o.current),o.current=null),N||x(!0))})()},onLoadedMetadata:_,onWaiting:()=>b(!0),onCanPlay:()=>b(!1),onEnded:E,preload:"metadata"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:202,columnNumber:7},void 0),nt.jsxDEV("div",{className:"p-6",children:[nt.jsxDEV("div",{className:"text-center mb-6",children:[nt.jsxDEV("h3",{className:"text-xl font-bold text-white mb-1",children:(null==y?void 0:y.title)||`Opção ${a+1}`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:220,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-slate-400 text-sm",children:["Faixa ",a+1," de ",j.length]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:223,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:219,columnNumber:9},void 0),nt.jsxDEV("div",{className:"mb-6",children:[nt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-2",children:[nt.jsxDEV("span",{children:S(m)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:231,columnNumber:13},void 0),nt.jsxDEV("span",{children:S(d)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:232,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:230,columnNumber:11},void 0),nt.jsxDEV("input",{ref:s,type:"range",min:"0",max:"100",value:d?m/d*100:0,onChange:e=>{const r=t.current;if(r){const t=parseFloat(e.target.value)/100*d;r.currentTime=t,u(t)}},className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:234,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:229,columnNumber:9},void 0),nt.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-6",children:[nt.jsxDEV("button",{onClick:()=>{const t=0===a?e.length-1:a-1;D(t)},disabled:j.length<=1,className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:nt.jsxDEV(Be,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:247,columnNumber:11},void 0),nt.jsxDEV("button",{onClick:()=>{const e=t.current;e&&(null==y?void 0:y.audio_url)&&(l?(e.pause(),c(!1)):(e.play(),c(!0)))},disabled:!(null==y?void 0:y.audio_url)||v,className:"p-4 rounded-full bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?nt.jsxDEV("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:261,columnNumber:15},void 0):l?nt.jsxDEV(ue,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:263,columnNumber:15},void 0):nt.jsxDEV(de,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:265,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:255,columnNumber:11},void 0),nt.jsxDEV("button",{onClick:E,disabled:j.length<=1,className:"p-2 rounded-full bg-slate-700 hover:bg-slate-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:nt.jsxDEV($e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:269,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:246,columnNumber:9},void 0),nt.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[nt.jsxDEV(he,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:280,columnNumber:11},void 0),nt.jsxDEV("input",{ref:i,type:"range",min:"0",max:"100",value:100*p,onChange:e=>{const r=parseFloat(e.target.value)/100;f(r),t.current&&(t.current.volume=r)},className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:281,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:279,columnNumber:9},void 0),j.length>1&&nt.jsxDEV("div",{className:"mb-6",children:[nt.jsxDEV("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Escolha uma opção:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:295,columnNumber:13},void 0),nt.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:j.map((e,t)=>nt.jsxDEV("button",{onClick:()=>D(t),className:"p-3 rounded-lg text-left transition-colors "+(t===a?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-300"),children:[nt.jsxDEV("div",{className:"font-medium text-sm",children:["Opção ",t+1]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:307,columnNumber:19},void 0),nt.jsxDEV("div",{className:"text-xs opacity-75",children:e.title||"Música personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:310,columnNumber:19},void 0)]},e.id||t,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:298,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:296,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:294,columnNumber:11},void 0),(g||N)&&y&&nt.jsxDEV("button",{onClick:()=>(e=>{const t=()=>{if(e.audio_url){const t=e.title||"Musica_Personalizada.mp3",r=`${si}/api/download?url=${encodeURIComponent(e.audio_url)}&filename=${encodeURIComponent(t)}`;Lm(r,t)}};N?t():w(t)})(y),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[nt.jsxDEV(Ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:325,columnNumber:13},void 0),"Baixar Opção ",a+1]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:321,columnNumber:11},void 0),!g&&!N&&nt.jsxDEV("div",{className:"text-center text-slate-400 text-sm italic mt-4",children:"Ouça a prévia completa para desbloquear o download"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:332,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:217,columnNumber:7},void 0),nt.jsxDEV("style",{jsx:!0,children:"\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #1e293b;\n        }\n        \n        .slider::-moz-range-thumb {\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: #3b82f6;\n          cursor: pointer;\n          border: 2px solid #1e293b;\n        }\n      "},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:338,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/NewMusicPlayer.tsx",lineNumber:200,columnNumber:5},void 0)},Fm=()=>{const{completeMvpFlow:e}=mm(),[t,o]=r.useState({difficulty:5,recommendation:"",price:"",customPrice:""}),[s,i]=r.useState(!1),a=()=>""!==t.recommendation&&""!==t.price&&("outro"!==t.price||""!==t.customPrice.trim());return nt.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:nt.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:nt.jsxDEV("div",{className:"p-6",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:nt.jsxDEV("h2",{className:"text-xl font-heading font-bold text-gray-800",children:"Ajude-nos a melhorar!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:113,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:112,columnNumber:11},void 0),nt.jsxDEV("form",{onSubmit:async r=>{if(r.preventDefault(),a()){i(!0);try{let r="";if("outro"===t.price)r=t.customPrice;else{r={99:"99",149:"149",219:"219"}[t.price]||t.price}const o={difficulty:t.difficulty,wouldRecommend:"sim"===t.recommendation,priceWillingness:r};await ui("/api/save-feedback",{method:"POST",body:JSON.stringify(o)});e()}catch(o){alert("Erro ao enviar feedback. Tente novamente.")}finally{i(!1)}}},className:"space-y-6",children:[nt.jsxDEV("div",{children:[nt.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Como você avalia a dificuldade de usar nossa plataforma?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:122,columnNumber:15},void 0),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV("input",{type:"range",min:"1",max:"5",value:t.difficulty,onChange:e=>{return t=parseInt(e.target.value),void o(e=>({...e,difficulty:t}));var t},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:126,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500",children:[nt.jsxDEV("span",{children:"1 (Muito fácil)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:135,columnNumber:19},void 0),nt.jsxDEV("span",{className:"font-medium text-blue-600",children:t.difficulty},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:136,columnNumber:19},void 0),nt.jsxDEV("span",{children:"5 (Muito difícil)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:137,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:121,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Você indicaria nossa plataforma para um amigo?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:144,columnNumber:15},void 0),nt.jsxDEV("div",{className:"space-y-2",children:[{value:"sim",label:"Sim, com certeza!"},{value:"talvez",label:"Talvez, precisa melhorar"},{value:"nao",label:"Não, não recomendaria"}].map(e=>nt.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[nt.jsxDEV("input",{type:"radio",name:"recommendation",value:e.value,checked:t.recommendation===e.value,onChange:()=>{return t=e.value,void o(e=>({...e,recommendation:t}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:154,columnNumber:21},void 0),nt.jsxDEV("span",{className:"text-sm text-gray-700",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:162,columnNumber:21},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:153,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:143,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quanto você pagaria por este serviço?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:170,columnNumber:15},void 0),nt.jsxDEV("div",{className:"space-y-2",children:[{value:"99",label:"R$ 99,00"},{value:"149",label:"R$ 149,00"},{value:"219",label:"R$ 219,00"},{value:"outro",label:"Outro valor"}].map(e=>nt.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[nt.jsxDEV("input",{type:"radio",name:"price",value:e.value,checked:t.price===e.value,onChange:()=>{return t=e.value,void o(e=>({...e,price:t,customPrice:"outro"!==t?"":e.customPrice}));var t},className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:181,columnNumber:21},void 0),nt.jsxDEV("span",{className:"text-sm text-gray-700",children:e.label},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:189,columnNumber:21},void 0)]},e.value,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:180,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:173,columnNumber:15},void 0),"outro"===t.price&&nt.jsxDEV("div",{className:"mt-3",children:nt.jsxDEV("input",{type:"text",placeholder:"Digite o valor (ex: R$ 299,00)",value:t.customPrice,onChange:e=>{return t=e.target.value,void o(e=>({...e,customPrice:t}));var t},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:197,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:196,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:169,columnNumber:13},void 0),nt.jsxDEV("div",{className:"pt-4",children:nt.jsxDEV(Ws,{type:"submit",disabled:!a()||s,className:"w-full",size:"lg",children:s?nt.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[nt.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:218,columnNumber:21},void 0),"Enviando..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:217,columnNumber:19},void 0):"Enviar Feedback"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:210,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:119,columnNumber:11},void 0),nt.jsxDEV("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Suas respostas nos ajudam a melhorar a experiência para todos os usuários."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:228,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:111,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ValidationPopup.tsx",lineNumber:109,columnNumber:5},void 0)};const Bm=({value:e,onChange:t,highlightQuery:o,className:s="",rows:i=12})=>{const a=r.useRef(null),n=r.useRef(null),l=r.useMemo(()=>function(e,t){const r=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),o=(t||"").trim();if(!o)return r;const s=o.split(/\s+/).filter(Boolean).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(!s.length)return r;const i=new RegExp(`(${s.join("|")})`,"gi");return r.replace(i,'<mark class="bg-yellow-200 text-inherit rounded-sm">$1</mark>')}(e,o),[e,o]);return r.useEffect(()=>{const e=a.current,t=n.current;if(!e||!t)return;const r=()=>{t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft};return e.addEventListener("scroll",r),r(),()=>e.removeEventListener("scroll",r)},[e,o]),nt.jsxDEV("div",{className:`relative ${s}`,children:[nt.jsxDEV("div",{ref:n,className:"absolute inset-0 overflow-auto pointer-events-none select-none whitespace-pre-wrap break-words rounded-md border p-3 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:l},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:62,columnNumber:7},void 0),nt.jsxDEV("textarea",{ref:a,value:e,onChange:e=>t(e.target.value),rows:i,className:"relative w-full rounded-md border p-3 text-sm leading-relaxed bg-transparent caret-blue-600",style:{position:"relative"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:69,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/HighlightedTextarea.tsx",lineNumber:60,columnNumber:5},void 0)},$m=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("div",{ref:r,className:Kr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));$m.displayName="Card";const Hm=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("div",{ref:r,className:Kr("flex flex-col space-y-1.5 p-6",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));Hm.displayName="CardHeader";const qm=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("h3",{ref:r,className:Kr("text-2xl font-semibold leading-none tracking-tight",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));qm.displayName="CardTitle";r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("p",{ref:r,className:Kr("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0)).displayName="CardDescription";const Gm=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("div",{ref:r,className:Kr("p-6 pt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));Gm.displayName="CardContent";r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("div",{ref:r,className:Kr("flex items-center p-6 pt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0)).displayName="CardFooter";const zm=Gs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wm({className:e,variant:t,...r}){return nt.jsxDEV("div",{className:Kr(zm({variant:t}),e),...r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}var Xm="ScrollArea",[Ym,Jm]=m(Xm),[Km,Qm]=Ym(Xm),Zm=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,type:s="hover",dir:i,scrollHideDelay:a=600,...n}=e,[l,c]=r.useState(null),[m,d]=r.useState(null),[h,p]=r.useState(null),[f,v]=r.useState(null),[b,x]=r.useState(null),[w,y]=r.useState(0),[_,E]=r.useState(0),[S,j]=r.useState(!1),[P,C]=r.useState(!1),U=g(t,e=>c(e)),T=D(i);return u.jsx(Km,{scope:o,type:s,dir:T,scrollHideDelay:a,scrollArea:l,viewport:m,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:b,onScrollbarYChange:x,scrollbarYEnabled:P,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:E,children:u.jsx(N.div,{dir:T,...n,ref:U,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});Zm.displayName=Xm;var eu="ScrollAreaViewport",tu=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,children:s,nonce:i,...a}=e,n=Qm(eu,o),l=r.useRef(null),c=g(t,l,n.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(N.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:n.scrollbarXEnabled?"scroll":"hidden",overflowY:n.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:n.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});tu.displayName=eu;var ru="ScrollAreaScrollbar",ou=r.forwardRef((e,t)=>{const{forceMount:o,...s}=e,i=Qm(ru,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:n}=i,l="horizontal"===e.orientation;return r.useEffect(()=>(l?a(!0):n(!0),()=>{l?a(!1):n(!1)}),[l,a,n]),"hover"===i.type?u.jsx(su,{...s,ref:t,forceMount:o}):"scroll"===i.type?u.jsx(iu,{...s,ref:t,forceMount:o}):"auto"===i.type?u.jsx(au,{...s,ref:t,forceMount:o}):"always"===i.type?u.jsx(nu,{...s,ref:t}):null});ou.displayName=ru;var su=r.forwardRef((e,t)=>{const{forceMount:o,...s}=e,i=Qm(ru,e.__scopeScrollArea),[a,n]=r.useState(!1);return r.useEffect(()=>{const e=i.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),n(!0)},o=()=>{t=window.setTimeout(()=>n(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",o),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",o)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(d,{present:o||a,children:u.jsx(au,{"data-state":a?"visible":"hidden",...s,ref:t})})}),iu=r.forwardRef((e,t)=>{const{forceMount:o,...s}=e,i=Qm(ru,e.__scopeScrollArea),a="horizontal"===e.orientation,n=Su(()=>c("SCROLL_END"),100),[l,c]=(m="hidden",h={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>h[e][t]??e,m));var m,h;return r.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,i.scrollHideDelay,c]),r.useEffect(()=>{const e=i.viewport,t=a?"scrollLeft":"scrollTop";if(e){let r=e[t];const o=()=>{const o=e[t];r!==o&&(c("SCROLL"),n()),r=o};return e.addEventListener("scroll",o),()=>e.removeEventListener("scroll",o)}},[i.viewport,a,c,n]),u.jsx(d,{present:o||"hidden"!==l,children:u.jsx(nu,{"data-state":"hidden"===l?"hidden":"visible",...s,ref:t,onPointerEnter:w(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:w(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),au=r.forwardRef((e,t)=>{const o=Qm(ru,e.__scopeScrollArea),{forceMount:s,...i}=e,[a,n]=r.useState(!1),l="horizontal"===e.orientation,c=Su(()=>{if(o.viewport){const e=o.viewport.offsetWidth<o.viewport.scrollWidth,t=o.viewport.offsetHeight<o.viewport.scrollHeight;n(l?e:t)}},10);return ju(o.viewport,c),ju(o.content,c),u.jsx(d,{present:s||a,children:u.jsx(nu,{"data-state":a?"visible":"hidden",...i,ref:t})})}),nu=r.forwardRef((e,t)=>{const{orientation:o="vertical",...s}=e,i=Qm(ru,e.__scopeScrollArea),a=r.useRef(null),n=r.useRef(0),[l,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=Nu(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:Boolean(m>0&&m<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>n.current=0,onThumbPointerDown:e=>n.current=e};function h(e,t){return function(e,t,r,o="ltr"){const s=wu(r),i=s/2,a=t||i,n=s-a,l=r.scrollbar.paddingStart+a,c=r.scrollbar.size-r.scrollbar.paddingEnd-n,m=r.content-r.viewport,u="ltr"===o?[0,m]:[-1*m,0];return _u([l,c],u)(e)}(e,n.current,l,t)}return"horizontal"===o?u.jsx(lu,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=yu(i.viewport.scrollLeft,l,i.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=h(e,i.dir))}}):"vertical"===o?u.jsx(cu,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=yu(i.viewport.scrollTop,l);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=h(e))}}):null}),lu=r.forwardRef((e,t)=>{const{sizes:o,onSizesChange:s,...i}=e,a=Qm(ru,e.__scopeScrollArea),[n,l]=r.useState(),c=r.useRef(null),m=g(t,c,a.onScrollbarXChange);return r.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),u.jsx(du,{"data-orientation":"horizontal",...i,ref:m,sizes:o,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wu(o)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(a.viewport){const o=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(o),Du(o,r)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&n&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xu(n.paddingLeft),paddingEnd:xu(n.paddingRight)}})}})}),cu=r.forwardRef((e,t)=>{const{sizes:o,onSizesChange:s,...i}=e,a=Qm(ru,e.__scopeScrollArea),[n,l]=r.useState(),c=r.useRef(null),m=g(t,c,a.onScrollbarYChange);return r.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),u.jsx(du,{"data-orientation":"vertical",...i,ref:m,sizes:o,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wu(o)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(a.viewport){const o=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(o),Du(o,r)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&n&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xu(n.paddingTop),paddingEnd:xu(n.paddingBottom)}})}})}),[mu,uu]=Ym(ru),du=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,sizes:s,hasThumb:i,onThumbChange:a,onThumbPointerUp:n,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:m,onWheelScroll:d,onResize:h,...p}=e,f=Qm(ru,o),[v,b]=r.useState(null),x=g(t,e=>b(e)),y=r.useRef(null),_=r.useRef(""),D=f.viewport,S=s.content-s.viewport,j=E(d),P=E(c),C=Su(h,10);function U(e){if(y.current){const t=e.clientX-y.current.left,r=e.clientY-y.current.top;m({x:t,y:r})}}return r.useEffect(()=>{const e=e=>{const t=e.target;(null==v?void 0:v.contains(t))&&j(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[D,v,S,j]),r.useEffect(P,[s,P]),ju(v,C),ju(f.content,C),u.jsx(mu,{scope:o,scrollbar:v,hasThumb:i,onThumbChange:E(a),onThumbPointerUp:E(n),onThumbPositionChange:P,onThumbPointerDown:E(l),children:u.jsx(N.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:w(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),U(e)}}),onPointerMove:w(e.onPointerMove,U),onPointerUp:w(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=_.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),hu="ScrollAreaThumb",pu=r.forwardRef((e,t)=>{const{forceMount:r,...o}=e,s=uu(hu,e.__scopeScrollArea);return u.jsx(d,{present:r||s.hasThumb,children:u.jsx(fu,{ref:t,...o})})}),fu=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,style:s,...i}=e,a=Qm(hu,o),n=uu(hu,o),{onThumbPositionChange:l}=n,c=g(t,e=>n.onThumbChange(e)),m=r.useRef(void 0),d=Su(()=>{m.current&&(m.current(),m.current=void 0)},100);return r.useEffect(()=>{const e=a.viewport;if(e){const t=()=>{if(d(),!m.current){const t=Eu(e,l);m.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[a.viewport,d,l]),u.jsx(N.div,{"data-state":n.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:w(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,o=e.clientY-t.top;n.onThumbPointerDown({x:r,y:o})}),onPointerUp:w(e.onPointerUp,n.onThumbPointerUp)})});pu.displayName=hu;var vu="ScrollAreaCorner",bu=r.forwardRef((e,t)=>{const r=Qm(vu,e.__scopeScrollArea),o=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&o?u.jsx(gu,{...e,ref:t}):null});bu.displayName=vu;var gu=r.forwardRef((e,t)=>{const{__scopeScrollArea:o,...s}=e,i=Qm(vu,o),[a,n]=r.useState(0),[l,c]=r.useState(0),m=Boolean(a&&l);return ju(i.scrollbarX,()=>{var e;const t=(null==(e=i.scrollbarX)?void 0:e.offsetHeight)||0;i.onCornerHeightChange(t),c(t)}),ju(i.scrollbarY,()=>{var e;const t=(null==(e=i.scrollbarY)?void 0:e.offsetWidth)||0;i.onCornerWidthChange(t),n(t)}),m?u.jsx(N.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function xu(e){return e?parseInt(e,10):0}function Nu(e,t){const r=e/t;return isNaN(r)?0:r}function wu(e){const t=Nu(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*t;return Math.max(o,18)}function yu(e,t,r="ltr"){const o=wu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,n=i-o,l=j(e,"ltr"===r?[0,a]:[-1*a,0]);return _u([0,a],[0,n])(l)}function _u(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function Du(e,t){return e>0&&e<t}var Eu=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,n=r.top!==i.top;(a||n)&&t(),r=i,o=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(o)};function Su(e,t){const o=E(e),s=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(s.current),[]),r.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(o,t)},[o,t])}function ju(e,t){const r=E(t);S(()=>{let t=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(t),o.unobserve(e)}}},[e,r])}var Pu=Zm,Cu=tu,Uu=bu;const Tu=r.forwardRef(({className:e,children:t,...r},o)=>nt.jsxDEV(Pu,{ref:o,className:Kr("relative overflow-hidden",e),...r,children:[nt.jsxDEV(Cu,{className:"h-full w-full rounded-[inherit]",children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),nt.jsxDEV(ku,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),nt.jsxDEV(Uu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));Tu.displayName=Pu.displayName;const ku=r.forwardRef(({className:e,orientation:t="vertical",...r},o)=>nt.jsxDEV(ou,{ref:o,orientation:t,className:Kr("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:nt.jsxDEV(pu,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));ku.displayName=ou.displayName;const Vu=[{id:"rock",name:"Rock",description:"Energético e poderoso",subGenres:[{id:"rock-alternativo",name:"Rock Alternativo",description:"Moderno e experimental"},{id:"rock-classico",name:"Rock Clássico",description:"Atemporal e icônico"},{id:"hard-rock",name:"Hard Rock",description:"Pesado e vibrante"},{id:"punk-rock",name:"Punk Rock",description:"Rápido e contestador"}]},{id:"pop",name:"Pop",description:"Cativante e universal",subGenres:[{id:"dance-pop",name:"Dance-pop",description:"Dançante e envolvente"},{id:"electropop",name:"Electropop",description:"Eletrônico e moderno"},{id:"indie-pop",name:"Indie Pop",description:"Independente e criativo"},{id:"synth-pop",name:"Synth-pop",description:"Sintético e nostálgico"},{id:"k-pop",name:"K-pop",description:"Colorido e dinâmico"}]},{id:"hip-hop",name:"Hip Hop",description:"Urbano e expressivo",subGenres:[{id:"hip-hop-alternativo",name:"Hip Hop Alternativo",description:"Inovador e consciente"},{id:"gangsta-rap",name:"Gangsta Rap",description:"Intenso e direto"},{id:"trap",name:"Trap",description:"Pesado e hipnótico"},{id:"drill",name:"Drill",description:"Sombrio e agressivo"}]},{id:"jazz",name:"Jazz",description:"Sofisticado e improvisado",subGenres:[{id:"bebop",name:"Bebop",description:"Rápido e complexo"},{id:"big-band",name:"Big Band",description:"Grandioso e swing"},{id:"cool-jazz",name:"Cool Jazz",description:"Suave e relaxante"},{id:"jazz-fusion",name:"Jazz Fusion",description:"Moderno e elétrico"}]},{id:"blues",name:"Blues",description:"Emotivo e autêntico",subGenres:[{id:"chicago-blues",name:"Chicago Blues",description:"Urbano e elétrico"},{id:"delta-blues",name:"Delta Blues",description:"Tradicional e acústico"},{id:"blues-eletrico",name:"Blues Elétrico",description:"Amplificado e potente"},{id:"gospel-blues",name:"Gospel Blues",description:"Espiritual e tocante"}]},{id:"country",name:"Country",description:"Narrativo e rural",subGenres:[{id:"bluegrass",name:"Bluegrass",description:"Acústico e virtuoso"},{id:"country-pop",name:"Country Pop",description:"Comercial e acessível"},{id:"country-rock",name:"Country Rock",description:"Energético e híbrido"}]},{id:"eletronica",name:"Eletrônica",description:"Digital e futurista",subGenres:[{id:"ambient",name:"Ambient",description:"Atmosférico e contemplativo"},{id:"breakbeat",name:"Breakbeat",description:"Fragmentado e rítmico"},{id:"disco",name:"Disco",description:"Dançante e festivo"},{id:"drum-and-bass",name:"Drum and Bass",description:"Rápido e intenso"},{id:"house",name:"House",description:"Repetitivo e hipnótico"},{id:"techno",name:"Techno",description:"Industrial e mecânico"},{id:"trance",name:"Trance",description:"Elevado e transcendente"}]},{id:"folk",name:"Folk",description:"Tradicional e storytelling",subGenres:[{id:"americana",name:"Americana",description:"Raízes e contemporâneo"},{id:"celta",name:"Celta",description:"Místico e ancestral"},{id:"indie-folk",name:"Indie Folk",description:"Moderno e intimista"}]},{id:"rnb-soul",name:"R&B & Soul",description:"Sensual e emotivo",subGenres:[{id:"funk",name:"Funk",description:"Groove e dançante"},{id:"gospel",name:"Gospel",description:"Espiritual e poderoso"},{id:"neo-soul",name:"Neo Soul",description:"Contemporâneo e sofisticado"}]},{id:"metal",name:"Metal",description:"Pesado e intenso",subGenres:[{id:"black-metal",name:"Black Metal",description:"Sombrio e extremo"},{id:"death-metal",name:"Death Metal",description:"Brutal e técnico"},{id:"heavy-metal",name:"Heavy Metal",description:"Clássico e poderoso"}]},{id:"punk",name:"Punk",description:"Rebelde e direto",subGenres:[{id:"punk-anarquista",name:"Punk Anarquista",description:"Político e revolucionário"},{id:"hardcore",name:"Hardcore",description:"Extremo e agressivo"},{id:"pop-punk",name:"Pop Punk",description:"Melódico e acessível"}]},{id:"easy-listening",name:"Easy Listening",description:"Relaxante e suave",subGenres:[{id:"musica-ambiente",name:"Música Ambiente",description:"Sutil e envolvente"},{id:"lounge",name:"Lounge",description:"Elegante e sofisticado"},{id:"soft-rock",name:"Soft Rock",description:"Melódico e gentil"}]},{id:"avant-garde",name:"Avant-garde & Experimental",description:"Inovador e vanguardista",subGenres:[{id:"experimental",name:"Experimental",description:"Ousado e único"},{id:"avant-garde",name:"Avant-garde",description:"Artístico e conceitual"}]},{id:"mpb",name:"MPB",description:"Brasileira e sofisticada",subGenres:[{id:"mpb-classica",name:"MPB Clássica",description:"Tradicional e poética"},{id:"mpb-contemporanea",name:"MPB Contemporânea",description:"Moderna e inovadora"}]},{id:"samba",name:"Samba",description:"Alegre e brasileiro",subGenres:[{id:"samba-de-raiz",name:"Samba de Raiz",description:"Autêntico e tradicional"},{id:"pagode",name:"Pagode",description:"Festivo e popular"}]},{id:"bossa-nova",name:"Bossa Nova",description:"Elegante e intimista",subGenres:[{id:"bossa-nova-classica",name:"Bossa Nova Clássica",description:"Suave e refinada"},{id:"bossa-nova-moderna",name:"Bossa Nova Moderna",description:"Contemporânea e estilizada"}]},{id:"forro",name:"Forró",description:"Dançante e nordestino",subGenres:[{id:"forro-pe-de-serra",name:"Forró Pé-de-Serra",description:"Tradicional e sanfona"},{id:"forro-universitario",name:"Forró Universitário",description:"Moderno e romântico"}]},{id:"sertanejo",name:"Sertanejo",description:"Popular e emotivo",subGenres:[{id:"sertanejo-raiz",name:"Sertanejo Raiz",description:"Tradicional e rural"},{id:"sertanejo-universitario",name:"Sertanejo Universitário",description:"Comercial e romântico"}]},{id:"axe",name:"Axé",description:"Festivo e baiano",subGenres:[{id:"axe-classico",name:"Axé Clássico",description:"Carnavalesco e energético"},{id:"axe-pop",name:"Axé Pop",description:"Comercial e dançante"}]},{id:"funk-carioca",name:"Funk Carioca",description:"Urbano e carioca",subGenres:[{id:"funk-melody",name:"Funk Melody",description:"Melódico e romântico"},{id:"funk-ostentacao",name:"Funk Ostentação",description:"Luxuoso e aspiracional"}]},{id:"tropicalia",name:"Tropicália",description:"Revolucionária e antropofágica",subGenres:[{id:"tropicalia-classica",name:"Tropicália Clássica",description:"Experimental e cultural"},{id:"neo-tropicalia",name:"Neo-Tropicália",description:"Contemporânea e conceitual"}]},{id:"choro",name:"Choro",description:"Virtuoso e instrumental",subGenres:[{id:"choro-tradicional",name:"Choro Tradicional",description:"Clássico e técnico"},{id:"choro-moderno",name:"Choro Moderno",description:"Inovador e fusion"}]}],Au=({onGenreSelect:e,selectedGenre:t,selectedSubGenre:o,className:s=""})=>{const{updateFormData:i}=mm(),[a,n]=r.useState(""),[l,c]=r.useState(null),[m,u]=r.useState("genres"),d=r.useMemo(()=>a.trim()?(e=>{const t=e.toLowerCase();return Vu.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.subGenres.some(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))})(a):Vu,[a]),{brazilianGenres:h,internationalGenres:p}=r.useMemo(()=>({brazilianGenres:d.filter(e=>["mpb","samba","bossa-nova","forro","sertanejo","axe","frevo","baiao","choro","tropicalia","funk-carioca"].includes(e.id)),internationalGenres:d.filter(e=>!["mpb","samba","bossa-nova","forro","sertanejo","axe","frevo","baiao","choro","tropicalia","funk-carioca"].includes(e.id))}),[d,a,m]),f=()=>{n("")},v=({genre:t,isSelected:r})=>nt.jsxDEV($m,{className:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] "+(r?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>(t=>{t.subGenres.length>0?(c(t),u("subgenres")):(i({genre:t.name}),null==e||e(t.id))})(t),children:nt.jsxDEV(Gm,{className:"p-4",children:nt.jsxDEV("div",{className:"flex items-center justify-between",children:[nt.jsxDEV("div",{className:"flex items-center space-x-3",children:[nt.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg",children:nt.jsxDEV(_e,{className:"h-5 w-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:92,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:91,columnNumber:13},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h3",{className:"font-heading font-semibold text-gray-900",children:t.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:95,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-sm text-gray-600",children:t.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:96,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:94,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:90,columnNumber:11},void 0),t.subGenres.length>0&&nt.jsxDEV("div",{className:"flex items-center space-x-2",children:[nt.jsxDEV(Wm,{variant:"secondary",className:"text-xs",children:[t.subGenres.length," estilos"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:101,columnNumber:15},void 0),nt.jsxDEV(Ve,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:104,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:100,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:89,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:88,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:82,columnNumber:5},void 0),b=({subGenre:t,isSelected:r})=>nt.jsxDEV($m,{className:"cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] "+(r?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"),onClick:()=>(t=>{if(l){const r=`${l.name} - ${t.name}`;i({genre:r}),null==e||e(l.id,t.id)}})(t),children:nt.jsxDEV(Gm,{className:"p-4",children:nt.jsxDEV("div",{className:"flex items-center space-x-3",children:[nt.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg",children:nt.jsxDEV(_e,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:122,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:121,columnNumber:11},void 0),nt.jsxDEV("div",{children:[nt.jsxDEV("h4",{className:"font-heading font-medium text-gray-900",children:t.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:125,columnNumber:13},void 0),nt.jsxDEV("p",{className:"text-sm text-gray-600",children:t.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:120,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:119,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:113,columnNumber:5},void 0),g=({title:e,genres:r,icon:o})=>0===r.length?null:nt.jsxDEV("div",{className:"space-y-3",children:[nt.jsxDEV("div",{className:"flex items-center space-x-2",children:[nt.jsxDEV("span",{className:"text-2xl",children:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:139,columnNumber:11},void 0),nt.jsxDEV("h3",{className:"text-lg font-heading font-semibold text-gray-800",children:e},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:140,columnNumber:11},void 0),nt.jsxDEV(Wm,{variant:"outline",children:r.length},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:141,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:138,columnNumber:9},void 0),nt.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:r.map(e=>nt.jsxDEV(v,{genre:e,isSelected:t===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:145,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:137,columnNumber:7},void 0);return nt.jsxDEV("div",{className:`w-full max-w-4xl mx-auto ${s}`,children:nt.jsxDEV($m,{className:"shadow-lg",children:[nt.jsxDEV(Hm,{className:"pb-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-between",children:[nt.jsxDEV(qm,{className:"flex items-center space-x-2",children:["subgenres"===m&&nt.jsxDEV(Ws,{variant:"ghost",size:"sm",onClick:()=>{u("genres"),c(null)},className:"mr-2",children:nt.jsxDEV(ke,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:163,columnNumber:17},void 0),nt.jsxDEV(_e,{className:"h-6 w-6 text-purple-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:172,columnNumber:15},void 0),nt.jsxDEV("span",{children:"genres"===m?"Escolha o Estilo Musical":`${null==l?void 0:l.name} - Subgêneros`},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:173,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:161,columnNumber:13},void 0),"genres"===m&&nt.jsxDEV(Wm,{variant:"secondary",children:[d.length," gêneros disponíveis"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:181,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:160,columnNumber:11},void 0),"genres"===m&&nt.jsxDEV("div",{className:"relative",children:[nt.jsxDEV(He,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:189,columnNumber:15},void 0),nt.jsxDEV(ac,{placeholder:"Buscar por gênero ou estilo...",value:a,onChange:e=>n(e.target.value),className:"pl-10 pr-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:190,columnNumber:15},void 0),a&&nt.jsxDEV(Ws,{variant:"ghost",size:"sm",onClick:f,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",children:"×"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:197,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:188,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:159,columnNumber:9},void 0),nt.jsxDEV(Gm,{children:nt.jsxDEV(Tu,{className:"h-[600px] pr-4",children:"genres"===m?nt.jsxDEV("div",{className:"space-y-8",children:[a?nt.jsxDEV("div",{className:"space-y-3",children:[nt.jsxDEV("h3",{className:"text-lg font-heading font-semibold text-gray-800",children:["Resultados da busca (",d.length,")"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:217,columnNumber:21},void 0),nt.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:d.map(e=>nt.jsxDEV(v,{genre:e,isSelected:t===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:222,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:220,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:216,columnNumber:19},void 0):nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(g,{title:"Gêneros Brasileiros",genres:h,icon:"🇧🇷"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:233,columnNumber:21},void 0),nt.jsxDEV(g,{title:"Gêneros Internacionais",genres:p,icon:"🌍"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:238,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:232,columnNumber:19},void 0),0===d.length&&nt.jsxDEV("div",{className:"text-center py-12",children:[nt.jsxDEV(_e,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:248,columnNumber:21},void 0),nt.jsxDEV("p",{className:"text-gray-500",children:['Nenhum gênero encontrado para "',a,'"']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:249,columnNumber:21},void 0),nt.jsxDEV(Ws,{variant:"outline",onClick:f,className:"mt-2",children:"Limpar busca"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:250,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:213,columnNumber:15},void 0):nt.jsxDEV("div",{className:"space-y-4",children:l&&nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border",children:[nt.jsxDEV("h3",{className:"font-heading font-semibold text-gray-900",children:l.name},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:262,columnNumber:23},void 0),nt.jsxDEV("p",{className:"text-sm text-gray-600",children:l.description},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:263,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:261,columnNumber:21},void 0),nt.jsxDEV("div",{className:"grid gap-3 md:grid-cols-2",children:l.subGenres.map(e=>nt.jsxDEV(b,{subGenre:e,isSelected:o===e.id},e.id,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:268,columnNumber:25},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:266,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:260,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:258,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:211,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:210,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:158,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/GenreSelector.tsx",lineNumber:157,columnNumber:5},void 0)},Mu=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV("textarea",{className:Kr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/textarea.tsx",lineNumber:8,columnNumber:7},void 0));Mu.displayName="Textarea";const Ru=F,Iu=B,Lu=r.forwardRef(({className:e,children:t,...r},o)=>nt.jsxDEV(P,{ref:o,className:Kr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,nt.jsxDEV(C,{asChild:!0,children:nt.jsxDEV(Me,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));Lu.displayName=P.displayName;const Ou=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(U,{ref:r,className:Kr("flex cursor-default items-center justify-center py-1",e),...t,children:nt.jsxDEV(Ae,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:45,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));Ou.displayName=U.displayName;const Fu=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(T,{ref:r,className:Kr("flex cursor-default items-center justify-center py-1",e),...t,children:nt.jsxDEV(Me,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:54,columnNumber:3},void 0));Fu.displayName=T.displayName;const Bu=r.forwardRef(({className:e,children:t,position:r="popper",...o},s)=>nt.jsxDEV(k,{children:nt.jsxDEV(V,{ref:s,className:Kr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[nt.jsxDEV(Ou,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:84,columnNumber:7},void 0),nt.jsxDEV(A,{className:Kr("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:85,columnNumber:7},void 0),nt.jsxDEV(Fu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:72,columnNumber:3},void 0));Bu.displayName=V.displayName;r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(M,{ref:r,className:Kr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0)).displayName=M.displayName;const $u=r.forwardRef(({className:e,children:t,...r},o)=>nt.jsxDEV(R,{ref:o,className:Kr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[nt.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:nt.jsxDEV(I,{children:nt.jsxDEV(je,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:124,columnNumber:5},void 0),nt.jsxDEV(L,{children:t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:130,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:116,columnNumber:3},void 0));$u.displayName=R.displayName;r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(O,{ref:r,className:Kr("-mx-1 my-1 h-px bg-muted",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/select.tsx",lineNumber:139,columnNumber:3},void 0)).displayName=O.displayName;const Hu=et({occasion:tt({required_error:"Por favor, selecione uma ocasião especial."}).min(1,"A ocasião é obrigatória."),recipientName:tt({required_error:"Por favor, informe o nome da pessoa."}).min(1,"O nome da pessoa é obrigatório.").max(50,"O nome deve ter no máximo 50 caracteres."),relationship:tt({required_error:"Por favor, selecione o tipo de relação."}).min(1,"A relação é obrigatória."),senderName:tt().max(50,"O nome deve ter no máximo 50 caracteres.").optional(),hobbies:tt().max(500,"Os hobbies devem ter no máximo 500 caracteres.").optional(),qualities:tt().max(500,"As qualidades devem ter no máximo 500 caracteres.").optional(),uniqueTraits:tt().max(500,"Os traços únicos devem ter no máximo 500 caracteres.").optional(),memories:tt().max(1e3,"As memórias devem ter no máximo 1000 caracteres.").optional()}),qu=et({lyrics:tt({required_error:"A letra da música é obrigatória."}).min(10,"A letra deve ter pelo menos 10 caracteres.").max(2e3,"A letra deve ter no máximo 2000 caracteres.")}),Gu=et({genre:tt({required_error:"Por favor, selecione um gênero musical."}).min(1,"O gênero musical é obrigatório."),emotion:tt({required_error:"Por favor, selecione uma emoção."}).min(1,"A emoção é obrigatória."),vocalPreference:tt({required_error:"Por favor, selecione uma preferência vocal."}).min(1,"A preferência vocal é obrigatória.")}),zu=Hu.merge(qu).merge(Gu);const Wu=["Briefing","Letra","Estilo","Prévia"],Xu=["Aniversário","Aniversário de Namoro/Casamento","Casamento","Pedido de Casamento","Agradecimento","Formatura","Desculpa","Feriado","Melhoras","Outro"],Yu=["Parceiro(a)/Cônjuge","Filho(a)","Pai/Mãe","Irmão/Irmã","Avô/Avó","Neto(a)","Amigo(a)","Colega"],Ju=["Feliz e animado","Emocional e profundo","Romântico e terno","Divertido e brincalhão","Nostálgico e reflexivo","Inspirador e motivador","Cómico e peculiar"],Ku=["Feminino","Masculino","Ambos","Indiferente"];function Qu(){const e=mm(),{formData:t,currentStep:o,isLoading:s,isPreviewLoading:a,error:n,updateFormData:l,setCurrentStep:c,nextStep:m,prevStep:u,generateLyrics:d,generateMusic:h,regenerateLyrics:p,resetForm:f,reset:v,setError:b,clearError:g,currentTaskId:x,isPolling:N,musicGenerationStatus:w,completedClips:y,totalExpected:_,isValidationPopupVisible:D,startNewCreationFlow:E,generatedLyrics:S}=e,j=Xo(),P=Go(),{isCreationFlowBlocked:C}=rc(),[U,T]=r.useState({}),[k,V]=r.useState(!1),[A,M]=r.useState(""),[R,I]=r.useState("idle"),[L,O]=r.useState(""),[F,B]=r.useState(""),$=i.useRef(null);r.useEffect(()=>{const e=new URLSearchParams(P.search).get("para");e&&e.trim()&&!t.recipientName&&l({recipientName:e.trim()})},[P.search,t.recipientName,l]),r.useEffect(()=>{n&&(Dt.error(n,{description:"Tente novamente em alguns instantes."}),g())},[n,g]),r.useEffect(()=>{},[o]),r.useEffect(()=>{1===o&&t.lyrics&&M(t.lyrics)},[o,t.lyrics]);const H=e=>{I("saving"),$.current&&window.clearTimeout($.current),$.current=window.setTimeout(()=>{l({lyrics:e}),I("saved"),window.setTimeout(()=>I("idle"),1500)},600)},q=(e,t)=>{const r=(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");const o=(t||"").trim();if(!o)return r;const s=o.split(/\s+/).filter(e=>e.length>0).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(0===s.length)return r;const i=new RegExp(`(${s.join("|")})`,"gi");return r.replace(i,"<mark>$1</mark>")},G=(e,t)=>{if(l({[e]:t}),U[e]){const t={...U};delete t[e],T(t)}};return nt.jsxDEV("div",{className:"min-h-screen flex flex-col",children:[nt.jsxDEV("main",{className:"flex-1 pt-20 pb-12",children:nt.jsxDEV("div",{className:"container mx-auto px-4",children:nt.jsxDEV("div",{className:"max-w-2xl mx-auto",children:[nt.jsxDEV("div",{className:"text-center mb-8",children:[nt.jsxDEV("h1",{className:"text-3xl md:text-4xl font-bold font-heading mb-4",children:["Criar sua ",nt.jsxDEV("span",{className:"bg-gradient-music bg-clip-text text-transparent",children:"música personalizada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:870,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:869,columnNumber:15},this),nt.jsxDEV("p",{className:"text-muted-foreground",children:"Siga os passos abaixo para criar sua canção única"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:872,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:868,columnNumber:13},this),nt.jsxDEV(Im,{steps:Wu,currentStep:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:877,columnNumber:13},this),nt.jsxDEV("div",{className:"space-y-6",children:[((r,o,s)=>{switch(r){case 0:return nt.jsxDEV($m,{children:[nt.jsxDEV(Hm,{children:nt.jsxDEV(qm,{children:"Conte sua história"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:273,columnNumber:15},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:272,columnNumber:13},this),nt.jsxDEV(Gm,{className:"space-y-8",children:[n&&nt.jsxDEV("div",{className:"bg-accent-coral/10 border border-accent-coral/20 rounded-lg p-4",children:nt.jsxDEV("p",{className:"text-accent-coral text-sm font-medium",children:n},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:279,columnNumber:19},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:278,columnNumber:17},this),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"A Ocasião"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:285,columnNumber:17},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"occasion",children:"Qual a ocasião especial? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:287,columnNumber:19},this),nt.jsxDEV(Ru,{value:t.occasion,onValueChange:e=>G("occasion",e),children:[nt.jsxDEV(Lu,{children:nt.jsxDEV(Iu,{placeholder:"Selecione a ocasião"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:290,columnNumber:23},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:289,columnNumber:21},this),nt.jsxDEV(Bu,{children:Xu.map(e=>nt.jsxDEV($u,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:294,columnNumber:25},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:292,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:288,columnNumber:19},this),U.occasion&&nt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:U.occasion},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:301,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:284,columnNumber:15},this),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"Sobre a(s) Pessoa(s)"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:308,columnNumber:17},this),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"recipientName",children:"Qual o nome da pessoa para quem está a criar esta música? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:311,columnNumber:21},this),nt.jsxDEV(ac,{id:"recipientName",placeholder:"Ex: Maria",value:t.recipientName,onChange:e=>G("recipientName",e.target.value),className:U.recipientName?"border-accent-coral focus:ring-accent-coral":""},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:312,columnNumber:21},this),U.recipientName&&nt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:U.recipientName},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:320,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:310,columnNumber:19},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"relationship",children:"Qual a vossa relação? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:325,columnNumber:21},this),nt.jsxDEV(Ru,{value:t.relationship,onValueChange:e=>G("relationship",e),children:[nt.jsxDEV(Lu,{children:nt.jsxDEV(Iu,{placeholder:"Selecione a relação"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:328,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:327,columnNumber:23},this),nt.jsxDEV(Bu,{children:Yu.map(e=>nt.jsxDEV($u,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:332,columnNumber:27},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:330,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:326,columnNumber:21},this),U.relationship&&nt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:U.relationship},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:339,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:324,columnNumber:19},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"senderName",children:"Qual o seu nome?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:344,columnNumber:21},this),nt.jsxDEV(ac,{id:"senderName",placeholder:"Ex: João",value:t.senderName,onChange:e=>G("senderName",e.target.value)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:345,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:343,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:309,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:307,columnNumber:15},this),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"Detalhes e Personalidade"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:357,columnNumber:17},this),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"hobbies",children:"Fale-nos sobre os seus hobbies e interesses!"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:360,columnNumber:21},this),nt.jsxDEV(Mu,{id:"hobbies",placeholder:"Ex: Adora cozinhar, fazer caminhadas na natureza, ler livros de ficção...",value:t.hobbies,onChange:e=>G("hobbies",e.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:361,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:359,columnNumber:19},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"qualities",children:"Quais as qualidades que você mais admira nessa pessoa?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:372,columnNumber:21},this),nt.jsxDEV(Mu,{id:"qualities",placeholder:"Ex: É muito generosa, sempre disposta a ajudar, tem um sorriso contagiante...",value:t.qualities,onChange:e=>G("qualities",e.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:373,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:371,columnNumber:19},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"uniqueTraits",children:"O que a torna única ou especial? Tem algum hábito engraçado ou interessante?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:384,columnNumber:21},this),nt.jsxDEV(Mu,{id:"uniqueTraits",placeholder:"Ex: Sempre canta no chuveiro, coleciona postais de viagens, faz as melhores panquecas...",value:t.uniqueTraits,onChange:e=>G("uniqueTraits",e.target.value),rows:3,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:385,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:383,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:358,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:356,columnNumber:15},this),nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold font-heading",children:"Memórias e Histórias"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:399,columnNumber:17},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"memories",children:"Partilhe as vossas histórias ou memórias favoritas que gostaria de incluir na música."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:401,columnNumber:19},this),nt.jsxDEV(Mu,{id:"memories",placeholder:"Uma é suficiente. Mais é melhor.",value:t.memories,onChange:e=>G("memories",e.target.value),rows:4,className:"resize-none"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:402,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:400,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:398,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:275,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:271,columnNumber:11},this);case 1:return nt.jsxDEV($m,{children:[nt.jsxDEV(Hm,{children:nt.jsxDEV(qm,{children:"Letra da sua música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:420,columnNumber:15},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:419,columnNumber:13},this),nt.jsxDEV(Gm,{className:"space-y-6",children:[!t.lyrics&&!o&&nt.jsxDEV("div",{className:"text-center space-y-4",children:[nt.jsxDEV("p",{className:"text-muted-foreground",children:"Vamos gerar a letra da sua música baseada na história que você contou."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:425,columnNumber:19},this),nt.jsxDEV(Ws,{onClick:d,variant:"default",size:"lg",disabled:o||!t.occasion||!t.recipientName||!t.relationship,children:o?nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(ze,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:436,columnNumber:25},this),"Gerando letra..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:435,columnNumber:23},this):nt.jsxDEV(nt.Fragment,{children:[nt.jsxDEV(Ne,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:441,columnNumber:25},this),"Gerar Letra da Música"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:440,columnNumber:23},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:428,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:424,columnNumber:17},this),o&&nt.jsxDEV("div",{className:"text-center space-y-4 py-8",children:[nt.jsxDEV("div",{className:"pulse-music",children:nt.jsxDEV(_e,{className:"w-12 h-12 text-primary mx-auto"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:452,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:451,columnNumber:19},this),nt.jsxDEV("div",{children:[nt.jsxDEV("p",{className:"font-medium",children:"Criando sua letra personalizada..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:455,columnNumber:21},this),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Nossa IA está analisando sua história e criando versos únicos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:456,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:454,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:450,columnNumber:17},this),t.lyrics&&!o&&nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV("div",{className:"bg-muted p-4 sm:p-6 rounded-lg",children:[nt.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[nt.jsxDEV("h3",{className:"font-heading font-semibold flex items-center gap-2",children:[nt.jsxDEV(_e,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:468,columnNumber:25},this),"Sua Letra Personalizada"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:467,columnNumber:23},this),nt.jsxDEV("button",{type:"button",onClick:()=>V(e=>!e),className:"inline-flex items-center gap-2 text-sm px-3 py-1.5 rounded-md bg-white/70 hover:bg-white shadow","aria-label":k?"Fechar edição":"Editar letra",children:[k?nt.jsxDEV(te,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:477,columnNumber:44},this):nt.jsxDEV(We,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:477,columnNumber:72},this),k?"Fechar":"Editar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:471,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:466,columnNumber:21},this),k?nt.jsxDEV("div",{className:"space-y-3",children:[nt.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 bg-white/60 rounded-md p-3",children:[nt.jsxDEV("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-3 gap-2",children:nt.jsxDEV("div",{className:"sm:col-span-3",children:[nt.jsxDEV("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:[nt.jsxDEV(He,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:490,columnNumber:116},this)," Localizar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:490,columnNumber:31},this),nt.jsxDEV("div",{className:"relative",children:[nt.jsxDEV("input",{value:L,onChange:e=>O(e.target.value),placeholder:"Texto a localizar",className:"w-full pr-9 pl-3 py-2 rounded border"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:492,columnNumber:33},this),L&&nt.jsxDEV("button",{type:"button","aria-label":"Limpar busca",onClick:()=>O(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-black/5",children:nt.jsxDEV(te,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:505,columnNumber:37},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:499,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:491,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:489,columnNumber:29},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:488,columnNumber:27},this),nt.jsxDEV("div",{className:"text-xs text-muted-foreground flex items-center gap-3",children:[nt.jsxDEV("button",{type:"button",className:"px-2.5 py-1 rounded-md bg-white hover:bg-white/90 border text-xs font-medium",onClick:()=>{const e=S||t.lyrics||"";M(e),H(e)},children:[nt.jsxDEV(Xe,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:521,columnNumber:31},this),"Restaurar original"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:512,columnNumber:29},this),"saving"===R&&nt.jsxDEV(ze,{className:"w-3 h-3 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:524,columnNumber:55},this),"saved"===R&&nt.jsxDEV(je,{className:"w-3 h-3 text-green-600"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:525,columnNumber:54},this),"saving"===R?"Salvando…":"saved"===R?"Alterações salvas":"Auto‑salvamento ativado"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:511,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:487,columnNumber:25},this),nt.jsxDEV(Bm,{value:A,onChange:e=>{M(e),H(e)},rows:14,highlightQuery:L,className:"w-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:530,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:485,columnNumber:23},this):nt.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm leading-relaxed font-medium",dangerouslySetInnerHTML:{__html:q(t.lyrics||"",L)}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:483,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:465,columnNumber:19},this),nt.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3",children:[nt.jsxDEV(Ws,{variant:"outline",onClick:p,className:"flex-1",disabled:o,children:[o?nt.jsxDEV(ze,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:549,columnNumber:25},this):nt.jsxDEV(Xe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:551,columnNumber:25},this),"Gerar Nova Letra"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:542,columnNumber:21},this),nt.jsxDEV(Ws,{variant:"default",onClick:()=>{A&&A!==t.lyrics&&l({lyrics:A}),m()},className:"flex-1",disabled:k,children:[nt.jsxDEV(Ge,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:567,columnNumber:23},this),"Aprovar e Continuar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:555,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:541,columnNumber:19},this),nt.jsxDEV("p",{className:"text-xs text-muted-foreground text-center",children:"💡 Dica: Você pode gerar quantas versões quiser até ficar satisfeito"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:572,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:464,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:422,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:418,columnNumber:11},this);case 2:return nt.jsxDEV("div",{className:"space-y-6",children:[nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("h2",{className:"text-2xl font-bold font-heading mb-2",children:"Escolha o estilo musical"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:585,columnNumber:15},this),nt.jsxDEV("p",{className:"text-muted-foreground",children:"Selecione o gênero musical e as preferências para sua música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:586,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:584,columnNumber:13},this),nt.jsxDEV("div",{className:"space-y-6",children:[nt.jsxDEV("div",{className:"space-y-4",children:[nt.jsxDEV(mc,{className:"text-base font-semibold",children:"Estilo Musical *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:593,columnNumber:17},this),nt.jsxDEV(Au,{onGenreSelect:(e,t)=>{const r=Vu.find(t=>t.id===e);if(r)if(t){const e=r.subGenres.find(e=>e.id===t);e&&G("genre",`${r.name} - ${e.name}`)}else G("genre",r.name)},className:"w-full"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:594,columnNumber:17},this),U.genre&&nt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:U.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:612,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:592,columnNumber:15},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"emotion",className:"text-base font-semibold",children:"Que emoção você quer transmitir? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:617,columnNumber:17},this),nt.jsxDEV(Ru,{value:t.emotion,onValueChange:e=>G("emotion",e),children:[nt.jsxDEV(Lu,{className:"h-12",children:nt.jsxDEV(Iu,{placeholder:"Selecione a emoção"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:620,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:619,columnNumber:19},this),nt.jsxDEV(Bu,{children:Ju.map(e=>nt.jsxDEV($u,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:624,columnNumber:23},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:622,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:618,columnNumber:17},this),U.emotion&&nt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:U.emotion},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:631,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:616,columnNumber:15},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV(mc,{htmlFor:"vocalPreference",className:"text-base font-semibold",children:"Prefere vocais masculinos ou femininos? *"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:636,columnNumber:17},this),nt.jsxDEV(Ru,{value:t.vocalPreference,onValueChange:e=>G("vocalPreference",e),children:[nt.jsxDEV(Lu,{className:"h-12",children:nt.jsxDEV(Iu,{placeholder:"Selecione a preferência vocal"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:639,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:638,columnNumber:19},this),nt.jsxDEV(Bu,{children:Ku.map(e=>nt.jsxDEV($u,{value:e,children:e},e,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:643,columnNumber:23},this))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:641,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:637,columnNumber:17},this),U.vocalPreference&&nt.jsxDEV("p",{className:"text-sm text-accent-coral mt-1",children:U.vocalPreference},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:650,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:635,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:591,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:583,columnNumber:11},this);case 3:return nt.jsxDEV("div",{className:"space-y-6",children:[nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("h2",{className:"text-2xl font-bold font-heading mb-2",children:"Ouça a sua criação"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:661,columnNumber:15},this),nt.jsxDEV("p",{className:"text-muted-foreground",children:"Sua música está pronta! Ouça uma prévia e escolha o que fazer a seguir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:662,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:660,columnNumber:13},this),!a&&!N||e.audioClips&&0!==e.audioClips.length?nt.jsxDEV($m,{children:[nt.jsxDEV(Hm,{children:[nt.jsxDEV(qm,{className:"flex items-center gap-2",children:[nt.jsxDEV(_e,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:725,columnNumber:21},this),"Música para ",t.recipientName||"Pessoa Especial"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:724,columnNumber:19},this),nt.jsxDEV("div",{className:"space-y-2",children:[nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Estilo: ",t.genre?t.genre.charAt(0).toUpperCase()+t.genre.slice(1):"Pop"," • Emoção: ",t.emotion||"Feliz e animado"," • Vocal: ",t.vocalPreference||"Feminino"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:729,columnNumber:21},this),(N||a)&&_>0&&nt.jsxDEV("div",{className:"space-y-1",children:[nt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[nt.jsxDEV("span",{children:"Progresso da geração"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:738,columnNumber:27},this),nt.jsxDEV("span",{children:[y||0,"/",_]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:739,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:737,columnNumber:25},this),nt.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:nt.jsxDEV("div",{className:"bg-primary h-2 rounded-full transition-all duration-500 ease-out",style:{width:(_>0?(y||0)/_*100:0)+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:742,columnNumber:27},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:741,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:736,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:728,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:723,columnNumber:17},this),nt.jsxDEV(Gm,{className:"space-y-6",children:[nt.jsxDEV("div",{className:"space-y-4",children:[s&&s.length>0&&nt.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border",children:[nt.jsxDEV("div",{className:"mb-4",children:[nt.jsxDEV("h3",{className:"font-semibold font-heading text-lg flex items-center gap-2 mb-2",children:["Suas Músicas Personalizadas",nt.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["✓ ",s.filter(e=>e.audio_url).length," Pronta",1!==s.filter(e=>e.audio_url).length?"s":""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:760,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:758,columnNumber:27},this),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Use os controles abaixo para ouvir e baixar suas opções"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:764,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:757,columnNumber:25},this),nt.jsxDEV(Om,{clips:s},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:768,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:756,columnNumber:23},this),N&&_>0&&Array.from({length:Math.max(0,_-((null==s?void 0:s.length)||0))}).map((e,t)=>{const r=((null==s?void 0:s.length)||0)+t+1;return nt.jsxDEV("div",{className:"bg-gradient-to-r from-muted/50 to-muted/30 p-6 rounded-lg border border-dashed",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[nt.jsxDEV("div",{children:[nt.jsxDEV("h3",{className:"font-semibold font-heading text-lg flex items-center gap-2",children:["Opção ",r,nt.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[nt.jsxDEV(ze,{className:"w-3 h-3 mr-1 animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:782,columnNumber:35},this),"Gerando..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:781,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:779,columnNumber:31},this),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Aguarde, sua música está sendo criada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:786,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:778,columnNumber:29},this),nt.jsxDEV("div",{className:"text-right",children:[nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Duração"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:789,columnNumber:31},this),nt.jsxDEV("p",{className:"font-mono text-lg text-muted-foreground",children:"--:--"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:790,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:788,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:777,columnNumber:27},this),nt.jsxDEV("div",{className:"flex items-center gap-4 mb-4",children:[nt.jsxDEV("div",{className:"w-20 h-20 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:nt.jsxDEV(_e,{className:"w-8 h-8 text-muted-foreground"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:797,columnNumber:31},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:796,columnNumber:29},this),nt.jsxDEV("div",{className:"flex-1 h-12 bg-muted rounded-md flex items-center justify-center",children:nt.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Player será exibido quando a música estiver pronta"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:801,columnNumber:31},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:800,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:794,columnNumber:27},this),nt.jsxDEV("div",{className:"flex justify-center",children:nt.jsxDEV(Ws,{size:"sm",variant:"outline",className:"w-full",disabled:!0,children:[nt.jsxDEV(Ee,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:808,columnNumber:31},this),"Aguardando geração..."]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:807,columnNumber:29},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:806,columnNumber:27},this)]},`placeholder-${r}`,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:776,columnNumber:25},this)}),(!s||0===s.length)&&!N&&nt.jsxDEV("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-lg border",children:nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("h3",{className:"font-heading font-semibold text-lg mb-2",children:"Nenhuma prévia disponível"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:820,columnNumber:27},this),nt.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Tente gerar a música novamente."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:821,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:819,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:818,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:753,columnNumber:19},this),nt.jsxDEV("div",{className:"space-y-3",children:nt.jsxDEV("div",{className:"grid md:grid-cols-2 gap-3",children:[nt.jsxDEV(Ws,{variant:"outline",size:"lg",onClick:()=>c(2),className:"w-full",children:[nt.jsxDEV(qe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:836,columnNumber:25},this),"Alterar Estilo"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:830,columnNumber:23},this),nt.jsxDEV(Ws,{variant:"link",size:"lg",onClick:()=>c(0),className:"w-full",children:[nt.jsxDEV(We,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:845,columnNumber:25},this),"Editar Briefing"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:839,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:829,columnNumber:21},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:828,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:751,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:722,columnNumber:15},this):nt.jsxDEV("div",{className:"text-center space-y-6 py-12",children:[nt.jsxDEV("div",{className:"w-16 h-16 bg-accent-turquoise/20 rounded-full flex items-center justify-center mx-auto",children:nt.jsxDEV(ze,{className:"w-8 h-8 text-accent-turquoise animate-spin"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:670,columnNumber:19},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:669,columnNumber:17},this),nt.jsxDEV("div",{children:[nt.jsxDEV("h3",{className:"text-xl font-bold font-heading mb-2",children:"PROCESSING"===w?"Criando sua música...":"Iniciando geração..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:673,columnNumber:19},this),nt.jsxDEV("p",{className:"text-muted-foreground",children:_>0?`Gerando ${_} versões da sua música personalizada.`:"Estamos finalizando os últimos detalhes da sua música personalizada."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:676,columnNumber:19},this),_>0&&nt.jsxDEV("div",{className:"mt-4",children:[nt.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:nt.jsxDEV("span",{children:["Progresso: ",y,"/",_," músicas prontas"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:686,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:685,columnNumber:23},this),nt.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:nt.jsxDEV("div",{className:"bg-accent-turquoise h-2 rounded-full transition-all duration-500",style:{width:(_>0?y/_*100:0)+"%"}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:689,columnNumber:25},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:688,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:684,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:672,columnNumber:17},this),nt.jsxDEV("div",{className:"bg-muted/50 rounded-lg p-6 space-y-4",children:[nt.jsxDEV("h4",{className:"font-semibold font-heading text-lg",children:"Resumo da sua música:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:698,columnNumber:19},this),nt.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[nt.jsxDEV("div",{children:[nt.jsxDEV("span",{className:"font-medium",children:"Ocasião:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:701,columnNumber:23},this)," ",t.occasion]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:700,columnNumber:21},this),nt.jsxDEV("div",{children:[nt.jsxDEV("span",{className:"font-medium",children:"Para:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:704,columnNumber:23},this)," ",t.recipientName]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:703,columnNumber:21},this),nt.jsxDEV("div",{children:[nt.jsxDEV("span",{className:"font-medium",children:"Relação:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:707,columnNumber:23},this)," ",t.relationship]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:706,columnNumber:21},this),nt.jsxDEV("div",{children:[nt.jsxDEV("span",{className:"font-medium",children:"Gênero:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:710,columnNumber:23},this)," ",t.genre]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:709,columnNumber:21},this),nt.jsxDEV("div",{children:[nt.jsxDEV("span",{className:"font-medium",children:"Emoção:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:713,columnNumber:23},this)," ",t.emotion]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:712,columnNumber:21},this),nt.jsxDEV("div",{children:[nt.jsxDEV("span",{className:"font-medium",children:"Vocal:"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:716,columnNumber:23},this)," ",t.vocalPreference]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:715,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:699,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:697,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:668,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:659,columnNumber:11},this);default:return null}})(o,s,e.audioClips||[]),nt.jsxDEV("div",{className:"flex justify-between",children:[nt.jsxDEV(Ws,{variant:"outline",onClick:()=>{T({}),b(null),u()},disabled:0===o,children:[nt.jsxDEV(qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:889,columnNumber:19},this),"Anterior"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:884,columnNumber:17},this),o<Wu.length-1?1===o?t.lyrics&&!s?null:nt.jsxDEV("div",{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:897,columnNumber:23},this):nt.jsxDEV(Ws,{onClick:async()=>{var e;const{showPaymentPopup:r}=rc.getState();if(C)return void r();const s=((e,t)=>{switch(e){case 0:return Hu.safeParse(t);case 1:return qu.safeParse(t);case 2:return Gu.safeParse(t);case 3:return zu.safeParse(t);default:return{success:!1,error:{issues:[{message:`Passo inválido: ${e}`}]}}}})(o,t);if(!s.success){null==(e=s.error.issues)||e.map(e=>e.message).join("\n");if(s.error&&"errors"in s.error){const e=function(e){const t={};return e.errors.forEach(e=>{e.path&&e.path.length>0&&(t[e.path[0]]=e.message)}),t}(s.error);T(e)}return}T({}),2===o?(m(),await h()):m()},children:["Próximo",nt.jsxDEV(Ge,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:902,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:900,columnNumber:21},this):nt.jsxDEV(Ws,{variant:"secondary",onClick:()=>{const e=mm.getState(),{token:t}=ec.getState();e.startNewCreationFlow(j,t)},children:"Criar Nova Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:906,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:883,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:879,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:867,columnNumber:11},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:866,columnNumber:9},this)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:865,columnNumber:7},this),D&&nt.jsxDEV(Fm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:924,columnNumber:36},this)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/Criar.tsx",lineNumber:864,columnNumber:5},this)}const Zu=({song:e,isPlaying:t=!1,onPlay:r,onPause:o,className:s="",onDownloadVersion:i,playingVersionLabel:a})=>{const{currentTime:n,duration:l}=bc(),c=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return nt.jsxDEV("div",{className:`relative overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 ${s}`,children:[e.imageUrl&&nt.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center opacity-20",style:{backgroundImage:`url(${e.imageUrl})`},"aria-hidden":"true"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:53,columnNumber:9},void 0),nt.jsxDEV("div",{className:"relative p-4 bg-white/90",children:[nt.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[nt.jsxDEV("div",{className:"flex-1 min-w-0",children:[nt.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 truncate mb-1",children:e.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:63,columnNumber:11},void 0),e.artist&&nt.jsxDEV("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[nt.jsxDEV(Ye,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:68,columnNumber:15},void 0),nt.jsxDEV("span",{className:"truncate",children:e.artist},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:69,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:67,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:62,columnNumber:9},void 0),nt.jsxDEV("button",{onClick:()=>{t?null==o||o():null==r||r(e,e.audioUrlOption1||e.audioUrl,"A")},className:"flex-shrink-0 ml-3 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full flex items-center justify-center transition-colors duration-200","aria-label":t?"Pausar música":"Reproduzir música",children:t?nt.jsxDEV(ue,{className:"w-5 h-5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:80,columnNumber:13},void 0):nt.jsxDEV(de,{className:"w-5 h-5 ml-0.5"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:82,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:74,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:61,columnNumber:7},void 0),nt.jsxDEV("div",{className:"space-y-2",children:[e.genre&&nt.jsxDEV("div",{className:"flex items-center text-sm text-gray-600",children:[nt.jsxDEV(_e,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:91,columnNumber:13},void 0),nt.jsxDEV("span",{children:e.genre},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:90,columnNumber:11},void 0),e.duration&&nt.jsxDEV("div",{className:"flex items-center text-sm text-gray-600",children:[nt.jsxDEV(Se,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:98,columnNumber:13},void 0),nt.jsxDEV("span",{children:c(e.duration)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:97,columnNumber:11},void 0),(e.audioUrlOption1||e.audioUrlOption2)&&nt.jsxDEV("div",{className:"mt-2 space-y-2",children:[e.audioUrlOption1&&nt.jsxDEV("div",{className:"flex items-center justify-between",children:[nt.jsxDEV("div",{className:"text-sm text-gray-700 font-medium flex items-center gap-2",children:["Versão A",t&&"A"===a&&nt.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:"Tocando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:111,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:108,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:()=>null==r?void 0:r(e,e.audioUrlOption1,"A"),className:"px-2 py-1 text-xs rounded-md "+(t&&"A"===a?"bg-blue-700 text-white":"bg-blue-600 text-white hover:bg-blue-700"),"aria-label":"Reproduzir versão A",children:[nt.jsxDEV(de,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:120,columnNumber:21},void 0)," Reproduzir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:115,columnNumber:19},void 0),i&&nt.jsxDEV("button",{onClick:()=>i("A",e.audioUrlOption1),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":"Baixar versão A",children:[nt.jsxDEV(Ee,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:128,columnNumber:23},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:123,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:107,columnNumber:15},void 0),e.audioUrlOption2&&nt.jsxDEV("div",{className:"flex items-center justify-between",children:[nt.jsxDEV("div",{className:"text-sm text-gray-700 font-medium flex items-center gap-2",children:["Versão B",t&&"B"===a&&nt.jsxDEV("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700",children:"Tocando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:139,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:136,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:()=>null==r?void 0:r(e,e.audioUrlOption2,"B"),className:"px-2 py-1 text-xs rounded-md "+(t&&"B"===a?"bg-blue-700 text-white":"bg-blue-600 text-white hover:bg-blue-700"),"aria-label":"Reproduzir versão B",children:[nt.jsxDEV(de,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:148,columnNumber:21},void 0)," Reproduzir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:143,columnNumber:19},void 0),i&&nt.jsxDEV("button",{onClick:()=>i("B",e.audioUrlOption2),className:"px-2 py-1 text-xs rounded-md bg-gray-100 text-gray-800 hover:bg-gray-200","aria-label":"Baixar versão B",children:[nt.jsxDEV(Ee,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:156,columnNumber:23},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:151,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:142,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:105,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:88,columnNumber:7},void 0),nt.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-100",children:nt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[nt.jsxDEV("span",{children:["Criada em ",(m=e.createdAt,new Date(m).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:169,columnNumber:11},void 0),e.status&&nt.jsxDEV("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===e.status?"bg-green-100 text-green-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Concluída":"processing"===e.status?"Processando":"failed"===e.status?"Falhou":e.status},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:171,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:168,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:167,columnNumber:7},void 0),t&&nt.jsxDEV("div",{className:"mt-3",children:[nt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-blue-700 mb-1",children:[nt.jsxDEV("span",{className:"font-medium",children:["Reproduzindo",a?` · Versão ${a}`:""]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:190,columnNumber:13},void 0),nt.jsxDEV("span",{children:[c(Math.floor(n||0))," / ",c(Math.floor(l||0))]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:191,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:189,columnNumber:11},void 0),nt.jsxDEV("div",{className:"w-full h-2 bg-blue-100 rounded-full overflow-hidden",children:nt.jsxDEV("div",{className:"h-full bg-blue-600 transition-[width] duration-200",style:{width:`${Math.min(100,Math.max(0,n&&l?n/Math.max(1,l)*100:0))}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:196,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:195,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:188,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:59,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/SongCard.tsx",lineNumber:51,columnNumber:5},void 0);var m};var ed="AlertDialog",[td,rd]=m(ed,[$]),od=$(),sd=e=>{const{__scopeAlertDialog:t,...r}=e,o=od(t);return u.jsx(J,{...o,...r,modal:!0})};sd.displayName=ed;r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,s=od(r);return u.jsx(K,{...s,...o,ref:t})}).displayName="AlertDialogTrigger";var id=e=>{const{__scopeAlertDialog:t,...r}=e,o=od(t);return u.jsx(q,{...o,...r})};id.displayName="AlertDialogPortal";var ad=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,s=od(r);return u.jsx(H,{...s,...o,ref:t})});ad.displayName="AlertDialogOverlay";var nd="AlertDialogContent",[ld,cd]=td(nd),md=v("AlertDialogContent"),ud=r.forwardRef((e,t)=>{const{__scopeAlertDialog:o,children:s,...i}=e,a=od(o),n=r.useRef(null),l=g(t,n),c=r.useRef(null);return u.jsx(G,{contentName:nd,titleName:dd,docsSlug:"alert-dialog",children:u.jsx(ld,{scope:o,cancelRef:c,children:u.jsxs(z,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:w(i.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=c.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[u.jsx(md,{children:s}),u.jsx(xd,{contentRef:n})]})})})});ud.displayName=nd;var dd="AlertDialogTitle",hd=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,s=od(r);return u.jsx(W,{...s,...o,ref:t})});hd.displayName=dd;var pd="AlertDialogDescription",fd=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,s=od(r);return u.jsx(X,{...s,...o,ref:t})});fd.displayName=pd;var vd=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,s=od(r);return u.jsx(Y,{...s,...o,ref:t})});vd.displayName="AlertDialogAction";var bd="AlertDialogCancel",gd=r.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...o}=e,{cancelRef:s}=cd(bd,r),i=od(r),a=g(t,s);return u.jsx(Y,{...i,...o,ref:a})});gd.displayName=bd;var xd=({contentRef:e})=>{const t=`\`${nd}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${nd}\` by passing a \`${pd}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))},[t,e]),null},Nd=ad,wd=ud,yd=vd,_d=gd,Dd=hd,Ed=fd;const Sd=sd,jd=id,Pd=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(Nd,{className:Kr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));Pd.displayName=Nd.displayName;const Cd=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(jd,{children:[nt.jsxDEV(Pd,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),nt.jsxDEV(wd,{ref:r,className:Kr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));Cd.displayName=wd.displayName;const Ud=({className:e,...t})=>nt.jsxDEV("div",{className:Kr("flex flex-col space-y-2 text-center sm:text-left",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);Ud.displayName="AlertDialogHeader";const Td=({className:e,...t})=>nt.jsxDEV("div",{className:Kr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);Td.displayName="AlertDialogFooter";const kd=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(Dd,{ref:r,className:Kr("text-lg font-semibold",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));kd.displayName=Dd.displayName;const Vd=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(Ed,{ref:r,className:Kr("text-sm text-muted-foreground",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));Vd.displayName=Ed.displayName;const Ad=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(yd,{ref:r,className:Kr(zs(),e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));Ad.displayName=yd.displayName;const Md=r.forwardRef(({className:e,...t},r)=>nt.jsxDEV(_d,{ref:r,className:Kr(zs({variant:"outline"}),"mt-2 sm:mt-0",e),...t},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));Md.displayName=_d.displayName;const Rd=()=>{const e=Xo(),{reset:t,startNewCreationFlow:o}=mm(),[s,i]=r.useState([]),[a,n]=r.useState(!0),[l,c]=r.useState(null),{currentId:m,isPlaying:u,play:d,pause:h,currentVersionLabel:p}=bc(),[f,v]=r.useState(""),[b,g]=r.useState("recent"),[x,N]=r.useState("all"),[w,y]=r.useState(!1),[_,D]=r.useState(null),E=async()=>{const{token:t}=ec.getState();await o(e,t)};r.useEffect(()=>{(async()=>{var e;try{n(!0),c(null);const t=await ai(),r=((null==(e=null==t?void 0:t.data)?void 0:e.songs)||(null==t?void 0:t.songs)||t||[]).map(e=>{const t=e.audioUrlOption1||e.audio_url_option1||e.audioUrl||e.audio_url||"",r=e.audioUrlOption2||e.audio_url_option2||"";return{id:e.id,title:e.title||"Sem título",lyrics:e.lyrics||void 0,audioUrlOption1:t||void 0,audioUrlOption2:r||void 0,audioUrl:t||r||void 0,imageUrl:e.imageUrl||e.image_url||void 0,createdAt:"string"==typeof e.createdAt?e.createdAt:e.created_at||(new Date).toISOString(),userId:e.userId||e.user_id,guestId:e.guestId||e.guest_id,status:e.status||e.generationStatus||e.generation_status||"completed"}});r.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i(r)}catch(t){c("Erro ao carregar suas músicas. Tente novamente.")}finally{n(!1)}})()},[]);const S=e=>e.audioUrl||e.audioUrlOption1||e.audioUrlOption2,j=()=>{h()},P=async(e,t,r)=>{const o=t||S(e);if(!o)return;const s=`${e.title||"minha-musica"}${r?`_${r}`:""}.mp3`;try{const e=`${si}/api/download?url=${encodeURIComponent(o)}&filename=${encodeURIComponent(s)}`;await Lm(e,s)}catch(Wd){await Lm(o,s)}};return a?nt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV(ze,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:170,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-white text-lg",children:"Carregando suas músicas..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:171,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:169,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:168,columnNumber:7},void 0):l?nt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:nt.jsxDEV("div",{className:"text-center",children:nt.jsxDEV("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-6 max-w-md",children:[nt.jsxDEV("p",{className:"text-red-200 mb-4",children:l},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:182,columnNumber:13},void 0),nt.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Tentar Novamente"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:181,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:180,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:179,columnNumber:7},void 0):nt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[nt.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[nt.jsxDEV("div",{className:"text-center mb-8",children:[nt.jsxDEV("h1",{className:"text-4xl font-bold text-white mb-4 flex items-center justify-center gap-3",children:[nt.jsxDEV(_e,{className:"h-10 w-10"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:200,columnNumber:13},void 0),"Minhas Músicas"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:199,columnNumber:11},void 0),nt.jsxDEV("div",{className:"flex items-center justify-center gap-4",children:[nt.jsxDEV("p",{className:"text-blue-200 text-lg",children:"Suas criações musicais personalizadas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:204,columnNumber:13},void 0),nt.jsxDEV("button",{onClick:E,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Criar Nova Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:205,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:203,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:198,columnNumber:9},void 0),s.length>0&&nt.jsxDEV("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-3",children:[nt.jsxDEV("div",{className:"md:col-span-1",children:nt.jsxDEV("div",{className:"relative",children:[nt.jsxDEV(He,{className:"w-4 h-4 text-blue-200 absolute left-3 top-1/2 -translate-y-1/2"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:219,columnNumber:17},void 0),nt.jsxDEV(ac,{placeholder:"Buscar por título...",value:f,onChange:e=>v(e.target.value),className:"pl-9 bg-white/10 border-white/20 text-white placeholder:text-blue-200/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:220,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:218,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:217,columnNumber:13},void 0),nt.jsxDEV("div",{className:"flex items-center gap-3",children:[nt.jsxDEV(Ru,{value:b,onValueChange:e=>g(e),children:[nt.jsxDEV(Lu,{className:"bg-white/10 border-white/20 text-white",children:nt.jsxDEV(Iu,{placeholder:"Ordenar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:231,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:230,columnNumber:17},void 0),nt.jsxDEV(Bu,{children:[nt.jsxDEV($u,{value:"recent",children:"Mais recentes"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:234,columnNumber:19},void 0),nt.jsxDEV($u,{value:"oldest",children:"Mais antigas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:235,columnNumber:19},void 0),nt.jsxDEV($u,{value:"title",children:"Título A-Z"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:236,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:229,columnNumber:15},void 0),nt.jsxDEV(Ru,{value:x,onValueChange:e=>N(e),children:[nt.jsxDEV(Lu,{className:"bg-white/10 border-white/20 text-white",children:nt.jsxDEV(Iu,{placeholder:"Status"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:241,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:240,columnNumber:17},void 0),nt.jsxDEV(Bu,{children:[nt.jsxDEV($u,{value:"all",children:"Todos"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:244,columnNumber:19},void 0),nt.jsxDEV($u,{value:"completed",children:"Concluídas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:245,columnNumber:19},void 0),nt.jsxDEV($u,{value:"processing",children:"Processando"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:246,columnNumber:19},void 0),nt.jsxDEV($u,{value:"failed",children:"Falhas"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:243,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:239,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:228,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:216,columnNumber:11},void 0),0===s.length?nt.jsxDEV("div",{className:"text-center",children:nt.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 max-w-md mx-auto",children:[nt.jsxDEV(_e,{className:"h-16 w-16 text-white/50 mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:257,columnNumber:15},void 0),nt.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhuma música encontrada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:258,columnNumber:15},void 0),nt.jsxDEV("p",{className:"text-blue-200 mb-4",children:"Você ainda não criou nenhuma música. Que tal começar agora?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:261,columnNumber:15},void 0),nt.jsxDEV("button",{onClick:E,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Criar Primeira Música"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:264,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:256,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:255,columnNumber:11},void 0):nt.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.filter(e=>"all"===x||(e.status||"completed").toLowerCase()===x).filter(e=>e.title.toLowerCase().includes(f.toLowerCase())).sort((e,t)=>"recent"===b?new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():"oldest"===b?new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime():e.title.localeCompare(t.title)).map(t=>nt.jsxDEV("div",{className:"space-y-3",children:[nt.jsxDEV(Zu,{song:{id:t.id,title:t.title,audioUrl:t.audioUrl||"",imageUrl:t.imageUrl,lyrics:t.lyrics,genre:void 0,mood:void 0,userId:t.userId,guestId:t.guestId,createdAt:t.createdAt,audioUrlOption1:t.audioUrlOption1,audioUrlOption2:t.audioUrlOption2,status:t.status},isPlaying:m===t.id&&u,onPlay:(e,r)=>((e,t,r)=>{const o=t||S(e);o&&d(e.id,o,{title:e.title,versionLabel:r})})(t,r),onPause:j,onDownloadVersion:(e,r)=>P(t,r,e),playingVersionLabel:m===t.id?p:void 0},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:284,columnNumber:17},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:()=>(async t=>{try{const{updateFormData:r}=mm.getState();r({songTitle:t.title,lyrics:t.lyrics||""}),e("/criar")}catch(Wd){}})(t),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(Je,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:311,columnNumber:21},void 0)," Editar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:307,columnNumber:19},void 0),nt.jsxDEV("button",{onClick:()=>P(t),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(Ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:317,columnNumber:21},void 0)," Download"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:313,columnNumber:19},void 0),nt.jsxDEV("button",{onClick:()=>{const e=`${window.location.origin}/musica/${t.id}`;navigator.clipboard.writeText(e).then(()=>{}).catch(()=>{})},className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(Ke,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:328,columnNumber:21},void 0)," Copiar Link"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:319,columnNumber:19},void 0),nt.jsxDEV("button",{onClick:()=>(async e=>{const t=`${window.location.origin}/musica/${e.id}`,r={title:e.title,text:"Ouça minha música no Memora Music",url:t};try{navigator.share?await navigator.share(r):(await navigator.clipboard.writeText(t),Dt.success("Link copiado para a área de transferência"))}catch{}})(t),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(ye,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:334,columnNumber:21},void 0)," Compartilhar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:330,columnNumber:19},void 0),nt.jsxDEV("button",{onClick:()=>(async e=>{D(e),y(!0)})(t),className:"px-3 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-100 rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(Qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:340,columnNumber:21},void 0)," Excluir"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:336,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:306,columnNumber:17},void 0)]},t.id,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:283,columnNumber:15},void 0))},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:273,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:197,columnNumber:7},void 0),nt.jsxDEV(Sd,{open:w,onOpenChange:y,children:nt.jsxDEV(Cd,{className:"bg-white",children:[nt.jsxDEV(Ud,{children:[nt.jsxDEV(kd,{children:"Excluir música?"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:353,columnNumber:13},void 0),nt.jsxDEV(Vd,{children:['Esta ação não pode ser desfeita. A música "',null==_?void 0:_.title,'" será removida permanentemente.']},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:354,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:352,columnNumber:11},void 0),nt.jsxDEV(Td,{children:[nt.jsxDEV(Md,{children:"Cancelar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:359,columnNumber:13},void 0),nt.jsxDEV(Ad,{onClick:async()=>{const e=_;if(e)try{await ci(e.id),i(t=>t.filter(t=>t.id!==e.id))}catch(Wd){alert("Não foi possível excluir a música.")}finally{y(!1),D(null)}},className:"bg-red-600 hover:bg-red-700",children:"Excluir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:360,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:358,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:351,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:350,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MinhasMusicas.tsx",lineNumber:196,columnNumber:5},void 0)};class Id{constructor(e,t){this.path=e,this.options=t,this.times=[],this.lyrics=[],this.lyricsCounts=[],this.metadata={},this.gCurrentLyric,this.lastPlayedLyric,this.contaScroll=!0,this.validateInputs()}validateInputs(){this.validateOptions(),this.validatePath(),this.validateSelectors(),this.validateAnimation(),this.init()}validatePath(){if("string"!=typeof this.path||""===this.path&&!this.isRaw)throw new Error("File's path is required and should be a string.");if(!this.path.endsWith(".lrc")&&!this.isRaw)throw new Error("File's path should have a valid '.lrc' format.")}validateOptions(){if(!this.options)throw new Error("Options object is required.");const e=["sync","print","extract"];if(!this.options.type||!e.includes(this.options.type))throw new Error(`"${this.options.type}" is not a valid type.\n- (Valid types: "${e.join('", "')}")`);const t=this.getRequiredOptionsByType().filter(e=>!this.options[e]);if(t.length>0)throw new Error(`Required attributes are missing: "${t.join('", "')}"`);this.karaoke=this.options.isKaraoke??!1,this.actKaraoke=this.options.actKaraoke??this.karaoke,this.isRaw=this.options.isRaw??!1,this.auto_start=this.options.autoStart??!0}getRequiredOptionsByType(){switch(this.options.type){case"extract":return[];case"print":return["container_selector"];default:return["audio_selector","container_selector"]}}validateSelectors(){this.getRequiredOptionsByType().forEach(e=>{const t=this.options[e];if(t&&!["#","."].includes(t.charAt(0)))throw new Error(`Element selector for "${e}" must start with "#" or ".".`);if(null===document.querySelector(t))throw new Error(`${t} is not a valid selector.`)})}validateAnimation(){const e=["normal","slide"];if(this.options.animations&&!e.includes(this.options.animations.animation_type))throw new Error(`"${this.options.animations.animation_type}" is not a valid animation type.\n- (Valid animations: "${e.join('", "')}")`)}static async load(e,t){const r=new Id(e,t);return await r.init(),r}async init(){if(this.isRaw)this.extractLrc(this.path);else try{const e=await fetch(this.path);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.text();this.extractLrc(t)}catch(e){}}extractLrc(e){var t;this.times=[],this.lyrics=[],this.metadata={};let r=[];e.split(/\r?\n|\r|\n/g).forEach(e=>{const t=this.extractTimeAndText(e);if(t[0]){const{times:e,text:o,counter:s}=t[1];if(this.karaoke&&this.actKaraoke){const t=e.pop();for(const e of t){const t=this.timeToMilliseconds(e);isNaN(t)||r.push({time:t})}}for(const t of e){const e=this.timeToMilliseconds(t);isNaN(e)||r.push({time:e,lyric:o,counter:s})}}}),r.sort((e,t)=>e.time-t.time),this.times=r.map(e=>e.time),this.lyrics=r.filter(e=>void 0!==e.lyric).map(e=>e.lyric),this.lyricsCounts=r.filter(e=>void 0!==e.counter&&null!==e.counter).map(e=>e.counter),this.offset=this.options.offset??(Number(null==(t=this.metadata)?void 0:t.offset)||0);let o=0;const s=this.lyricsCounts.length;for(let i=0;i<s;i++)this.lyricsCounts[i]=[this.lyricsCounts[i],o],o+=this.lyricsCounts[i][0];this.typesHandler()}typesHandler(){var e,t,r;const o=this.options.type;if(0!==this.times.length)if("extract"===o);else if("sync"===o){if(this.container=document.querySelector(this.options.container_selector),this.audio=document.querySelector(this.options.audio_selector),this.options.animations&&"slide"===this.options.animations.animation_type){let o,s;this.container.scrollTo({top:0});const i=(null==(e=this.options.animations)?void 0:e.wheel_scroll)??!0,a=(null==(t=this.options.animations)?void 0:t.touch_scroll)??!0,n=(null==(r=this.options.animations)?void 0:r.change_onclick)??!0;if(i&&this.container.addEventListener("wheel",()=>{clearTimeout(o),clearTimeout(s),this.contaScroll&&(this.contaScroll=!1),o=setTimeout(()=>{s=setTimeout(()=>{var e;const t=(null==(e=this.gCurrentLyric)?void 0:e[2])||0,r=this.container.offsetHeight,o=this.container.querySelector(`.lyric:nth-child(${t+2})`),s=o.offsetHeight,i=o.offsetTop-(r/2.19-s/2);this.container.scrollTo({top:i,behavior:"smooth"}),this.contaScroll=!0},2e3)},150)}),a&&(this.container.addEventListener("touchstart",()=>{clearTimeout(s),this.contaScroll&&(this.contaScroll=!1)}),this.container.addEventListener("touchend",()=>{s=setTimeout(()=>{var e;const t=(null==(e=this.gCurrentLyric)?void 0:e[2])||0,r=this.container.offsetHeight,o=this.container.querySelector(`.lyric:nth-child(${t+2})`),s=o.offsetHeight,i=o.offsetTop-(r/2.19-s/2);this.container.scrollTo({top:i,behavior:"smooth"}),this.contaScroll=!0},2e3)})),n&&this.container.addEventListener("click",e=>{const t=e.target.closest(".lyric");if(null!==t){let e=t.getAttribute("data-time");this.audio.currentTime=Number(e)/1e3+.2}}),this.renderLyrics(),this.options.animations&&this.options.animations.auto_scroll){this.container.querySelectorAll(".segap").forEach(e=>{e.style.height="55.5%",e.style.width="100%"})}}this.syncLyrics()}else"sync"===o?(this.container=document.querySelector(this.options.container_selector),this.syncLyrics()):"print"===o&&this.renderLyrics()}extractTimeAndText(e){const t=/\[(\d+):(\d{2})\.(\d{1,5})\]/g,r=/\[([a-zA-Z0-9]+):\s*([^\]]+)\]/,o=/<(\d{2}):(\d{2})\.(\d{2,3})>([^<]*)/g,s=[],i=[];let a,n,l,c=!1;for(;null!==(a=t.exec(e));){c=!0;const[e,t,r,o]=a;s.push([t,r,o])}if(c){const r=[...e.matchAll(t)].pop();if(n=!!r&&e.slice(r.index+r[0].length),!1!==n&&this.karaoke){const t=e.replace(/\[[a-zA-Z0-9_]+:.*?\]/g,"");let r;const a=[];for(;null!==(r=o.exec(t));){const[e,t,o,s]=r;a.push([t,o,s]),i.push(r[4])}this.actKaraoke&&s.push(a),l=i.length+1}}else if(""!==e){const t=r.exec(e);t&&(this.metadata[t[1]]=t[2])}const m=this.karaoke?this.actKaraoke?i.length>0?i:[n]:String(i.join("")):n,u=this.karaoke&&this.actKaraoke?l:null;return[c,c?{times:s,text:m,counter:u}:null]}timeToMilliseconds([e,t,r]){const o=r.padEnd(3,"0").slice(0,3);return 60*parseInt(e)*1e3+1e3*parseInt(t)+parseInt(o)}renderLyrics(){const{times:e,lyrics:t,lyricsCounts:r,offset:o}=this,s=document.querySelector(this.options.container_selector),i=this.options.animations&&this.options.animations.auto_scroll,a=document.createDocumentFragment();if(i){const e=document.createElement("span");e.classList.add("segap"),a.appendChild(e)}if(this.karaoke)for(let n=0;n<t.length;n++){const s=this.actKaraoke?"div":"p",i=document.createElement(s);this.actKaraoke?(t[n].forEach(e=>{const t=document.createElement("p");t.textContent=e,i.appendChild(t)}),i.setAttribute("data-time",e[r[n][1]]-o)):(i.textContent=t[n],i.setAttribute("data-time",e[n]-o)),i.classList.add("lyric"),i.setAttribute("index",n),a.appendChild(i)}else for(let n=0;n<t.length;n++){const r=document.createElement("p");r.textContent=t[n],r.classList.add("lyric"),r.setAttribute("data-time",e[n]-o),a.appendChild(r)}if(i){const e=document.createElement("span");e.classList.add("segap"),a.appendChild(e)}s.appendChild(a)}syncLyrics(){var e,t;const{times:r,lyrics:o,audio:s,offset:i,karaoke:a,actKaraoke:n,auto_start:l}=this,c=(null==(t=null==(e=this.options)?void 0:e.animations)?void 0:t.animation_type)||"normal",m=a&&n;let u,d=[0,0];0==r[0]&&(this.gCurrentLyric=[o[0],r[0],0]);const h=()=>{let e=1e3*s.currentTime;for(let t=0;t<r.length;t++)if(r[t+1]-i>=e||t===r.length-1){this.sendLyric(c,[o[t],t],"",m,!0),d=[d[0],e],d[0]=t;break}},p=()=>{clearInterval(u),h(),u=setInterval(()=>{let e=1e3*s.currentTime;Math.abs(e-d[1])<70?r[d[0]]-i<=e?(this.sendLyric(c,[o[d[0]],d[0]],e,m,!1),d=[d[0]+1,e]):d=[d[0],e]:h()},10)},f=()=>{clearInterval(u),u=null};this.start=()=>p(),this.pause=()=>f(),l&&(s.addEventListener("play",p),s.addEventListener("pause",f)),s.addEventListener("seeked",h)}sendLyric(e,t,r,o,s){const{lyrics:i,times:a,container:n}=this,l=()=>{var e,r,o,s;const i=n.querySelector(".lyric");i&&i.remove();const a=document.createElement("p");a.classList.add("lyric"),a.textContent=t[0],n.appendChild(a),a.style.animation=`${(null==(r=null==(e=this.options)?void 0:e.animations)?void 0:r.keyframe_id)||"LyricaLyricIn"} ${(null==(s=null==(o=this.options)?void 0:o.animations)?void 0:s.animation_parameters)||"ease-out 0.2s"}`,clearTimeout()},c=e=>{var r,o;n.querySelectorAll(".active").forEach(e=>{e.classList.add("passed"),e.classList.remove("active")});const i=e?m[0]:t[1];if(s){const e=n.children;n.querySelectorAll(".passed").forEach(e=>{e.classList.remove("passed")});for(let t=(null==(r=this.options.animations)?void 0:r.auto_scroll)?1:0;t<=i;t++)e[t].classList.add("passed")}const a=(null==(o=this.options.animations)?void 0:o.auto_scroll)?i+2:i+1;if(n.querySelector(`.lyric:nth-child(${a})`).classList.add("active"),this.options.animations.auto_scroll&&this.contaScroll){const e=n.offsetHeight,t=n.querySelector(`.lyric:nth-child(${i+2})`).offsetHeight,r=n.querySelector(`.lyric:nth-child(${i+2})`).offsetTop-(e/2.19-t/2);n.scrollTo({top:r,behavior:"smooth"})}},m=!!o&&this.karaokeMatchIndex(t[1]);switch(o?(-1==m[1]&&(this.lastPlayedLyric=this.gCurrentLyric),this.gCurrentLyric=[i[m[0]],a[t[1]],m[0]]):(this.lastPlayedLyric=this.gCurrentLyric,this.gCurrentLyric=[i[t[1]],a[t[1]],t[1]]),e){case"normal":o?(()=>{const e=n.querySelector(".lyric");let t;if(t=e?e.getAttribute("index"):null,-1==m[1]||Number(t)!==m[0]){const e=n.querySelector(".lyric");e&&e.remove();const t=document.createElement("div");t.classList.add("lyric"),t.setAttribute("index",m[0]),i[m[0]].forEach(e=>{const r=document.createElement("p");r.textContent=e,t.appendChild(r)}),n.appendChild(t)}else for(let r=0;r<=m[1];r++)n.querySelector(`.lyric p:nth-child(${r+1})`).classList.add("active")})():l();break;case"slide":o?function(){const e=n.querySelector("div.active");let t;if(t=e?e.getAttribute("index"):null,-1==m[1]||Number(t)!==m[0])c(!0);else for(let r=0;r<=m[1];r++)n.querySelector(`.active p:nth-child(${r+1})`).classList.add("active")}():c(!1)}}karaokeMatchIndex(e){const{times:t,lyricsCounts:r}=this;let o=0,s=0;for(;o+r[s][0]<=e;)o+=r[s][0],s+=1;return[s,e-o-1]}searchLyric(e,t,r){const{times:o,lyrics:s,lyricsCounts:i,karaoke:a,actKaraoke:n}=this;const l=/(\d+):(\d{2})\.(\d{2})/.exec(e);let c;if(l){const[e,t,r,o]=l;c=this.timeToMilliseconds([t,r,o])}else c=e;return t?function(e,t){const r=o.indexOf(e),l=a&&n?i[r][1]:r,c=r>0&&s[l];return t?[c,l]:[c]}(c,r):function(e,t){for(let r=0;r<s.length;r++){const l=a&&n?i[r][1]:r;if(o[l]>e){const e=a&&n?String(s[r-1].join("")):s[r-1];return t?[e,r-1]:[e]}}}(c,r)}searchTime(e,t){const{times:r,lyrics:o,lyricsCounts:s,karaoke:i,actKaraoke:a}=this;let n=[],l=[];for(let c=0;c<o.length;c++){const t=i&&a?s[c][1]:c;(i&&a?String(o[c].join("")):o[c])===e&&(n.push(r[t]),l.push(t))}return t?[n,l]:[n]}getCurrent(){if("sync"===this.options.type)return this.gCurrentLyric}next(e){var t;if("sync"===this.options.type){const{times:r,lyrics:o,lyricsCounts:s,audio:i,karaoke:a,actKaraoke:n,offset:l}=this,c=(null==(t=this.gCurrentLyric)?void 0:t[2])||0,m=e||1;if(c<o.length-m){const e=a&&n?s[c+m][1]:c+m;i.currentTime=(r[e]-l)/1e3+.2;return[a&&n?String(o[c+m].join("")):o[c+m],r[e]-l,c+m]}return}}previous(e){var t;if("sync"===this.options.type){const{times:r,lyrics:o,lyricsCounts:s,audio:i,karaoke:a,actKaraoke:n,offset:l}=this,c=(null==(t=this.gCurrentLyric)?void 0:t[2])||0,m=e||1;if(c>=m){const e=a&&n?s[c-m][1]:c-m;i.currentTime=(r[e]-l)/1e3+.2;return[a&&n?String(o[c+m].join("")):o[c+m],r[e]-l,c+m]}return}}last(){if("sync"===this.options.type)return void 0===this.lastPlayedLyric||null===this.lastPlayedLyric?void 0:(this.audio.currentTime=this.lastPlayedLyric[1]/1e3+.2,this.lastPlayedLyric)}goTo(e){if("sync"===this.options.type){const{times:t,lyrics:r,lyricsCounts:o,audio:s,karaoke:i,actKaraoke:a,offset:n}=this;if(e.time){if(""!==e.time){const r=this.searchLyric(e.time,!1,!0),l=i&&a?o[r[1]][1]:r[1];return s.currentTime=(t[l]-n)/1e3+.2,[r[0],t[l]-n,r[1]]}return}if(e.lyric){let r,o;Array.isArray(e.lyric)?(r=String(e.lyric[0]),o=e.lyric[1]??0):(r=String(e.lyric),o=0);const i=this.searchTime(r,!0);return i[1].length>=0&&void 0!==i[1][o]?(s.currentTime=(t[i[1][o]]-n)/1e3+.2,[r,t[i[1][o]]-n,this.karaokeMatchIndex(i[1][o])[0]]):void 0}if(e.index){if(""===e.index||isNaN(e.index))return;{const l=i&&a?o[Number(e.index)][1]:Number(e.index);s.currentTime=(t[l]-n)/1e3+.2;return[i&&a?String(r[e.index].join("")):r[e.index],t[l]-n,e.index]}}}}getData(){return{lyrics:this.lyrics,lyricsCounter:this.lyricsCounts,times:this.times,metadata:this.metadata}}}function Ld(e){const t=e.split(/\r?\n/),r=[],o=/\[(\d{1,2}):(\d{2})(?:\.(\d{1,3}))?\]\s*(.*)$/;for(const s of t){const e=s.match(o);if(e){const t=60*parseInt(e[1],10)+parseInt(e[2],10)+(e[3]?parseInt(e[3].padEnd(3,"0"),10):0)/1e3,o=e[4]||"";r.push({t:t,text:o})}}return r.length>0?r.sort((e,t)=>e.t-t.t):null}const Od=({lyrics:e,className:t="",wordTimings:o})=>{const{currentTime:s,duration:i,getMediaElement:a}=bc(),[n,l]=r.useState(void 0);r.useEffect(()=>{let t=!1;return(async()=>{try{if(!e)return void l(void 0);const r=new Id(e,{type:"extract",isRaw:!0,isKaraoke:!0,actKaraoke:!0,offset:0}),o=(null==r?void 0:r.lyrics)||(null==r?void 0:r.data)||(null==r?void 0:r.result)||[];if(Array.isArray(o)&&o.length>0){const e=o.map(e=>{const t=Number(e.t??e.time??e.start??0),r=(Array.isArray(e.words)?e.words:Array.isArray(e.karaoke)?e.karaoke:[]).map(e=>({t:Number(e.t??e.time??e.start??0),d:e.d??e.duration,text:String(e.text??e.word??"")})),o="string"==typeof e.text?e.text:r.length?r.map(e=>e.text).join(" "):"";return{t:t,words:r,text:o}});t||l(e)}else t||l(void 0)}catch(Wd){t||l(void 0)}})(),()=>{t=!0}},[e]);const c=r.useMemo(()=>{if(!e)return[{t:0,text:""}];const t=o&&o.length>0?o:n;if(t&&t.length>0)return t.map(e=>({t:e.t,text:e.text??e.words.map(e=>e.text).join(" ")})).sort((e,t)=>e.t-t.t);const r=Ld(e);if(r)return r;const s=Number.isFinite(i)&&i>0?i:180;return function(e,t){const r=e.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);if(0===r.length)return[{t:0,text:""}];const o=r.map(e=>Math.max(1,e.split(/\s+/).length)),s=o.reduce((e,t)=>e+t,0),i=t/Math.max(1,s),a=[];let n=0;for(let l=0;l<r.length;l++)a.push({t:n,text:r[l]}),n+=o[l]*i;return a}(e,s)},[e,i,o,n]),m=r.useMemo(()=>function(e){const t=e.match(/\[offset\s*:\s*([+-]?\d+)\s*\]/i);if(!t)return 0;const r=parseInt(t[1],10);return Number.isFinite(r)?r/1e3:0}(e||""),[e]),[u,d]=r.useState(0),h=r.useRef(null);r.useEffect(()=>{const e=null==a?void 0:a();if(!e)return;return(async()=>{var t;try{const r=h.current||(h.current={}),o=e.currentSrc||e.src;if(r.lastSrc===o&&r.ctx)return;r.raf&&cancelAnimationFrame(r.raf);try{null==(t=r.ctx)||t.close()}catch{}const s=new(window.AudioContext||window.webkitAudioContext),i=s.createMediaElementSource(e),a=s.createBiquadFilter();a.type="highpass",a.frequency.value=180;const n=s.createBiquadFilter();n.type="lowpass",n.frequency.value=4e3;const l=s.createAnalyser();l.fftSize=1024,l.smoothingTimeConstant=.85,i.connect(a),a.connect(n),n.connect(l),l.connect(s.destination),r.ctx=s,r.src=i,r.analyser=l,r.hp=a,r.lp=n,r.lastSrc=o;const c=new Uint8Array(l.frequencyBinCount);let m=0,u=0,p=0,f=!1;const v=()=>e.currentTime,b=()=>{if(r.raf=requestAnimationFrame(b),e.paused)return;l.getByteFrequencyData(c);let t=0,o=0;for(let e=5;e<.65*c.length;e++)t+=c[e],o++;if(t=o?t/o:0,u++,u<20)return void(m=m?.9*m+.1*t:t);m=.995*m+.005*t;f||((m>1?t/m:0)>1.8?p++:p=Math.max(0,p-1),p>6&&(f=!0,d(v())))};r.raf=requestAnimationFrame(b)}catch{}})(),()=>{const e=h.current;e&&e.raf&&cancelAnimationFrame(e.raf)}},[a]);const p=r.useMemo(()=>!(n&&n.length>0||!!Ld(e||""))&&u>.05,[n,e,u]),f=r.useMemo(()=>{const e=s+m-(p?u:0);return Math.max(0,e)},[s,m,p,u]),{activeIndex:v,nextTime:b,lineProgress:g}=r.useMemo(()=>{var e;if(!c||0===c.length)return{activeIndex:0,nextTime:0,lineProgress:0};let t=0;for(let a=0;a<c.length;a++){const e=c[a].t,r=a<c.length-1?c[a+1].t:i||e+3;if(f>=e&&f<r){t=a;break}f>=r&&(t=a)}const r=(null==(e=c[t])?void 0:e.t)||0,o=t<c.length-1?c[t+1].t:i||r+3,s=Math.max(.3,o-r);return{activeIndex:t,nextTime:o,lineProgress:Math.min(1,Math.max(0,(f-r)/s))}},[c,f,i]),x=r.useRef(null),N=r.useRef([]);r.useEffect(()=>{const e=N.current[v],t=x.current;if(e&&t){const r=e.offsetTop-t.offsetTop,o=e.clientHeight,s=t.clientHeight,i=Math.max(0,r-s/2+o/2);t.scrollTo({top:i,behavior:"smooth"})}},[v]);const w=r.useMemo(()=>{const e=(o&&o.length>0?o:n)||[];if(0===e.length||!c||0===c.length)return null;const t=e.find(e=>{var t;return Math.abs(e.t-((null==(t=c[v])?void 0:t.t)||0))<.05});if(!t)return null;const r=t.words||[];let s=-1;for(let o=0;o<r.length;o++){const e=t.t+(r[o].t||0),i=e+(r[o].d||.2);if(f>=e&&f<i){s=o;break}f>=i&&(s=o)}return{line:t,activeWordIndex:Math.max(0,s)}},[o,n,c,v,f]);return nt.jsxDEV("div",{className:`rounded-lg bg-white/5 border border-white/10 p-4 max-h-80 overflow-y-auto ${t}`,ref:x,children:c.map((e,t)=>{const r=t===v,o=e.text||" ";return nt.jsxDEV("div",{ref:e=>N.current[t]=e,className:"my-1 px-2 py-1 rounded transition-colors "+(r?"bg-blue-600/10":"bg-transparent"),children:(()=>{if(r&&w&&Math.abs(w.line.t-e.t)<.05){const e=w.line.words;return nt.jsxDEV("span",{className:"relative inline-block text-white/90",children:e.map((t,r)=>{const o=w.line.t+(t.t||0),i=o+(t.d||.2),a=s>=i,n=s>=o&&s<i;return nt.jsxDEV("span",{children:[nt.jsxDEV("span",{className:"transition-colors "+(a?"text-white":n?"text-white/90":"text-white/50"),style:{transitionDuration:"120ms"},children:t.text},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:281,columnNumber:23},void 0),r<e.length-1?" ":""]},`${o}-${r}`,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:280,columnNumber:21},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:273,columnNumber:15},void 0)}return nt.jsxDEV("span",{className:"relative inline-block text-white/90",style:{backgroundImage:r?`linear-gradient(90deg, rgba(255,255,255,0.95) ${Math.round(100*g)}%, rgba(255,255,255,0.25) ${Math.round(100*g)}%)`:"none",WebkitBackgroundClip:r?"text":"initial",backgroundClip:r?"text":"initial",color:r?"transparent":void 0,transition:"background 120ms linear"},children:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:296,columnNumber:13},void 0)})()},`${e.t}-${t}`,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:313,columnNumber:11},void 0)})},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/components/KaraokeLyrics.tsx",lineNumber:264,columnNumber:5},void 0)},Fd=()=>{const{id:e}=function(){let{matches:e}=r.useContext($o),t=e[e.length-1];return t?t.params:{}}(),t=Xo(),[o,s]=r.useState(null),[i,a]=r.useState(!0),[n,l]=r.useState(null),[c,m]=r.useState(null),{currentId:u,isPlaying:d,play:h,pause:p}=bc();r.useEffect(()=>{(async()=>{try{if(a(!0),l(null),!e)return;const t=await li(e),r=(null==t?void 0:t.data)||t;s(r);const o=r.audioUrlOption1||r.audioUrlOption2||null;m(o)}catch(Wd){l((null==Wd?void 0:Wd.message)||"Não foi possível carregar a música.")}finally{a(!1)}})()},[e]);const f=r.useMemo(()=>u===(null==o?void 0:o.id)&&d,[u,null==o?void 0:o.id,d]),v=(e,t)=>{const r=e||c;r&&o&&h(o.id,r,{title:o.title,versionLabel:t})},b=e=>{if(!o)return;const t="A"===e?o.audioUrlOption1||null:o.audioUrlOption2||null;m(t),t&&v(t,e)},g=async e=>{if(!o)return;const t="A"===e?o.audioUrlOption1:"B"===e?o.audioUrlOption2:c;if(!t)return;const r=`${o.title}${e?`_${e}`:""}.mp3`;try{const e=`${si}/api/download?url=${encodeURIComponent(t)}&filename=${encodeURIComponent(r)}`;await Lm(e,r)}catch(Wd){await Lm(t,r)}};return i?nt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV(ze,{className:"h-12 w-12 animate-spin text-white mx-auto mb-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:98,columnNumber:11},void 0),nt.jsxDEV("p",{className:"text-white text-lg",children:"Carregando música..."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:99,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:97,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:96,columnNumber:7},void 0):n||!o?nt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:nt.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 max-w-md text-center text-white",children:[nt.jsxDEV("p",{className:"mb-4",children:n||"Música não encontrada."},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:109,columnNumber:11},void 0),nt.jsxDEV("button",{onClick:()=>t("/"),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20",children:"Voltar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:110,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:108,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:107,columnNumber:7},void 0):nt.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:nt.jsxDEV("div",{className:"relative",children:[o.imageUrl&&nt.jsxDEV("div",{className:"absolute inset-0 opacity-20 bg-cover bg-center",style:{backgroundImage:`url(${o.imageUrl})`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:120,columnNumber:11},void 0),nt.jsxDEV("div",{className:"relative container mx-auto px-4 pt-24 pb-12",children:[nt.jsxDEV("button",{onClick:()=>t(-1),className:"text-white/80 hover:text-white mb-6 inline-flex items-center gap-2",children:[nt.jsxDEV(qe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:124,columnNumber:13},void 0)," Voltar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:123,columnNumber:11},void 0),nt.jsxDEV("div",{className:"max-w-3xl mx-auto bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",children:[nt.jsxDEV("div",{className:"flex items-start gap-4",children:[nt.jsxDEV("div",{className:"w-24 h-24 rounded-lg bg-white/10 flex items-center justify-center overflow-hidden flex-shrink-0",children:o.imageUrl?nt.jsxDEV("img",{src:o.imageUrl,alt:o.title,className:"w-full h-full object-cover"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:130,columnNumber:19},void 0):nt.jsxDEV(_e,{className:"w-10 h-10 text-white/70"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:132,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:128,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex-1 min-w-0",children:[nt.jsxDEV("h1",{className:"text-2xl font-bold text-white mb-1 truncate",children:o.title},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:136,columnNumber:17},void 0),nt.jsxDEV("p",{className:"text-blue-200 text-sm",children:["Criada em ",new Date(o.createdAt).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:137,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:135,columnNumber:15},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:async()=>{const e=window.location.href;try{navigator.share?await navigator.share({title:(null==o?void 0:o.title)||"Minha música",url:e}):(await navigator.clipboard.writeText(e),alert("Link copiado para a área de transferência"))}catch{}},className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(ye,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:141,columnNumber:19},void 0)," Compartilhar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:140,columnNumber:17},void 0),nt.jsxDEV("button",{onClick:()=>g(),className:"px-3 py-2 bg-white/10 hover:bg-white/20 text-white rounded-md text-sm flex items-center gap-2",children:[nt.jsxDEV(Ee,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:144,columnNumber:19},void 0)," Baixar"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:143,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:127,columnNumber:13},void 0),nt.jsxDEV("div",{className:"mt-6 space-y-4",children:[nt.jsxDEV("div",{className:"flex items-center gap-2 text-white/90",children:[f?nt.jsxDEV("button",{onClick:()=>{p()},className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:nt.jsxDEV(ue,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:153,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:152,columnNumber:19},void 0):nt.jsxDEV("button",{onClick:()=>v(void 0,c===o.audioUrlOption2?"B":"A"),className:"w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 flex items-center justify-center",children:nt.jsxDEV(de,{className:"w-5 h-5 text-white"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:157,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:156,columnNumber:19},void 0),nt.jsxDEV("div",{className:"text-sm",children:[nt.jsxDEV("div",{className:"font-medium",children:["Reproduzindo ",c===o.audioUrlOption2?"Versão B":"Versão A"]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:161,columnNumber:19},void 0),nt.jsxDEV("div",{className:"text-white/70",children:"Selecione outra versão abaixo"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:162,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:160,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:150,columnNumber:15},void 0),nt.jsxDEV("div",{className:"grid sm:grid-cols-2 gap-3",children:[nt.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[nt.jsxDEV("div",{className:"font-medium",children:"Versão A"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:169,columnNumber:21},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:()=>b("A"),className:"px-2 py-1 text-xs rounded-md bg-blue-600 hover:bg-blue-700",children:"Reproduzir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:171,columnNumber:23},void 0),nt.jsxDEV("button",{onClick:()=>g("A"),className:"px-2 py-1 text-xs rounded-md bg-white/10 hover:bg-white/20",children:"Baixar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:172,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:170,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:168,columnNumber:19},void 0),!o.audioUrlOption1&&nt.jsxDEV("div",{className:"text-white/60 text-sm",children:"Indisponível"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:175,columnNumber:45},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:167,columnNumber:17},void 0),nt.jsxDEV("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 text-white",children:[nt.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[nt.jsxDEV("div",{className:"font-medium",children:"Versão B"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:179,columnNumber:21},void 0),nt.jsxDEV("div",{className:"flex items-center gap-2",children:[nt.jsxDEV("button",{onClick:()=>b("B"),className:"px-2 py-1 text-xs rounded-md bg-blue-600 hover:bg-blue-700",children:"Reproduzir"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:181,columnNumber:23},void 0),nt.jsxDEV("button",{onClick:()=>g("B"),className:"px-2 py-1 text-xs rounded-md bg-white/10 hover:bg-white/20",children:"Baixar"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:182,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:180,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:178,columnNumber:19},void 0),!o.audioUrlOption2&&nt.jsxDEV("div",{className:"text-white/60 text-sm",children:"Indisponível"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:185,columnNumber:45},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:177,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:166,columnNumber:15},void 0),u===o.id&&nt.jsxDEV(Bd,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:191,columnNumber:17},void 0),o.lyrics&&nt.jsxDEV("div",{className:"mt-4 text-white/90",children:[nt.jsxDEV("div",{className:"text-sm font-semibold mb-2",children:"Letra"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:196,columnNumber:19},void 0),nt.jsxDEV(Od,{lyrics:o.lyrics},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:197,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:126,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:122,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:118,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:117,columnNumber:5},void 0)},Bd=()=>{const{currentTime:e,duration:t}=bc(),r=Math.min(100,Math.max(0,t?e/Math.max(1,t)*100:0)),o=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return nt.jsxDEV("div",{className:"mt-3",children:[nt.jsxDEV("div",{className:"flex items-center justify-between text-xs text-white/80 mb-1",children:[nt.jsxDEV("span",{className:"font-medium",children:"Progresso"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:222,columnNumber:9},void 0),nt.jsxDEV("span",{children:[o(e)," / ",o(t||0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:223,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:221,columnNumber:7},void 0),nt.jsxDEV("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:nt.jsxDEV("div",{className:"h-full bg-blue-500 transition-[width] duration-200",style:{width:`${r}%`}},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:226,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:225,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/MusicaPublica.tsx",lineNumber:220,columnNumber:5},void 0)},$d=()=>{const e=Go();return r.useEffect(()=>{},[e.pathname]),nt.jsxDEV("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-gray-100",children:nt.jsxDEV("div",{className:"text-center",children:[nt.jsxDEV("h1",{className:"text-4xl font-bold font-heading mb-4",children:"404"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:17,columnNumber:9},void 0),nt.jsxDEV("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Página não encontrada"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:18,columnNumber:9},void 0),nt.jsxDEV(Us,{to:"/",className:"bg-memora-primary text-white px-6 py-2 rounded-2xl hover:bg-memora-primary/90 transition-all duration-200 font-medium shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:"Voltar ao Início"},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:16,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/pages/NotFound.tsx",lineNumber:15,columnNumber:5},void 0)};let Hd=localStorage.getItem("deviceId");Hd||(Hd=$s(),localStorage.setItem("deviceId",Hd));const qd=new rt,Gd=()=>{(()=>{const e=Go();r.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e.pathname])})();const{isPaymentPopupVisible:e,hidePaymentPopup:t,handleUpgrade:o}=rc();return nt.jsxDEV(Nc,{children:[nt.jsxDEV(oc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:37,columnNumber:7},void 0),nt.jsxDEV(us,{children:[nt.jsxDEV(cs,{path:"/",element:nt.jsxDEV(Rm,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:39,columnNumber:34},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:39,columnNumber:9},void 0),nt.jsxDEV(cs,{path:"/criar",element:nt.jsxDEV(Qu,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:40,columnNumber:39},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:40,columnNumber:9},void 0),nt.jsxDEV(cs,{path:"/minhas-musicas",element:nt.jsxDEV(Rd,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:41,columnNumber:48},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:41,columnNumber:9},void 0),nt.jsxDEV(cs,{path:"/musica/:id",element:nt.jsxDEV(Fd,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:42,columnNumber:44},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:42,columnNumber:9},void 0),nt.jsxDEV(cs,{path:"*",element:nt.jsxDEV($d,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:44,columnNumber:34},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:44,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:38,columnNumber:7},void 0),nt.jsxDEV(sc,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:46,columnNumber:7},void 0),nt.jsxDEV(nm,{isOpen:e,onClose:t,onConfirm:o},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:49,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:36,columnNumber:5},void 0)},zd=()=>nt.jsxDEV(ot,{client:qd,children:nt.jsxDEV(Qr,{children:[nt.jsxDEV(Vt,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:61,columnNumber:7},void 0),nt.jsxDEV(js,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:nt.jsxDEV(Gd,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:68,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:62,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:60,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/App.tsx",lineNumber:59,columnNumber:3},void 0);at(document.getElementById("root")).render(nt.jsxDEV(nt.Fragment,{children:nt.jsxDEV(zd,{},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/main.tsx",lineNumber:7,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/otomiranda/Downloads/memora.music/src/main.tsx",lineNumber:6,columnNumber:3},void 0));
